/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"69fb6c842ea3\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2FwcC9nbG9iYWxzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjY5ZmI2Yzg0MmVhM1wiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _providers_app_state_provider_wrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../providers/app-state-provider-wrapper */ \"(rsc)/./providers/app-state-provider-wrapper.tsx\");\n\n\n\nconst metadata = {\n    title: 'study-scriber',\n    description: 'study-scriber',\n    generator: 'study-scriber'\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        \"data-testid\": \"html-root\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_providers_app_state_provider_wrapper__WEBPACK_IMPORTED_MODULE_2__.AppStateProviderWrapper, {\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\",\n                lineNumber: 19,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\",\n            lineNumber: 18,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3NCO0FBQzJEO0FBRTFFLE1BQU1DLFdBQXFCO0lBQ2hDQyxPQUFPO0lBQ1BDLGFBQWE7SUFDYkMsV0FBVztBQUNiLEVBQUM7QUFFYyxTQUFTQyxXQUFXLEVBQ2pDQyxRQUFRLEVBR1I7SUFDQSxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztRQUFLQyxlQUFZO2tCQUMxQiw0RUFBQ0M7c0JBQ0MsNEVBQUNWLDBGQUF1QkE7MEJBQ3JCTTs7Ozs7Ozs7Ozs7Ozs7OztBQUtYIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvbGF5b3V0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE1ldGFkYXRhIH0gZnJvbSAnbmV4dCdcbmltcG9ydCAnLi9nbG9iYWxzLmNzcydcbmltcG9ydCB7IEFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyIH0gZnJvbSAnLi4vcHJvdmlkZXJzL2FwcC1zdGF0ZS1wcm92aWRlci13cmFwcGVyJ1xuXG5leHBvcnQgY29uc3QgbWV0YWRhdGE6IE1ldGFkYXRhID0ge1xuICB0aXRsZTogJ3N0dWR5LXNjcmliZXInLFxuICBkZXNjcmlwdGlvbjogJ3N0dWR5LXNjcmliZXInLFxuICBnZW5lcmF0b3I6ICdzdHVkeS1zY3JpYmVyJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XG4gIGNoaWxkcmVuLFxufTogUmVhZG9ubHk8e1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG59Pikge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiIGRhdGEtdGVzdGlkPVwiaHRtbC1yb290XCI+XG4gICAgICA8Ym9keT5cbiAgICAgICAgPEFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9BcHBTdGF0ZVByb3ZpZGVyV3JhcHBlcj5cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJBcHBTdGF0ZVByb3ZpZGVyV3JhcHBlciIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImdlbmVyYXRvciIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiZGF0YS10ZXN0aWQiLCJib2R5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call the default export of \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx",
"default",
));


/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/module.compiled.js?aeea\");\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\nconst module0 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\"));\nconst module1 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/not-found-error.js\", 23));\nconst module2 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/forbidden-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/forbidden-error.js\", 23));\nconst module3 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/unauthorized-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/unauthorized-error.js\", 23));\nconst page4 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page4, \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [module0, \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\"],\n'not-found': [module1, \"next/dist/client/components/not-found-error\"],\n'forbidden': [module2, \"next/dist/client/components/forbidden-error\"],\n'unauthorized': [module3, \"next/dist/client/components/unauthorized-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGcGFnZSZwYWdlPSUyRnBhZ2UmYXBwUGF0aHM9JTJGcGFnZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRnBhZ2UudHN4JmFwcERpcj0lMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNCQUFzQiw0SUFBc0c7QUFDNUgsc0JBQXNCLGdWQUFnRjtBQUN0RyxzQkFBc0IsZ1ZBQWdGO0FBQ3RHLHNCQUFzQixzVkFBbUY7QUFDekcsb0JBQW9CLHdJQUFvRztBQUd0SDtBQUdBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDdUI7QUFHckI7QUFDRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFHRTtBQUNGO0FBQ08sd0JBQXdCLHVHQUFrQjtBQUNqRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb2R1bGUwID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvbGF5b3V0LnRzeFwiKTtcbmNvbnN0IG1vZHVsZTEgPSAoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIik7XG5jb25zdCBtb2R1bGUyID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZm9yYmlkZGVuLWVycm9yXCIpO1xuY29uc3QgbW9kdWxlMyA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3VuYXV0aG9yaXplZC1lcnJvclwiKTtcbmNvbnN0IHBhZ2U0ID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIik7XG5pbXBvcnQgeyBBcHBQYWdlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNzcidcbn07XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCIgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc2VydmVyLXV0aWxpdHknXG59O1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFtwYWdlNCwgXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbbW9kdWxlMCwgXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbbW9kdWxlMSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuJ2ZvcmJpZGRlbic6IFttb2R1bGUyLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9mb3JiaWRkZW4tZXJyb3JcIl0sXG4ndW5hdXRob3JpemVkJzogW21vZHVsZTMsIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3VuYXV0aG9yaXplZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnlcIiB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zZXJ2ZXItdXRpbGl0eSdcbn07XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNlcnZlci11dGlsaXR5J1xufTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJycsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./providers/app-state-provider-wrapper.tsx */ \"(rsc)/./providers/app-state-provider-wrapper.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCUyRmdsb2JhbHMuY3NzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGcHJvdmlkZXJzJTJGYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyQXBwU3RhdGVQcm92aWRlcldyYXBwZXIlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdNQUE2SyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQXBwU3RhdGVQcm92aWRlcldyYXBwZXJcIl0gKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9wcm92aWRlcnMvYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSx3SUFBb0ciLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZlcnJvci1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmh0dHAtYWNjZXNzLWZhbGxiYWNrJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbWV0YWRhdGElMkZhc3luYy1tZXRhZGF0YS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm1ldGFkYXRhJTJGbWV0YWRhdGEtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxnZEFBcVE7QUFDclE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxnZ0JBQTZSO0FBQzdSO0FBQ0Esb2RBQXVRO0FBQ3ZRO0FBQ0Esd2VBQWlSO0FBQ2pSO0FBQ0EsOGVBQW9SO0FBQ3BSO0FBQ0Esa2ZBQXNSIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXNlZ21lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9odHRwLWFjY2Vzcy1mYWxsYmFjay9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbWV0YWRhdGEvYXN5bmMtbWV0YWRhdGEuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL21ldGFkYXRhL21ldGFkYXRhLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./providers/app-state-provider-wrapper.tsx":
/*!**************************************************!*\
  !*** ./providers/app-state-provider-wrapper.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppStateProviderWrapper: () => (/* binding */ AppStateProviderWrapper)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const AppStateProviderWrapper = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call AppStateProviderWrapper() from the server but AppStateProviderWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/itsuki/Documents/Git/study-scriber/frontend/providers/app-state-provider-wrapper.tsx",
"AppStateProviderWrapper",
);

/***/ }),

/***/ "(ssr)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _study_scriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../study-scriber */ \"(ssr)/./study-scriber.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n// 添加全局除錯功能\nif (false) {}\nfunction Page() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_study_scriber__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\",\n        lineNumber: 353,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHd0M7QUFFeEMsV0FBVztBQUNYLElBQUksS0FBNkIsRUFBRSxFQXVWbEM7QUFFYyxTQUFTNEY7SUFDdEIscUJBQU8sOERBQUM1RixzREFBU0E7Ozs7O0FBQ25CIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IGR5bmFtaWMgZnJvbSBcIm5leHQvZHluYW1pY1wiXG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuLi9zdHVkeS1zY3JpYmVyXCJcblxuLy8g5re75Yqg5YWo5bGA6Zmk6Yyv5Yqf6IO9XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy8g56uL5Y2z5Yid5aeL5YyWIFRyYW5zY3JpcHRNYW5hZ2Vy77yM56K65L+d5Zyo5ris6Kmm55Kw5aKD5Lit5Y+v55SoXG4gIGltcG9ydCgnLi4vbGliL3RyYW5zY3JpcHQtbWFuYWdlcicpLnRoZW4oKHsgdHJhbnNjcmlwdE1hbmFnZXIgfSkgPT4ge1xuICAgIC8vIOeiuuS/nSBUcmFuc2NyaXB0TWFuYWdlciDlt7LmmrTpnLLliLAgd2luZG93XG4gICAgOyAod2luZG93IGFzIGFueSkudHJhbnNjcmlwdE1hbmFnZXIgPSB0cmFuc2NyaXB0TWFuYWdlclxuICAgIGNvbnNvbGUubG9nKCfinIUgVHJhbnNjcmlwdE1hbmFnZXIg5bey5Yid5aeL5YyW5Lim5pq06Zyy5YiwIHdpbmRvdycpXG4gIH0pO1xuXG4gICh3aW5kb3cgYXMgYW55KS5kZWJ1Z1RyYW5zY3JpcHQgPSAoKSA9PiB7XG4gICAgY29uc3QgdGVzdE1lc3NhZ2UgPSB7XG4gICAgICB0eXBlOiAndHJhbnNjcmlwdF9zZWdtZW50JyxcbiAgICAgIHRleHQ6ICfmuKzoqabpgJDlrZfnqL/lhaflrrkgLSDlpoLmnpznnIvliLDpgJnlgIvooajnpLrliY3nq6/lj6/ku6XmraPluLjomZXnkIYnLFxuICAgICAgc3RhcnRfdGltZTogMCxcbiAgICAgIGVuZF90aW1lOiAxMixcbiAgICAgIHN0YXJ0X3NlcXVlbmNlOiAwLFxuICAgICAgY29uZmlkZW5jZTogMC45NVxuICAgIH07XG5cbiAgICAvLyDlj5blvpfnlbbliY0gc2Vzc2lvbiBJRFxuICAgIGNvbnN0IGFwcERhdGEgPSAod2luZG93IGFzIGFueSkuYXBwRGF0YTtcbiAgICBjb25zdCBzZXNzaW9uSWQgPSBhcHBEYXRhPy5zZXNzaW9uPy5pZCB8fCAnODYxZjhjZWUtMWY1Ny00NzZjLTg4MTktMGZmZTllYzA4NGM4JztcblxuICAgIGNvbnNvbGUubG9nKCfwn5SNIOa4rOippumAkOWtl+eov+aOpeaUtu+8jFNlc3Npb24gSUQ6Jywgc2Vzc2lvbklkKTtcblxuICAgIC8vIOebtOaOpeinuOeZvCBUcmFuc2NyaXB0TWFuYWdlciDnmoToqIrmga/omZXnkIZcbiAgICBjb25zdCBtYW5hZ2VyID0gKHdpbmRvdyBhcyBhbnkpLnRyYW5zY3JpcHRNYW5hZ2VyO1xuICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICBjb25zdCBsaXN0ZW5lcnMgPSBtYW5hZ2VyLmxpc3RlbmVycy5nZXQoc2Vzc2lvbklkKTtcbiAgICAgIGlmIChsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzLnNpemUgPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OhIOaJvuWIsCAke2xpc3RlbmVycy5zaXplfSDlgIvnm6Pogb3lmajvvIzplovlp4vlu6Pmkq3muKzoqaboqIrmga9gKTtcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGNhbGxiYWNrOiBhbnkpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2sodGVzdE1lc3NhZ2UpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDmuKzoqaboqIrmga/lt7LnmbzpgIEnKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOeZvOmAgea4rOippuioiuaBr+WkseaVlzonLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDmspLmnInmib7liLDnm6Pogb3lmajvvIzoq4vnorroqo0gV2ViU29ja2V0IOW3sumAo+aOpScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgVHJhbnNjcmlwdE1hbmFnZXIg5pyq5Yid5aeL5YyWJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIOaWsOWinu+8muiouuaWt+WHveaVuFxuICAod2luZG93IGFzIGFueSkuZGVidWdTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBhcHBEYXRhID0gKHdpbmRvdyBhcyBhbnkpLmFwcERhdGE7XG4gICAgY29uc29sZS5sb2coJ/CflI0g5a6M5pW05oeJ55So54uA5oWL6Ki65pa377yaJyk7XG4gICAgY29uc29sZS5sb2coJzEuIEFwcERhdGE6JywgYXBwRGF0YSk7XG4gICAgY29uc29sZS5sb2coJzIuIFNlc3Npb246JywgYXBwRGF0YT8uc2Vzc2lvbik7XG4gICAgY29uc29sZS5sb2coJzMuIOmMhOmfs+eLgOaFizonLCB7XG4gICAgICBpc1JlY29yZGluZzogYXBwRGF0YT8uaXNSZWNvcmRpbmcsXG4gICAgICByZWNvcmRpbmdUaW1lOiBhcHBEYXRhPy5yZWNvcmRpbmdUaW1lLFxuICAgICAgc3RhdGU6IGFwcERhdGE/LnN0YXRlXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJzQuIOmAkOWtl+eovzonLCB7XG4gICAgICB0cmFuc2NyaXB0RW50cmllczogYXBwRGF0YT8udHJhbnNjcmlwdEVudHJpZXMsXG4gICAgICBjb3VudDogYXBwRGF0YT8udHJhbnNjcmlwdEVudHJpZXM/Lmxlbmd0aCB8fCAwXG4gICAgfSk7XG5cbiAgICAvLyDmqqLmn6UgdHJhbnNjcmlwdE1hbmFnZXIg55qE5YWn6YOo54uA5oWLXG4gICAgY29uc3QgbWFuYWdlciA9ICh3aW5kb3cgYXMgYW55KS50cmFuc2NyaXB0TWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgY29uc29sZS5sb2coJzUuIFRyYW5zY3JpcHRNYW5hZ2VyOicpO1xuICAgICAgY29uc29sZS5sb2coJyAgIC0g6YCj5o6l5pW4OicsIG1hbmFnZXIuZ2V0Q29ubmVjdGlvbkNvdW50KCkpO1xuICAgICAgY29uc29sZS5sb2coJyAgIC0g6YCj5o6lTWFwOicsIG1hbmFnZXIuY29ubmVjdGlvbnMpO1xuICAgICAgY29uc29sZS5sb2coJyAgIC0g55uj6IG95ZmoTWFwOicsIG1hbmFnZXIubGlzdGVuZXJzKTtcbiAgICB9XG5cbiAgICAvLyDmqqLmn6Xngrrku4Dpurzni4DmhYvmmK8gZGVmYXVsdFxuICAgIGNvbnNvbGUubG9nKCc2LiDni4DmhYvmmKDlsITmop3ku7Y6Jyk7XG4gICAgY29uc29sZS5sb2coJyAgIC0gaGFzU2Vzc2lvbjonLCAhIWFwcERhdGE/LnNlc3Npb24pO1xuICAgIGNvbnNvbGUubG9nKCcgICAtIHNlc3Npb25TdGF0dXM6JywgYXBwRGF0YT8uc2Vzc2lvbj8uc3RhdHVzKTtcbiAgICBjb25zb2xlLmxvZygnICAgLSBzZXNzaW9uVHlwZTonLCBhcHBEYXRhPy5zZXNzaW9uPy50eXBlKTtcbiAgICBjb25zb2xlLmxvZygnICAgLSBpc1JlY29yZGluZzonLCBhcHBEYXRhPy5pc1JlY29yZGluZyk7XG4gICAgY29uc29sZS5sb2coJyAgIC0gdHJhbnNjcmlwdENvdW50OicsIGFwcERhdGE/LnRyYW5zY3JpcHRFbnRyaWVzPy5sZW5ndGggfHwgMCk7XG4gIH07XG5cbiAgLy8g5paw5aKe77ya55uj6IG96YCQ5a2X56i/5pu05pawXG4gICh3aW5kb3cgYXMgYW55KS53YXRjaFRyYW5zY3JpcHRzID0gKCkgPT4ge1xuICAgIGNvbnN0IHNlc3Npb25JZCA9ICc4NjFmOGNlZS0xZjU3LTQ3NmMtODgxOS0wZmZlOWVjMDg0YzgnO1xuXG4gICAgLy8g5re75Yqg5LiA5YCL5ris6Kmm55uj6IG95ZmoXG4gICAgY29uc3QgdGVzdExpc3RlbmVyID0gKG1lc3NhZ2U6IGFueSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/Cfjq8gW+a4rOippuebo+iBveWZqF0g5pS25Yiw6KiK5oGvOicsIHtcbiAgICAgICAgdHlwZTogbWVzc2FnZS50eXBlLFxuICAgICAgICB0ZXh0OiBtZXNzYWdlLnRleHQsXG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG1hbmFnZXIgPSAod2luZG93IGFzIGFueSkudHJhbnNjcmlwdE1hbmFnZXI7XG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgIG1hbmFnZXIuYWRkTGlzdGVuZXIoc2Vzc2lvbklkLCB0ZXN0TGlzdGVuZXIpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSDmuKzoqabnm6Pogb3lmajlt7Lmt7vliqDvvIznrYnlvoXpgJDlrZfnqL/oqIrmga8uLi4nKTtcblxuICAgICAgLy8g6L+U5Zue56e76Zmk5Ye95pW4XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBtYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHNlc3Npb25JZCwgdGVzdExpc3RlbmVyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KdjCDmuKzoqabnm6Pogb3lmajlt7Lnp7vpmaQnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBUcmFuc2NyaXB0TWFuYWdlciDmnKrliJ3lp4vljJYnKTtcbiAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfVxuICB9O1xuXG4gIC8vIOaWsOWinu+8muaJi+WLleaOqOmAgemAkOWtl+eov1xuICAod2luZG93IGFzIGFueSkucHVzaFRyYW5zY3JpcHQgPSAodGV4dDogc3RyaW5nLCBzdGFydFRpbWU6IG51bWJlciA9IDApID0+IHtcbiAgICBjb25zdCBhcHBEYXRhID0gKHdpbmRvdyBhcyBhbnkpLmFwcERhdGE7XG4gICAgaWYgKCFhcHBEYXRhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgYXBwRGF0YSDmnKrlrprnvqknKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDoqIjnrpfmmYLplpPmoLzlvI9cbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzdGFydFRpbWUgLyA2MCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3Ioc3RhcnRUaW1lICUgNjApO1xuICAgIGNvbnN0IHRpbWVTdHIgPSBgJHttaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfToke3NlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YDtcblxuICAgIC8vIOWJteW7uuaWsOeahOmAkOWtl+eov+mgheebrlxuICAgIGNvbnN0IG5ld0VudHJ5ID0ge1xuICAgICAgdGltZTogdGltZVN0cixcbiAgICAgIHRleHQ6IHRleHRcbiAgICB9O1xuXG4gICAgLy8g5pu05pawIGFwcERhdGFcbiAgICBjb25zdCBjdXJyZW50RW50cmllcyA9IGFwcERhdGEudHJhbnNjcmlwdEVudHJpZXMgfHwgW107XG4gICAgY29uc3QgbmV3RW50cmllcyA9IFsuLi5jdXJyZW50RW50cmllcywgbmV3RW50cnldO1xuXG4gICAgLy8g5omL5YuV6Ke455m854uA5oWL5pu05pawXG4gICAgY29uc29sZS5sb2coJ/Cfk50g5omL5YuV5o6o6YCB6YCQ5a2X56i/OicsIG5ld0VudHJ5KTtcbiAgICBjb25zb2xlLmxvZygn8J+TiiDmm7TmlrDliY06JywgY3VycmVudEVudHJpZXMubGVuZ3RoLCAn5qKdJyk7XG4gICAgY29uc29sZS5sb2coJ/Cfk4og5pu05paw5b6MOicsIG5ld0VudHJpZXMubGVuZ3RoLCAn5qKdJyk7XG5cbiAgICAvLyDmm7TmlrDni4DmhYtcbiAgICBhcHBEYXRhLnRyYW5zY3JpcHRFbnRyaWVzID0gbmV3RW50cmllcztcblxuICAgIC8vIOWmguaenOeLgOaFi+mChOaYryByZWNvcmRpbmdfd2FpdGluZ++8jOaUueeCuiByZWNvcmRpbmdfYWN0aXZlXG4gICAgaWYgKGFwcERhdGEuc3RhdGUgPT09ICdyZWNvcmRpbmdfd2FpdGluZycgJiYgbmV3RW50cmllcy5sZW5ndGggPiAwKSB7XG4gICAgICBhcHBEYXRhLnN0YXRlID0gJ3JlY29yZGluZ19hY3RpdmUnO1xuICAgICAgY29uc29sZS5sb2coJ+KchSDni4DmhYvmm7TmlrA6IHJlY29yZGluZ193YWl0aW5nIOKGkiByZWNvcmRpbmdfYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgLy8g5by35Yi26YeN5paw5riy5p+TXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICB9O1xuXG4gIC8vIOaWsOWinu+8muiouuaWtyBXZWJTb2NrZXQg5ZKM54uA5oWLXG4gICh3aW5kb3cgYXMgYW55KS5kaWFnbm9zZSA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UjSA9PT09PT09PT09IOiouuaWt+mWi+WniyA9PT09PT09PT09Jyk7XG5cbiAgICAvLyAxLiDmqqLmn6UgYXBwRGF0YSDni4DmhYtcbiAgICBjb25zdCBhcHBEYXRhID0gKHdpbmRvdyBhcyBhbnkpLmFwcERhdGE7XG4gICAgY29uc29sZS5sb2coJ/Cfk4ogWzFdIGFwcERhdGEg54uA5oWLOicsIHtcbiAgICAgIHN0YXRlOiBhcHBEYXRhPy5zdGF0ZSxcbiAgICAgIGlzUmVjb3JkaW5nOiBhcHBEYXRhPy5pc1JlY29yZGluZyxcbiAgICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBhcHBEYXRhPy50cmFuc2NyaXB0RW50cmllcz8ubGVuZ3RoIHx8IDAsXG4gICAgICBzZXNzaW9uOiBhcHBEYXRhPy5zZXNzaW9uID8ge1xuICAgICAgICBpZDogYXBwRGF0YS5zZXNzaW9uLmlkLFxuICAgICAgICBzdGF0dXM6IGFwcERhdGEuc2Vzc2lvbi5zdGF0dXMsXG4gICAgICAgIHR5cGU6IGFwcERhdGEuc2Vzc2lvbi50eXBlXG4gICAgICB9IDogdW5kZWZpbmVkXG4gICAgfSk7XG5cbiAgICAvLyAyLiDmqqLmn6UgcmVjb3JkaW5nIGhvb2sg54uA5oWLXG4gICAgY29uc3QgcmVjb3JkaW5nSG9vayA9ICh3aW5kb3cgYXMgYW55KS5yZWNvcmRpbmdIb29rO1xuICAgIGlmIChyZWNvcmRpbmdIb29rKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+OpCBbMl0gcmVjb3JkaW5nIGhvb2sg54uA5oWLOicsIHtcbiAgICAgICAgaXNSZWNvcmRpbmc6IHJlY29yZGluZ0hvb2suaXNSZWNvcmRpbmcsXG4gICAgICAgIHRyYW5zY3JpcHRzQ291bnQ6IHJlY29yZGluZ0hvb2sudHJhbnNjcmlwdHM/Lmxlbmd0aCB8fCAwLFxuICAgICAgICB0cmFuc2NyaXB0czogcmVjb3JkaW5nSG9vay50cmFuc2NyaXB0c1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbMl0gcmVjb3JkaW5nIGhvb2sg5pyq5om+5YiwJyk7XG4gICAgfVxuXG4gICAgLy8gMi41IOaqouafpSBzZXNzaW9uIGhvb2sg54uA5oWLXG4gICAgY29uc3Qgc2Vzc2lvbkhvb2sgPSAod2luZG93IGFzIGFueSkuc2Vzc2lvbkhvb2s7XG4gICAgaWYgKHNlc3Npb25Ib29rKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UkCBbMi41XSBzZXNzaW9uIGhvb2sg54uA5oWLOicsIHtcbiAgICAgICAgY3VycmVudFNlc3Npb246IHNlc3Npb25Ib29rLmN1cnJlbnRTZXNzaW9uLFxuICAgICAgICBpc0xvYWRpbmc6IHNlc3Npb25Ib29rLmlzTG9hZGluZyxcbiAgICAgICAgZXJyb3I6IHNlc3Npb25Ib29rLmVycm9yXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFsyLjVdIHNlc3Npb24gaG9vayDmnKrmib7liLAnKTtcbiAgICB9XG5cbiAgICAvLyAzLiDmqqLmn6UgVHJhbnNjcmlwdE1hbmFnZXIg54uA5oWLXG4gICAgY29uc3QgbWFuYWdlciA9ICh3aW5kb3cgYXMgYW55KS50cmFuc2NyaXB0TWFuYWdlcjtcbiAgICBjb25zdCBzZXNzaW9uSWQgPSBhcHBEYXRhPy5zZXNzaW9uPy5pZCB8fCBzZXNzaW9uSG9vaz8uY3VycmVudFNlc3Npb24/LmlkO1xuXG4gICAgaWYgKG1hbmFnZXIgJiYgc2Vzc2lvbklkKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+SrCBbM10gVHJhbnNjcmlwdE1hbmFnZXIg54uA5oWLOicsIHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IG1hbmFnZXIuaXNDb25uZWN0ZWQoc2Vzc2lvbklkKSxcbiAgICAgICAgbGlzdGVuZXJzOiBtYW5hZ2VyLmxpc3RlbmVycy5zaXplLFxuICAgICAgICB3ZWJzb2NrZXQ6IG1hbmFnZXIud2Vic29ja2V0ID8gJ+WtmOWcqCcgOiAn5LiN5a2Y5ZyoJyxcbiAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgWzNdIHNlc3Npb24gSUQg5pyq5a6a576pIOaIliBUcmFuc2NyaXB0TWFuYWdlciDmnKrmib7liLAnLCB7XG4gICAgICAgIG1hbmFnZXI6ICEhbWFuYWdlcixcbiAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIDQuIOaqouafpSBXZWJTb2NrZXQg6Kmz5oOFXG4gICAgaWYgKG1hbmFnZXIgJiYgc2Vzc2lvbklkKSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9ucyA9IG1hbmFnZXIuY29ubmVjdGlvbnM7XG4gICAgICBjb25zdCB3cyA9IGNvbm5lY3Rpb25zLmdldChzZXNzaW9uSWQpO1xuICAgICAgaWYgKHdzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SMIFs0XSBXZWJTb2NrZXQg6Kmz5oOFOicsIHtcbiAgICAgICAgICByZWFkeVN0YXRlOiB3cy5yZWFkeVN0YXRlLFxuICAgICAgICAgIHJlYWR5U3RhdGVUZXh0OiBbJ0NPTk5FQ1RJTkcnLCAnT1BFTicsICdDTE9TSU5HJywgJ0NMT1NFRCddW3dzLnJlYWR5U3RhdGVdLFxuICAgICAgICAgIHVybDogd3MudXJsIHx8IHdzLndzVXJsLFxuICAgICAgICAgIGlzQ29ubmVjdGVkOiB3cy5pc0Nvbm5lY3RlZCxcbiAgICAgICAgICBidWZmZXJlZEFtb3VudDogd3MuYnVmZmVyZWRBbW91bnQgfHwgJ04vQScsXG4gICAgICAgICAgcHJvdG9jb2w6IHdzLnByb3RvY29sIHx8ICdOL0EnXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFs0XSBXZWJTb2NrZXQg6YCj5o6l5pyq5om+5YiwIGZvciBzZXNzaW9uOicsIHNlc3Npb25JZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbNF0gVHJhbnNjcmlwdE1hbmFnZXIg5oiWIHNlc3Npb25JZCDmnKrlrprnvqknKTtcbiAgICB9XG5cbiAgICAvLyA1LiDmqqLmn6UgbG9jYWxTdG9yYWdlXG4gICAgY29uc29sZS5sb2coJ/Cfkr4gWzVdIGxvY2FsU3RvcmFnZSDlhaflrrk6Jywge1xuICAgICAgZHJhZnRfbm90ZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RyYWZ0X25vdGUnKT8uc3Vic3RyaW5nKDAsIDEwMCkgKyAnLi4uJyxcbiAgICAgIGhhc090aGVyU2Vzc2lvbktleXM6IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZmlsdGVyKGsgPT4gay5pbmNsdWRlcygnc2Vzc2lvbicpKS5sZW5ndGggPiAwXG4gICAgfSk7XG5cbiAgICAvLyA2LiDmiYvli5Xlu7rnq4sgV2ViU29ja2V0IOmAo+aOpea4rOipplxuICAgIGNvbnNvbGUubG9nKCfwn6eqIFs2XSDmuKzoqaYgV2ViU29ja2V0IOmAo+aOpS4uLicpO1xuICAgIGNvbnN0IHRlc3RTZXNzaW9uSWQgPSBzZXNzaW9uSWQgfHwgJzIzZjZiYmZlLWE4NDYtNDRkYi1iYTFiLTI3NTFhZGFmZTBiYyc7IC8vIOS9v+eUqOW+jOerr+aXpeiqjOS4reeahCBzZXNzaW9uIElEXG4gICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly9sb2NhbGhvc3Q6ODAwMC93cy90cmFuc2NyaXB0X2ZlZWQvJHt0ZXN0U2Vzc2lvbklkfWA7XG4gICAgY29uc29sZS5sb2coJ/Cfp6og5ris6KmmIFVSTDonLCB3c1VybCk7XG5cbiAgICAvLyA3LiDmqqLmn6UgYXBwRGF0YSDkuK3miYDmnInlj6/nlKjnmoTlsazmgKdcbiAgICBjb25zb2xlLmxvZygn8J+UjSBbN10gYXBwRGF0YSDlrozmlbTlhaflrrk6JywgYXBwRGF0YSk7XG5cbiAgICBjb25zb2xlLmxvZygn8J+UjSA9PT09PT09PT09IOiouuaWt+e1kOadnyA9PT09PT09PT09Jyk7XG4gIH07XG5cbiAgLy8g5paw5aKe77ya5by35Yi25ZCM5q2l54uA5oWLXG4gICh3aW5kb3cgYXMgYW55KS5zeW5jU3RhdGVzID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIOW8t+WItuWQjOatpeaJgOacieeLgOaFiy4uLicpO1xuXG4gICAgY29uc3QgcmVjb3JkaW5nSG9vayA9ICh3aW5kb3cgYXMgYW55KS5yZWNvcmRpbmdIb29rO1xuICAgIGNvbnN0IHNlc3Npb25Ib29rID0gKHdpbmRvdyBhcyBhbnkpLnNlc3Npb25Ib29rO1xuICAgIGNvbnN0IGFwcERhdGEgPSAod2luZG93IGFzIGFueSkuYXBwRGF0YTtcblxuICAgIGlmIChyZWNvcmRpbmdIb29rICYmIHNlc3Npb25Ib29rICYmIGFwcERhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFvlkIzmraXliY1dIOeLgOaFi+WwjeavlDonLCB7XG4gICAgICAgICdhcHBEYXRhLmlzUmVjb3JkaW5nJzogYXBwRGF0YS5pc1JlY29yZGluZyxcbiAgICAgICAgJ3JlY29yZGluZy5pc1JlY29yZGluZyc6IHJlY29yZGluZ0hvb2suaXNSZWNvcmRpbmcsXG4gICAgICAgICdhcHBEYXRhLnN0YXRlJzogYXBwRGF0YS5zdGF0ZSxcbiAgICAgICAgJ3Nlc3Npb24uc3RhdHVzJzogc2Vzc2lvbkhvb2suY3VycmVudFNlc3Npb24/LnN0YXR1cyxcbiAgICAgICAgJ3Nlc3Npb24udHlwZSc6IHNlc3Npb25Ib29rLmN1cnJlbnRTZXNzaW9uPy50eXBlLFxuICAgICAgICAncmVjb3JkaW5nLnRyYW5zY3JpcHRzLmxlbmd0aCc6IHJlY29yZGluZ0hvb2sudHJhbnNjcmlwdHM/Lmxlbmd0aCB8fCAwLFxuICAgICAgICAnYXBwRGF0YS50cmFuc2NyaXB0RW50cmllcy5sZW5ndGgnOiBhcHBEYXRhLnRyYW5zY3JpcHRFbnRyaWVzPy5sZW5ndGggfHwgMFxuICAgICAgfSk7XG5cbiAgICAgIC8vIOW8t+WItuinuOeZvOeLgOaFi+mHjeaWsOioiOeul1xuICAgICAgY29uc3QgZm9yY2VVcGRhdGUgPSAoKSA9PiB7XG4gICAgICAgIC8vIOinuOeZvOS4gOWAi+W+ruWwj+eahOeLgOaFi+iuiuWMluS+huW8t+WItumHjeaWsOa4suafk1xuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IGFwcERhdGEucmVjb3JkaW5nVGltZSB8fCAwO1xuICAgICAgICBhcHBEYXRhLnJlY29yZGluZ1RpbWUgPSBjdXJyZW50VGltZSArIDAuMDAxO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGFwcERhdGEucmVjb3JkaW5nVGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg5by35Yi25ZCM5q2l5a6M5oiQJyk7XG4gICAgICAgIH0sIDUwKTtcbiAgICAgIH07XG5cbiAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDnhKHms5Xmib7liLDlv4XopoHnmoQgaG9va3MnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g5paw5aKe77ya5L+u5b6p54uA5oWL5LiN5LiA6Ie0XG4gICh3aW5kb3cgYXMgYW55KS5maXhTdGF0ZXMgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflKcg5omL5YuV5L+u5b6p54uA5oWL5LiN5LiA6Ie0Li4uJyk7XG5cbiAgICBjb25zdCByZWNvcmRpbmdIb29rID0gKHdpbmRvdyBhcyBhbnkpLnJlY29yZGluZ0hvb2s7XG4gICAgY29uc3QgYXBwRGF0YSA9ICh3aW5kb3cgYXMgYW55KS5hcHBEYXRhO1xuXG4gICAgaWYgKHJlY29yZGluZ0hvb2sgJiYgYXBwRGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ/CflKcgW+S/ruW+qeWJjV0g54uA5oWLOicsIHtcbiAgICAgICAgJ2FwcERhdGEuaXNSZWNvcmRpbmcnOiBhcHBEYXRhLmlzUmVjb3JkaW5nLFxuICAgICAgICAncmVjb3JkaW5nLmlzUmVjb3JkaW5nJzogcmVjb3JkaW5nSG9vay5pc1JlY29yZGluZyxcbiAgICAgICAgJ2FwcERhdGEuc3RhdGUnOiBhcHBEYXRhLnN0YXRlXG4gICAgICB9KTtcblxuICAgICAgLy8g5by35Yi25L+u5b6pIGlzUmVjb3JkaW5nIOeLgOaFi1xuICAgICAgaWYgKGFwcERhdGEuaXNSZWNvcmRpbmcgIT09IHJlY29yZGluZ0hvb2suaXNSZWNvcmRpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflKcg5L+u5b6pIGlzUmVjb3JkaW5nIOeLgOaFi+S4jeS4gOiHtCcpO1xuICAgICAgICBhcHBEYXRhLmlzUmVjb3JkaW5nID0gcmVjb3JkaW5nSG9vay5pc1JlY29yZGluZztcblxuICAgICAgICAvLyDlpoLmnpzpjITpn7Plt7LlgZzmraLkvYbni4DmhYvpgoTmmK8gcmVjb3JkaW5nX3dhaXRpbmfvvIzmlLnngrogZGVmYXVsdFxuICAgICAgICBpZiAoIXJlY29yZGluZ0hvb2suaXNSZWNvcmRpbmcgJiYgYXBwRGF0YS5zdGF0ZSA9PT0gJ3JlY29yZGluZ193YWl0aW5nJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIOS/ruW+qeeLgOaFizogcmVjb3JkaW5nX3dhaXRpbmcg4oaSIGRlZmF1bHQnKTtcbiAgICAgICAgICBhcHBEYXRhLnN0YXRlID0gJ2RlZmF1bHQnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g6Ke455m86YeN5paw5riy5p+TXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUg54uA5oWL5bey5LiA6Ie077yM54Sh6ZyA5L+u5b6pJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDnhKHms5Xmib7liLDlv4XopoHnmoQgaG9va3MnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g5paw5aKe77ya5by35Yi2IFJlYWN0IOmHjeaWsOa4suafk1xuICAod2luZG93IGFzIGFueSkuZm9yY2VVcGRhdGUgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQg5by35Yi2IFJlYWN0IOmHjeaWsOa4suafky4uLicpO1xuXG4gICAgLy8g5pa55rOVIDHvvJrlibXlu7rkuIDlgIvlvq7lsI/nmoTni4DmhYvororljJbkvobop7jnmbzph43mlrDmuLLmn5NcbiAgICBjb25zdCBhcHBEYXRhID0gKHdpbmRvdyBhcyBhbnkpLmFwcERhdGE7XG4gICAgaWYgKGFwcERhdGEpIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsUmVjb3JkaW5nVGltZSA9IGFwcERhdGEucmVjb3JkaW5nVGltZTtcbiAgICAgIGFwcERhdGEucmVjb3JkaW5nVGltZSA9IG9yaWdpbmFsUmVjb3JkaW5nVGltZSArIDAuMTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGFwcERhdGEucmVjb3JkaW5nVGltZSA9IG9yaWdpbmFsUmVjb3JkaW5nVGltZTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSDlvLfliLbmm7TmlrDlrozmiJAnKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuXG4gICAgLy8g5pa55rOVIDLvvJrlpoLmnpzkuIrpnaLkuI3lt6XkvZzvvIzph43mlrDovInlhaXpoIHpnaJcbiAgICBjb25zb2xlLmxvZygn5aaC5p6cVUnpgoTmmK/mspLmnInmm7TmlrDvvIzlsIflnKgz56eS5b6M6YeN5paw6LyJ5YWl6aCB6Z2iLi4uJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoY29uZmlybSgnVUkg5rKS5pyJ5pu05paw77yM5piv5ZCm6YeN5paw6LyJ5YWl6aCB6Z2i77yfJykpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfVxuICAgIH0sIDMwMDApO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWdlKCkge1xuICByZXR1cm4gPENvbXBvbmVudCAvPlxufVxuIl0sIm5hbWVzIjpbIkNvbXBvbmVudCIsInRoZW4iLCJ0cmFuc2NyaXB0TWFuYWdlciIsIndpbmRvdyIsImNvbnNvbGUiLCJsb2ciLCJkZWJ1Z1RyYW5zY3JpcHQiLCJ0ZXN0TWVzc2FnZSIsInR5cGUiLCJ0ZXh0Iiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwic3RhcnRfc2VxdWVuY2UiLCJjb25maWRlbmNlIiwiYXBwRGF0YSIsInNlc3Npb25JZCIsInNlc3Npb24iLCJpZCIsIm1hbmFnZXIiLCJsaXN0ZW5lcnMiLCJnZXQiLCJzaXplIiwiZm9yRWFjaCIsImNhbGxiYWNrIiwiZXJyb3IiLCJkZWJ1Z1N0YXRlIiwiaXNSZWNvcmRpbmciLCJyZWNvcmRpbmdUaW1lIiwic3RhdGUiLCJ0cmFuc2NyaXB0RW50cmllcyIsImNvdW50IiwibGVuZ3RoIiwiZ2V0Q29ubmVjdGlvbkNvdW50IiwiY29ubmVjdGlvbnMiLCJzdGF0dXMiLCJ3YXRjaFRyYW5zY3JpcHRzIiwidGVzdExpc3RlbmVyIiwibWVzc2FnZSIsInRpbWUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwicHVzaFRyYW5zY3JpcHQiLCJzdGFydFRpbWUiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwic2Vjb25kcyIsInRpbWVTdHIiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwibmV3RW50cnkiLCJjdXJyZW50RW50cmllcyIsIm5ld0VudHJpZXMiLCJsb2NhdGlvbiIsInJlbG9hZCIsImRpYWdub3NlIiwidW5kZWZpbmVkIiwicmVjb3JkaW5nSG9vayIsInRyYW5zY3JpcHRzQ291bnQiLCJ0cmFuc2NyaXB0cyIsInNlc3Npb25Ib29rIiwiY3VycmVudFNlc3Npb24iLCJpc0xvYWRpbmciLCJpc0Nvbm5lY3RlZCIsIndlYnNvY2tldCIsIndzIiwicmVhZHlTdGF0ZSIsInJlYWR5U3RhdGVUZXh0IiwidXJsIiwid3NVcmwiLCJidWZmZXJlZEFtb3VudCIsInByb3RvY29sIiwiZHJhZnRfbm90ZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdWJzdHJpbmciLCJoYXNPdGhlclNlc3Npb25LZXlzIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImsiLCJpbmNsdWRlcyIsInRlc3RTZXNzaW9uSWQiLCJzeW5jU3RhdGVzIiwiZm9yY2VVcGRhdGUiLCJjdXJyZW50VGltZSIsInNldFRpbWVvdXQiLCJmaXhTdGF0ZXMiLCJvcmlnaW5hbFJlY29yZGluZ1RpbWUiLCJjb25maXJtIiwiUGFnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./components/default-state.tsx":
/*!**************************************!*\
  !*** ./components/default-state.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultState: () => (/* binding */ DefaultState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Upload!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Upload!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* __next_internal_client_entry_do_not_use__ DefaultState auto */ \n\n\nfunction DefaultState({ onStartRecording }) {\n    const handleClick = ()=>{\n        console.log(\"🔘 [DefaultState] 按鈕被點擊\");\n        console.log(\"🔘 [DefaultState] onStartRecording 函數:\", typeof onStartRecording);\n        try {\n            onStartRecording();\n            console.log(\"🔘 [DefaultState] onStartRecording 調用成功\");\n        } catch (error) {\n            console.error(\"🔘 [DefaultState] onStartRecording 調用失敗:\", error);\n        }\n    };\n    console.log(\"🔄 [DefaultState] 組件渲染，onStartRecording:\", typeof onStartRecording);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col items-center justify-center p-6 space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                onClick: handleClick,\n                size: \"lg\",\n                className: \"flex items-center gap-3 px-8 py-4 text-base\",\n                \"data-testid\": \"start-recording-button\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-5 h-5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 32,\n                        columnNumber: 9\n                    }, this),\n                    \"Start Recording\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center text-muted-foreground text-sm space-y-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"flex items-center justify-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                                lineNumber: 38,\n                                columnNumber: 11\n                            }, this),\n                            \"或直接開始編寫筆記\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 37,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"錄音功能隨時可以啟用\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 41,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                lineNumber: 36,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n        lineNumber: 25,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2RlZmF1bHQtc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFK0M7QUFDQTtBQU14QyxTQUFTRyxhQUFhLEVBQUVDLGdCQUFnQixFQUFxQjtJQUNsRSxNQUFNQyxjQUFjO1FBQ2xCQyxRQUFRQyxHQUFHLENBQUM7UUFDWkQsUUFBUUMsR0FBRyxDQUFDLDBDQUEwQyxPQUFPSDtRQUM3RCxJQUFJO1lBQ0ZBO1lBQ0FFLFFBQVFDLEdBQUcsQ0FBQztRQUNkLEVBQUUsT0FBT0MsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsNENBQTRDQTtRQUM1RDtJQUNGO0lBRUFGLFFBQVFDLEdBQUcsQ0FBQyw0Q0FBNEMsT0FBT0g7SUFFL0QscUJBQ0UsOERBQUNLO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDVix5REFBTUE7Z0JBQ0xXLFNBQVNOO2dCQUNUTyxNQUFLO2dCQUNMRixXQUFVO2dCQUNWRyxlQUFZOztrQ0FFWiw4REFBQ1osMkZBQU1BO3dCQUFDUyxXQUFVOzs7Ozs7b0JBQVk7Ozs7Ozs7MEJBSWhDLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNJO3dCQUFFSixXQUFVOzswQ0FDWCw4REFBQ1IsMkZBQVFBO2dDQUFDUSxXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7a0NBR2xDLDhEQUFDSTtrQ0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSVgiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvZGVmYXVsdC1zdGF0ZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgVXBsb2FkLCBGaWxlVGV4dCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuXG5pbnRlcmZhY2UgRGVmYXVsdFN0YXRlUHJvcHMge1xuICBvblN0YXJ0UmVjb3JkaW5nOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0U3RhdGUoeyBvblN0YXJ0UmVjb3JkaW5nIH06IERlZmF1bHRTdGF0ZVByb3BzKSB7XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwi8J+UmCBbRGVmYXVsdFN0YXRlXSDmjInpiJXooqvpu57mk4pcIilcbiAgICBjb25zb2xlLmxvZyhcIvCflJggW0RlZmF1bHRTdGF0ZV0gb25TdGFydFJlY29yZGluZyDlh73mlbg6XCIsIHR5cGVvZiBvblN0YXJ0UmVjb3JkaW5nKVxuICAgIHRyeSB7XG4gICAgICBvblN0YXJ0UmVjb3JkaW5nKClcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UmCBbRGVmYXVsdFN0YXRlXSBvblN0YXJ0UmVjb3JkaW5nIOiqv+eUqOaIkOWKn1wiKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi8J+UmCBbRGVmYXVsdFN0YXRlXSBvblN0YXJ0UmVjb3JkaW5nIOiqv+eUqOWkseaVlzpcIiwgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5sb2coXCLwn5SEIFtEZWZhdWx0U3RhdGVdIOe1hOS7tua4suafk++8jG9uU3RhcnRSZWNvcmRpbmc6XCIsIHR5cGVvZiBvblN0YXJ0UmVjb3JkaW5nKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC02IHNwYWNlLXktNlwiPlxuICAgICAgPEJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtOCBweS00IHRleHQtYmFzZVwiXG4gICAgICAgIGRhdGEtdGVzdGlkPVwic3RhcnQtcmVjb3JkaW5nLWJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxVcGxvYWQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgIFN0YXJ0IFJlY29yZGluZ1xuICAgICAgPC9CdXR0b24+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtc20gc3BhY2UteS0xXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgIOaIluebtOaOpemWi+Wni+e3qOWvq+ethuiomFxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPumMhOmfs+WKn+iDvemaqOaZguWPr+S7peWVn+eUqDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsiQnV0dG9uIiwiVXBsb2FkIiwiRmlsZVRleHQiLCJEZWZhdWx0U3RhdGUiLCJvblN0YXJ0UmVjb3JkaW5nIiwiaGFuZGxlQ2xpY2siLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwic2l6ZSIsImRhdGEtdGVzdGlkIiwicCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/default-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/finish-state.tsx":
/*!*************************************!*\
  !*** ./components/finish-state.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FinishState: () => (/* binding */ FinishState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* __next_internal_client_entry_do_not_use__ FinishState auto */ \n\n\n\nfunction FinishState({ transcriptEntries, onExport, onToLatest }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_1__.ScrollArea, {\n                className: \"flex-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6 space-y-4\",\n                    children: transcriptEntries.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-muted-foreground font-mono text-xs mt-1 min-w-[40px] flex-shrink-0\",\n                                    children: entry.time\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                    lineNumber: 21,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-foreground leading-relaxed\",\n                                    children: entry.text\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                    lineNumber: 24,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                            lineNumber: 20,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                    lineNumber: 18,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border space-y-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-center gap-2\",\n                    children: onToLatest && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: onToLatest,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 15\n                            }, this),\n                            \"To Latest\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2ZpbmlzaC1zdGF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUV3RDtBQUNUO0FBQ0s7QUFTN0MsU0FBU0csWUFBWSxFQUFFQyxpQkFBaUIsRUFBRUMsUUFBUSxFQUFFQyxVQUFVLEVBQW9CO0lBQ3ZGLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ1Isa0VBQVVBO2dCQUFDUSxXQUFVOzBCQUNwQiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1pKLGtCQUFrQkssR0FBRyxDQUFDLENBQUNDLE9BQU9DLHNCQUM3Qiw4REFBQ0o7NEJBQWdCQyxXQUFVOzs4Q0FDekIsOERBQUNJO29DQUFLSixXQUFVOzhDQUNiRSxNQUFNRyxJQUFJOzs7Ozs7OENBRWIsOERBQUNEO29DQUFLSixXQUFVOzhDQUFtQ0UsTUFBTUksSUFBSTs7Ozs7OzsyQkFKckRIOzs7Ozs7Ozs7Ozs7Ozs7MEJBVWhCLDhEQUFDSjtnQkFBSUMsV0FBVTswQkFFYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1pGLDRCQUNDLDhEQUFDTCx5REFBTUE7d0JBQ0xjLFNBQVNUO3dCQUNUVSxTQUFRO3dCQUNSQyxNQUFLO3dCQUNMVCxXQUFVOzswQ0FFViw4REFBQ04sdUZBQVdBO2dDQUFDTSxXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUWpEIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL2ZpbmlzaC1zdGF0ZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWFcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgRG93bmxvYWQsIENoZXZyb25Eb3duIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgRmluaXNoU3RhdGVQcm9wcyB7XG4gIHRyYW5zY3JpcHRFbnRyaWVzOiBUcmFuc2NyaXB0RW50cnlbXVxuICBvbkV4cG9ydD86ICgpID0+IHZvaWRcbiAgb25Ub0xhdGVzdD86ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpbmlzaFN0YXRlKHsgdHJhbnNjcmlwdEVudHJpZXMsIG9uRXhwb3J0LCBvblRvTGF0ZXN0IH06IEZpbmlzaFN0YXRlUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgc3BhY2UteS00XCI+XG4gICAgICAgICAge3RyYW5zY3JpcHRFbnRyaWVzLm1hcCgoZW50cnksIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9udC1tb25vIHRleHQteHMgbXQtMSBtaW4tdy1bNDBweF0gZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgIHtlbnRyeS50aW1lfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZm9yZWdyb3VuZCBsZWFkaW5nLXJlbGF4ZWRcIj57ZW50cnkudGV4dH08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1Njcm9sbEFyZWE+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJvcmRlci1ib3JkZXIgc3BhY2UteS0yXCI+XG4gICAgICAgIHsvKiBBY3Rpb24gYnV0dG9ucyByb3cgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIHtvblRvTGF0ZXN0ICYmIChcbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17b25Ub0xhdGVzdH1cbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIFRvIExhdGVzdFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlNjcm9sbEFyZWEiLCJCdXR0b24iLCJDaGV2cm9uRG93biIsIkZpbmlzaFN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJvbkV4cG9ydCIsIm9uVG9MYXRlc3QiLCJkaXYiLCJjbGFzc05hbWUiLCJtYXAiLCJlbnRyeSIsImluZGV4Iiwic3BhbiIsInRpbWUiLCJ0ZXh0Iiwib25DbGljayIsInZhcmlhbnQiLCJzaXplIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/finish-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-active-state.tsx":
/*!***********************************************!*\
  !*** ./components/recording-active-state.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingActiveState: () => (/* binding */ RecordingActiveState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock-open.js\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/square.js\");\n/* __next_internal_client_entry_do_not_use__ RecordingActiveState auto */ \n\n\n\n\nfunction RecordingActiveState({ transcriptEntries, onStopRecording }) {\n    const scrollAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isAutoScrollLocked, setIsAutoScrollLocked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [userScrollTimeout, setUserScrollTimeout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // 自動捲動到底部\n    const autoScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[autoScroll]\": ()=>{\n            if (isAutoScrollLocked && scrollAreaRef.current) {\n                const scrollContainer = scrollAreaRef.current.querySelector('[data-radix-scroll-area-viewport]');\n                if (scrollContainer) {\n                    scrollContainer.scrollTop = scrollContainer.scrollHeight;\n                }\n            }\n        }\n    }[\"RecordingActiveState.useCallback[autoScroll]\"], [\n        isAutoScrollLocked\n    ]);\n    // 檢測使用者捲動行為\n    const unlockOnScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[unlockOnScroll]\": (event)=>{\n            const target = event.target;\n            if (target) {\n                const { scrollTop, scrollHeight, clientHeight } = target;\n                const isAtBottom = Math.abs(scrollHeight - clientHeight - scrollTop) < 10;\n                if (!isAtBottom && isAutoScrollLocked) {\n                    setIsAutoScrollLocked(false);\n                } else if (isAtBottom && !isAutoScrollLocked) {\n                    setIsAutoScrollLocked(true);\n                }\n                if (userScrollTimeout) clearTimeout(userScrollTimeout);\n                const timeout = setTimeout({\n                    \"RecordingActiveState.useCallback[unlockOnScroll].timeout\": ()=>{\n                        if (!isAutoScrollLocked) setIsAutoScrollLocked(true);\n                    }\n                }[\"RecordingActiveState.useCallback[unlockOnScroll].timeout\"], 3000);\n                setUserScrollTimeout(timeout);\n            }\n        }\n    }[\"RecordingActiveState.useCallback[unlockOnScroll]\"], [\n        isAutoScrollLocked,\n        userScrollTimeout\n    ]);\n    // 手動切換自動捲動鎖定狀態\n    const toggleAutoScrollLock = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[toggleAutoScrollLock]\": ()=>setIsAutoScrollLocked({\n                \"RecordingActiveState.useCallback[toggleAutoScrollLock]\": (prev)=>!prev\n            }[\"RecordingActiveState.useCallback[toggleAutoScrollLock]\"])\n    }[\"RecordingActiveState.useCallback[toggleAutoScrollLock]\"], []);\n    // 合併相近段落，減少行數\n    const mergeSegments = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[mergeSegments]\": (entries)=>{\n            if (entries.length <= 1) return entries;\n            const merged = [];\n            let current = {\n                ...entries[0]\n            };\n            for(let i = 1; i < entries.length; i++){\n                const next = entries[i];\n                const diff = Math.abs(parseInt(next.time.split(\":\")[0]) * 60 + parseInt(next.time.split(\":\")[1]) - (parseInt(current.time.split(\":\")[0]) * 60 + parseInt(current.time.split(\":\")[1])));\n                if (diff <= 5 && current.text.length + next.text.length < 200) {\n                    current = {\n                        time: current.time,\n                        text: current.text.trim() + \" \" + next.text.trim()\n                    };\n                } else {\n                    merged.push(current);\n                    current = {\n                        ...next\n                    };\n                }\n            }\n            merged.push(current);\n            return merged;\n        }\n    }[\"RecordingActiveState.useCallback[mergeSegments]\"], []);\n    // 自動捲動\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            autoScroll();\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        transcriptEntries,\n        autoScroll\n    ]);\n    // 監聽捲動\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            const scrollContainer = scrollAreaRef.current?.querySelector('[data-radix-scroll-area-viewport]');\n            if (scrollContainer) {\n                scrollContainer.addEventListener(\"scroll\", unlockOnScroll);\n                return ({\n                    \"RecordingActiveState.useEffect\": ()=>scrollContainer.removeEventListener(\"scroll\", unlockOnScroll)\n                })[\"RecordingActiveState.useEffect\"];\n            }\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        unlockOnScroll\n    ]);\n    // 清理計時器\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            return ({\n                \"RecordingActiveState.useEffect\": ()=>{\n                    if (userScrollTimeout) {\n                        clearTimeout(userScrollTimeout);\n                    }\n                }\n            })[\"RecordingActiveState.useEffect\"];\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        userScrollTimeout\n    ]);\n    const mergedEntries = mergeSegments(transcriptEntries);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__.ScrollArea, {\n                className: \"flex-1\",\n                ref: scrollAreaRef,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6 space-y-4\",\n                    children: mergedEntries.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-muted-foreground font-mono text-xs mt-1 min-w-[40px] flex-shrink-0\",\n                                    children: entry.time\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 112,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-foreground leading-relaxed\",\n                                    children: entry.text\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 115,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                            lineNumber: 111,\n                            columnNumber: 25\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 17\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                lineNumber: 108,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: toggleAutoScrollLock,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2 text-muted-foreground\",\n                        children: isAutoScrollLocked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 130,\n                                    columnNumber: 29\n                                }, this),\n                                \"Auto-scroll\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 135,\n                                    columnNumber: 29\n                                }, this),\n                                \"Manual\"\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                        lineNumber: 122,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: onStopRecording,\n                        variant: \"destructive\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 21\n                            }, this),\n                            \"Stop\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                        lineNumber: 141,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                lineNumber: 121,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n        lineNumber: 107,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy1hY3RpdmUtc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRWdFO0FBQ1I7QUFDVDtBQUNJO0FBUTVDLFNBQVNTLHFCQUFxQixFQUFFQyxpQkFBaUIsRUFBRUMsZUFBZSxFQUE2QjtJQUNsRyxNQUFNQyxnQkFBZ0JYLDZDQUFNQSxDQUFpQjtJQUM3QyxNQUFNLENBQUNZLG9CQUFvQkMsc0JBQXNCLEdBQUdaLCtDQUFRQSxDQUFDO0lBQzdELE1BQU0sQ0FBQ2EsbUJBQW1CQyxxQkFBcUIsR0FBR2QsK0NBQVFBLENBQXdCO0lBRWxGLFVBQVU7SUFDVixNQUFNZSxhQUFhZCxrREFBV0E7d0RBQUM7WUFDM0IsSUFBSVUsc0JBQXNCRCxjQUFjTSxPQUFPLEVBQUU7Z0JBQzdDLE1BQU1DLGtCQUFrQlAsY0FBY00sT0FBTyxDQUFDRSxhQUFhLENBQUM7Z0JBQzVELElBQUlELGlCQUFpQjtvQkFDakJBLGdCQUFnQkUsU0FBUyxHQUFHRixnQkFBZ0JHLFlBQVk7Z0JBQzVEO1lBQ0o7UUFDSjt1REFBRztRQUFDVDtLQUFtQjtJQUV2QixZQUFZO0lBQ1osTUFBTVUsaUJBQWlCcEIsa0RBQVdBOzREQUM5QixDQUFDcUI7WUFDRyxNQUFNQyxTQUFTRCxNQUFNQyxNQUFNO1lBQzNCLElBQUlBLFFBQVE7Z0JBQ1IsTUFBTSxFQUFFSixTQUFTLEVBQUVDLFlBQVksRUFBRUksWUFBWSxFQUFFLEdBQUdEO2dCQUNsRCxNQUFNRSxhQUFhQyxLQUFLQyxHQUFHLENBQUNQLGVBQWVJLGVBQWVMLGFBQWE7Z0JBRXZFLElBQUksQ0FBQ00sY0FBY2Qsb0JBQW9CO29CQUNuQ0Msc0JBQXNCO2dCQUMxQixPQUFPLElBQUlhLGNBQWMsQ0FBQ2Qsb0JBQW9CO29CQUMxQ0Msc0JBQXNCO2dCQUMxQjtnQkFFQSxJQUFJQyxtQkFBbUJlLGFBQWFmO2dCQUVwQyxNQUFNZ0IsVUFBVUM7Z0ZBQVc7d0JBQ3ZCLElBQUksQ0FBQ25CLG9C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LFNBQVE7d0JBQ1JDLE1BQUs7d0JBQ0xSLFdBQVU7a0NBRVR2QyxtQ0FDRzs7OENBQ0ksOERBQUNOLDhGQUFJQTtvQ0FBQzZDLFdBQVU7Ozs7OztnQ0FBWTs7eURBSWhDOzs4Q0FDSSw4REFBQzVDLDhGQUFNQTtvQ0FBQzRDLFdBQVU7Ozs7OztnQ0FBWTs7Ozs7Ozs7a0NBTTFDLDhEQUFDL0MseURBQU1BO3dCQUFDcUQsU0FBUy9DO3dCQUFpQmdELFNBQVE7d0JBQWNDLE1BQUs7d0JBQUtSLFdBQVU7OzBDQUN4RSw4REFBQzlDLDhGQUFNQTtnQ0FBQzhDLFdBQVU7Ozs7Ozs0QkFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1sRCIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvY29tcG9uZW50cy9yZWNvcmRpbmctYWN0aXZlLXN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhXCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IFNxdWFyZSwgTG9jaywgVW5sb2NrIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgUmVjb3JkaW5nQWN0aXZlU3RhdGVQcm9wcyB7XG4gICAgdHJhbnNjcmlwdEVudHJpZXM6IFRyYW5zY3JpcHRFbnRyeVtdXG4gICAgb25TdG9wUmVjb3JkaW5nOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRpbmdBY3RpdmVTdGF0ZSh7IHRyYW5zY3JpcHRFbnRyaWVzLCBvblN0b3BSZWNvcmRpbmcgfTogUmVjb3JkaW5nQWN0aXZlU3RhdGVQcm9wcykge1xuICAgIGNvbnN0IHNjcm9sbEFyZWFSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gICAgY29uc3QgW2lzQXV0b1Njcm9sbExvY2tlZCwgc2V0SXNBdXRvU2Nyb2xsTG9ja2VkXSA9IHVzZVN0YXRlKHRydWUpXG4gICAgY29uc3QgW3VzZXJTY3JvbGxUaW1lb3V0LCBzZXRVc2VyU2Nyb2xsVGltZW91dF0gPSB1c2VTdGF0ZTxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG5cbiAgICAvLyDoh6rli5XmjbLli5XliLDlupXpg6hcbiAgICBjb25zdCBhdXRvU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaXNBdXRvU2Nyb2xsTG9ja2VkICYmIHNjcm9sbEFyZWFSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gc2Nyb2xsQXJlYVJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXJhZGl4LXNjcm9sbC1hcmVhLXZpZXdwb3J0XScpXG4gICAgICAgICAgICBpZiAoc2Nyb2xsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA9IHNjcm9sbENvbnRhaW5lci5zY3JvbGxIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtpc0F1dG9TY3JvbGxMb2NrZWRdKVxuXG4gICAgLy8g5qqi5ris5L2/55So6ICF5o2y5YuV6KGM54K6XG4gICAgY29uc3QgdW5sb2NrT25TY3JvbGwgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCwgY2xpZW50SGVpZ2h0IH0gPSB0YXJnZXRcbiAgICAgICAgICAgICAgICBjb25zdCBpc0F0Qm90dG9tID0gTWF0aC5hYnMoc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0IC0gc2Nyb2xsVG9wKSA8IDEwXG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzQXRCb3R0b20gJiYgaXNBdXRvU2Nyb2xsTG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzQXV0b1Njcm9sbExvY2tlZChmYWxzZSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXRCb3R0b20gJiYgIWlzQXV0b1Njcm9sbExvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0F1dG9TY3JvbGxMb2NrZWQodHJ1ZSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlclNjcm9sbFRpbWVvdXQpIGNsZWFyVGltZW91dCh1c2VyU2Nyb2xsVGltZW91dClcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0F1dG9TY3JvbGxMb2NrZWQpIHNldElzQXV0b1Njcm9sbExvY2tlZCh0cnVlKVxuICAgICAgICAgICAgICAgIH0sIDMwMDApXG5cbiAgICAgICAgICAgICAgICBzZXRVc2VyU2Nyb2xsVGltZW91dCh0aW1lb3V0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbaXNBdXRvU2Nyb2xsTG9ja2VkLCB1c2VyU2Nyb2xsVGltZW91dF1cbiAgICApXG5cbiAgICAvLyDmiYvli5XliIfmj5voh6rli5XmjbLli5Xpjpblrprni4DmhYtcbiAgICBjb25zdCB0b2dnbGVBdXRvU2Nyb2xsTG9jayA9IHVzZUNhbGxiYWNrKCgpID0+IHNldElzQXV0b1Njcm9sbExvY2tlZChwcmV2ID0+ICFwcmV2KSwgW10pXG5cbiAgICAvLyDlkIjkvbXnm7jov5HmrrXokL3vvIzmuJvlsJHooYzmlbhcbiAgICBjb25zdCBtZXJnZVNlZ21lbnRzID0gdXNlQ2FsbGJhY2soKGVudHJpZXM6IFRyYW5zY3JpcHRFbnRyeVtdKTogVHJhbnNjcmlwdEVudHJ5W10gPT4ge1xuICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPD0gMSkgcmV0dXJuIGVudHJpZXNcbiAgICAgICAgY29uc3QgbWVyZ2VkOiBUcmFuc2NyaXB0RW50cnlbXSA9IFtdXG4gICAgICAgIGxldCBjdXJyZW50ID0geyAuLi5lbnRyaWVzWzBdIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gZW50cmllc1tpXVxuICAgICAgICAgICAgY29uc3QgZGlmZiA9XG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KG5leHQudGltZS5zcGxpdChcIjpcIilbMF0pICogNjAgKyBwYXJzZUludChuZXh0LnRpbWUuc3BsaXQoXCI6XCIpWzFdKSAtXG4gICAgICAgICAgICAgICAgICAgIChwYXJzZUludChjdXJyZW50LnRpbWUuc3BsaXQoXCI6XCIpWzBdKSAqIDYwICsgcGFyc2VJbnQoY3VycmVudC50aW1lLnNwbGl0KFwiOlwiKVsxXSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKGRpZmYgPD0gNSAmJiBjdXJyZW50LnRleHQubGVuZ3RoICsgbmV4dC50ZXh0Lmxlbmd0aCA8IDIwMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IHRpbWU6IGN1cnJlbnQudGltZSwgdGV4dDogY3VycmVudC50ZXh0LnRyaW0oKSArIFwiIFwiICsgbmV4dC50ZXh0LnRyaW0oKSB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lcmdlZC5wdXNoKGN1cnJlbnQpXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHsgLi4ubmV4dCB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVyZ2VkLnB1c2goY3VycmVudClcbiAgICAgICAgcmV0dXJuIG1lcmdlZFxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Ieq5YuV5o2y5YuVXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgYXV0b1Njcm9sbCgpXG4gICAgfSwgW3RyYW5zY3JpcHRFbnRyaWVzLCBhdXRvU2Nyb2xsXSlcblxuICAgIC8vIOebo+iBveaNsuWLlVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IHNjcm9sbEFyZWFSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcignW2RhdGEtcmFkaXgtc2Nyb2xsLWFyZWEtdmlld3BvcnRdJylcbiAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lcikge1xuICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdW5sb2NrT25TY3JvbGwpXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gc2Nyb2xsQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdW5sb2NrT25TY3JvbGwpXG4gICAgICAgIH1cbiAgICB9LCBbdW5sb2NrT25TY3JvbGxdKVxuXG4gICAgLy8g5riF55CG6KiI5pmC5ZmoXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmICh1c2VyU2Nyb2xsVGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh1c2VyU2Nyb2xsVGltZW91dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFt1c2VyU2Nyb2xsVGltZW91dF0pXG5cbiAgICBjb25zdCBtZXJnZWRFbnRyaWVzID0gbWVyZ2VTZWdtZW50cyh0cmFuc2NyaXB0RW50cmllcylcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT1cImZsZXgtMVwiIHJlZj17c2Nyb2xsQXJlYVJlZn0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIHttZXJnZWRFbnRyaWVzLm1hcCgoZW50cnksIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb250LW1vbm8gdGV4dC14cyBtdC0xIG1pbi13LVs0MHB4XSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRyeS50aW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWZvcmVncm91bmQgbGVhZGluZy1yZWxheGVkXCI+e2VudHJ5LnRleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9TY3JvbGxBcmVhPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItYm9yZGVyIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlQXV0b1Njcm9sbExvY2t9XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNBdXRvU2Nyb2xsTG9ja2VkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9jayBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvLXNjcm9sbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVbmxvY2sgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFudWFsXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17b25TdG9wUmVjb3JkaW5nfSB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8U3F1YXJlIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICBTdG9wXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJTY3JvbGxBcmVhIiwiQnV0dG9uIiwiU3F1YXJlIiwiTG9jayIsIlVubG9jayIsIlJlY29yZGluZ0FjdGl2ZVN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJvblN0b3BSZWNvcmRpbmciLCJzY3JvbGxBcmVhUmVmIiwiaXNBdXRvU2Nyb2xsTG9ja2VkIiwic2V0SXNBdXRvU2Nyb2xsTG9ja2VkIiwidXNlclNjcm9sbFRpbWVvdXQiLCJzZXRVc2VyU2Nyb2xsVGltZW91dCIsImF1dG9TY3JvbGwiLCJjdXJyZW50Iiwic2Nyb2xsQ29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVubG9ja09uU2Nyb2xsIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbGllbnRIZWlnaHQiLCJpc0F0Qm90dG9tIiwiTWF0aCIsImFicyIsImNsZWFyVGltZW91dCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidG9nZ2xlQXV0b1Njcm9sbExvY2siLCJwcmV2IiwibWVyZ2VTZWdtZW50cyIsImVudHJpZXMiLCJsZW5ndGgiLCJtZXJnZWQiLCJpIiwibmV4dCIsImRpZmYiLCJwYXJzZUludCIsInRpbWUiLCJzcGxpdCIsInRleHQiLCJ0cmltIiwicHVzaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibWVyZ2VkRW50cmllcyIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsIm1hcCIsImVudHJ5IiwiaW5kZXgiLCJzcGFuIiwib25DbGljayIsInZhcmlhbnQiLCJzaXplIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-active-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-state.tsx":
/*!****************************************!*\
  !*** ./components/recording-state.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingState: () => (/* binding */ RecordingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _recording_waiting_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recording-waiting-state */ \"(ssr)/./components/recording-waiting-state.tsx\");\n/* harmony import */ var _recording_active_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./recording-active-state */ \"(ssr)/./components/recording-active-state.tsx\");\n/* __next_internal_client_entry_do_not_use__ RecordingState auto */ \n\n\nfunction RecordingState({ transcriptEntries, recordingTime, onStopRecording, error }) {\n    if (transcriptEntries.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_recording_waiting_state__WEBPACK_IMPORTED_MODULE_1__.RecordingWaitingState, {\n            recordingTime: recordingTime,\n            onStopRecording: onStopRecording,\n            transcriptEntries: transcriptEntries,\n            error: error\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-state.tsx\",\n            lineNumber: 17,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_recording_active_state__WEBPACK_IMPORTED_MODULE_2__.RecordingActiveState, {\n        transcriptEntries: transcriptEntries,\n        onStopRecording: onStopRecording\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-state.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy1zdGF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRWlFO0FBQ0Y7QUFVeEQsU0FBU0UsZUFBZSxFQUFFQyxpQkFBaUIsRUFBRUMsYUFBYSxFQUFFQyxlQUFlLEVBQUVDLEtBQUssRUFBdUI7SUFDOUcsSUFBSUgsa0JBQWtCSSxNQUFNLEtBQUssR0FBRztRQUNsQyxxQkFDRSw4REFBQ1AsMkVBQXFCQTtZQUNwQkksZUFBZUE7WUFDZkMsaUJBQWlCQTtZQUNqQkYsbUJBQW1CQTtZQUNuQkcsT0FBT0E7Ozs7OztJQUdiO0lBQ0EscUJBQ0UsOERBQUNMLHlFQUFvQkE7UUFDbkJFLG1CQUFtQkE7UUFDbkJFLGlCQUFpQkE7Ozs7OztBQUd2QiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvY29tcG9uZW50cy9yZWNvcmRpbmctc3RhdGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IFJlY29yZGluZ1dhaXRpbmdTdGF0ZSB9IGZyb20gXCIuL3JlY29yZGluZy13YWl0aW5nLXN0YXRlXCJcbmltcG9ydCB7IFJlY29yZGluZ0FjdGl2ZVN0YXRlIH0gZnJvbSBcIi4vcmVjb3JkaW5nLWFjdGl2ZS1zdGF0ZVwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgUmVjb3JkaW5nU3RhdGVQcm9wcyB7XG4gIHRyYW5zY3JpcHRFbnRyaWVzOiBUcmFuc2NyaXB0RW50cnlbXVxuICByZWNvcmRpbmdUaW1lOiBudW1iZXJcbiAgb25TdG9wUmVjb3JkaW5nOiAoKSA9PiB2b2lkXG4gIGVycm9yPzogc3RyaW5nIHwgbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkaW5nU3RhdGUoeyB0cmFuc2NyaXB0RW50cmllcywgcmVjb3JkaW5nVGltZSwgb25TdG9wUmVjb3JkaW5nLCBlcnJvciB9OiBSZWNvcmRpbmdTdGF0ZVByb3BzKSB7XG4gIGlmICh0cmFuc2NyaXB0RW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlY29yZGluZ1dhaXRpbmdTdGF0ZVxuICAgICAgICByZWNvcmRpbmdUaW1lPXtyZWNvcmRpbmdUaW1lfVxuICAgICAgICBvblN0b3BSZWNvcmRpbmc9e29uU3RvcFJlY29yZGluZ31cbiAgICAgICAgdHJhbnNjcmlwdEVudHJpZXM9e3RyYW5zY3JpcHRFbnRyaWVzfVxuICAgICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICAvPlxuICAgIClcbiAgfVxuICByZXR1cm4gKFxuICAgIDxSZWNvcmRpbmdBY3RpdmVTdGF0ZVxuICAgICAgdHJhbnNjcmlwdEVudHJpZXM9e3RyYW5zY3JpcHRFbnRyaWVzfVxuICAgICAgb25TdG9wUmVjb3JkaW5nPXtvblN0b3BSZWNvcmRpbmd9XG4gICAgLz5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlJlY29yZGluZ1dhaXRpbmdTdGF0ZSIsIlJlY29yZGluZ0FjdGl2ZVN0YXRlIiwiUmVjb3JkaW5nU3RhdGUiLCJ0cmFuc2NyaXB0RW50cmllcyIsInJlY29yZGluZ1RpbWUiLCJvblN0b3BSZWNvcmRpbmciLCJlcnJvciIsImxlbmd0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-waiting-state.tsx":
/*!************************************************!*\
  !*** ./components/recording-waiting-state.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingWaitingState: () => (/* binding */ RecordingWaitingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/circle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock-open.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/square.js\");\n/* harmony import */ var _components_ui_alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/alert */ \"(ssr)/./components/ui/alert.tsx\");\n/* __next_internal_client_entry_do_not_use__ RecordingWaitingState auto */ \n\n\n\n\n\nfunction RecordingWaitingState({ recordingTime, onStopRecording, transcriptEntries, error }) {\n    const [isAutoScrollLocked, setIsAutoScrollLocked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const toggleAutoScrollLock = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingWaitingState.useCallback[toggleAutoScrollLock]\": ()=>{\n            setIsAutoScrollLocked({\n                \"RecordingWaitingState.useCallback[toggleAutoScrollLock]\": (prev)=>!prev\n            }[\"RecordingWaitingState.useCallback[toggleAutoScrollLock]\"]);\n        }\n    }[\"RecordingWaitingState.useCallback[toggleAutoScrollLock]\"], []);\n    const formatTime = (seconds)=>{\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__.ScrollArea, {\n                className: \"flex-1\",\n                children: [\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_alert__WEBPACK_IMPORTED_MODULE_4__.Alert, {\n                        variant: \"destructive\",\n                        className: \"m-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"h-4 w-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 25\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_alert__WEBPACK_IMPORTED_MODULE_4__.AlertDescription, {\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 41,\n                                columnNumber: 25\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 21\n                    }, this),\n                    transcriptEntries.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 space-y-4\",\n                        children: transcriptEntries.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-4 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-muted-foreground font-mono\",\n                                        children: entry.time\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                        lineNumber: 49,\n                                        columnNumber: 33\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex-1\",\n                                        children: entry.text\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                        lineNumber: 50,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 48,\n                                columnNumber: 29\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 21\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col items-center justify-center h-full p-8 text-muted-foreground text-center space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    \"Recording… \",\n                                    formatTime(recordingTime)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 56,\n                                columnNumber: 25\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs\",\n                                children: error ? \"轉錄過程中發生錯誤\" : \"等待逐字稿...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 59,\n                                columnNumber: 25\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                lineNumber: 37,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: toggleAutoScrollLock,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2 text-muted-foreground\",\n                        children: isAutoScrollLocked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                    lineNumber: 75,\n                                    columnNumber: 29\n                                }, this),\n                                \"Auto-scroll\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                    lineNumber: 80,\n                                    columnNumber: 29\n                                }, this),\n                                \"Manual\"\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 67,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: onStopRecording,\n                        variant: \"destructive\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 87,\n                                columnNumber: 21\n                            }, this),\n                            \"Stop\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 86,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                lineNumber: 66,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n        lineNumber: 36,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy13YWl0aW5nLXN0YXRlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRTZDO0FBQ1c7QUFDVDtBQUNpQjtBQUNEO0FBVXhELFNBQVNVLHNCQUFzQixFQUNsQ0MsYUFBYSxFQUNiQyxlQUFlLEVBQ2ZDLGlCQUFpQixFQUNqQkMsS0FBSyxFQUNvQjtJQUN6QixNQUFNLENBQUNDLG9CQUFvQkMsc0JBQXNCLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUU3RCxNQUFNaUIsdUJBQXVCaEIsa0RBQVdBO21FQUFDO1lBQ3JDZTsyRUFBc0JFLENBQUFBLE9BQVEsQ0FBQ0E7O1FBQ25DO2tFQUFHLEVBQUU7SUFFTCxNQUFNQyxhQUFhLENBQUNDO1FBQ2hCLE1BQU1DLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ0gsVUFBVTtRQUNsQyxNQUFNSSxPQUFPSixVQUFVO1FBQ3ZCLE9BQU8sR0FBR0MsS0FBS0ksUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUMsRUFBRUYsS0FBS0MsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRyxNQUFNO0lBQ3BGO0lBRUEscUJBQ0ksOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDMUIsa0VBQVVBO2dCQUFDMEIsV0FBVTs7b0JBQ2pCZCx1QkFDRyw4REFBQ04sdURBQUtBO3dCQUFDcUIsU0FBUTt3QkFBY0QsV0FBVTs7MENBQ25DLDhEQUFDckIsMEdBQVdBO2dDQUFDcUIsV0FBVTs7Ozs7OzBDQUN2Qiw4REFBQ25CLGtFQUFnQkE7MENBQUVLOzs7Ozs7Ozs7Ozs7b0JBSTFCRCxrQkFBa0JpQixNQUFNLEdBQUcsa0JBQ3hCLDhEQUFDSDt3QkFBSUMsV0FBVTtrQ0FDVmYsa0JBQWtCa0IsR0FBRyxDQUFDLENBQUNDLE9BQU9DLHNCQUMzQiw4REFBQ047Z0NBQWdCQyxXQUFVOztrREFDdkIsOERBQUNNO3dDQUFLTixXQUFVO2tEQUFtQ0ksTUFBTUcsSUFBSTs7Ozs7O2tEQUM3RCw4REFBQ0Q7d0NBQUtOLFdBQVU7a0RBQVVJLE1BQU1JLElBQUk7Ozs7Ozs7K0JBRjlCSDs7Ozs7Ozs7OzZDQU9sQiw4REFBQ047d0JBQUlDLFdBQVU7OzBDQUNYLDhEQUFDRDtnQ0FBSUMsV0FBVTs7b0NBQVU7b0NBQ1RULFdBQVdSOzs7Ozs7OzBDQUUzQiw4REFBQ2dCO2dDQUFJQyxXQUFVOzBDQUNWZCxRQUFRLGNBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFNdkMsOERBQUNhO2dCQUFJQyxXQUFVOztrQ0FDWCw4REFBQ3pCLHlEQUFNQTt3QkFDSGtDLFNBQVNwQjt3QkFDVFksU0FBUTt3QkFDUlMsTUFBSzt3QkFDTFYsV0FBVTtrQ0FFVGIsbUNBQ0c7OzhDQUNJLDhEQUFDViwwR0FBSUE7b0NBQUN1QixXQUFVOzs7Ozs7Z0NBQVk7O3lEQUloQzs7OENBQ0ksOERBQUN0QiwwR0FBTUE7b0NBQUNzQixXQUFVOzs7Ozs7Z0NBQVk7Ozs7Ozs7O2tDQU0xQyw4REFBQ3pCLHlEQUFNQTt3QkFBQ2tDLFNBQVN6Qjt3QkFBaUJpQixTQUFRO3dCQUFjUyxNQUFLO3dCQUFLVixXQUFVOzswQ0FDeEUsOERBQUN4QiwwR0FBTUE7Z0NBQUN3QixXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNbEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvcmVjb3JkaW5nLXdhaXRpbmctc3RhdGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYVwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQgeyBTcXVhcmUsIExvY2ssIFVubG9jaywgQWxlcnRDaXJjbGUgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcbmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9hbGVydFwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgUmVjb3JkaW5nV2FpdGluZ1N0YXRlUHJvcHMge1xuICAgIHJlY29yZGluZ1RpbWU6IG51bWJlclxuICAgIG9uU3RvcFJlY29yZGluZzogKCkgPT4gdm9pZFxuICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBUcmFuc2NyaXB0RW50cnlbXVxuICAgIGVycm9yPzogc3RyaW5nIHwgbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkaW5nV2FpdGluZ1N0YXRlKHtcbiAgICByZWNvcmRpbmdUaW1lLFxuICAgIG9uU3RvcFJlY29yZGluZyxcbiAgICB0cmFuc2NyaXB0RW50cmllcyxcbiAgICBlcnJvclxufTogUmVjb3JkaW5nV2FpdGluZ1N0YXRlUHJvcHMpIHtcbiAgICBjb25zdCBbaXNBdXRvU2Nyb2xsTG9ja2VkLCBzZXRJc0F1dG9TY3JvbGxMb2NrZWRdID0gdXNlU3RhdGUodHJ1ZSlcblxuICAgIGNvbnN0IHRvZ2dsZUF1dG9TY3JvbGxMb2NrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRJc0F1dG9TY3JvbGxMb2NrZWQocHJldiA9PiAhcHJldilcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IGZvcm1hdFRpbWUgPSAoc2Vjb25kczogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MClcbiAgICAgICAgY29uc3Qgc2VjcyA9IHNlY29uZHMgJSA2MFxuICAgICAgICByZXR1cm4gYCR7bWlucy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX06JHtzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfWBcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8QWxlcnQgdmFyaWFudD1cImRlc3RydWN0aXZlXCIgY2xhc3NOYW1lPVwibS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRDaXJjbGUgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj57ZXJyb3J9PC9BbGVydERlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7dHJhbnNjcmlwdEVudHJpZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNjcmlwdEVudHJpZXMubWFwKChlbnRyeSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9udC1tb25vXCI+e2VudHJ5LnRpbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTFcIj57ZW50cnkudGV4dH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGwgcC04IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlY29yZGluZ+KApiB7Zm9ybWF0VGltZShyZWNvcmRpbmdUaW1lKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Vycm9yID8gXCLovYnpjITpgY7nqIvkuK3nmbznlJ/pjK/oqqRcIiA6IFwi562J5b6F6YCQ5a2X56i/Li4uXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvU2Nyb2xsQXJlYT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUF1dG9TY3JvbGxMb2NrfVxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LW11dGVkLWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzQXV0b1Njcm9sbExvY2tlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvY2sgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0by1zY3JvbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VW5sb2NrIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hbnVhbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e29uU3RvcFJlY29yZGluZ30gdmFyaWFudD1cImRlc3RydWN0aXZlXCIgc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNxdWFyZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgU3RvcFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiU2Nyb2xsQXJlYSIsIkJ1dHRvbiIsIlNxdWFyZSIsIkxvY2siLCJVbmxvY2siLCJBbGVydENpcmNsZSIsIkFsZXJ0IiwiQWxlcnREZXNjcmlwdGlvbiIsIlJlY29yZGluZ1dhaXRpbmdTdGF0ZSIsInJlY29yZGluZ1RpbWUiLCJvblN0b3BSZWNvcmRpbmciLCJ0cmFuc2NyaXB0RW50cmllcyIsImVycm9yIiwiaXNBdXRvU2Nyb2xsTG9ja2VkIiwic2V0SXNBdXRvU2Nyb2xsTG9ja2VkIiwidG9nZ2xlQXV0b1Njcm9sbExvY2siLCJwcmV2IiwiZm9ybWF0VGltZSIsInNlY29uZHMiLCJtaW5zIiwiTWF0aCIsImZsb29yIiwic2VjcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJkaXYiLCJjbGFzc05hbWUiLCJ2YXJpYW50IiwibGVuZ3RoIiwibWFwIiwiZW50cnkiLCJpbmRleCIsInNwYW4iLCJ0aW1lIiwidGV4dCIsIm9uQ2xpY2siLCJzaXplIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-waiting-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/alert.tsx":
/*!*********************************!*\
  !*** ./components/ui/alert.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Alert: () => (/* binding */ Alert),\n/* harmony export */   AlertDescription: () => (/* binding */ AlertDescription),\n/* harmony export */   AlertTitle: () => (/* binding */ AlertTitle)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\nconst alertVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\", {\n    variants: {\n        variant: {\n            default: \"bg-background text-foreground\",\n            destructive: \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\"\n    }\n});\nconst Alert = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        role: \"alert\",\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(alertVariants({\n            variant\n        }), className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/alert.tsx\",\n        lineNumber: 26,\n        columnNumber: 3\n    }, undefined));\nAlert.displayName = \"Alert\";\nconst AlertTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"mb-1 font-medium leading-none tracking-tight\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/alert.tsx\",\n        lineNumber: 39,\n        columnNumber: 3\n    }, undefined));\nAlertTitle.displayName = \"AlertTitle\";\nconst AlertDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"text-sm [&_p]:leading-relaxed\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/alert.tsx\",\n        lineNumber: 51,\n        columnNumber: 3\n    }, undefined));\nAlertDescription.displayName = \"AlertDescription\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2FsZXJ0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQThCO0FBQ21DO0FBRWpDO0FBRWhDLE1BQU1HLGdCQUFnQkYsNkRBQUdBLENBQ3ZCLDZKQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUFTO1lBQ1RDLGFBQ0U7UUFDSjtJQUNGO0lBQ0FDLGlCQUFpQjtRQUNmSCxTQUFTO0lBQ1g7QUFDRjtBQUdGLE1BQU1JLHNCQUFRVCw2Q0FBZ0IsQ0FHNUIsQ0FBQyxFQUFFVyxTQUFTLEVBQUVOLE9BQU8sRUFBRSxHQUFHTyxPQUFPLEVBQUVDLG9CQUNuQyw4REFBQ0M7UUFDQ0QsS0FBS0E7UUFDTEUsTUFBSztRQUNMSixXQUFXVCw4Q0FBRUEsQ0FBQ0MsY0FBYztZQUFFRTtRQUFRLElBQUlNO1FBQ3pDLEdBQUdDLEtBQUs7Ozs7OztBQUdiSCxNQUFNTyxXQUFXLEdBQUc7QUFFcEIsTUFBTUMsMkJBQWFqQiw2Q0FBZ0IsQ0FHakMsQ0FBQyxFQUFFVyxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNLO1FBQ0NMLEtBQUtBO1FBQ0xGLFdBQVdULDhDQUFFQSxDQUFDLGdEQUFnRFM7UUFDN0QsR0FBR0MsS0FBSzs7Ozs7O0FBR2JLLFdBQVdELFdBQVcsR0FBRztBQUV6QixNQUFNRyxpQ0FBbUJuQiw2Q0FBZ0IsQ0FHdkMsQ0FBQyxFQUFFVyxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNDO1FBQ0NELEtBQUtBO1FBQ0xGLFdBQVdULDhDQUFFQSxDQUFDLGlDQUFpQ1M7UUFDOUMsR0FBR0MsS0FBSzs7Ozs7O0FBR2JPLGlCQUFpQkgsV0FBVyxHQUFHO0FBRWUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvdWkvYWxlcnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgYWxlcnRWYXJpYW50cyA9IGN2YShcbiAgXCJyZWxhdGl2ZSB3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgcC00IFsmPnN2Z34qXTpwbC03IFsmPnN2ZytkaXZdOnRyYW5zbGF0ZS15LVstM3B4XSBbJj5zdmddOmFic29sdXRlIFsmPnN2Z106bGVmdC00IFsmPnN2Z106dG9wLTQgWyY+c3ZnXTp0ZXh0LWZvcmVncm91bmRcIixcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6IFwiYmctYmFja2dyb3VuZCB0ZXh0LWZvcmVncm91bmRcIixcbiAgICAgICAgZGVzdHJ1Y3RpdmU6XG4gICAgICAgICAgXCJib3JkZXItZGVzdHJ1Y3RpdmUvNTAgdGV4dC1kZXN0cnVjdGl2ZSBkYXJrOmJvcmRlci1kZXN0cnVjdGl2ZSBbJj5zdmddOnRleHQtZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICAgIH0sXG4gIH1cbilcblxuY29uc3QgQWxlcnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+ICYgVmFyaWFudFByb3BzPHR5cGVvZiBhbGVydFZhcmlhbnRzPlxuPigoeyBjbGFzc05hbWUsIHZhcmlhbnQsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2XG4gICAgcmVmPXtyZWZ9XG4gICAgcm9sZT1cImFsZXJ0XCJcbiAgICBjbGFzc05hbWU9e2NuKGFsZXJ0VmFyaWFudHMoeyB2YXJpYW50IH0pLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5BbGVydC5kaXNwbGF5TmFtZSA9IFwiQWxlcnRcIlxuXG5jb25zdCBBbGVydFRpdGxlID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTFBhcmFncmFwaEVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxIZWFkaW5nRWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPGg1XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcIm1iLTEgZm9udC1tZWRpdW0gbGVhZGluZy1ub25lIHRyYWNraW5nLXRpZ2h0XCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkFsZXJ0VGl0bGUuZGlzcGxheU5hbWUgPSBcIkFsZXJ0VGl0bGVcIlxuXG5jb25zdCBBbGVydERlc2NyaXB0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTFBhcmFncmFwaEVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcInRleHQtc20gWyZfcF06bGVhZGluZy1yZWxheGVkXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkFsZXJ0RGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSBcIkFsZXJ0RGVzY3JpcHRpb25cIlxuXG5leHBvcnQgeyBBbGVydCwgQWxlcnRUaXRsZSwgQWxlcnREZXNjcmlwdGlvbiB9XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjdmEiLCJjbiIsImFsZXJ0VmFyaWFudHMiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0IiwiZGVzdHJ1Y3RpdmUiLCJkZWZhdWx0VmFyaWFudHMiLCJBbGVydCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJwcm9wcyIsInJlZiIsImRpdiIsInJvbGUiLCJkaXNwbGF5TmFtZSIsIkFsZXJ0VGl0bGUiLCJoNSIsIkFsZXJ0RGVzY3JpcHRpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/alert.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/button.tsx":
/*!**********************************!*\
  !*** ./components/ui/button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   buttonVariants: () => (/* binding */ buttonVariants)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-slot@1.1.1_@types+react@19.0.0_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\n\nconst buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n            destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n            outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n            secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n            ghost: \"hover:bg-accent hover:text-accent-foreground\",\n            link: \"text-primary underline-offset-4 hover:underline\"\n        },\n        size: {\n            default: \"h-10 px-4 py-2\",\n            sm: \"h-9 rounded-md px-3\",\n            lg: \"h-11 rounded-md px-8\",\n            icon: \"h-10 w-10\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nconst Button = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, size, asChild = false, ...props }, ref)=>{\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__.Slot : \"button\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Comp, {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(buttonVariants({\n            variant,\n            size,\n            className\n        })),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/button.tsx\",\n        lineNumber: 46,\n        columnNumber: 7\n    }, undefined);\n});\nButton.displayName = \"Button\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNhO0FBQ3NCO0FBRWpDO0FBRWhDLE1BQU1JLGlCQUFpQkYsNkRBQUdBLENBQ3hCLDRWQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUFTO1lBQ1RDLGFBQ0U7WUFDRkMsU0FDRTtZQUNGQyxXQUNFO1lBQ0ZDLE9BQU87WUFDUEMsTUFBTTtRQUNSO1FBQ0FDLE1BQU07WUFDSk4sU0FBUztZQUNUTyxJQUFJO1lBQ0pDLElBQUk7WUFDSkMsTUFBTTtRQUNSO0lBQ0Y7SUFDQUMsaUJBQWlCO1FBQ2ZYLFNBQVM7UUFDVE8sTUFBTTtJQUNSO0FBQ0Y7QUFTRixNQUFNSyx1QkFBU2xCLDZDQUFnQixDQUM3QixDQUFDLEVBQUVvQixTQUFTLEVBQUVkLE9BQU8sRUFBRU8sSUFBSSxFQUFFUSxVQUFVLEtBQUssRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hELE1BQU1DLE9BQU9ILFVBQVVwQixzREFBSUEsR0FBRztJQUM5QixxQkFDRSw4REFBQ3VCO1FBQ0NKLFdBQVdqQiw4Q0FBRUEsQ0FBQ0MsZUFBZTtZQUFFRTtZQUFTTztZQUFNTztRQUFVO1FBQ3hERyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE9BQU9PLFdBQVcsR0FBRztBQUVZIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIlxuaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gXCJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHlcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IGJ1dHRvblZhcmlhbnRzID0gY3ZhKFxuICBcImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiB3aGl0ZXNwYWNlLW5vd3JhcCByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW0gcmluZy1vZmZzZXQtYmFja2dyb3VuZCB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmddOnNpemUtNCBbJl9zdmddOnNocmluay0wXCIsXG4gIHtcbiAgICB2YXJpYW50czoge1xuICAgICAgdmFyaWFudDoge1xuICAgICAgICBkZWZhdWx0OiBcImJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgaG92ZXI6YmctcHJpbWFyeS85MFwiLFxuICAgICAgICBkZXN0cnVjdGl2ZTpcbiAgICAgICAgICBcImJnLWRlc3RydWN0aXZlIHRleHQtZGVzdHJ1Y3RpdmUtZm9yZWdyb3VuZCBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MFwiLFxuICAgICAgICBvdXRsaW5lOlxuICAgICAgICAgIFwiYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIGhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIHNlY29uZGFyeTpcbiAgICAgICAgICBcImJnLXNlY29uZGFyeSB0ZXh0LXNlY29uZGFyeS1mb3JlZ3JvdW5kIGhvdmVyOmJnLXNlY29uZGFyeS84MFwiLFxuICAgICAgICBnaG9zdDogXCJob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiLFxuICAgICAgICBsaW5rOiBcInRleHQtcHJpbWFyeSB1bmRlcmxpbmUtb2Zmc2V0LTQgaG92ZXI6dW5kZXJsaW5lXCIsXG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICBkZWZhdWx0OiBcImgtMTAgcHgtNCBweS0yXCIsXG4gICAgICAgIHNtOiBcImgtOSByb3VuZGVkLW1kIHB4LTNcIixcbiAgICAgICAgbGc6IFwiaC0xMSByb3VuZGVkLW1kIHB4LThcIixcbiAgICAgICAgaWNvbjogXCJoLTEwIHctMTBcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICAgICAgc2l6ZTogXCJkZWZhdWx0XCIsXG4gICAgfSxcbiAgfVxuKVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1dHRvblByb3BzXG4gIGV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+LFxuICAgIFZhcmlhbnRQcm9wczx0eXBlb2YgYnV0dG9uVmFyaWFudHM+IHtcbiAgYXNDaGlsZD86IGJvb2xlYW5cbn1cblxuY29uc3QgQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KFxuICAoeyBjbGFzc05hbWUsIHZhcmlhbnQsIHNpemUsIGFzQ2hpbGQgPSBmYWxzZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90IDogXCJidXR0b25cIlxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcFxuICAgICAgICBjbGFzc05hbWU9e2NuKGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgY2xhc3NOYW1lIH0pKX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKVxuICB9XG4pXG5CdXR0b24uZGlzcGxheU5hbWUgPSBcIkJ1dHRvblwiXG5cbmV4cG9ydCB7IEJ1dHRvbiwgYnV0dG9uVmFyaWFudHMgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU2xvdCIsImN2YSIsImNuIiwiYnV0dG9uVmFyaWFudHMiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0IiwiZGVzdHJ1Y3RpdmUiLCJvdXRsaW5lIiwic2Vjb25kYXJ5IiwiZ2hvc3QiLCJsaW5rIiwic2l6ZSIsInNtIiwibGciLCJpY29uIiwiZGVmYXVsdFZhcmlhbnRzIiwiQnV0dG9uIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsImFzQ2hpbGQiLCJwcm9wcyIsInJlZiIsIkNvbXAiLCJkaXNwbGF5TmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/input.tsx":
/*!*********************************!*\
  !*** ./components/ui/input.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Input = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, type, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n        type: type,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\", className),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/input.tsx\",\n        lineNumber: 8,\n        columnNumber: 7\n    }, undefined);\n});\nInput.displayName = \"Input\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBRUU7QUFFaEMsTUFBTUUsc0JBQVFGLDZDQUFnQixDQUM1QixDQUFDLEVBQUVJLFNBQVMsRUFBRUMsSUFBSSxFQUFFLEdBQUdDLE9BQU8sRUFBRUM7SUFDOUIscUJBQ0UsOERBQUNDO1FBQ0NILE1BQU1BO1FBQ05ELFdBQVdILDhDQUFFQSxDQUNYLGtZQUNBRztRQUVGRyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE1BQU1PLFdBQVcsR0FBRztBQUVKIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL3VpL2lucHV0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IElucHV0ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MSW5wdXRFbGVtZW50LCBSZWFjdC5Db21wb25lbnRQcm9wczxcImlucHV0XCI+PihcbiAgKHsgY2xhc3NOYW1lLCB0eXBlLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgXCJmbGV4IGgtMTAgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHB4LTMgcHktMiB0ZXh0LWJhc2UgcmluZy1vZmZzZXQtYmFja2dyb3VuZCBmaWxlOmJvcmRlci0wIGZpbGU6YmctdHJhbnNwYXJlbnQgZmlsZTp0ZXh0LXNtIGZpbGU6Zm9udC1tZWRpdW0gZmlsZTp0ZXh0LWZvcmVncm91bmQgcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBtZDp0ZXh0LXNtXCIsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIClcbiAgfVxuKVxuSW5wdXQuZGlzcGxheU5hbWUgPSBcIklucHV0XCJcblxuZXhwb3J0IHsgSW5wdXQgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY24iLCJJbnB1dCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJ0eXBlIiwicHJvcHMiLCJyZWYiLCJpbnB1dCIsImRpc3BsYXlOYW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/input.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/scroll-area.tsx":
/*!***************************************!*\
  !*** ./components/ui/scroll-area.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollArea: () => (/* binding */ ScrollArea),\n/* harmony export */   ScrollBar: () => (/* binding */ ScrollBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-scroll-area */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-scroll-area@1.2.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom_4cec18677bb44dd61a9e69790aff2bfb/node_modules/@radix-ui/react-scroll-area/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ ScrollArea,ScrollBar auto */ \n\n\n\nconst ScrollArea = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative overflow-hidden\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Viewport, {\n                className: \"h-full w-full rounded-[inherit]\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 17,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScrollBar, {}, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 20,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Corner, {}, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 21,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n        lineNumber: 12,\n        columnNumber: 3\n    }, undefined));\nScrollArea.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root.displayName;\nconst ScrollBar = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, orientation = \"vertical\", ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar, {\n        ref: ref,\n        orientation: orientation,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex touch-none select-none transition-colors\", orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\", orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\", className),\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaThumb, {\n            className: \"relative flex-1 rounded-full bg-border\"\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n            lineNumber: 43,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n        lineNumber: 30,\n        columnNumber: 3\n    }, undefined));\nScrollBar.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFDb0M7QUFFbEM7QUFFaEMsTUFBTUcsMkJBQWFILDZDQUFnQixDQUdqQyxDQUFDLEVBQUVLLFNBQVMsRUFBRUMsUUFBUSxFQUFFLEdBQUdDLE9BQU8sRUFBRUMsb0JBQ3BDLDhEQUFDUCw2REFBd0I7UUFDdkJPLEtBQUtBO1FBQ0xILFdBQVdILDhDQUFFQSxDQUFDLDRCQUE0Qkc7UUFDekMsR0FBR0UsS0FBSzs7MEJBRVQsOERBQUNOLGlFQUE0QjtnQkFBQ0ksV0FBVTswQkFDckNDOzs7Ozs7MEJBRUgsOERBQUNLOzs7OzswQkFDRCw4REFBQ1YsK0RBQTBCOzs7Ozs7Ozs7OztBQUcvQkUsV0FBV1UsV0FBVyxHQUFHWiw2REFBd0IsQ0FBQ1ksV0FBVztBQUU3RCxNQUFNRiwwQkFBWVgsNkNBQWdCLENBR2hDLENBQUMsRUFBRUssU0FBUyxFQUFFUyxjQUFjLFVBQVUsRUFBRSxHQUFHUCxPQUFPLEVBQUVDLG9CQUNwRCw4REFBQ1AsNEVBQXVDO1FBQ3RDTyxLQUFLQTtRQUNMTSxhQUFhQTtRQUNiVCxXQUFXSCw4Q0FBRUEsQ0FDWCxpREFDQVksZ0JBQWdCLGNBQ2Qsc0RBQ0ZBLGdCQUFnQixnQkFDZCx3REFDRlQ7UUFFRCxHQUFHRSxLQUFLO2tCQUVULDRFQUFDTix3RUFBbUM7WUFBQ0ksV0FBVTs7Ozs7Ozs7Ozs7QUFHbkRNLFVBQVVFLFdBQVcsR0FBR1osNEVBQXVDLENBQUNZLFdBQVc7QUFFM0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBTY3JvbGxBcmVhUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2Nyb2xsLWFyZWFcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IFNjcm9sbEFyZWEgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3Q+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdD5cbj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3RcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwicmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPFNjcm9sbEFyZWFQcmltaXRpdmUuVmlld3BvcnQgY2xhc3NOYW1lPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLVtpbmhlcml0XVwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5WaWV3cG9ydD5cbiAgICA8U2Nyb2xsQmFyIC8+XG4gICAgPFNjcm9sbEFyZWFQcmltaXRpdmUuQ29ybmVyIC8+XG4gIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5Sb290PlxuKSlcblNjcm9sbEFyZWEuZGlzcGxheU5hbWUgPSBTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3QuZGlzcGxheU5hbWVcblxuY29uc3QgU2Nyb2xsQmFyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXI+XG4+KCh7IGNsYXNzTmFtZSwgb3JpZW50YXRpb24gPSBcInZlcnRpY2FsXCIsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8U2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyXG4gICAgcmVmPXtyZWZ9XG4gICAgb3JpZW50YXRpb249e29yaWVudGF0aW9ufVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICBcImZsZXggdG91Y2gtbm9uZSBzZWxlY3Qtbm9uZSB0cmFuc2l0aW9uLWNvbG9yc1wiLFxuICAgICAgb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiAmJlxuICAgICAgICBcImgtZnVsbCB3LTIuNSBib3JkZXItbCBib3JkZXItbC10cmFuc3BhcmVudCBwLVsxcHhdXCIsXG4gICAgICBvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgJiZcbiAgICAgICAgXCJoLTIuNSBmbGV4LWNvbCBib3JkZXItdCBib3JkZXItdC10cmFuc3BhcmVudCBwLVsxcHhdXCIsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgPlxuICAgIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFUaHVtYiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LTEgcm91bmRlZC1mdWxsIGJnLWJvcmRlclwiIC8+XG4gIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyPlxuKSlcblNjcm9sbEJhci5kaXNwbGF5TmFtZSA9IFNjcm9sbEFyZWFQcmltaXRpdmUuU2Nyb2xsQXJlYVNjcm9sbGJhci5kaXNwbGF5TmFtZVxuXG5leHBvcnQgeyBTY3JvbGxBcmVhLCBTY3JvbGxCYXIgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU2Nyb2xsQXJlYVByaW1pdGl2ZSIsImNuIiwiU2Nyb2xsQXJlYSIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsInByb3BzIiwicmVmIiwiUm9vdCIsIlZpZXdwb3J0IiwiU2Nyb2xsQmFyIiwiQ29ybmVyIiwiZGlzcGxheU5hbWUiLCJvcmllbnRhdGlvbiIsIlNjcm9sbEFyZWFTY3JvbGxiYXIiLCJTY3JvbGxBcmVhVGh1bWIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/scroll-area.tsx\n");

/***/ }),

/***/ "(ssr)/./components/waiting-state.tsx":
/*!**************************************!*\
  !*** ./components/waiting-state.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WaitingState: () => (/* binding */ WaitingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* __next_internal_client_entry_do_not_use__ WaitingState auto */ \n\nfunction WaitingState() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col items-center justify-center p-6 space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                className: \"w-8 h-8 animate-spin text-muted-foreground\"\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-lg font-medium text-foreground\",\n                        children: \"Transcription in progress,\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                        lineNumber: 10,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-lg font-medium text-foreground\",\n                        children: \"please wait.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                        lineNumber: 11,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                lineNumber: 9,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dhaXRpbmctc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRXNDO0FBRS9CLFNBQVNDO0lBQ2QscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDSCxtRkFBT0E7Z0JBQUNHLFdBQVU7Ozs7OzswQkFDbkIsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQXNDOzs7Ozs7a0NBQ3JELDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBc0M7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUk3RCIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvY29tcG9uZW50cy93YWl0aW5nLXN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBMb2FkZXIyIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBXYWl0aW5nU3RhdGUoKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC02IHNwYWNlLXktNFwiPlxuICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPlRyYW5zY3JpcHRpb24gaW4gcHJvZ3Jlc3MsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5wbGVhc2Ugd2FpdC48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsiTG9hZGVyMiIsIldhaXRpbmdTdGF0ZSIsImRpdiIsImNsYXNzTmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/waiting-state.tsx\n");

/***/ }),

/***/ "(ssr)/./hooks/use-app-state-context.ts":
/*!****************************************!*\
  !*** ./hooks/use-app-state-context.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppStateContext: () => (/* binding */ AppStateContext),\n/* harmony export */   AppStateProvider: () => (/* binding */ AppStateProvider),\n/* harmony export */   useAppStateContext: () => (/* binding */ useAppStateContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types_app_state_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/app-state-context */ \"(ssr)/./types/app-state-context.ts\");\n/* harmony import */ var _lib_app_state_reducer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/app-state-reducer */ \"(ssr)/./lib/app-state-reducer.ts\");\n/* harmony import */ var _lib_initial_state_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/initial-state-loader */ \"(ssr)/./lib/initial-state-loader.ts\");\n/* harmony import */ var _lib_state_machine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/state-machine */ \"(ssr)/./lib/state-machine.ts\");\n/* harmony import */ var _lib_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/services */ \"(ssr)/./lib/services/index.ts\");\n/* __next_internal_client_entry_do_not_use__ AppStateProvider,useAppStateContext,AppStateContext auto */ \n\n\n\n\n\nconst AppStateContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction AppStateProvider({ children }) {\n    const [state, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(_lib_app_state_reducer__WEBPACK_IMPORTED_MODULE_2__.appStateReducer, _types_app_state_context__WEBPACK_IMPORTED_MODULE_1__.initialContextState);\n    const [stateMachineManager, setStateMachineManager] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [servicesInitialized, setServicesInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // 初始化服務層\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"AppStateProvider.useEffect\": ()=>{\n            async function initializeServices() {\n                try {\n                    console.log('🚀 [AppStateProvider] 初始化服務層...');\n                    // 註冊並初始化所有服務\n                    await _lib_services__WEBPACK_IMPORTED_MODULE_5__.ServiceRegistry.initializeServices();\n                    setServicesInitialized(true);\n                    console.log('✅ [AppStateProvider] 服務層初始化完成');\n                } catch (error) {\n                    console.error('❌ [AppStateProvider] 服務層初始化失敗:', error);\n                }\n            }\n            initializeServices();\n        }\n    }[\"AppStateProvider.useEffect\"], []);\n    // 載入初始狀態並初始化狀態機\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"AppStateProvider.useEffect\": ()=>{\n            if (!servicesInitialized) {\n                console.log('⏳ [AppStateProvider] 等待服務層初始化...');\n                return;\n            }\n            console.log('🔄 [AppStateProvider] 載入初始狀態...');\n            // 檢查是否在瀏覽器環境\n            if (false) {}\n        }\n    }[\"AppStateProvider.useEffect\"], [\n        servicesInitialized\n    ]);\n    // 錄音時間追蹤\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"AppStateProvider.useEffect\": ()=>{\n            let intervalId = null;\n            if (state.appData.isRecording && servicesInitialized) {\n                intervalId = setInterval({\n                    \"AppStateProvider.useEffect\": ()=>{\n                        const recordingService = _lib_services__WEBPACK_IMPORTED_MODULE_5__.serviceContainer.resolve(_lib_services__WEBPACK_IMPORTED_MODULE_5__.SERVICE_KEYS.RECORDING_SERVICE);\n                        const recordingTime = recordingService.getRecordingTime();\n                        dispatch({\n                            type: \"SET_RECORDING_TIME\",\n                            payload: recordingTime\n                        });\n                    }\n                }[\"AppStateProvider.useEffect\"], 1000);\n            }\n            return ({\n                \"AppStateProvider.useEffect\": ()=>{\n                    if (intervalId) {\n                        clearInterval(intervalId);\n                    }\n                }\n            })[\"AppStateProvider.useEffect\"];\n        }\n    }[\"AppStateProvider.useEffect\"], [\n        state.appData.isRecording,\n        servicesInitialized\n    ]);\n    // 狀態持久化\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"AppStateProvider.useEffect\": ()=>{\n            // 檢查是否在瀏覽器環境且狀態已初始化\n            if (false) {}\n        }\n    }[\"AppStateProvider.useEffect\"], [\n        state.appData\n    ]);\n    // 將狀態變更同步到狀態機\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"AppStateProvider.useEffect\": ()=>{\n            if (stateMachineManager) {\n                stateMachineManager.getStateMachine().updateContext({\n                    currentState: state.appData.state,\n                    isRecording: state.appData.isRecording,\n                    transcriptCount: state.appData.transcriptEntries.length,\n                    session: state.appData.session,\n                    error: state.error\n                });\n            }\n        }\n    }[\"AppStateProvider.useEffect\"], [\n        state,\n        stateMachineManager\n    ]);\n    const transition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[transition]\": (trigger)=>{\n            if (!stateMachineManager) {\n                console.error(\"狀態機尚未初始化\");\n                return null;\n            }\n            const result = stateMachineManager.getStateMachine().transition(trigger);\n            if (result.success) {\n                dispatch({\n                    type: 'SET_APP_STATE',\n                    payload: result.newState\n                });\n            }\n            return result;\n        }\n    }[\"AppStateProvider.useCallback[transition]\"], [\n        stateMachineManager\n    ]);\n    const setState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setState]\": (newState)=>{\n            dispatch({\n                type: \"SET_STATE\",\n                payload: newState\n            });\n        }\n    }[\"AppStateProvider.useCallback[setState]\"], []);\n    const setRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setRecording]\": (isRecording)=>{\n            dispatch({\n                type: \"SET_RECORDING\",\n                payload: isRecording\n            });\n        }\n    }[\"AppStateProvider.useCallback[setRecording]\"], []);\n    const setRecordingTime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setRecordingTime]\": (time)=>{\n            dispatch({\n                type: \"SET_RECORDING_TIME\",\n                payload: time\n            });\n        }\n    }[\"AppStateProvider.useCallback[setRecordingTime]\"], []);\n    const setEditorContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setEditorContent]\": (content)=>{\n            dispatch({\n                type: \"SET_EDITOR_CONTENT\",\n                payload: content\n            });\n        }\n    }[\"AppStateProvider.useCallback[setEditorContent]\"], []);\n    const setTranscriptEntries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setTranscriptEntries]\": (entries)=>{\n            dispatch({\n                type: \"SET_TRANSCRIPT_ENTRIES\",\n                payload: entries\n            });\n        }\n    }[\"AppStateProvider.useCallback[setTranscriptEntries]\"], []);\n    const addTranscriptEntry = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[addTranscriptEntry]\": (entry)=>{\n            dispatch({\n                type: \"ADD_TRANSCRIPT_ENTRY\",\n                payload: entry\n            });\n        }\n    }[\"AppStateProvider.useCallback[addTranscriptEntry]\"], []);\n    const setSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setSession]\": (session)=>{\n            dispatch({\n                type: \"SET_SESSION\",\n                payload: session\n            });\n        }\n    }[\"AppStateProvider.useCallback[setSession]\"], []);\n    const updateSessionStatus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[updateSessionStatus]\": (status)=>{\n            dispatch({\n                type: \"UPDATE_SESSION_STATUS\",\n                payload: status\n            });\n        }\n    }[\"AppStateProvider.useCallback[updateSessionStatus]\"], []);\n    const resetState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[resetState]\": ()=>{\n            dispatch({\n                type: \"RESET_STATE\"\n            });\n        }\n    }[\"AppStateProvider.useCallback[resetState]\"], []);\n    const setLoading = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setLoading]\": (loading)=>{\n            dispatch({\n                type: \"SET_LOADING\",\n                payload: loading\n            });\n        }\n    }[\"AppStateProvider.useCallback[setLoading]\"], []);\n    const setError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setError]\": (error)=>{\n            dispatch({\n                type: \"SET_ERROR\",\n                payload: error\n            });\n        }\n    }[\"AppStateProvider.useCallback[setError]\"], []);\n    const contextValue = {\n        appData: state.appData,\n        isLoading: state.isLoading,\n        error: state.error,\n        dispatch,\n        setState,\n        setRecording,\n        setRecordingTime,\n        setEditorContent,\n        setTranscriptEntries,\n        addTranscriptEntry,\n        setSession,\n        updateSessionStatus,\n        resetState,\n        setLoading,\n        setError,\n        transition\n    };\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AppStateContext.Provider, {\n        value: contextValue\n    }, children);\n}\nfunction useAppStateContext() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AppStateContext);\n    if (!context) {\n        throw new Error(\"useAppStateContext 必須在 AppStateProvider 內使用\");\n    }\n    return context;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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REFBRyxFQUFFO0lBRUwsTUFBTTRFLGFBQWE3SCxrREFBV0E7b0RBQUM7WUFDN0JjLFNBQVM7Z0JBQUVXLE1BQU07WUFBYztRQUNqQzttREFBRyxFQUFFO0lBRUwsTUFBTXFHLGFBQWE5SCxrREFBV0E7b0RBQUMsQ0FBQytIO1lBQzlCakgsU0FBUztnQkFBRVcsTUFBTTtnQkFBZUMsU0FBU3FHO1lBQVE7UUFDbkQ7bURBQUcsRUFBRTtJQUVMLE1BQU1DLFdBQVdoSSxrREFBV0E7a0RBQUMsQ0FBQ3NCO1lBQzVCUixTQUFTO2dCQUFFVyxNQUFNO2dCQUFhQyxTQUFTSjtZQUFNO1FBQy9DO2lEQUFHLEVBQUU7SUFFTCxNQUFNMkcsZUFBcUM7UUFDekM1QixTQUFTeEYsTUFBTXdGLE9BQU87UUFDdEI2QixXQUFXckgsTUFBTXFILFNBQVM7UUFDMUI1RyxPQUFPVCxNQUFNUyxLQUFLO1FBQ2xCUjtRQUNBb0c7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUU7UUFDQWpFO0lBQ0Y7SUFFQSxPQUFPbkUsMERBQW1CLENBQ3hCYyxnQkFBZ0IwSCxRQUFRLEVBQ3hCO1FBQUVDLE9BQU9KO0lBQWEsR0FDdEJySDtBQUVKO0FBRU8sU0FBUzBIO0lBQ2QsTUFBTUMsVUFBVXpJLGlEQUFVQSxDQUFDWTtJQUMzQixJQUFJLENBQUM2SCxTQUFTO1FBQ1osTUFBTSxJQUFJM0UsTUFBTTtJQUNsQjtJQUNBLE9BQU8yRTtBQUNUO0FBRTBCIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ob29rcy91c2UtYXBwLXN0YXRlLWNvbnRleHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVJlZHVjZXIsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IEFwcFN0YXRlQ29udGV4dFZhbHVlLCBpbml0aWFsQ29udGV4dFN0YXRlIH0gZnJvbSBcIi4uL3R5cGVzL2FwcC1zdGF0ZS1jb250ZXh0XCJcbmltcG9ydCB7IGFwcFN0YXRlUmVkdWNlciwgQXBwU3RhdGVSZWR1Y2VyU3RhdGUgfSBmcm9tIFwiLi4vbGliL2FwcC1zdGF0ZS1yZWR1Y2VyXCJcbmltcG9ydCB7IEluaXRpYWxTdGF0ZUxvYWRlciB9IGZyb20gXCIuLi9saWIvaW5pdGlhbC1zdGF0ZS1sb2FkZXJcIlxuaW1wb3J0IHsgQXBwU3RhdGUsIFNlc3Npb25TdGF0dXMsIFNlc3Npb25UeXBlLCBUcmFuc2NyaXB0RW50cnkgfSBmcm9tIFwiLi4vdHlwZXMvYXBwLXN0YXRlXCJcbmltcG9ydCB7IFN0YXRlTWFjaGluZU1hbmFnZXIgfSBmcm9tICcuLi9saWIvc3RhdGUtbWFjaGluZSc7XG5pbXBvcnQgeyBTdGF0ZVRyYW5zaXRpb25UcmlnZ2VyIH0gZnJvbSBcIi4uL3R5cGVzL3N0YXRlLXRyYW5zaXRpb25zXCI7XG5pbXBvcnQgeyBTZXJ2aWNlUmVnaXN0cnksIFNFUlZJQ0VfS0VZUywgc2VydmljZUNvbnRhaW5lciB9IGZyb20gXCIuLi9saWIvc2VydmljZXNcIjtcbmltcG9ydCB0eXBlIHsgSVNlc3Npb25TZXJ2aWNlLCBJUmVjb3JkaW5nU2VydmljZSwgSVRyYW5zY3JpcHRTZXJ2aWNlLCBUcmFuc2NyaXB0TWVzc2FnZSB9IGZyb20gXCIuLi9saWIvc2VydmljZXNcIjtcblxuY29uc3QgQXBwU3RhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBcHBTdGF0ZUNvbnRleHRWYWx1ZSB8IG51bGw+KG51bGwpXG5cbmV4cG9ydCBmdW5jdGlvbiBBcHBTdGF0ZVByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGFwcFN0YXRlUmVkdWNlciwgaW5pdGlhbENvbnRleHRTdGF0ZSBhcyBBcHBTdGF0ZVJlZHVjZXJTdGF0ZSlcbiAgY29uc3QgW3N0YXRlTWFjaGluZU1hbmFnZXIsIHNldFN0YXRlTWFjaGluZU1hbmFnZXJdID0gdXNlU3RhdGU8U3RhdGVNYWNoaW5lTWFuYWdlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VydmljZXNJbml0aWFsaXplZCwgc2V0U2VydmljZXNJbml0aWFsaXplZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8g5Yid5aeL5YyW5pyN5YuZ5bGkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlcnZpY2VzKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgW0FwcFN0YXRlUHJvdmlkZXJdIOWIneWni+WMluacjeWLmeWxpC4uLicpXG5cbiAgICAgICAgLy8g6Ki75YaK5Lim5Yid5aeL5YyW5omA5pyJ5pyN5YuZXG4gICAgICAgIGF3YWl0IFNlcnZpY2VSZWdpc3RyeS5pbml0aWFsaXplU2VydmljZXMoKVxuXG4gICAgICAgIHNldFNlcnZpY2VzSW5pdGlhbGl6ZWQodHJ1ZSlcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBbQXBwU3RhdGVQcm92aWRlcl0g5pyN5YuZ5bGk5Yid5aeL5YyW5a6M5oiQJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbQXBwU3RhdGVQcm92aWRlcl0g5pyN5YuZ5bGk5Yid5aeL5YyW5aSx5pWXOicsIGVycm9yKVxuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemVTZXJ2aWNlcygpXG4gIH0sIFtdKVxuXG4gIC8vIOi8ieWFpeWIneWni+eLgOaFi+S4puWIneWni+WMlueLgOaFi+apn1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2VydmljZXNJbml0aWFsaXplZCkge1xuICAgICAgY29uc29sZS5sb2coJ+KPsyBbQXBwU3RhdGVQcm92aWRlcl0g562J5b6F5pyN5YuZ5bGk5Yid5aeL5YyWLi4uJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFtBcHBTdGF0ZVByb3ZpZGVyXSDovInlhaXliJ3lp4vni4DmhYsuLi4nKVxuXG4gICAgLy8g5qqi5p+l5piv5ZCm5Zyo54CP6Ka95Zmo55Kw5aKDXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpbml0aWFsQXBwRGF0YSA9IEluaXRpYWxTdGF0ZUxvYWRlci5sb2FkSW5pdGlhbEFwcERhdGEoKVxuXG4gICAgICAgIC8vIOabtOaWsCBDb250ZXh0IOeLgOaFi1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX0FQUF9TVEFURVwiLCBwYXlsb2FkOiBpbml0aWFsQXBwRGF0YS5zdGF0ZSB9KVxuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX0VESVRPUl9DT05URU5UXCIsIHBheWxvYWQ6IGluaXRpYWxBcHBEYXRhLmVkaXRvckNvbnRlbnQgfSlcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9UUkFOU0NSSVBUX0VOVFJJRVNcIiwgcGF5bG9hZDogaW5pdGlhbEFwcERhdGEudHJhbnNjcmlwdEVudHJpZXMgfSlcblxuICAgICAgICBpZiAoaW5pdGlhbEFwcERhdGEuc2Vzc2lvbikge1xuICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfU0VTU0lPTlwiLCBwYXlsb2FkOiBpbml0aWFsQXBwRGF0YS5zZXNzaW9uIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyDliJ3lp4vljJbni4DmhYvmqZ/kuKboqLvlhorlia/kvZznlKjomZXnkIblmahcbiAgICAgICAgY29uc3Qgc21NYW5hZ2VyID0gbmV3IFN0YXRlTWFjaGluZU1hbmFnZXIoe1xuICAgICAgICAgIGN1cnJlbnRTdGF0ZTogaW5pdGlhbEFwcERhdGEuc3RhdGUsXG4gICAgICAgICAgaXNSZWNvcmRpbmc6IGluaXRpYWxBcHBEYXRhLmlzUmVjb3JkaW5nLFxuICAgICAgICAgIHRyYW5zY3JpcHRDb3VudDogaW5pdGlhbEFwcERhdGEudHJhbnNjcmlwdEVudHJpZXMubGVuZ3RoLFxuICAgICAgICAgIHNlc3Npb246IGluaXRpYWxBcHBEYXRhLnNlc3Npb24gfHwgbnVsbCxcbiAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDlj5blvpfmnI3li5nlr6bkvotcbiAgICAgICAgY29uc3Qgc2Vzc2lvblNlcnZpY2UgPSBzZXJ2aWNlQ29udGFpbmVyLnJlc29sdmU8SVNlc3Npb25TZXJ2aWNlPihTRVJWSUNFX0tFWVMuU0VTU0lPTl9TRVJWSUNFKVxuICAgICAgICBjb25zdCByZWNvcmRpbmdTZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPElSZWNvcmRpbmdTZXJ2aWNlPihTRVJWSUNFX0tFWVMuUkVDT1JESU5HX1NFUlZJQ0UpXG4gICAgICAgIGNvbnN0IHRyYW5zY3JpcHRTZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPElUcmFuc2NyaXB0U2VydmljZT4oU0VSVklDRV9LRVlTLlRSQU5TQ1JJUFRfU0VSVklDRSlcblxuICAgICAgICAvLyDoqLvlhorlia/kvZznlKjomZXnkIblmaggLSBDUkVBVEVfU0VTU0lPTlxuICAgICAgICBzbU1hbmFnZXIucmVnaXN0ZXJTaWRlRWZmZWN0SGFuZGxlcignQ1JFQVRFX1NFU1NJT04nLCB7XG4gICAgICAgICAgaGFuZGxlU2lkZUVmZmVjdDogYXN5bmMgKGVmZmVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfj5fvuI8gW+WJr+S9nOeUqF0gQ1JFQVRFX1NFU1NJT046IOW7uueri+acg+ipsScsIGVmZmVjdCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gJ0NSRUFURV9TRVNTSU9OJykge1xuICAgICAgICAgICAgICAgIC8vIOS/ruW+qe+8muW7uueri+acg+ipseWJjeWFiOaqouafpeePvuaciea0u+i6jeacg+ipsVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFvlia/kvZznlKhdIENSRUFURV9TRVNTSU9OOiDmqqLmn6Xnj77mnInmtLvouo3mnIPoqbEnKVxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2Vzc2lvbiA9IGF3YWl0IHNlc3Npb25TZXJ2aWNlLmNoZWNrQWN0aXZlU2Vzc2lvbigpXG5cbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIFvlia/kvZznlKhdIENSRUFURV9TRVNTSU9OOiDnmbznj77nj77mnInmtLvouo3mnIPoqbHvvIzlmJfoqaboh6rli5XmuIXnkIYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nU2Vzc2lvbklkOiBleGlzdGluZ1Nlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogZXhpc3RpbmdTZXNzaW9uLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZXhpc3RpbmdTZXNzaW9uLnR5cGVcbiAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOWYl+ippuWIqumZpOePvuaciea0u+i6jeacg+ipsVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZXNzaW9uU2VydmljZS5kZWxldGVTZXNzaW9uKGV4aXN0aW5nU2Vzc2lvbi5pZClcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBb5Ymv5L2c55SoXSBDUkVBVEVfU0VTU0lPTjog5oiQ5Yqf5riF55CG54++5pyJ5pyD6KmxJywgZXhpc3RpbmdTZXNzaW9uLmlkKVxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoY2xlYW51cEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFvlia/kvZznlKhdIENSRUFURV9TRVNTSU9OOiDmuIXnkIbnj77mnInmnIPoqbHlpLHmlZfvvIznubznuozlmJfoqablibXlu7onLCBjbGVhbnVwRXJyb3IpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBhd2FpdCBzZXNzaW9uU2VydmljZS5jcmVhdGVSZWNvcmRpbmdTZXNzaW9uKFxuICAgICAgICAgICAgICAgICAgZWZmZWN0LnRpdGxlIHx8IGDpjITpn7PnrYboqJggJHtuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCl9YFxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIC8vIOaWsOWinu+8muetieW+heacg+ipseWcqOizh+aWmeW6q+S4reWujOWFqOWPr+imi1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmVhZHkgPSBhd2FpdCBzZXNzaW9uU2VydmljZS53YWl0Rm9yU2Vzc2lvblJlYWR5KHNlc3Npb25EYXRhLmlkKVxuXG4gICAgICAgICAgICAgICAgaWYgKCFpc1JlYWR5KSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+acg+ipseWJteW7uui2heaZgu+8jOeEoeazleeiuuiqjeacg+ipseeLgOaFiycpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8g5pu05pawIENvbnRleHQg54uA5oWLXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJTRVRfU0VTU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbkRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc2Vzc2lvbkRhdGEuc3RhdHVzIGFzIFNlc3Npb25TdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGVmZmVjdC5zZXNzaW9uVHlwZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFvlia/kvZznlKhdIENSRUFURV9TRVNTSU9OIOWujOaIkDonLCBzZXNzaW9uRGF0YS5pZClcblxuICAgICAgICAgICAgICAgIC8vIOenu+mZpCBzZXRUaW1lb3V077yM5pS554K65ZCM5q2l6Ke455m8IFNFU1NJT05fQ1JFQVRFRCDovYnmj5tcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGVNYWNoaW5lTWFuYWdlcikge1xuICAgICAgICAgICAgICAgICAgc3RhdGVNYWNoaW5lTWFuYWdlci5nZXRTdGF0ZU1hY2hpbmUoKS50cmFuc2l0aW9uKCdTRVNTSU9OX0NSRUFURUQnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFvlia/kvZznlKhdIENSRUFURV9TRVNTSU9OIOWkseaVlzonLCBlcnJvcilcblxuICAgICAgICAgICAgICAvLyDkv67lvqnvvJrmj5Dkvpvmm7TmmI7norrnmoTpjK/oqqToqIrmga9cbiAgICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICflu7rnq4vmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJzQwOScpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ+ihneeqgScpKSB7XG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAn5pyD6Kmx6KGd56qB77ya6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6Kmm77yM5oiW6IGv57mr5oqA6KGT5pSv5o+0J1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygn6LaF5pmCJykpIHtcbiAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICfmnIPoqbHlibXlu7rotoXmmYLvvJroq4vmqqLmn6XntrLot6/pgKPmjqXlvozph43oqaYnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9FUlJPUlwiLCBwYXlsb2FkOiBlcnJvck1lc3NhZ2UgfSlcblxuICAgICAgICAgICAgICAvLyDkv67lvqnvvJrnorrkv53muIXnkIYgc2Vzc2lvbiDni4DmhYtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9TRVNTSU9OXCIsIHBheWxvYWQ6IG51bGwgfSlcblxuICAgICAgICAgICAgICAvLyDnp7vpmaQgc2V0VGltZW91dO+8jOaUueeCuuWQjOatpeinuOeZvOmMr+iqpOi9ieaPm1xuICAgICAgICAgICAgICBpZiAoc3RhdGVNYWNoaW5lTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIHN0YXRlTWFjaGluZU1hbmFnZXIuZ2V0U3RhdGVNYWNoaW5lKCkudHJhbnNpdGlvbignRVJST1JfT0NDVVJSRUQnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgLy8g6Ki75YaK5Ymv5L2c55So6JmV55CG5ZmoIC0gU1RBUlRfUkVDT1JESU5HXG4gICAgICAgIHNtTWFuYWdlci5yZWdpc3RlclNpZGVFZmZlY3RIYW5kbGVyKCdTVEFSVF9SRUNPUkRJTkcnLCB7XG4gICAgICAgICAgaGFuZGxlU2lkZUVmZmVjdDogYXN5bmMgKGVmZmVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjqQgW+WJr+S9nOeUqF0gU1RBUlRfUkVDT1JESU5HOiDplovlp4vpjITpn7MnLCBlZmZlY3QpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2Vzc2lvbiA9IHNtTWFuYWdlci5nZXRTdGF0ZU1hY2hpbmUoKS5nZXRDb250ZXh0KCkuc2Vzc2lvblxuICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmspLmnInmtLvouo3nmoTmnIPoqbEnKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYXdhaXQgcmVjb3JkaW5nU2VydmljZS5zdGFydFJlY29yZGluZyhjdXJyZW50U2Vzc2lvbi5pZClcblxuICAgICAgICAgICAgICAvLyDmm7TmlrDpjITpn7Pni4DmhYtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9SRUNPUkRJTkdcIiwgcGF5bG9hZDogdHJ1ZSB9KVxuXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW+WJr+S9nOeUqF0gU1RBUlRfUkVDT1JESU5HIOWujOaIkCcpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW+WJr+S9nOeUqF0gU1RBUlRfUkVDT1JESU5HIOWkseaVlzonLCBlcnJvcilcbiAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9FUlJPUlwiLCBwYXlsb2FkOiAn6ZaL5aeL6YyE6Z+z5aSx5pWXJyB9KVxuXG4gICAgICAgICAgICAgIC8vIOinuOeZvOmMr+iqpOi9ieaPm1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGVNYWNoaW5lTWFuYWdlcikge1xuICAgICAgICAgICAgICAgICAgc3RhdGVNYWNoaW5lTWFuYWdlci5nZXRTdGF0ZU1hY2hpbmUoKS50cmFuc2l0aW9uKCdFUlJPUl9PQ0NVUlJFRCcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCAxMDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDoqLvlhorlia/kvZznlKjomZXnkIblmaggLSBDT05ORUNUX1dFQlNPQ0tFVFxuICAgICAgICBzbU1hbmFnZXIucmVnaXN0ZXJTaWRlRWZmZWN0SGFuZGxlcignQ09OTkVDVF9XRUJTT0NLRVQnLCB7XG4gICAgICAgICAgaGFuZGxlU2lkZUVmZmVjdDogYXN5bmMgKGVmZmVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIwgW+WJr+S9nOeUqF0gQ09OTkVDVF9XRUJTT0NLRVQ6IOmAo+aOpSBXZWJTb2NrZXQnLCBlZmZlY3QpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2Vzc2lvbiA9IHNtTWFuYWdlci5nZXRTdGF0ZU1hY2hpbmUoKS5nZXRDb250ZXh0KCkuc2Vzc2lvblxuICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmspLmnInmtLvouo3nmoTmnIPoqbEnKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8g5L+u5b6p77ya5re75Yqg6YCj5o6l6LaF5pmC6JmV55CGXG4gICAgICAgICAgICAgIGNvbnN0IFdFQlNPQ0tFVF9USU1FT1VUID0gMTAwMDA7IC8vIDEw56eS6LaF5pmCXG5cbiAgICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvblByb21pc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8g5paw5aKe77yaV2ViU29ja2V0IOmAo+aOpeWJjeacg+ipseeLgOaFi+mgkOaqolxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFvlia/kvZznlKhdIENPTk5FQ1RfV0VCU09DS0VUOiDplovlp4vmnIPoqbHni4DmhYvpoJDmqqInLCBjdXJyZW50U2Vzc2lvbi5pZClcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVNlc3Npb24gPSBhd2FpdCBzZXNzaW9uU2VydmljZS5jaGVja0FjdGl2ZVNlc3Npb24oKVxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDmnIPoqbHni4DmhYvpoJDmqqLlpLHmlZfvvJrmspLmnInmtLvouo3nmoTmnIPoqbFgKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVTZXNzaW9uLmlkICE9PSBjdXJyZW50U2Vzc2lvbi5pZCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDmnIPoqbHni4DmhYvpoJDmqqLlpLHmlZfvvJrmtLvouo3mnIPoqbEgJHthY3RpdmVTZXNzaW9uLmlkfSDoiIfmnJ/mnJvnmoTmnIPoqbEgJHtjdXJyZW50U2Vzc2lvbi5pZH0g5LiN5Yy56YWNYClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlU2Vzc2lvbi5zdGF0dXMgIT09ICdhY3RpdmUnKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYOacg+ipseeLgOaFi+mgkOaqouWkseaVl++8muacg+ipsSAke2FjdGl2ZVNlc3Npb24uaWR9IOeLgOaFi+eCuiAke2FjdGl2ZVNlc3Npb24uc3RhdHVzfe+8jOacn+acm+eCuiBhY3RpdmVgKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVTZXNzaW9uLnR5cGUgIT09ICdyZWNvcmRpbmcnKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYOacg+ipseeLgOaFi+mgkOaqouWkseaVl++8muacg+ipsSAke2FjdGl2ZVNlc3Npb24uaWR9IOmhnuWei+eCuiAke2FjdGl2ZVNlc3Npb24udHlwZX3vvIzmnJ/mnJvngrogcmVjb3JkaW5nYClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFvlia/kvZznlKhdIENPTk5FQ1RfV0VCU09DS0VUOiDmnIPoqbHni4DmhYvpoJDmqqLpgJrpgY4nLCB7XG4gICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IGFjdGl2ZVNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgICBzdGF0dXM6IGFjdGl2ZVNlc3Npb24uc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgdHlwZTogYWN0aXZlU2Vzc2lvbi50eXBlXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIC8vIOmAo+aOpeS4pua3u+WKoOebo+iBveWZqCAtIOS9v+eUqOmgkOaqoumAmumBjueahOacg+ipsSBJRFxuICAgICAgICAgICAgICAgIGF3YWl0IHRyYW5zY3JpcHRTZXJ2aWNlLmNvbm5lY3QoYWN0aXZlU2Vzc2lvbi5pZClcblxuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTZXNzaW9uXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyDkv67lvqnvvJrkvb/nlKggUHJvbWlzZS5yYWNlIOWvpuePvui2heaZguapn+WItlxuICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlPG5ldmVyPigoXywgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKCdXZWJTb2NrZXQg6YCj5o6l6LaF5pmCJykpLCBXRUJTT0NLRVRfVElNRU9VVClcbiAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICBjb25zdCBhY3RpdmVTZXNzaW9uID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtjb25uZWN0aW9uUHJvbWlzZSgpLCB0aW1lb3V0UHJvbWlzZV0pXG5cbiAgICAgICAgICAgICAgLy8g5re75Yqg6YCQ5a2X56i/55uj6IG95ZmoXG4gICAgICAgICAgICAgIGNvbnN0IGhhbmRsZVRyYW5zY3JpcHQgPSAobWVzc2FnZTogVHJhbnNjcmlwdE1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSAndHJhbnNjcmlwdF9zZWdtZW50JyAmJiBtZXNzYWdlLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG1lc3NhZ2Uuc3RhcnRfdGltZSA/PyAwXG4gICAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzdGFydFRpbWUgLyA2MClcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKHN0YXJ0VGltZSAlIDYwKVxuICAgICAgICAgICAgICAgICAgY29uc3QgdGltZVN0ciA9IGAke21pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gXG5cbiAgICAgICAgICAgICAgICAgIC8vIOa3u+WKoOmAkOWtl+eov+WIsCBDb250ZXh0XG4gICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQUREX1RSQU5TQ1JJUFRfRU5UUllcIixcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHRpbWVTdHIsXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZS50ZXh0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+esrOS4gOWAi+mAkOWtl+eov++8jOinuOeZvOi9ieaPm1xuICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRleHQgPSBzbU1hbmFnZXIuZ2V0U3RhdGVNYWNoaW5lKCkuZ2V0Q29udGV4dCgpXG4gICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbnRleHQudHJhbnNjcmlwdENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNtTWFuYWdlci5nZXRTdGF0ZU1hY2hpbmUoKS50cmFuc2l0aW9uKCdGSVJTVF9UUkFOU0NSSVBUX1JFQ0VJVkVEJylcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAndHJhbnNjcmlwdF9jb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgIC8vIOi9iemMhOWujOaIkFxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNtTWFuYWdlci5nZXRTdGF0ZU1hY2hpbmUoKS50cmFuc2l0aW9uKCdQUk9DRVNTSU5HX0NPTVBMRVRFRCcpXG4gICAgICAgICAgICAgICAgICB9LCAxMDApXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggW+WJr+S9nOeUqF0g6YCQ5a2X56i/6Yyv6KqkOicsIG1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX0VSUk9SXCIsIHBheWxvYWQ6ICfpgJDlrZfnqL/omZXnkIbpjK/oqqQnIH0pXG5cbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzbU1hbmFnZXIuZ2V0U3RhdGVNYWNoaW5lKCkudHJhbnNpdGlvbignRVJST1JfT0NDVVJSRUQnKVxuICAgICAgICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRyYW5zY3JpcHRTZXJ2aWNlLmFkZFRyYW5zY3JpcHRMaXN0ZW5lcihhY3RpdmVTZXNzaW9uLmlkLCBoYW5kbGVUcmFuc2NyaXB0KVxuXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW+WJr+S9nOeUqF0gQ09OTkVDVF9XRUJTT0NLRVQg5a6M5oiQJylcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb5Ymv5L2c55SoXSBDT05ORUNUX1dFQlNPQ0tFVCDlpLHmlZc6JywgZXJyb3IpXG5cbiAgICAgICAgICAgICAgLy8g5Y2A5YiG5LiN5ZCM6aGe5Z6L55qE6Yyv6Kqk5o+Q5L6b5piO56K655qE6Yyv6Kqk6KiK5oGvXG4gICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAn6YCj5o6l6YCQ5a2X56i/5pyN5YuZ5aSx5pWXJ1xuICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCfmnIPoqbHni4DmhYvpoJDmqqLlpLHmlZcnKSkge1xuICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ+acg+ipseeLgOaFi+mpl+itieWkseaVlydcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ+aykuaciea0u+i6jeeahOacg+ipsScpKSB7XG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAn5rKS5pyJ5Y+v55So55qE5pyD6KmxJ1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnV2ViU29ja2V0IOmAo+aOpei2heaZgicpKSB7XG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnV2ViU29ja2V0IOmAo+aOpei2heaZgu+8jOiri+aqouafpee2sui3r+mAo+aOpSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX0VSUk9SXCIsIHBheWxvYWQ6IGVycm9yTWVzc2FnZSB9KVxuXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZU1hY2hpbmVNYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZU1hY2hpbmVNYW5hZ2VyLmdldFN0YXRlTWFjaGluZSgpLnRyYW5zaXRpb24oJ0VSUk9SX09DQ1VSUkVEJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIDEwMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cblxuICAgICAgICAvLyDoqLvlhorlia/kvZznlKjomZXnkIblmaggLSBTVE9QX1JFQ09SRElOR1xuICAgICAgICBzbU1hbmFnZXIucmVnaXN0ZXJTaWRlRWZmZWN0SGFuZGxlcignU1RPUF9SRUNPUkRJTkcnLCB7XG4gICAgICAgICAgaGFuZGxlU2lkZUVmZmVjdDogYXN5bmMgKGVmZmVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfm5EgW+WJr+S9nOeUqF0gU1RPUF9SRUNPUkRJTkc6IOWBnOatoumMhOmfsycsIGVmZmVjdCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGF3YWl0IHJlY29yZGluZ1NlcnZpY2Uuc3RvcFJlY29yZGluZygpXG5cbiAgICAgICAgICAgICAgLy8g5pu05paw6YyE6Z+z54uA5oWLXG4gICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfUkVDT1JESU5HXCIsIHBheWxvYWQ6IGZhbHNlIH0pXG4gICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfUkVDT1JESU5HX1RJTUVcIiwgcGF5bG9hZDogMCB9KVxuXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW+WJr+S9nOeUqF0gU1RPUF9SRUNPUkRJTkcg5a6M5oiQJylcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb5Ymv5L2c55SoXSBTVE9QX1JFQ09SRElORyDlpLHmlZc6JywgZXJyb3IpXG4gICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfRVJST1JcIiwgcGF5bG9hZDogJ+WBnOatoumMhOmfs+WkseaVlycgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOiou+WGiuWJr+S9nOeUqOiZleeQhuWZqCAtIERJU0NPTk5FQ1RfV0VCU09DS0VUXG4gICAgICAgIHNtTWFuYWdlci5yZWdpc3RlclNpZGVFZmZlY3RIYW5kbGVyKCdESVNDT05ORUNUX1dFQlNPQ0tFVCcsIHtcbiAgICAgICAgICBoYW5kbGVTaWRlRWZmZWN0OiBhc3luYyAoZWZmZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjCBb5Ymv5L2c55SoXSBESVNDT05ORUNUX1dFQlNPQ0tFVDog5pa36ZaLIFdlYlNvY2tldCcsIGVmZmVjdCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uID0gc21NYW5hZ2VyLmdldFN0YXRlTWFjaGluZSgpLmdldENvbnRleHQoKS5zZXNzaW9uXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRyYW5zY3JpcHRTZXJ2aWNlLmRpc2Nvbm5lY3QoY3VycmVudFNlc3Npb24uaWQpXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFvlia/kvZznlKhdIERJU0NPTk5FQ1RfV0VCU09DS0VUIOWujOaIkCcpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW+WJr+S9nOeUqF0gRElTQ09OTkVDVF9XRUJTT0NLRVQg5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g6Ki75YaK5Ymv5L2c55So6JmV55CG5ZmoIC0gRklOSVNIX1NFU1NJT05cbiAgICAgICAgc21NYW5hZ2VyLnJlZ2lzdGVyU2lkZUVmZmVjdEhhbmRsZXIoJ0ZJTklTSF9TRVNTSU9OJywge1xuICAgICAgICAgIGhhbmRsZVNpZGVFZmZlY3Q6IGFzeW5jIChlZmZlY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW+WJr+S9nOeUqF0gRklOSVNIX1NFU1NJT046IOWujOaIkOacg+ipsScsIGVmZmVjdCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uID0gc21NYW5hZ2VyLmdldFN0YXRlTWFjaGluZSgpLmdldENvbnRleHQoKS5zZXNzaW9uXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNlc3Npb25TZXJ2aWNlLmZpbmlzaFNlc3Npb24oY3VycmVudFNlc3Npb24uaWQpXG5cbiAgICAgICAgICAgICAgICAvLyDmm7TmlrDmnIPoqbHni4DmhYtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcIlVQREFURV9TRVNTSU9OX1NUQVRVU1wiLFxuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogXCJjb21wbGV0ZWRcIiBhcyBTZXNzaW9uU3RhdHVzXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW+WJr+S9nOeUqF0gRklOSVNIX1NFU1NJT04g5a6M5oiQJylcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBb5Ymv5L2c55SoXSBGSU5JU0hfU0VTU0lPTiDlpLHmlZc6JywgZXJyb3IpXG4gICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfRVJST1JcIiwgcGF5bG9hZDogJ+WujOaIkOacg+ipseWkseaVlycgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOiou+WGiuWJr+S9nOeUqOiZleeQhuWZqCAtIENMRUFSX1RSQU5TQ1JJUFRTXG4gICAgICAgIHNtTWFuYWdlci5yZWdpc3RlclNpZGVFZmZlY3RIYW5kbGVyKCdDTEVBUl9UUkFOU0NSSVBUUycsIHtcbiAgICAgICAgICBoYW5kbGVTaWRlRWZmZWN0OiAoZWZmZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBb5Ymv5L2c55SoXSBDTEVBUl9UUkFOU0NSSVBUUzog5riF6Zmk6YCQ5a2X56i/JywgZWZmZWN0KTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfVFJBTlNDUklQVF9FTlRSSUVTXCIsIHBheWxvYWQ6IFtdIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDoqLvlhorlia/kvZznlKjomZXnkIblmaggLSBTQVZFX0RSQUZUXG4gICAgICAgIHNtTWFuYWdlci5yZWdpc3RlclNpZGVFZmZlY3RIYW5kbGVyKCdTQVZFX0RSQUZUJywge1xuICAgICAgICAgIGhhbmRsZVNpZGVFZmZlY3Q6IChlZmZlY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFvlia/kvZznlKhdIFNBVkVfRFJBRlQ6IOWEsuWtmOiNieeovycsIGVmZmVjdCk7XG4gICAgICAgICAgICAvLyDnlbbliY3lt7LmnInoh6rli5XlhLLlrZjmqZ/liLbvvIzpgJnoo6Hlj6/ku6Xop7jnmbznq4vljbPlhLLlrZhcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOiou+WGiuWJr+S9nOeUqOiZleeQhuWZqCAtIFNIT1dfRVJST1JcbiAgICAgICAgc21NYW5hZ2VyLnJlZ2lzdGVyU2lkZUVmZmVjdEhhbmRsZXIoJ1NIT1dfRVJST1InLCB7XG4gICAgICAgICAgaGFuZGxlU2lkZUVmZmVjdDogKGVmZmVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmqggW+WJr+S9nOeUqF0gU0hPV19FUlJPUjog6aGv56S66Yyv6KqkJywgZWZmZWN0KTtcbiAgICAgICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gJ1NIT1dfRVJST1InKSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfRVJST1JcIiwgcGF5bG9hZDogZWZmZWN0Lm1lc3NhZ2UgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOS/ruW+qe+8muaWsOWiniBFUlJPUl9DTEVBTlVQIOWJr+S9nOeUqOiZleeQhuWZqO+8jOeiuuS/nemMr+iqpOaZgueLgOaFi+WujOWFqOmHjee9rlxuICAgICAgICBzbU1hbmFnZXIucmVnaXN0ZXJTaWRlRWZmZWN0SGFuZGxlcignRVJST1JfQ0xFQU5VUCcsIHtcbiAgICAgICAgICBoYW5kbGVTaWRlRWZmZWN0OiAoZWZmZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBb5Ymv5L2c55SoXSBFUlJPUl9DTEVBTlVQOiDmuIXnkIbpjK/oqqTni4DmhYsnLCBlZmZlY3QpO1xuXG4gICAgICAgICAgICAvLyDmuIXnkIbmiYDmnInnm7jpl5zni4DmhYtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfU0VTU0lPTlwiLCBwYXlsb2FkOiBudWxsIH0pXG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX1JFQ09SRElOR1wiLCBwYXlsb2FkOiBmYWxzZSB9KVxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9SRUNPUkRJTkdfVElNRVwiLCBwYXlsb2FkOiAwIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW+WJr+S9nOeUqF0gRVJST1JfQ0xFQU5VUDog54uA5oWL5riF55CG5a6M5oiQJylcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFN0YXRlTWFjaGluZU1hbmFnZXIoc21NYW5hZ2VyKTtcblxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtBcHBTdGF0ZVByb3ZpZGVyXSDliJ3lp4vni4DmhYvovInlhaXlrozmiJA6Jywge1xuICAgICAgICAgIHN0YXRlOiBpbml0aWFsQXBwRGF0YS5zdGF0ZSxcbiAgICAgICAgICBoYXNTZXNzaW9uOiAhIWluaXRpYWxBcHBEYXRhLnNlc3Npb24sXG4gICAgICAgICAgdHJhbnNjcmlwdENvdW50OiBpbml0aWFsQXBwRGF0YS50cmFuc2NyaXB0RW50cmllcy5sZW5ndGgsXG4gICAgICAgICAgY29udGVudExlbmd0aDogaW5pdGlhbEFwcERhdGEuZWRpdG9yQ29udGVudC5sZW5ndGhcbiAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbQXBwU3RhdGVQcm92aWRlcl0g6LyJ5YWl5Yid5aeL54uA5oWL5aSx5pWXOicsIGVycm9yKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3NlcnZpY2VzSW5pdGlhbGl6ZWRdKVxuXG4gIC8vIOmMhOmfs+aZgumWk+i/vei5pFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsXG5cbiAgICBpZiAoc3RhdGUuYXBwRGF0YS5pc1JlY29yZGluZyAmJiBzZXJ2aWNlc0luaXRpYWxpemVkKSB7XG4gICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBjb25zdCByZWNvcmRpbmdTZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPElSZWNvcmRpbmdTZXJ2aWNlPihTRVJWSUNFX0tFWVMuUkVDT1JESU5HX1NFUlZJQ0UpXG4gICAgICAgIGNvbnN0IHJlY29yZGluZ1RpbWUgPSByZWNvcmRpbmdTZXJ2aWNlLmdldFJlY29yZGluZ1RpbWUoKVxuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX1JFQ09SRElOR19USU1FXCIsIHBheWxvYWQ6IHJlY29yZGluZ1RpbWUgfSlcbiAgICAgIH0sIDEwMDApXG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpbnRlcnZhbElkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzdGF0ZS5hcHBEYXRhLmlzUmVjb3JkaW5nLCBzZXJ2aWNlc0luaXRpYWxpemVkXSlcblxuICAvLyDni4DmhYvmjIHkuYXljJZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyDmqqLmn6XmmK/lkKblnKjngI/opr3lmajnkrDlooPkuJTni4DmhYvlt7LliJ3lp4vljJZcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgc3RhdGUuYXBwRGF0YSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8g5bu26YGy5YSy5a2Y77yM6YG/5YWN5Zyo5Yid5aeL6LyJ5YWl5pmC56uL5Y2z5YSy5a2YXG4gICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIEluaXRpYWxTdGF0ZUxvYWRlci5zYXZlQXBwU3RhdGUoc3RhdGUuYXBwRGF0YSlcbiAgICAgICAgfSwgMTAwMCkgLy8gMeenkuW7tumBslxuXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtBcHBTdGF0ZVByb3ZpZGVyXSDni4DmhYvmjIHkuYXljJblpLHmlZc6JywgZXJyb3IpXG4gICAgICB9XG4gICAgfVxuICB9LCBbc3RhdGUuYXBwRGF0YV0pXG5cbiAgLy8g5bCH54uA5oWL6K6K5pu05ZCM5q2l5Yiw54uA5oWL5qmfXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHN0YXRlTWFjaGluZU1hbmFnZXIpIHtcbiAgICAgIHN0YXRlTWFjaGluZU1hbmFnZXIuZ2V0U3RhdGVNYWNoaW5lKCkudXBkYXRlQ29udGV4dCh7XG4gICAgICAgIGN1cnJlbnRTdGF0ZTogc3RhdGUuYXBwRGF0YS5zdGF0ZSxcbiAgICAgICAgaXNSZWNvcmRpbmc6IHN0YXRlLmFwcERhdGEuaXNSZWNvcmRpbmcsXG4gICAgICAgIHRyYW5zY3JpcHRDb3VudDogc3RhdGUuYXBwRGF0YS50cmFuc2NyaXB0RW50cmllcy5sZW5ndGgsXG4gICAgICAgIHNlc3Npb246IHN0YXRlLmFwcERhdGEuc2Vzc2lvbixcbiAgICAgICAgZXJyb3I6IHN0YXRlLmVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtzdGF0ZSwgc3RhdGVNYWNoaW5lTWFuYWdlcl0pO1xuXG4gIGNvbnN0IHRyYW5zaXRpb24gPSB1c2VDYWxsYmFjaygodHJpZ2dlcjogU3RhdGVUcmFuc2l0aW9uVHJpZ2dlcikgPT4ge1xuICAgIGlmICghc3RhdGVNYWNoaW5lTWFuYWdlcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIueLgOaFi+apn+WwmuacquWIneWni+WMllwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBzdGF0ZU1hY2hpbmVNYW5hZ2VyLmdldFN0YXRlTWFjaGluZSgpLnRyYW5zaXRpb24odHJpZ2dlcik7XG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfQVBQX1NUQVRFJywgcGF5bG9hZDogcmVzdWx0Lm5ld1N0YXRlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBbc3RhdGVNYWNoaW5lTWFuYWdlcl0pO1xuXG4gIGNvbnN0IHNldFN0YXRlID0gdXNlQ2FsbGJhY2soKG5ld1N0YXRlOiBBcHBTdGF0ZSkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfU1RBVEVcIiwgcGF5bG9hZDogbmV3U3RhdGUgfSlcbiAgfSwgW10pXG5cbiAgY29uc3Qgc2V0UmVjb3JkaW5nID0gdXNlQ2FsbGJhY2soKGlzUmVjb3JkaW5nOiBib29sZWFuKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9SRUNPUkRJTkdcIiwgcGF5bG9hZDogaXNSZWNvcmRpbmcgfSlcbiAgfSwgW10pXG5cbiAgY29uc3Qgc2V0UmVjb3JkaW5nVGltZSA9IHVzZUNhbGxiYWNrKCh0aW1lOiBudW1iZXIpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX1JFQ09SRElOR19USU1FXCIsIHBheWxvYWQ6IHRpbWUgfSlcbiAgfSwgW10pXG5cbiAgY29uc3Qgc2V0RWRpdG9yQ29udGVudCA9IHVzZUNhbGxiYWNrKChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX0VESVRPUl9DT05URU5UXCIsIHBheWxvYWQ6IGNvbnRlbnQgfSlcbiAgfSwgW10pXG5cbiAgY29uc3Qgc2V0VHJhbnNjcmlwdEVudHJpZXMgPSB1c2VDYWxsYmFjaygoZW50cmllczogVHJhbnNjcmlwdEVudHJ5W10pID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX1RSQU5TQ1JJUFRfRU5UUklFU1wiLCBwYXlsb2FkOiBlbnRyaWVzIH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IGFkZFRyYW5zY3JpcHRFbnRyeSA9IHVzZUNhbGxiYWNrKChlbnRyeTogVHJhbnNjcmlwdEVudHJ5KSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIkFERF9UUkFOU0NSSVBUX0VOVFJZXCIsIHBheWxvYWQ6IGVudHJ5IH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHNldFNlc3Npb24gPSB1c2VDYWxsYmFjaygoc2Vzc2lvbjogeyBpZDogc3RyaW5nOyBzdGF0dXM6IFNlc3Npb25TdGF0dXM7IHR5cGU6IFNlc3Npb25UeXBlIH0gfCBudWxsKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9TRVNTSU9OXCIsIHBheWxvYWQ6IHNlc3Npb24gfSlcbiAgfSwgW10pXG5cbiAgY29uc3QgdXBkYXRlU2Vzc2lvblN0YXR1cyA9IHVzZUNhbGxiYWNrKChzdGF0dXM6IFNlc3Npb25TdGF0dXMpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiVVBEQVRFX1NFU1NJT05fU1RBVFVTXCIsIHBheWxvYWQ6IHN0YXR1cyB9KVxuICB9LCBbXSlcblxuICBjb25zdCByZXNldFN0YXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJSRVNFVF9TVEFURVwiIH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHNldExvYWRpbmcgPSB1c2VDYWxsYmFjaygobG9hZGluZzogYm9vbGVhbikgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfTE9BRElOR1wiLCBwYXlsb2FkOiBsb2FkaW5nIH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHNldEVycm9yID0gdXNlQ2FsbGJhY2soKGVycm9yOiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9FUlJPUlwiLCBwYXlsb2FkOiBlcnJvciB9KVxuICB9LCBbXSlcblxuICBjb25zdCBjb250ZXh0VmFsdWU6IEFwcFN0YXRlQ29udGV4dFZhbHVlID0ge1xuICAgIGFwcERhdGE6IHN0YXRlLmFwcERhdGEsXG4gICAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXG4gICAgZXJyb3I6IHN0YXRlLmVycm9yLFxuICAgIGRpc3BhdGNoLFxuICAgIHNldFN0YXRlLFxuICAgIHNldFJlY29yZGluZyxcbiAgICBzZXRSZWNvcmRpbmdUaW1lLFxuICAgIHNldEVkaXRvckNvbnRlbnQsXG4gICAgc2V0VHJhbnNjcmlwdEVudHJpZXMsXG4gICAgYWRkVHJhbnNjcmlwdEVudHJ5LFxuICAgIHNldFNlc3Npb24sXG4gICAgdXBkYXRlU2Vzc2lvblN0YXR1cyxcbiAgICByZXNldFN0YXRlLFxuICAgIHNldExvYWRpbmcsXG4gICAgc2V0RXJyb3IsXG4gICAgdHJhbnNpdGlvbixcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgIEFwcFN0YXRlQ29udGV4dC5Qcm92aWRlcixcbiAgICB7IHZhbHVlOiBjb250ZXh0VmFsdWUgfSxcbiAgICBjaGlsZHJlblxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VBcHBTdGF0ZUNvbnRleHQoKTogQXBwU3RhdGVDb250ZXh0VmFsdWUge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBcHBTdGF0ZUNvbnRleHQpXG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUFwcFN0YXRlQ29udGV4dCDlv4XpoIjlnKggQXBwU3RhdGVQcm92aWRlciDlhafkvb/nlKhcIilcbiAgfVxuICByZXR1cm4gY29udGV4dFxufVxuXG5leHBvcnQgeyBBcHBTdGF0ZUNvbnRleHQgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VSZWR1Y2VyIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsImluaXRpYWxDb250ZXh0U3RhdGUiLCJhcHBTdGF0ZVJlZHVjZXIiLCJJbml0aWFsU3RhdGVMb2FkZXIiLCJTdGF0ZU1hY2hpbmVNYW5hZ2VyIiwiU2VydmljZVJlZ2lzdHJ5IiwiU0VSVklDRV9LRVlTIiwic2VydmljZUNvbnRhaW5lciIsIkFwcFN0YXRlQ29udGV4dCIsIkFwcFN0YXRlUHJvdmlkZXIiLCJjaGlsZHJlbiIsInN0YXRlIiwiZGlzcGF0Y2giLCJzdGF0ZU1hY2hpbmVNYW5hZ2VyIiwic2V0U3RhdGVNYWNoaW5lTWFuYWdlciIsInNlcnZpY2VzSW5pdGlhbGl6ZWQiLCJzZXRTZXJ2aWNlc0luaXRpYWxpemVkIiwiaW5pdGlhbGl6ZVNlcnZpY2VzIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiaW5pdGlhbEFwcERhdGEiLCJsb2FkSW5pdGlhbEFwcERhdGEiLCJ0eXBlIiwicGF5bG9hZCIsImVkaXRvckNvbnRlbnQiLCJ0cmFuc2NyaXB0RW50cmllcyIsInNlc3Npb24iLCJzbU1hbmFnZXIiLCJjdXJyZW50U3RhdGUiLCJpc1JlY29yZGluZyIsInRyYW5zY3JpcHRDb3VudCIsImxlbmd0aCIsInNlc3Npb25TZXJ2aWNlIiwicmVzb2x2ZSIsIlNFU1NJT05fU0VSVklDRSIsInJlY29yZGluZ1NlcnZpY2UiLCJSRUNPUkRJTkdfU0VSVklDRSIsInRyYW5zY3JpcHRTZXJ2aWNlIiwiVFJBTlNDUklQVF9TRVJWSUNFIiwicmVnaXN0ZXJTaWRlRWZmZWN0SGFuZGxlciIsImhhbmRsZVNpZGVFZmZlY3QiLCJlZmZlY3QiLCJleGlzdGluZ1Nlc3Npb24iLCJjaGVja0FjdGl2ZVNlc3Npb24iLCJleGlzdGluZ1Nlc3Npb25JZCIsImlkIiwic3RhdHVzIiwiZGVsZXRlU2Vzc2lvbiIsImNsZWFudXBFcnJvciIsIndhcm4iLCJzZXNzaW9uRGF0YSIsImNyZWF0ZVJlY29yZGluZ1Nlc3Npb24iLCJ0aXRsZSIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsImlzUmVhZHkiLCJ3YWl0Rm9yU2Vzc2lvblJlYWR5IiwiRXJyb3IiLCJzZXNzaW9uVHlwZSIsImdldFN0YXRlTWFjaGluZSIsInRyYW5zaXRpb24iLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJjdXJyZW50U2Vzc2lvbiIsImdldENvbnRleHQiLCJzdGFydFJlY29yZGluZyIsInNldFRpbWVvdXQiLCJXRUJTT0NLRVRfVElNRU9VVCIsImNvbm5lY3Rpb25Qcm9taXNlIiwiYWN0aXZlU2Vzc2lvbiIsInNlc3Npb25JZCIsImNvbm5lY3QiLCJ0aW1lb3V0UHJvbWlzZSIsIlByb21pc2UiLCJfIiwicmVqZWN0IiwicmFjZSIsImhhbmRsZVRyYW5zY3JpcHQiLCJ0ZXh0Iiwic3RhcnRUaW1lIiwic3RhcnRfdGltZSIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJzZWNvbmRzIiwidGltZVN0ciIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJ0aW1lIiwiY3VycmVudENvbnRleHQiLCJhZGRUcmFuc2NyaXB0TGlzdGVuZXIiLCJzdG9wUmVjb3JkaW5nIiwiZGlzY29ubmVjdCIsImZpbmlzaFNlc3Npb24iLCJoYXNTZXNzaW9uIiwiY29udGVudExlbmd0aCIsImludGVydmFsSWQiLCJhcHBEYXRhIiwic2V0SW50ZXJ2YWwiLCJyZWNvcmRpbmdUaW1lIiwiZ2V0UmVjb3JkaW5nVGltZSIsImNsZWFySW50ZXJ2YWwiLCJ0aW1lb3V0SWQiLCJzYXZlQXBwU3RhdGUiLCJjbGVhclRpbWVvdXQiLCJ1cGRhdGVDb250ZXh0IiwidHJpZ2dlciIsInJlc3VsdCIsInN1Y2Nlc3MiLCJuZXdTdGF0ZSIsInNldFN0YXRlIiwic2V0UmVjb3JkaW5nIiwic2V0UmVjb3JkaW5nVGltZSIsInNldEVkaXRvckNvbnRlbnQiLCJjb250ZW50Iiwic2V0VHJhbnNjcmlwdEVudHJpZXMiLCJlbnRyaWVzIiwiYWRkVHJhbnNjcmlwdEVudHJ5IiwiZW50cnkiLCJzZXRTZXNzaW9uIiwidXBkYXRlU2Vzc2lvblN0YXR1cyIsInJlc2V0U3RhdGUiLCJzZXRMb2FkaW5nIiwibG9hZGluZyIsInNldEVycm9yIiwiY29udGV4dFZhbHVlIiwiaXNMb2FkaW5nIiwiY3JlYXRlRWxlbWVudCIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VBcHBTdGF0ZUNvbnRleHQiLCJjb250ZXh0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-app-state-context.ts\n");

/***/ }),

/***/ "(ssr)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_TIMEOUTS: () => (/* binding */ API_TIMEOUTS),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   exportAPI: () => (/* binding */ exportAPI),\n/* harmony export */   getWebSocketURL: () => (/* binding */ getWebSocketURL),\n/* harmony export */   isRetriableError: () => (/* binding */ isRetriableError),\n/* harmony export */   notesAPI: () => (/* binding */ notesAPI),\n/* harmony export */   sessionAPI: () => (/* binding */ sessionAPI),\n/* harmony export */   withRetry: () => (/* binding */ withRetry)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js\");\n\n// API 基礎配置 - 使用環境變數\nconst API_BASE_URL = \"http://localhost:8000\" || 0;\n// 差異化超時配置\nconst API_TIMEOUTS = {\n    session: 15000,\n    notes: 8000,\n    export: 30000,\n    default: 10000 // 其他操作保持現有設定\n};\n// 錯誤分類：判斷是否可重試\nconst isRetriableError = (error)=>{\n    // 網路錯誤（連接失敗、DNS 失敗等）\n    if (error.code === 'ERR_NETWORK' || error.code === 'ECONNABORTED') {\n        return true;\n    }\n    // 超時錯誤\n    if (error.code === 'ECONNRESET' || error.message.includes('timeout')) {\n        return true;\n    }\n    // 伺服器錯誤（5xx）\n    if (error.response?.status && error.response.status >= 500) {\n        return true;\n    }\n    // 特定的 4xx 錯誤（速率限制）\n    if (error.response?.status === 429) {\n        return true;\n    }\n    return false;\n};\nconst DEFAULT_RETRY_CONFIG = {\n    maxRetries: 3,\n    baseDelay: 1000,\n    maxDelay: 10000,\n    backoffFactor: 2 // 指數退避因子\n};\n// 指數退避算法\nconst calculateDelay = (attempt, config)=>{\n    const delay = config.baseDelay * Math.pow(config.backoffFactor, attempt - 1);\n    return Math.min(delay, config.maxDelay);\n};\n// 建立專用的 API 客戶端\nconst createApiClient = (timeoutMs)=>{\n    return axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n        baseURL: API_BASE_URL,\n        timeout: timeoutMs,\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n};\n// 不同類型的 API 客戶端\nconst sessionClient = createApiClient(API_TIMEOUTS.session);\nconst notesClient = createApiClient(API_TIMEOUTS.notes);\nconst exportClient = createApiClient(API_TIMEOUTS.export);\nconst defaultClient = createApiClient(API_TIMEOUTS.default);\n// 通用重試包裝器\nasync function withRetry(operation, context, config = {}) {\n    const retryConfig = {\n        ...DEFAULT_RETRY_CONFIG,\n        ...config\n    };\n    for(let attempt = 1; attempt <= retryConfig.maxRetries; attempt++){\n        try {\n            const result = await operation();\n            if (attempt > 1) {\n                console.log(`✅ [API重試] ${context} 重試成功 (第 ${attempt} 次嘗試)`);\n            }\n            return result;\n        } catch (error) {\n            const isLastAttempt = attempt === retryConfig.maxRetries;\n            if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error)) {\n                // 不可重試的錯誤，立即失敗\n                if (!isRetriableError(error)) {\n                    console.log(`❌ [API重試] ${context} 遇到不可重試錯誤，立即終止:`, {\n                        status: error.response?.status,\n                        code: error.code,\n                        message: error.message\n                    });\n                    throw error;\n                }\n                // 最後一次嘗試失敗\n                if (isLastAttempt) {\n                    console.error(`❌ [API重試] ${context} 重試失敗，已達最大重試次數 (${retryConfig.maxRetries})`);\n                    throw error;\n                }\n                // 計算延遲時間\n                const delay = calculateDelay(attempt, retryConfig);\n                console.warn(`⚠️ [API重試] ${context} 第 ${attempt} 次嘗試失敗，${delay}ms 後重試...`, {\n                    status: error.response?.status,\n                    code: error.code,\n                    attempt: `${attempt}/${retryConfig.maxRetries}`,\n                    nextDelay: delay\n                });\n                // 等待後重試\n                await new Promise((resolve)=>setTimeout(resolve, delay));\n            } else {\n                // 非 Axios 錯誤，直接拋出\n                throw error;\n            }\n        }\n    }\n    // 這裡不應該被執行到\n    throw new Error(`${context} 重試邏輯異常`);\n}\n// 統一的回應攔截器設置\nconst setupInterceptors = (client, clientName)=>{\n    client.interceptors.response.use({\n        \"setupInterceptors.use\": (response)=>{\n            console.log(`📡 [${clientName}] API 請求成功:`, {\n                method: response.config.method?.toUpperCase(),\n                url: response.config.url,\n                status: response.status,\n                duration: response.headers['x-response-time'] || 'unknown'\n            });\n            return response;\n        }\n    }[\"setupInterceptors.use\"], {\n        \"setupInterceptors.use\": (error)=>{\n            // 不顯示預期的 404 錯誤（例如：沒有活躍會話）\n            const isExpected404 = error.response?.status === 404 && error.config?.url?.includes('/api/session/active');\n            if (!isExpected404) {\n                console.error(`❌ [${clientName}] API 錯誤:`, {\n                    method: error.config?.method?.toUpperCase(),\n                    url: error.config?.url,\n                    status: error.response?.status,\n                    code: error.code,\n                    message: error.message,\n                    isRetriable: isRetriableError(error)\n                });\n            }\n            return Promise.reject(error);\n        }\n    }[\"setupInterceptors.use\"]);\n};\n// 設置所有客戶端的攔截器\nsetupInterceptors(sessionClient, 'Session');\nsetupInterceptors(notesClient, 'Notes');\nsetupInterceptors(exportClient, 'Export');\nsetupInterceptors(defaultClient, 'Default');\n// Session API - 使用會話專用客戶端和重試機制\nconst sessionAPI = {\n    // 建立新會話\n    async createSession (data) {\n        return withRetry(async ()=>{\n            const response = await sessionClient.post('/api/session', data);\n            return response.data;\n        }, `建立會話 (${data.type})`, {\n            maxRetries: 2\n        } // 會話建立重試次數較少，避免重複建立\n        );\n    },\n    // 獲取活躍會話 - 增強重試機制\n    async getActiveSession () {\n        return withRetry(async ()=>{\n            try {\n                const response = await sessionClient.get('/api/session/active');\n                return response.data;\n            } catch (error) {\n                // 如果沒有活躍會話，返回 null 而不是拋出錯誤\n                if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error) && error.response?.status === 404) {\n                    return null;\n                }\n                throw error;\n            }\n        }, '檢查活躍會話', {\n            maxRetries: 3,\n            baseDelay: 500\n        } // 更頻繁的重試，基礎延遲較短\n        );\n    },\n    // 完成會話\n    async finishSession (sessionId) {\n        return withRetry(async ()=>{\n            await sessionClient.patch(`/api/session/${sessionId}/finish`);\n        }, `完成會話 (${sessionId})`, {\n            maxRetries: 2\n        });\n    },\n    // 升級會話至錄音模式\n    async upgradeToRecording (sessionId) {\n        return withRetry(async ()=>{\n            const response = await sessionClient.patch(`/api/session/${sessionId}/upgrade`);\n            return response.data;\n        }, `升級會話 (${sessionId})`, {\n            maxRetries: 2\n        });\n    },\n    // 刪除會話及其所有相關數據\n    async deleteSession (sessionId) {\n        return withRetry(async ()=>{\n            const response = await sessionClient.delete(`/api/session/${sessionId}`);\n            return response.data;\n        }, `刪除會話 (${sessionId})`, {\n            maxRetries: 2\n        });\n    }\n};\n// Notes API - 使用筆記專用客戶端和重試機制\nconst notesAPI = {\n    // 更新筆記內容\n    async updateNote (sessionId, data) {\n        return withRetry(async ()=>{\n            const response = await notesClient.put(`/api/notes/${sessionId}`, data);\n            return response.data;\n        }, `更新筆記 (${sessionId})`, {\n            maxRetries: 3,\n            baseDelay: 500\n        } // 筆記更新重試較積極\n        );\n    },\n    // 獲取筆記內容\n    async getNote (sessionId) {\n        return withRetry(async ()=>{\n            const response = await notesClient.get(`/api/notes/${sessionId}`);\n            return response.data;\n        }, `獲取筆記 (${sessionId})`, {\n            maxRetries: 3,\n            baseDelay: 500\n        });\n    }\n};\n// Export API - 使用匯出專用客戶端\nconst exportAPI = {\n    // 匯出會話資料\n    async exportSession (sessionId, type = 'zip') {\n        return withRetry(async ()=>{\n            const response = await exportClient.get(`/api/export/${sessionId}`, {\n                params: {\n                    type\n                },\n                responseType: 'blob'\n            });\n            return response.data;\n        }, `匯出會話 (${sessionId})`, {\n            maxRetries: 2,\n            baseDelay: 2000\n        } // 匯出重試延遲較長\n        );\n    }\n};\n// WebSocket URL 建構 - 使用環境變數\nconst getWebSocketURL = (path)=>{\n    const wsBaseURL = \"ws://localhost:8000\" || 0;\n    return `${wsBaseURL}${path}`;\n};\n// 匯出重試功能供其他模組使用\n\n// 保持向後兼容性\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (defaultClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQjtBQUNvQztBQUVwRCxVQUFVO0FBQ1YsaUVBQWVsRCxhQUFhQSxFQUFBIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcywgeyBBeGlvc1Jlc3BvbnNlLCBBeGlvc0Vycm9yIH0gZnJvbSAnYXhpb3MnXG5cbi8vIEFQSSDln7rnpI7phY3nva4gLSDkvb/nlKjnkrDlooPorormlbhcbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCdcblxuLy8g5beu55Ww5YyW6LaF5pmC6YWN572uXG5jb25zdCBBUElfVElNRU9VVFMgPSB7XG4gIHNlc3Npb246IDE1MDAwLCAgICAvLyDmnIPoqbHmk43kvZzpnIDopoHmm7TlpJrmmYLplpPvvIjlu7rnq4vjgIHljYfntJrnrYnvvIlcbiAgbm90ZXM6IDgwMDAsICAgICAgIC8vIOethuiomOaTjeS9nOebuOWwjei8g+W/q1xuICBleHBvcnQ6IDMwMDAwLCAgICAgLy8g5Yyv5Ye65pON5L2c5Y+v6IO96ZyA6KaB5pu06ZW35pmC6ZaTXG4gIGRlZmF1bHQ6IDEwMDAwICAgICAvLyDlhbbku5bmk43kvZzkv53mjIHnj77mnInoqK3lrppcbn0gYXMgY29uc3RcblxuLy8g6Yyv6Kqk5YiG6aGe77ya5Yik5pa35piv5ZCm5Y+v6YeN6KmmXG5jb25zdCBpc1JldHJpYWJsZUVycm9yID0gKGVycm9yOiBBeGlvc0Vycm9yKTogYm9vbGVhbiA9PiB7XG4gIC8vIOe2sui3r+mMr+iqpO+8iOmAo+aOpeWkseaVl+OAgUROUyDlpLHmlZfnrYnvvIlcbiAgaWYgKGVycm9yLmNvZGUgPT09ICdFUlJfTkVUV09SSycgfHwgZXJyb3IuY29kZSA9PT0gJ0VDT05OQUJPUlRFRCcpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8g6LaF5pmC6Yyv6KqkXG4gIGlmIChlcnJvci5jb2RlID09PSAnRUNPTk5SRVNFVCcgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIOS8uuacjeWZqOmMr+iqpO+8iDV4eO+8iVxuICBpZiAoZXJyb3IucmVzcG9uc2U/LnN0YXR1cyAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPj0gNTAwKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIOeJueWumueahCA0eHgg6Yyv6Kqk77yI6YCf546H6ZmQ5Yi277yJXG4gIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MjkpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIOmAmueUqOmHjeippuapn+WItumFjee9rlxuaW50ZXJmYWNlIFJldHJ5Q29uZmlnIHtcbiAgbWF4UmV0cmllczogbnVtYmVyXG4gIGJhc2VEZWxheTogbnVtYmVyXG4gIG1heERlbGF5OiBudW1iZXJcbiAgYmFja29mZkZhY3RvcjogbnVtYmVyXG59XG5cbmNvbnN0IERFRkFVTFRfUkVUUllfQ09ORklHOiBSZXRyeUNvbmZpZyA9IHtcbiAgbWF4UmV0cmllczogMyxcbiAgYmFzZURlbGF5OiAxMDAwLCAgICAvLyAx56eS5Z+656SO5bu26YGyXG4gIG1heERlbGF5OiAxMDAwMCwgICAgLy8g5pyA5aSn5bu26YGyIDEw56eSXG4gIGJhY2tvZmZGYWN0b3I6IDIgICAgLy8g5oyH5pW46YCA6YG/5Zug5a2QXG59XG5cbi8vIOaMh+aVuOmAgOmBv+eul+azlVxuY29uc3QgY2FsY3VsYXRlRGVsYXkgPSAoYXR0ZW1wdDogbnVtYmVyLCBjb25maWc6IFJldHJ5Q29uZmlnKTogbnVtYmVyID0+IHtcbiAgY29uc3QgZGVsYXkgPSBjb25maWcuYmFzZURlbGF5ICogTWF0aC5wb3coY29uZmlnLmJhY2tvZmZGYWN0b3IsIGF0dGVtcHQgLSAxKVxuICByZXR1cm4gTWF0aC5taW4oZGVsYXksIGNvbmZpZy5tYXhEZWxheSlcbn1cblxuLy8g5bu656uL5bCI55So55qEIEFQSSDlrqLmiLbnq69cbmNvbnN0IGNyZWF0ZUFwaUNsaWVudCA9ICh0aW1lb3V0TXM6IG51bWJlcikgPT4ge1xuICByZXR1cm4gYXhpb3MuY3JlYXRlKHtcbiAgICBiYXNlVVJMOiBBUElfQkFTRV9VUkwsXG4gICAgdGltZW91dDogdGltZW91dE1zLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgfSlcbn1cblxuLy8g5LiN5ZCM6aGe5Z6L55qEIEFQSSDlrqLmiLbnq69cbmNvbnN0IHNlc3Npb25DbGllbnQgPSBjcmVhdGVBcGlDbGllbnQoQVBJX1RJTUVPVVRTLnNlc3Npb24pXG5jb25zdCBub3Rlc0NsaWVudCA9IGNyZWF0ZUFwaUNsaWVudChBUElfVElNRU9VVFMubm90ZXMpXG5jb25zdCBleHBvcnRDbGllbnQgPSBjcmVhdGVBcGlDbGllbnQoQVBJX1RJTUVPVVRTLmV4cG9ydClcbmNvbnN0IGRlZmF1bHRDbGllbnQgPSBjcmVhdGVBcGlDbGllbnQoQVBJX1RJTUVPVVRTLmRlZmF1bHQpXG5cbi8vIOmAmueUqOmHjeippuWMheijneWZqFxuYXN5bmMgZnVuY3Rpb24gd2l0aFJldHJ5PFQ+KFxuICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXG4gIGNvbnRleHQ6IHN0cmluZyxcbiAgY29uZmlnOiBQYXJ0aWFsPFJldHJ5Q29uZmlnPiA9IHt9XG4pOiBQcm9taXNlPFQ+IHtcbiAgY29uc3QgcmV0cnlDb25maWcgPSB7IC4uLkRFRkFVTFRfUkVUUllfQ09ORklHLCAuLi5jb25maWcgfVxuXG4gIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHJldHJ5Q29uZmlnLm1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVyYXRpb24oKVxuXG4gICAgICBpZiAoYXR0ZW1wdCA+IDEpIHtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBbQVBJ6YeN6KmmXSAke2NvbnRleHR9IOmHjeippuaIkOWKnyAo56ysICR7YXR0ZW1wdH0g5qyh5ZiX6KmmKWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgaXNMYXN0QXR0ZW1wdCA9IGF0dGVtcHQgPT09IHJldHJ5Q29uZmlnLm1heFJldHJpZXNcblxuICAgICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikpIHtcbiAgICAgICAgLy8g5LiN5Y+v6YeN6Kmm55qE6Yyv6Kqk77yM56uL5Y2z5aSx5pWXXG4gICAgICAgIGlmICghaXNSZXRyaWFibGVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4p2MIFtBUEnph43oqaZdICR7Y29udGV4dH0g6YGH5Yiw5LiN5Y+v6YeN6Kmm6Yyv6Kqk77yM56uL5Y2z57WC5q2iOmAsIHtcbiAgICAgICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcbiAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5pyA5b6M5LiA5qyh5ZiX6Kmm5aSx5pWXXG4gICAgICAgIGlmIChpc0xhc3RBdHRlbXB0KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFtBUEnph43oqaZdICR7Y29udGV4dH0g6YeN6Kmm5aSx5pWX77yM5bey6YGU5pyA5aSn6YeN6Kmm5qyh5pW4ICgke3JldHJ5Q29uZmlnLm1heFJldHJpZXN9KWApXG4gICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOioiOeul+W7tumBsuaZgumWk1xuICAgICAgICBjb25zdCBkZWxheSA9IGNhbGN1bGF0ZURlbGF5KGF0dGVtcHQsIHJldHJ5Q29uZmlnKVxuXG4gICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIFtBUEnph43oqaZdICR7Y29udGV4dH0g56ysICR7YXR0ZW1wdH0g5qyh5ZiX6Kmm5aSx5pWX77yMJHtkZWxheX1tcyDlvozph43oqaYuLi5gLCB7XG4gICAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgYXR0ZW1wdDogYCR7YXR0ZW1wdH0vJHtyZXRyeUNvbmZpZy5tYXhSZXRyaWVzfWAsXG4gICAgICAgICAgbmV4dERlbGF5OiBkZWxheVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOetieW+heW+jOmHjeipplxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g6Z2eIEF4aW9zIOmMr+iqpO+8jOebtOaOpeaLi+WHulxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOmAmeijoeS4jeaHieipsuiiq+Wft+ihjOWIsFxuICB0aHJvdyBuZXcgRXJyb3IoYCR7Y29udGV4dH0g6YeN6Kmm6YKP6Lyv55Ww5bi4YClcbn1cblxuLy8g57Wx5LiA55qE5Zue5oeJ5pSU5oiq5Zmo6Kit572uXG5jb25zdCBzZXR1cEludGVyY2VwdG9ycyA9IChjbGllbnQ6IHR5cGVvZiBzZXNzaW9uQ2xpZW50LCBjbGllbnROYW1lOiBzdHJpbmcpID0+IHtcbiAgY2xpZW50LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gICAgKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+ToSBbJHtjbGllbnROYW1lfV0gQVBJIOiri+axguaIkOWKnzpgLCB7XG4gICAgICAgIG1ldGhvZDogcmVzcG9uc2UuY29uZmlnLm1ldGhvZD8udG9VcHBlckNhc2UoKSxcbiAgICAgICAgdXJsOiByZXNwb25zZS5jb25maWcudXJsLFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgZHVyYXRpb246IHJlc3BvbnNlLmhlYWRlcnNbJ3gtcmVzcG9uc2UtdGltZSddIHx8ICd1bmtub3duJ1xuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgIH0sXG4gICAgKGVycm9yOiBBeGlvc0Vycm9yKSA9PiB7XG4gICAgICAvLyDkuI3poa/npLrpoJDmnJ/nmoQgNDA0IOmMr+iqpO+8iOS+i+Wmgu+8muaykuaciea0u+i6jeacg+ipse+8iVxuICAgICAgY29uc3QgaXNFeHBlY3RlZDQwNCA9IGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwNCAmJlxuICAgICAgICBlcnJvci5jb25maWc/LnVybD8uaW5jbHVkZXMoJy9hcGkvc2Vzc2lvbi9hY3RpdmUnKVxuXG4gICAgICBpZiAoIWlzRXhwZWN0ZWQ0MDQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFske2NsaWVudE5hbWV9XSBBUEkg6Yyv6KqkOmAsIHtcbiAgICAgICAgICBtZXRob2Q6IGVycm9yLmNvbmZpZz8ubWV0aG9kPy50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgIHVybDogZXJyb3IuY29uZmlnPy51cmwsXG4gICAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBpc1JldHJpYWJsZTogaXNSZXRyaWFibGVFcnJvcihlcnJvcilcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKVxuICAgIH1cbiAgKVxufVxuXG4vLyDoqK3nva7miYDmnInlrqLmiLbnq6/nmoTmlJTmiKrlmahcbnNldHVwSW50ZXJjZXB0b3JzKHNlc3Npb25DbGllbnQsICdTZXNzaW9uJylcbnNldHVwSW50ZXJjZXB0b3JzKG5vdGVzQ2xpZW50LCAnTm90ZXMnKVxuc2V0dXBJbnRlcmNlcHRvcnMoZXhwb3J0Q2xpZW50LCAnRXhwb3J0JylcbnNldHVwSW50ZXJjZXB0b3JzKGRlZmF1bHRDbGllbnQsICdEZWZhdWx0JylcblxuLy8g5Z6L5Yil5a6a576pXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25DcmVhdGVSZXF1ZXN0IHtcbiAgdGl0bGU6IHN0cmluZ1xuICB0eXBlOiAnbm90ZV9vbmx5JyB8ICdyZWNvcmRpbmcnXG4gIGNvbnRlbnQ/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uUmVzcG9uc2Uge1xuICBpZDogc3RyaW5nXG4gIHRpdGxlOiBzdHJpbmdcbiAgdHlwZTogJ25vdGVfb25seScgfCAncmVjb3JkaW5nJ1xuICBzdGF0dXM6ICdkcmFmdCcgfCAnYWN0aXZlJyB8ICdwcm9jZXNzaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJ1xuICBsYW5ndWFnZTogc3RyaW5nXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RlVXBkYXRlUmVxdWVzdCB7XG4gIGNvbnRlbnQ6IHN0cmluZ1xuICBjbGllbnRfdHM/OiBzdHJpbmcgIC8vIElTTyDmmYLplpPmiLPlrZfkuLLvvIzlj6/pgbhcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RlVXBkYXRlUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuXG4gIG1lc3NhZ2U6IHN0cmluZ1xuICBzZXJ2ZXJfdHM6IHN0cmluZyAgLy8gSVNPIOaZgumWk+aIs+Wtl+S4slxuICBub3RlOiBOb3RlUmVzcG9uc2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RlUmVzcG9uc2Uge1xuICBzZXNzaW9uX2lkOiBzdHJpbmdcbiAgY29udGVudDogc3RyaW5nXG4gIGNsaWVudF90cz86IHN0cmluZyAgLy8gSVNPIOaZgumWk+aIs+Wtl+S4su+8jOWPr+mBuFxuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG59XG5cbi8vIFNlc3Npb24gQVBJIC0g5L2/55So5pyD6Kmx5bCI55So5a6i5oi256uv5ZKM6YeN6Kmm5qmf5Yi2XG5leHBvcnQgY29uc3Qgc2Vzc2lvbkFQSSA9IHtcbiAgLy8g5bu656uL5paw5pyD6KmxXG4gIGFzeW5jIGNyZWF0ZVNlc3Npb24oZGF0YTogU2Vzc2lvbkNyZWF0ZVJlcXVlc3QpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZT4ge1xuICAgIHJldHVybiB3aXRoUmV0cnkoXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2Vzc2lvbkNsaWVudC5wb3N0KCcvYXBpL3Nlc3Npb24nLCBkYXRhKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSxcbiAgICAgIGDlu7rnq4vmnIPoqbEgKCR7ZGF0YS50eXBlfSlgLFxuICAgICAgeyBtYXhSZXRyaWVzOiAyIH0gLy8g5pyD6Kmx5bu656uL6YeN6Kmm5qyh5pW46LyD5bCR77yM6YG/5YWN6YeN6KSH5bu656uLXG4gICAgKVxuICB9LFxuXG4gIC8vIOeNsuWPlua0u+i6jeacg+ipsSAtIOWinuW8t+mHjeippuapn+WItlxuICBhc3luYyBnZXRBY3RpdmVTZXNzaW9uKCk6IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD4ge1xuICAgIHJldHVybiB3aXRoUmV0cnkoXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXNzaW9uQ2xpZW50LmdldCgnL2FwaS9zZXNzaW9uL2FjdGl2ZScpXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyDlpoLmnpzmspLmnInmtLvouo3mnIPoqbHvvIzov5Tlm54gbnVsbCDogIzkuI3mmK/mi4vlh7rpjK/oqqRcbiAgICAgICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGVycm9yXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAn5qqi5p+l5rS76LqN5pyD6KmxJyxcbiAgICAgIHsgbWF4UmV0cmllczogMywgYmFzZURlbGF5OiA1MDAgfSAvLyDmm7TpoLvnuYHnmoTph43oqabvvIzln7rnpI7lu7bpgbLovIPnn61cbiAgICApXG4gIH0sXG5cbiAgLy8g5a6M5oiQ5pyD6KmxXG4gIGFzeW5jIGZpbmlzaFNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gd2l0aFJldHJ5KFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBzZXNzaW9uQ2xpZW50LnBhdGNoKGAvYXBpL3Nlc3Npb24vJHtzZXNzaW9uSWR9L2ZpbmlzaGApXG4gICAgICB9LFxuICAgICAgYOWujOaIkOacg+ipsSAoJHtzZXNzaW9uSWR9KWAsXG4gICAgICB7IG1heFJldHJpZXM6IDIgfVxuICAgIClcbiAgfSxcblxuICAvLyDljYfntJrmnIPoqbHoh7PpjITpn7PmqKHlvI9cbiAgYXN5bmMgdXBncmFkZVRvUmVjb3JkaW5nKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gd2l0aFJldHJ5KFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlc3Npb25DbGllbnQucGF0Y2goYC9hcGkvc2Vzc2lvbi8ke3Nlc3Npb25JZH0vdXBncmFkZWApXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICB9LFxuICAgICAgYOWNh+e0muacg+ipsSAoJHtzZXNzaW9uSWR9KWAsXG4gICAgICB7IG1heFJldHJpZXM6IDIgfVxuICAgIClcbiAgfSxcblxuICAvLyDliKrpmaTmnIPoqbHlj4rlhbbmiYDmnInnm7jpl5zmlbjmk5pcbiAgYXN5bmMgZGVsZXRlU2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAgIHJldHVybiB3aXRoUmV0cnkoXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2Vzc2lvbkNsaWVudC5kZWxldGUoYC9hcGkvc2Vzc2lvbi8ke3Nlc3Npb25JZH1gKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSxcbiAgICAgIGDliKrpmaTmnIPoqbEgKCR7c2Vzc2lvbklkfSlgLFxuICAgICAgeyBtYXhSZXRyaWVzOiAyIH1cbiAgICApXG4gIH0sXG59XG5cbi8vIE5vdGVzIEFQSSAtIOS9v+eUqOethuiomOWwiOeUqOWuouaItuerr+WSjOmHjeippuapn+WItlxuZXhwb3J0IGNvbnN0IG5vdGVzQVBJID0ge1xuICAvLyDmm7TmlrDnrYboqJjlhaflrrlcbiAgYXN5bmMgdXBkYXRlTm90ZShzZXNzaW9uSWQ6IHN0cmluZywgZGF0YTogTm90ZVVwZGF0ZVJlcXVlc3QpOiBQcm9taXNlPE5vdGVVcGRhdGVSZXNwb25zZT4ge1xuICAgIHJldHVybiB3aXRoUmV0cnkoXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbm90ZXNDbGllbnQucHV0KGAvYXBpL25vdGVzLyR7c2Vzc2lvbklkfWAsIGRhdGEpXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICB9LFxuICAgICAgYOabtOaWsOethuiomCAoJHtzZXNzaW9uSWR9KWAsXG4gICAgICB7IG1heFJldHJpZXM6IDMsIGJhc2VEZWxheTogNTAwIH0gLy8g562G6KiY5pu05paw6YeN6Kmm6LyD56mN5qW1XG4gICAgKVxuICB9LFxuXG4gIC8vIOeNsuWPluethuiomOWFp+WuuVxuICBhc3luYyBnZXROb3RlKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxOb3RlUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gd2l0aFJldHJ5KFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5vdGVzQ2xpZW50LmdldChgL2FwaS9ub3Rlcy8ke3Nlc3Npb25JZH1gKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSxcbiAgICAgIGDnjbLlj5bnrYboqJggKCR7c2Vzc2lvbklkfSlgLFxuICAgICAgeyBtYXhSZXRyaWVzOiAzLCBiYXNlRGVsYXk6IDUwMCB9XG4gICAgKVxuICB9LFxufVxuXG4vLyBFeHBvcnQgQVBJIC0g5L2/55So5Yyv5Ye65bCI55So5a6i5oi256uvXG5leHBvcnQgY29uc3QgZXhwb3J0QVBJID0ge1xuICAvLyDljK/lh7rmnIPoqbHos4fmlplcbiAgYXN5bmMgZXhwb3J0U2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZywgdHlwZTogJ3ppcCcgfCAnbWQnID0gJ3ppcCcpOiBQcm9taXNlPEJsb2I+IHtcbiAgICByZXR1cm4gd2l0aFJldHJ5KFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4cG9ydENsaWVudC5nZXQoYC9hcGkvZXhwb3J0LyR7c2Vzc2lvbklkfWAsIHtcbiAgICAgICAgICBwYXJhbXM6IHsgdHlwZSB9LFxuICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InLFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSxcbiAgICAgIGDljK/lh7rmnIPoqbEgKCR7c2Vzc2lvbklkfSlgLFxuICAgICAgeyBtYXhSZXRyaWVzOiAyLCBiYXNlRGVsYXk6IDIwMDAgfSAvLyDljK/lh7rph43oqablu7bpgbLovIPplbdcbiAgICApXG4gIH0sXG59XG5cbi8vIFdlYlNvY2tldCBVUkwg5bu65qeLIC0g5L2/55So55Kw5aKD6K6K5pW4XG5leHBvcnQgY29uc3QgZ2V0V2ViU29ja2V0VVJMID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHdzQmFzZVVSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dTX1VSTCB8fCAnd3M6Ly9sb2NhbGhvc3Q6ODAwMCdcbiAgcmV0dXJuIGAke3dzQmFzZVVSTH0ke3BhdGh9YFxufVxuXG4vLyDljK/lh7rph43oqablip/og73kvpvlhbbku5bmqKHntYTkvb/nlKhcbmV4cG9ydCB7IHdpdGhSZXRyeSwgaXNSZXRyaWFibGVFcnJvciwgQVBJX1RJTUVPVVRTIH1cblxuLy8g5L+d5oyB5ZCR5b6M5YW85a655oCnXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0Q2xpZW50XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkFQSV9USU1FT1VUUyIsInNlc3Npb24iLCJub3RlcyIsImV4cG9ydCIsImRlZmF1bHQiLCJpc1JldHJpYWJsZUVycm9yIiwiZXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImluY2x1ZGVzIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJERUZBVUxUX1JFVFJZX0NPTkZJRyIsIm1heFJldHJpZXMiLCJiYXNlRGVsYXkiLCJtYXhEZWxheSIsImJhY2tvZmZGYWN0b3IiLCJjYWxjdWxhdGVEZWxheSIsImF0dGVtcHQiLCJjb25maWciLCJkZWxheSIsIk1hdGgiLCJwb3ciLCJtaW4iLCJjcmVhdGVBcGlDbGllbnQiLCJ0aW1lb3V0TXMiLCJjcmVhdGUiLCJiYXNlVVJMIiwidGltZW91dCIsImhlYWRlcnMiLCJzZXNzaW9uQ2xpZW50Iiwibm90ZXNDbGllbnQiLCJleHBvcnRDbGllbnQiLCJkZWZhdWx0Q2xpZW50Iiwid2l0aFJldHJ5Iiwib3BlcmF0aW9uIiwiY29udGV4dCIsInJldHJ5Q29uZmlnIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImlzTGFzdEF0dGVtcHQiLCJpc0F4aW9zRXJyb3IiLCJ3YXJuIiwibmV4dERlbGF5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJzZXR1cEludGVyY2VwdG9ycyIsImNsaWVudCIsImNsaWVudE5hbWUiLCJpbnRlcmNlcHRvcnMiLCJ1c2UiLCJtZXRob2QiLCJ0b1VwcGVyQ2FzZSIsInVybCIsImR1cmF0aW9uIiwiaXNFeHBlY3RlZDQwNCIsImlzUmV0cmlhYmxlIiwicmVqZWN0Iiwic2Vzc2lvbkFQSSIsImNyZWF0ZVNlc3Npb24iLCJkYXRhIiwicG9zdCIsInR5cGUiLCJnZXRBY3RpdmVTZXNzaW9uIiwiZ2V0IiwiZmluaXNoU2Vzc2lvbiIsInNlc3Npb25JZCIsInBhdGNoIiwidXBncmFkZVRvUmVjb3JkaW5nIiwiZGVsZXRlU2Vzc2lvbiIsImRlbGV0ZSIsIm5vdGVzQVBJIiwidXBkYXRlTm90ZSIsInB1dCIsImdldE5vdGUiLCJleHBvcnRBUEkiLCJleHBvcnRTZXNzaW9uIiwicGFyYW1zIiwicmVzcG9uc2VUeXBlIiwiZ2V0V2ViU29ja2V0VVJMIiwicGF0aCIsIndzQmFzZVVSTCIsIk5FWFRfUFVCTElDX1dTX1VSTCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/api.ts\n");

/***/ }),

/***/ "(ssr)/./lib/app-state-reducer.ts":
/*!**********************************!*\
  !*** ./lib/app-state-reducer.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appStateReducer: () => (/* binding */ appStateReducer)\n/* harmony export */ });\n/* harmony import */ var _types_app_state_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/app-state-context */ \"(ssr)/./types/app-state-context.ts\");\n\nfunction appStateReducer(state, action) {\n    console.log('🔄 [AppStateReducer] Action:', action.type, action);\n    switch(action.type){\n        case \"SET_STATE\":\n        case \"SET_APP_STATE\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    state: action.payload\n                }\n            };\n        case \"SET_RECORDING\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    isRecording: action.payload\n                }\n            };\n        case \"SET_RECORDING_TIME\":\n            console.log('⏰ [AppStateReducer] 更新錄音時間:', action.payload);\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    recordingTime: action.payload\n                }\n            };\n        case \"SET_EDITOR_CONTENT\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    editorContent: action.payload\n                }\n            };\n        case \"SET_TRANSCRIPT_ENTRIES\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    transcriptEntries: action.payload\n                }\n            };\n        case \"ADD_TRANSCRIPT_ENTRY\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    transcriptEntries: [\n                        ...state.appData.transcriptEntries,\n                        action.payload\n                    ]\n                }\n            };\n        case \"SET_SESSION\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    session: action.payload\n                }\n            };\n        case \"UPDATE_SESSION_STATUS\":\n            if (!state.appData.session) {\n                console.warn('🔄 [AppStateReducer] 試圖更新不存在的 session 狀態');\n                return state;\n            }\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    session: {\n                        ...state.appData.session,\n                        status: action.payload\n                    }\n                }\n            };\n        case \"RESET_STATE\":\n            return {\n                ...state,\n                appData: _types_app_state_context__WEBPACK_IMPORTED_MODULE_0__.initialAppData,\n                error: null\n            };\n        case \"SET_LOADING\":\n            return {\n                ...state,\n                isLoading: action.payload\n            };\n        case \"SET_ERROR\":\n            return {\n                ...state,\n                error: action.payload\n            };\n        case \"CLEAR_ERROR\":\n            return {\n                ...state,\n                error: null\n            };\n        default:\n            console.warn('🔄 [AppStateReducer] 未知的 action type:', action);\n            return state;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvYXBwLXN0YXRlLXJlZHVjZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkU7QUFTcEUsU0FBU0MsZ0JBQ2RDLEtBQTJCLEVBQzNCQyxNQUFzQjtJQUV0QkMsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ0YsT0FBT0csSUFBSSxFQUFFSDtJQUV6RCxPQUFRQSxPQUFPRyxJQUFJO1FBQ2pCLEtBQUs7UUFDTCxLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHSixLQUFLO2dCQUNSSyxTQUFTO29CQUNQLEdBQUdMLE1BQU1LLE9BQU87b0JBQ2hCTCxPQUFPQyxPQUFPSyxPQUFPO2dCQUN2QjtZQUNGO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR04sS0FBSztnQkFDUkssU0FBUztvQkFDUCxHQUFHTCxNQUFNSyxPQUFPO29CQUNoQkUsYUFBYU4sT0FBT0ssT0FBTztnQkFDN0I7WUFDRjtRQUVGLEtBQUs7WUFDSEosUUFBUUMsR0FBRyxDQUFDLCtCQUErQkYsT0FBT0ssT0FBTztZQUN6RCxPQUFPO2dCQUNMLEdBQUdOLEtBQUs7Z0JBQ1JLLFNBQVM7b0JBQ1AsR0FBR0wsTUFBTUssT0FBTztvQkFDaEJHLGVBQWVQLE9BQU9LLE9BQU87Z0JBQy9CO1lBQ0Y7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHTixLQUFLO2dCQUNSSyxTQUFTO29CQUNQLEdBQUdMLE1BQU1LLE9BQU87b0JBQ2hCSSxlQUFlUixPQUFPSyxPQUFPO2dCQUMvQjtZQUNGO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR04sS0FBSztnQkFDUkssU0FBUztvQkFDUCxHQUFHTCxNQUFNSyxPQUFPO29CQUNoQkssbUJBQW1CVCxPQUFPSyxPQUFPO2dCQUNuQztZQUNGO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR04sS0FBSztnQkFDUkssU0FBUztvQkFDUCxHQUFHTCxNQUFNSyxPQUFPO29CQUNoQkssbUJBQW1COzJCQUFJVixNQUFNSyxPQUFPLENBQUNLLGlCQUFpQjt3QkFBRVQsT0FBT0ssT0FBTztxQkFBQztnQkFDekU7WUFDRjtRQUVGLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUdOLEtBQUs7Z0JBQ1JLLFNBQVM7b0JBQ1AsR0FBR0wsTUFBTUssT0FBTztvQkFDaEJNLFNBQVNWLE9BQU9LLE9BQU87Z0JBQ3pCO1lBQ0Y7UUFFRixLQUFLO1lBQ0gsSUFBSSxDQUFDTixNQUFNSyxPQUFPLENBQUNNLE9BQU8sRUFBRTtnQkFDMUJULFFBQVFVLElBQUksQ0FBQztnQkFDYixPQUFPWjtZQUNUO1lBQ0EsT0FBTztnQkFDTCxHQUFHQSxLQUFLO2dCQUNSSyxTQUFTO29CQUNQLEdBQUdMLE1BQU1LLE9BQU87b0JBQ2hCTSxTQUFTO3dCQUNQLEdBQUdYLE1BQU1LLE9BQU8sQ0FBQ00sT0FBTzt3QkFDeEJFLFFBQVFaLE9BQU9LLE9BQU87b0JBQ3hCO2dCQUNGO1lBQ0Y7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHTixLQUFLO2dCQUNSSyxTQUFTUCxvRUFBY0E7Z0JBQ3ZCZ0IsT0FBTztZQUNUO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR2QsS0FBSztnQkFDUmUsV0FBV2QsT0FBT0ssT0FBTztZQUMzQjtRQUVGLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUdOLEtBQUs7Z0JBQ1JjLE9BQU9iLE9BQU9LLE9BQU87WUFDdkI7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHTixLQUFLO2dCQUNSYyxPQUFPO1lBQ1Q7UUFFRjtZQUNFWixRQUFRVSxJQUFJLENBQUMseUNBQXlDWDtZQUN0RCxPQUFPRDtJQUNYO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9hcHAtc3RhdGUtcmVkdWNlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBTdGF0ZUFjdGlvbiwgaW5pdGlhbEFwcERhdGEgfSBmcm9tIFwiLi4vdHlwZXMvYXBwLXN0YXRlLWNvbnRleHRcIlxuaW1wb3J0IHsgQXBwRGF0YSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5leHBvcnQgaW50ZXJmYWNlIEFwcFN0YXRlUmVkdWNlclN0YXRlIHtcbiAgYXBwRGF0YTogQXBwRGF0YVxuICBpc0xvYWRpbmc6IGJvb2xlYW5cbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcFN0YXRlUmVkdWNlcihcbiAgc3RhdGU6IEFwcFN0YXRlUmVkdWNlclN0YXRlLFxuICBhY3Rpb246IEFwcFN0YXRlQWN0aW9uXG4pOiBBcHBTdGF0ZVJlZHVjZXJTdGF0ZSB7XG4gIGNvbnNvbGUubG9nKCfwn5SEIFtBcHBTdGF0ZVJlZHVjZXJdIEFjdGlvbjonLCBhY3Rpb24udHlwZSwgYWN0aW9uKVxuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiU0VUX1NUQVRFXCI6XG4gICAgY2FzZSBcIlNFVF9BUFBfU1RBVEVcIjogIC8vIOWIpeWQje+8jOeCuuS6huWQkeW+jOebuOWuuVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5hcHBEYXRhLFxuICAgICAgICAgIHN0YXRlOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgIGNhc2UgXCJTRVRfUkVDT1JESU5HXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXBwRGF0YToge1xuICAgICAgICAgIC4uLnN0YXRlLmFwcERhdGEsXG4gICAgICAgICAgaXNSZWNvcmRpbmc6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlNFVF9SRUNPUkRJTkdfVElNRVwiOlxuICAgICAgY29uc29sZS5sb2coJ+KPsCBbQXBwU3RhdGVSZWR1Y2VyXSDmm7TmlrDpjITpn7PmmYLplpM6JywgYWN0aW9uLnBheWxvYWQpXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXBwRGF0YToge1xuICAgICAgICAgIC4uLnN0YXRlLmFwcERhdGEsXG4gICAgICAgICAgcmVjb3JkaW5nVGltZTogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICBjYXNlIFwiU0VUX0VESVRPUl9DT05URU5UXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXBwRGF0YToge1xuICAgICAgICAgIC4uLnN0YXRlLmFwcERhdGEsXG4gICAgICAgICAgZWRpdG9yQ29udGVudDogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICBjYXNlIFwiU0VUX1RSQU5TQ1JJUFRfRU5UUklFU1wiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5hcHBEYXRhLFxuICAgICAgICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgIGNhc2UgXCJBRERfVFJBTlNDUklQVF9FTlRSWVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5hcHBEYXRhLFxuICAgICAgICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBbLi4uc3RhdGUuYXBwRGF0YS50cmFuc2NyaXB0RW50cmllcywgYWN0aW9uLnBheWxvYWRdLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlNFVF9TRVNTSU9OXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXBwRGF0YToge1xuICAgICAgICAgIC4uLnN0YXRlLmFwcERhdGEsXG4gICAgICAgICAgc2Vzc2lvbjogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICBjYXNlIFwiVVBEQVRFX1NFU1NJT05fU1RBVFVTXCI6XG4gICAgICBpZiAoIXN0YXRlLmFwcERhdGEuc2Vzc2lvbikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ/CflIQgW0FwcFN0YXRlUmVkdWNlcl0g6Kmm5ZyW5pu05paw5LiN5a2Y5Zyo55qEIHNlc3Npb24g54uA5oWLJylcbiAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXBwRGF0YToge1xuICAgICAgICAgIC4uLnN0YXRlLmFwcERhdGEsXG4gICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgLi4uc3RhdGUuYXBwRGF0YS5zZXNzaW9uLFxuICAgICAgICAgICAgc3RhdHVzOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlJFU0VUX1NUQVRFXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXBwRGF0YTogaW5pdGlhbEFwcERhdGEsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlNFVF9MT0FESU5HXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgaXNMb2FkaW5nOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgIH1cblxuICAgIGNhc2UgXCJTRVRfRVJST1JcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBlcnJvcjogYWN0aW9uLnBheWxvYWQsXG4gICAgICB9XG5cbiAgICBjYXNlIFwiQ0xFQVJfRVJST1JcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLndhcm4oJ/CflIQgW0FwcFN0YXRlUmVkdWNlcl0g5pyq55+l55qEIGFjdGlvbiB0eXBlOicsIGFjdGlvbilcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iXSwibmFtZXMiOlsiaW5pdGlhbEFwcERhdGEiLCJhcHBTdGF0ZVJlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJ0eXBlIiwiYXBwRGF0YSIsInBheWxvYWQiLCJpc1JlY29yZGluZyIsInJlY29yZGluZ1RpbWUiLCJlZGl0b3JDb250ZW50IiwidHJhbnNjcmlwdEVudHJpZXMiLCJzZXNzaW9uIiwid2FybiIsInN0YXR1cyIsImVycm9yIiwiaXNMb2FkaW5nIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/app-state-reducer.ts\n");

/***/ }),

/***/ "(ssr)/./lib/app-store-zustand.ts":
/*!**********************************!*\
  !*** ./lib/app-store-zustand.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useAppActions: () => (/* binding */ useAppActions),\n/* harmony export */   useAppState: () => (/* binding */ useAppState),\n/* harmony export */   useAppStore: () => (/* binding */ useAppStore)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ \"(ssr)/./node_modules/.pnpm/zustand@5.0.6_@types+react@19.0.0_react@19.0.0_use-sync-external-store@1.5.0_react@19.0.0_/node_modules/zustand/esm/react.mjs\");\n/* __next_internal_client_entry_do_not_use__ useAppStore,useAppState,useAppActions,default auto */ \n/**\n * 基於 Zustand 的 App Store\n *\n * 實現用戶要求的會話衝突處理策略：\n * 1. startRecording 時優先調用 ensureRecordingSession\n * 2. 優雅處理 409 衝突，自動載入現有會話\n * 3. 提供清晰的狀態管理和錯誤處理\n */ const useAppStore = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)((set, get)=>({\n        // === 初始狀態 ===\n        appState: 'default',\n        isLoading: false,\n        error: null,\n        session: null,\n        isRecording: false,\n        recordingTime: 0,\n        timerId: null,\n        transcriptEntries: [],\n        editorContent: '',\n        // === 核心業務操作 ===\n        /**\n   * 開始錄音 - 使用雙 WebSocket 完整錄音流程\n   */ startRecording: async (title)=>{\n            console.log('🎤 [AppStore] 開始雙 WebSocket 錄音流程');\n            // 1. 設置等待狀態\n            set({\n                appState: 'recording_waiting',\n                isLoading: true,\n                error: null\n            });\n            try {\n                // 2. 獲取 RecordingFlowService\n                const { RecordingFlowService } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./services/recording-flow-service */ \"(ssr)/./lib/services/recording-flow-service.ts\"));\n                const recordingFlowService = new RecordingFlowService();\n                await recordingFlowService.initialize();\n                // 3. 啟動完整錄音流程（包含雙 WebSocket）\n                console.log('🔍 [AppStore] 啟動完整錄音流程...');\n                const sessionResponse = await recordingFlowService.startRecordingFlow(title || `錄音筆記 ${new Date().toLocaleString()}`);\n                console.log('✅ [AppStore] 雙 WebSocket 錄音流程啟動成功:', {\n                    sessionId: sessionResponse.id\n                });\n                // 4. 更新狀態，保持等待逐字稿\n                set({\n                    appState: 'recording_waiting',\n                    session: {\n                        id: sessionResponse.id,\n                        status: sessionResponse.status,\n                        type: sessionResponse.type\n                    },\n                    isRecording: true,\n                    isLoading: false\n                });\n                // 5. 啟動錄音計時器\n                get().startTimer();\n                globalThis.currentRecordingFlowService = recordingFlowService;\n                console.log('🎯 [AppStore] 雙 WebSocket 錄音模式啟動成功');\n            } catch (error) {\n                // 7. 錯誤處理\n                const errorMessage = error instanceof Error ? error.message : '開始錄音失敗';\n                console.error('❌ [AppStore] 無法開始錄音:', error);\n                // 清理計時器（如果已啟動）\n                get().stopTimer();\n                set({\n                    appState: 'default',\n                    error: errorMessage,\n                    isLoading: false,\n                    session: null,\n                    isRecording: false\n                });\n                console.error('🚨 [AppStore] 雙 WebSocket 錄音啟動失敗，請重試');\n            }\n        },\n        /**\n   * 停止錄音 - 停止雙 WebSocket 錄音流程\n   */ stopRecording: async ()=>{\n            console.log('🛑 [AppStore] 停止雙 WebSocket 錄音流程');\n            // 停止計時器\n            get().stopTimer();\n            set({\n                appState: 'processing',\n                isLoading: true\n            });\n            try {\n                // 獲取並調用 RecordingFlowService\n                const recordingFlowService = globalThis.currentRecordingFlowService;\n                if (recordingFlowService) {\n                    await recordingFlowService.stopRecordingFlow();\n                    await recordingFlowService.cleanup();\n                    globalThis.currentRecordingFlowService = null;\n                    console.log('✅ [AppStore] RecordingFlowService 停止成功');\n                } else {\n                    console.warn('⚠️ [AppStore] 沒有找到活躍的 RecordingFlowService');\n                }\n                set({\n                    appState: 'finished',\n                    isRecording: false,\n                    isLoading: false\n                });\n                console.log('✅ [AppStore] 雙 WebSocket 錄音停止成功');\n            } catch (error) {\n                const errorMessage = error instanceof Error ? error.message : '停止錄音失敗';\n                console.error('❌ [AppStore] 停止錄音失敗:', error);\n                set({\n                    error: errorMessage,\n                    isLoading: false\n                });\n            }\n        },\n        // === 狀態管理操作 ===\n        setState: (appState)=>{\n            set({\n                appState\n            });\n        },\n        setSession: (session)=>{\n            set({\n                session\n            });\n        },\n        setRecording: (isRecording)=>{\n            set({\n                isRecording\n            });\n        },\n        setError: (error)=>{\n            set({\n                error\n            });\n        },\n        clearError: ()=>{\n            set({\n                error: null\n            });\n        },\n        // === 編輯器操作 ===\n        updateEditorContent: (content)=>{\n            set({\n                editorContent: content\n            });\n        },\n        addTranscriptEntry: (entry)=>{\n            console.log('[S] add entry', entry.text.slice(0, 20));\n            set((state)=>({\n                    transcriptEntries: [\n                        ...state.transcriptEntries,\n                        entry\n                    ],\n                    // 🎯 收到第一個逐字稿時，從 recording_waiting → recording_active\n                    appState: state.appState === 'recording_waiting' ? 'recording_active' : state.appState\n                }));\n        },\n        setRecordingTime: (time)=>{\n            set({\n                recordingTime: time\n            });\n        },\n        // 計時邏輯 - 重新實作為直接計時器\n        startTimer: ()=>{\n            const currentState = get();\n            if (currentState.timerId) return; // 防止重複啟動\n            const timerId = setInterval(()=>{\n                set((state)=>({\n                        recordingTime: state.recordingTime + 1\n                    }));\n            }, 1000);\n            set({\n                timerId\n            });\n            console.log('🕐 [AppStore] 錄音計時器已啟動');\n        },\n        stopTimer: ()=>{\n            const currentState = get();\n            if (currentState.timerId) {\n                clearInterval(currentState.timerId);\n                set({\n                    timerId: null,\n                    recordingTime: 0\n                });\n                console.log('⏹️ [AppStore] 錄音計時器已停止並重置');\n            }\n        },\n        cleanup: ()=>{\n            const currentState = get();\n            if (currentState.timerId) {\n                clearInterval(currentState.timerId);\n                set({\n                    timerId: null\n                });\n                console.log('🧹 [AppStore] 計時器已清理');\n            }\n        },\n        // === 狀態重置 ===\n        resetState: ()=>{\n            console.log('🔄 [AppStore] 重置狀態');\n            // 清理計時器\n            const currentState = get();\n            if (currentState.timerId) {\n                clearInterval(currentState.timerId);\n            }\n            set({\n                appState: 'default',\n                isLoading: false,\n                error: null,\n                session: null,\n                isRecording: false,\n                recordingTime: 0,\n                timerId: null,\n                transcriptEntries: [],\n                editorContent: ''\n            });\n        }\n    }));\n/**\n * 便利的 Hook：只獲取狀態\n */ const useAppState = ()=>useAppStore({\n        \"useAppState.useAppStore\": (state)=>({\n                appState: state.appState,\n                isLoading: state.isLoading,\n                error: state.error,\n                session: state.session,\n                isRecording: state.isRecording,\n                recordingTime: state.recordingTime,\n                transcriptEntries: state.transcriptEntries,\n                editorContent: state.editorContent\n            })\n    }[\"useAppState.useAppStore\"]);\n/**\n * 便利的 Hook：只獲取操作\n */ const useAppActions = ()=>useAppStore({\n        \"useAppActions.useAppStore\": (state)=>({\n                startRecording: state.startRecording,\n                stopRecording: state.stopRecording,\n                setState: state.setState,\n                setSession: state.setSession,\n                setRecording: state.setRecording,\n                setError: state.setError,\n                clearError: state.clearError,\n                updateEditorContent: state.updateEditorContent,\n                addTranscriptEntry: state.addTranscriptEntry,\n                resetState: state.resetState\n            })\n    }[\"useAppActions.useAppStore\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useAppStore);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNpRCxRQUFxQjtnQkFDbkVyQyxnQkFBZ0JxQyxNQUFNckMsY0FBYztnQkFDcENzQixlQUFlZSxNQUFNZixhQUFhO2dCQUNsQ0ksVUFBVVcsTUFBTVgsUUFBUTtnQkFDeEJDLFlBQVlVLE1BQU1WLFVBQVU7Z0JBQzVCQyxjQUFjUyxNQUFNVCxZQUFZO2dCQUNoQ0MsVUFBVVEsTUFBTVIsUUFBUTtnQkFDeEJDLFlBQVlPLE1BQU1QLFVBQVU7Z0JBQzVCQyxxQkFBcUJNLE1BQU1OLG1CQUFtQjtnQkFDOUNFLG9CQUFvQkksTUFBTUosa0JBQWtCO2dCQUM1Q1UsWUFBWU4sTUFBTU0sVUFBVTtZQUM5QjtvQ0FBRztBQUVILGlFQUFldkQsV0FBV0EsRUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL2FwcC1zdG9yZS16dXN0YW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnXG5pbXBvcnQgeyBzZXJ2aWNlQ29udGFpbmVyLCBTRVJWSUNFX0tFWVMgfSBmcm9tICcuL3NlcnZpY2VzJ1xuaW1wb3J0IHR5cGUgeyBJU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2ludGVyZmFjZXMnXG5pbXBvcnQgeyBBcHBTdGF0ZSwgU2Vzc2lvblN0YXR1cywgU2Vzc2lvblR5cGUsIFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gJy4uL3R5cGVzL2FwcC1zdGF0ZSdcbmltcG9ydCB7IFRyYW5zY3JpcHRNYW5hZ2VyIH0gZnJvbSAnLi90cmFuc2NyaXB0LW1hbmFnZXInXG5cbi8qKlxuICogQXBwIOeLgOaFi+S7i+mdolxuICovXG5pbnRlcmZhY2UgQXBwU3RvcmVTdGF0ZSB7XG4gIC8vIOaHieeUqOeLgOaFi1xuICBhcHBTdGF0ZTogQXBwU3RhdGVcbiAgaXNMb2FkaW5nOiBib29sZWFuXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsXG5cbiAgLy8g5pyD6Kmx54uA5oWLXG4gIHNlc3Npb246IHtcbiAgICBpZDogc3RyaW5nXG4gICAgc3RhdHVzOiBTZXNzaW9uU3RhdHVzXG4gICAgdHlwZTogU2Vzc2lvblR5cGVcbiAgfSB8IG51bGxcblxuICAvLyDpjITpn7Pni4DmhYtcbiAgaXNSZWNvcmRpbmc6IGJvb2xlYW5cbiAgcmVjb3JkaW5nVGltZTogbnVtYmVyXG5cbiAgLy8g5YWn6YOo6KiI5pmC5ZmoXG4gIHRpbWVySWQ6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbFxuXG4gIC8vIOmAkOWtl+eov+eLgOaFi1xuICB0cmFuc2NyaXB0RW50cmllczogVHJhbnNjcmlwdEVudHJ5W11cblxuICAvLyDnt6jovK/lmajni4DmhYtcbiAgZWRpdG9yQ29udGVudDogc3RyaW5nXG59XG5cbi8qKlxuICogQXBwIOaTjeS9nOS7i+mdolxuICovXG5pbnRlcmZhY2UgQXBwU3RvcmVBY3Rpb25zIHtcbiAgLy8g5qC45b+D5qWt5YuZ5pON5L2cXG4gIHN0YXJ0UmVjb3JkaW5nOiAodGl0bGU/OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD5cbiAgc3RvcFJlY29yZGluZzogKCkgPT4gUHJvbWlzZTx2b2lkPlxuXG4gIC8vIOeLgOaFi+euoeeQhlxuICBzZXRTdGF0ZTogKGFwcFN0YXRlOiBBcHBTdGF0ZSkgPT4gdm9pZFxuICBzZXRTZXNzaW9uOiAoc2Vzc2lvbjogQXBwU3RvcmVTdGF0ZVsnc2Vzc2lvbiddKSA9PiB2b2lkXG4gIHNldFJlY29yZGluZzogKGlzUmVjb3JkaW5nOiBib29sZWFuKSA9PiB2b2lkXG4gIHNldEVycm9yOiAoZXJyb3I6IHN0cmluZyB8IG51bGwpID0+IHZvaWRcbiAgY2xlYXJFcnJvcjogKCkgPT4gdm9pZFxuXG4gIC8vIOe3qOi8r+WZqOaTjeS9nFxuICB1cGRhdGVFZGl0b3JDb250ZW50OiAoY29udGVudDogc3RyaW5nKSA9PiB2b2lkXG4gIGFkZFRyYW5zY3JpcHRFbnRyeTogKGVudHJ5OiBUcmFuc2NyaXB0RW50cnkpID0+IHZvaWRcblxuICAvLyDoqIjmmYLlmajmk43kvZxcbiAgc3RhcnRUaW1lcjogKCkgPT4gdm9pZFxuICBzdG9wVGltZXI6ICgpID0+IHZvaWRcbiAgY2xlYW51cDogKCkgPT4gdm9pZFxuXG4gIC8vIOeLgOaFi+mHjee9rlxuICByZXNldFN0YXRlOiAoKSA9PiB2b2lkXG59XG5cbi8qKlxuICog5a6M5pW055qEIFN0b3JlIOmhnuWei1xuICovXG50eXBlIEFwcFN0b3JlID0gQXBwU3RvcmVTdGF0ZSAmIEFwcFN0b3JlQWN0aW9uc1xuXG4vKipcbiAqIOWfuuaWvCBadXN0YW5kIOeahCBBcHAgU3RvcmVcbiAqXG4gKiDlr6bnj77nlKjmiLbopoHmsYLnmoTmnIPoqbHooZ3nqoHomZXnkIbnrZbnlaXvvJpcbiAqIDEuIHN0YXJ0UmVjb3JkaW5nIOaZguWEquWFiOiqv+eUqCBlbnN1cmVSZWNvcmRpbmdTZXNzaW9uXG4gKiAyLiDlhKrpm4XomZXnkIYgNDA5IOihneeqge+8jOiHquWLlei8ieWFpeePvuacieacg+ipsVxuICogMy4g5o+Q5L6b5riF5pmw55qE54uA5oWL566h55CG5ZKM6Yyv6Kqk6JmV55CGXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VBcHBTdG9yZSA9IGNyZWF0ZTxBcHBTdG9yZT4oKHNldCwgZ2V0KSA9PiAoe1xuICAvLyA9PT0g5Yid5aeL54uA5oWLID09PVxuICBhcHBTdGF0ZTogJ2RlZmF1bHQnIGFzIEFwcFN0YXRlLFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBlcnJvcjogbnVsbCxcbiAgc2Vzc2lvbjogbnVsbCxcbiAgaXNSZWNvcmRpbmc6IGZhbHNlLFxuICByZWNvcmRpbmdUaW1lOiAwLFxuICB0aW1lcklkOiBudWxsLFxuICB0cmFuc2NyaXB0RW50cmllczogW10sXG4gIGVkaXRvckNvbnRlbnQ6ICcnLFxuXG4gIC8vID09PSDmoLjlv4Pmpa3li5nmk43kvZwgPT09XG5cbiAgLyoqXG4gICAqIOmWi+Wni+mMhOmfsyAtIOS9v+eUqOmbmSBXZWJTb2NrZXQg5a6M5pW06YyE6Z+z5rWB56iLXG4gICAqL1xuICBzdGFydFJlY29yZGluZzogYXN5bmMgKHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CfjqQgW0FwcFN0b3JlXSDplovlp4vpm5kgV2ViU29ja2V0IOmMhOmfs+a1geeoiycpXG5cbiAgICAvLyAxLiDoqK3nva7nrYnlvoXni4DmhYtcbiAgICBzZXQoe1xuICAgICAgYXBwU3RhdGU6ICdyZWNvcmRpbmdfd2FpdGluZycsXG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICBlcnJvcjogbnVsbFxuICAgIH0pXG5cbiAgICB0cnkge1xuICAgICAgLy8gMi4g542y5Y+WIFJlY29yZGluZ0Zsb3dTZXJ2aWNlXG4gICAgICBjb25zdCB7IFJlY29yZGluZ0Zsb3dTZXJ2aWNlIH0gPSBhd2FpdCBpbXBvcnQoJy4vc2VydmljZXMvcmVjb3JkaW5nLWZsb3ctc2VydmljZScpXG4gICAgICBjb25zdCByZWNvcmRpbmdGbG93U2VydmljZSA9IG5ldyBSZWNvcmRpbmdGbG93U2VydmljZSgpXG4gICAgICBhd2FpdCByZWNvcmRpbmdGbG93U2VydmljZS5pbml0aWFsaXplKClcblxuICAgICAgLy8gMy4g5ZWf5YuV5a6M5pW06YyE6Z+z5rWB56iL77yI5YyF5ZCr6ZuZIFdlYlNvY2tldO+8iVxuICAgICAgY29uc29sZS5sb2coJ/CflI0gW0FwcFN0b3JlXSDllZ/li5XlrozmlbTpjITpn7PmtYHnqIsuLi4nKVxuICAgICAgY29uc3Qgc2Vzc2lvblJlc3BvbnNlID0gYXdhaXQgcmVjb3JkaW5nRmxvd1NlcnZpY2Uuc3RhcnRSZWNvcmRpbmdGbG93KFxuICAgICAgICB0aXRsZSB8fCBg6YyE6Z+z562G6KiYICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfWBcbiAgICAgIClcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBbQXBwU3RvcmVdIOmbmSBXZWJTb2NrZXQg6YyE6Z+z5rWB56iL5ZWf5YuV5oiQ5YqfOicsIHtcbiAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uUmVzcG9uc2UuaWRcbiAgICAgIH0pXG5cbiAgICAgIC8vIDQuIOabtOaWsOeLgOaFi++8jOS/neaMgeetieW+hemAkOWtl+eov1xuICAgICAgc2V0KHtcbiAgICAgICAgYXBwU3RhdGU6ICdyZWNvcmRpbmdfd2FpdGluZycsXG4gICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICBpZDogc2Vzc2lvblJlc3BvbnNlLmlkLFxuICAgICAgICAgIHN0YXR1czogc2Vzc2lvblJlc3BvbnNlLnN0YXR1cyBhcyBTZXNzaW9uU3RhdHVzLFxuICAgICAgICAgIHR5cGU6IHNlc3Npb25SZXNwb25zZS50eXBlIGFzIFNlc3Npb25UeXBlXG4gICAgICAgIH0sXG4gICAgICAgIGlzUmVjb3JkaW5nOiB0cnVlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICAvLyA1LiDllZ/li5XpjITpn7PoqIjmmYLlmahcbiAgICAgIGdldCgpLnN0YXJ0VGltZXIoKVxuXG4gICAgICAgIC8vIDYuIOWEsuWtmOacjeWLmeWvpuS+i+S+m+WBnOatouaZguS9v+eUqFxuICAgICAgICA7IChnbG9iYWxUaGlzIGFzIGFueSkuY3VycmVudFJlY29yZGluZ0Zsb3dTZXJ2aWNlID0gcmVjb3JkaW5nRmxvd1NlcnZpY2VcblxuICAgICAgY29uc29sZS5sb2coJ/Cfjq8gW0FwcFN0b3JlXSDpm5kgV2ViU29ja2V0IOmMhOmfs+aooeW8j+WVn+WLleaIkOWKnycpXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gNy4g6Yyv6Kqk6JmV55CGXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfplovlp4vpjITpn7PlpLHmlZcnXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgW0FwcFN0b3JlXSDnhKHms5Xplovlp4vpjITpn7M6JywgZXJyb3IpXG5cbiAgICAgIC8vIOa4heeQhuioiOaZguWZqO+8iOWmguaenOW3suWVn+WLle+8iVxuICAgICAgZ2V0KCkuc3RvcFRpbWVyKClcblxuICAgICAgc2V0KHtcbiAgICAgICAgYXBwU3RhdGU6ICdkZWZhdWx0JyxcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgc2Vzc2lvbjogbnVsbCxcbiAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmVycm9yKCfwn5qoIFtBcHBTdG9yZV0g6ZuZIFdlYlNvY2tldCDpjITpn7PllZ/li5XlpLHmlZfvvIzoq4vph43oqaYnKVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog5YGc5q2i6YyE6Z+zIC0g5YGc5q2i6ZuZIFdlYlNvY2tldCDpjITpn7PmtYHnqItcbiAgICovXG4gIHN0b3BSZWNvcmRpbmc6IGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+bkSBbQXBwU3RvcmVdIOWBnOatoumbmSBXZWJTb2NrZXQg6YyE6Z+z5rWB56iLJylcblxuICAgIC8vIOWBnOatouioiOaZguWZqFxuICAgIGdldCgpLnN0b3BUaW1lcigpXG5cbiAgICBzZXQoe1xuICAgICAgYXBwU3RhdGU6ICdwcm9jZXNzaW5nJyxcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG5cbiAgICB0cnkge1xuICAgICAgLy8g542y5Y+W5Lim6Kq/55SoIFJlY29yZGluZ0Zsb3dTZXJ2aWNlXG4gICAgICBjb25zdCByZWNvcmRpbmdGbG93U2VydmljZSA9IChnbG9iYWxUaGlzIGFzIGFueSkuY3VycmVudFJlY29yZGluZ0Zsb3dTZXJ2aWNlXG5cbiAgICAgIGlmIChyZWNvcmRpbmdGbG93U2VydmljZSkge1xuICAgICAgICBhd2FpdCByZWNvcmRpbmdGbG93U2VydmljZS5zdG9wUmVjb3JkaW5nRmxvdygpXG4gICAgICAgIGF3YWl0IHJlY29yZGluZ0Zsb3dTZXJ2aWNlLmNsZWFudXAoKVxuXG4gICAgICAgICAgLy8g5riF55CG5YWo5bGA5byV55SoXG4gICAgICAgICAgOyAoZ2xvYmFsVGhpcyBhcyBhbnkpLmN1cnJlbnRSZWNvcmRpbmdGbG93U2VydmljZSA9IG51bGxcblxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtBcHBTdG9yZV0gUmVjb3JkaW5nRmxvd1NlcnZpY2Ug5YGc5q2i5oiQ5YqfJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFtBcHBTdG9yZV0g5rKS5pyJ5om+5Yiw5rS76LqN55qEIFJlY29yZGluZ0Zsb3dTZXJ2aWNlJylcbiAgICAgIH1cblxuICAgICAgc2V0KHtcbiAgICAgICAgYXBwU3RhdGU6ICdmaW5pc2hlZCcsXG4gICAgICAgIGlzUmVjb3JkaW5nOiBmYWxzZSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBbQXBwU3RvcmVdIOmbmSBXZWJTb2NrZXQg6YyE6Z+z5YGc5q2i5oiQ5YqfJylcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICflgZzmraLpjITpn7PlpLHmlZcnXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgW0FwcFN0b3JlXSDlgZzmraLpjITpn7PlpLHmlZc6JywgZXJyb3IpXG5cbiAgICAgIHNldCh7XG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIC8vID09PSDni4DmhYvnrqHnkIbmk43kvZwgPT09XG5cbiAgc2V0U3RhdGU6IChhcHBTdGF0ZTogQXBwU3RhdGUpID0+IHtcbiAgICBzZXQoeyBhcHBTdGF0ZSB9KVxuICB9LFxuXG4gIHNldFNlc3Npb246IChzZXNzaW9uOiBBcHBTdG9yZVN0YXRlWydzZXNzaW9uJ10pID0+IHtcbiAgICBzZXQoeyBzZXNzaW9uIH0pXG4gIH0sXG5cbiAgc2V0UmVjb3JkaW5nOiAoaXNSZWNvcmRpbmc6IGJvb2xlYW4pID0+IHtcbiAgICBzZXQoeyBpc1JlY29yZGluZyB9KVxuICB9LFxuXG4gIHNldEVycm9yOiAoZXJyb3I6IHN0cmluZyB8IG51bGwpID0+IHtcbiAgICBzZXQoeyBlcnJvciB9KVxuICB9LFxuXG4gIGNsZWFyRXJyb3I6ICgpID0+IHtcbiAgICBzZXQoeyBlcnJvcjogbnVsbCB9KVxuICB9LFxuXG4gIC8vID09PSDnt6jovK/lmajmk43kvZwgPT09XG5cbiAgdXBkYXRlRWRpdG9yQ29udGVudDogKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIHNldCh7IGVkaXRvckNvbnRlbnQ6IGNvbnRlbnQgfSlcbiAgfSxcblxuICBhZGRUcmFuc2NyaXB0RW50cnk6IChlbnRyeTogVHJhbnNjcmlwdEVudHJ5KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tTXSBhZGQgZW50cnknLCBlbnRyeS50ZXh0LnNsaWNlKDAsIDIwKSlcbiAgICBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgdHJhbnNjcmlwdEVudHJpZXM6IFsuLi5zdGF0ZS50cmFuc2NyaXB0RW50cmllcywgZW50cnldLFxuICAgICAgLy8g8J+OryDmlLbliLDnrKzkuIDlgIvpgJDlrZfnqL/mmYLvvIzlvp4gcmVjb3JkaW5nX3dhaXRpbmcg4oaSIHJlY29yZGluZ19hY3RpdmVcbiAgICAgIGFwcFN0YXRlOiBzdGF0ZS5hcHBTdGF0ZSA9PT0gJ3JlY29yZGluZ193YWl0aW5nJyA/ICdyZWNvcmRpbmdfYWN0aXZlJyA6IHN0YXRlLmFwcFN0YXRlXG4gICAgfSkpXG4gIH0sXG5cbiAgc2V0UmVjb3JkaW5nVGltZTogKHRpbWU6IG51bWJlcikgPT4ge1xuICAgIHNldCh7IHJlY29yZGluZ1RpbWU6IHRpbWUgfSlcbiAgfSxcblxuICAvLyDoqIjmmYLpgo/ovK8gLSDph43mlrDlr6bkvZzngrrnm7TmjqXoqIjmmYLlmahcbiAgc3RhcnRUaW1lcjogKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGdldCgpXG4gICAgaWYgKGN1cnJlbnRTdGF0ZS50aW1lcklkKSByZXR1cm4gLy8g6Ziy5q2i6YeN6KSH5ZWf5YuVXG5cbiAgICBjb25zdCB0aW1lcklkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0KHN0YXRlID0+ICh7IHJlY29yZGluZ1RpbWU6IHN0YXRlLnJlY29yZGluZ1RpbWUgKyAxIH0pKVxuICAgIH0sIDEwMDApXG5cbiAgICBzZXQoeyB0aW1lcklkIH0pXG4gICAgY29uc29sZS5sb2coJ/CflZAgW0FwcFN0b3JlXSDpjITpn7PoqIjmmYLlmajlt7LllZ/li5UnKVxuICB9LFxuXG4gIHN0b3BUaW1lcjogKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGdldCgpXG4gICAgaWYgKGN1cnJlbnRTdGF0ZS50aW1lcklkKSB7XG4gICAgICBjbGVhckludGVydmFsKGN1cnJlbnRTdGF0ZS50aW1lcklkKVxuICAgICAgc2V0KHsgdGltZXJJZDogbnVsbCwgcmVjb3JkaW5nVGltZTogMCB9KVxuICAgICAgY29uc29sZS5sb2coJ+KPue+4jyBbQXBwU3RvcmVdIOmMhOmfs+ioiOaZguWZqOW3suWBnOatouS4pumHjee9ricpXG4gICAgfVxuICB9LFxuXG4gIGNsZWFudXA6ICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBnZXQoKVxuICAgIGlmIChjdXJyZW50U3RhdGUudGltZXJJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChjdXJyZW50U3RhdGUudGltZXJJZClcbiAgICAgIHNldCh7IHRpbWVySWQ6IG51bGwgfSlcbiAgICAgIGNvbnNvbGUubG9nKCfwn6e5IFtBcHBTdG9yZV0g6KiI5pmC5Zmo5bey5riF55CGJylcbiAgICB9XG4gIH0sXG5cbiAgLy8gPT09IOeLgOaFi+mHjee9riA9PT1cblxuICByZXNldFN0YXRlOiAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQgW0FwcFN0b3JlXSDph43nva7ni4DmhYsnKVxuXG4gICAgLy8g5riF55CG6KiI5pmC5ZmoXG4gICAgY29uc3QgY3VycmVudFN0YXRlID0gZ2V0KClcbiAgICBpZiAoY3VycmVudFN0YXRlLnRpbWVySWQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoY3VycmVudFN0YXRlLnRpbWVySWQpXG4gICAgfVxuXG4gICAgc2V0KHtcbiAgICAgIGFwcFN0YXRlOiAnZGVmYXVsdCcsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBzZXNzaW9uOiBudWxsLFxuICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLFxuICAgICAgcmVjb3JkaW5nVGltZTogMCxcbiAgICAgIHRpbWVySWQ6IG51bGwsXG4gICAgICB0cmFuc2NyaXB0RW50cmllczogW10sXG4gICAgICBlZGl0b3JDb250ZW50OiAnJ1xuICAgIH0pXG4gIH1cbn0pKVxuXG4vKipcbiAqIOS+v+WIqeeahCBIb29r77ya5Y+q542y5Y+W54uA5oWLXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VBcHBTdGF0ZSA9ICgpID0+IHVzZUFwcFN0b3JlKChzdGF0ZTogQXBwU3RvcmUpID0+ICh7XG4gIGFwcFN0YXRlOiBzdGF0ZS5hcHBTdGF0ZSxcbiAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXG4gIGVycm9yOiBzdGF0ZS5lcnJvcixcbiAgc2Vzc2lvbjogc3RhdGUuc2Vzc2lvbixcbiAgaXNSZWNvcmRpbmc6IHN0YXRlLmlzUmVjb3JkaW5nLFxuICByZWNvcmRpbmdUaW1lOiBzdGF0ZS5yZWNvcmRpbmdUaW1lLFxuICB0cmFuc2NyaXB0RW50cmllczogc3RhdGUudHJhbnNjcmlwdEVudHJpZXMsXG4gIGVkaXRvckNvbnRlbnQ6IHN0YXRlLmVkaXRvckNvbnRlbnRcbn0pKVxuXG4vKipcbiAqIOS+v+WIqeeahCBIb29r77ya5Y+q542y5Y+W5pON5L2cXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VBcHBBY3Rpb25zID0gKCkgPT4gdXNlQXBwU3RvcmUoKHN0YXRlOiBBcHBTdG9yZSkgPT4gKHtcbiAgc3RhcnRSZWNvcmRpbmc6IHN0YXRlLnN0YXJ0UmVjb3JkaW5nLFxuICBzdG9wUmVjb3JkaW5nOiBzdGF0ZS5zdG9wUmVjb3JkaW5nLFxuICBzZXRTdGF0ZTogc3RhdGUuc2V0U3RhdGUsXG4gIHNldFNlc3Npb246IHN0YXRlLnNldFNlc3Npb24sXG4gIHNldFJlY29yZGluZzogc3RhdGUuc2V0UmVjb3JkaW5nLFxuICBzZXRFcnJvcjogc3RhdGUuc2V0RXJyb3IsXG4gIGNsZWFyRXJyb3I6IHN0YXRlLmNsZWFyRXJyb3IsXG4gIHVwZGF0ZUVkaXRvckNvbnRlbnQ6IHN0YXRlLnVwZGF0ZUVkaXRvckNvbnRlbnQsXG4gIGFkZFRyYW5zY3JpcHRFbnRyeTogc3RhdGUuYWRkVHJhbnNjcmlwdEVudHJ5LFxuICByZXNldFN0YXRlOiBzdGF0ZS5yZXNldFN0YXRlXG59KSlcblxuZXhwb3J0IGRlZmF1bHQgdXNlQXBwU3RvcmVcbiJdLCJuYW1lcyI6WyJjcmVhdGUiLCJ1c2VBcHBTdG9yZSIsInNldCIsImdldCIsImFwcFN0YXRlIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJzZXNzaW9uIiwiaXNSZWNvcmRpbmciLCJyZWNvcmRpbmdUaW1lIiwidGltZXJJZCIsInRyYW5zY3JpcHRFbnRyaWVzIiwiZWRpdG9yQ29udGVudCIsInN0YXJ0UmVjb3JkaW5nIiwidGl0bGUiLCJjb25zb2xlIiwibG9nIiwiUmVjb3JkaW5nRmxvd1NlcnZpY2UiLCJyZWNvcmRpbmdGbG93U2VydmljZSIsImluaXRpYWxpemUiLCJzZXNzaW9uUmVzcG9uc2UiLCJzdGFydFJlY29yZGluZ0Zsb3ciLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJzZXNzaW9uSWQiLCJpZCIsInN0YXR1cyIsInR5cGUiLCJzdGFydFRpbWVyIiwiZ2xvYmFsVGhpcyIsImN1cnJlbnRSZWNvcmRpbmdGbG93U2VydmljZSIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsInN0b3BUaW1lciIsInN0b3BSZWNvcmRpbmciLCJzdG9wUmVjb3JkaW5nRmxvdyIsImNsZWFudXAiLCJ3YXJuIiwic2V0U3RhdGUiLCJzZXRTZXNzaW9uIiwic2V0UmVjb3JkaW5nIiwic2V0RXJyb3IiLCJjbGVhckVycm9yIiwidXBkYXRlRWRpdG9yQ29udGVudCIsImNvbnRlbnQiLCJhZGRUcmFuc2NyaXB0RW50cnkiLCJlbnRyeSIsInRleHQiLCJzbGljZSIsInN0YXRlIiwic2V0UmVjb3JkaW5nVGltZSIsInRpbWUiLCJjdXJyZW50U3RhdGUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJyZXNldFN0YXRlIiwidXNlQXBwU3RhdGUiLCJ1c2VBcHBBY3Rpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/app-store-zustand.ts\n");

/***/ }),

/***/ "(ssr)/./lib/audio-recorder.ts":
/*!*******************************!*\
  !*** ./lib/audio-recorder.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioRecorder: () => (/* binding */ AudioRecorder),\n/* harmony export */   checkAudioRecordingSupport: () => (/* binding */ checkAudioRecordingSupport),\n/* harmony export */   createAudioRecorder: () => (/* binding */ createAudioRecorder)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ AudioRecorder,createAudioRecorder,checkAudioRecordingSupport auto */ // 預設配置\nconst DEFAULT_CONFIG = {\n    chunkInterval: 12000,\n    mimeType: 'audio/webm;codecs=opus',\n    audioBitsPerSecond: 64000\n};\n// 支援的音訊格式列表（優先順序）\n// MP4 格式在 FFmpeg 7.1.1 中有更好的兼容性，因此放在第一位\nconst SUPPORTED_MIME_TYPES = [\n    'audio/webm;codecs=opus',\n    'audio/webm',\n    'audio/mp4',\n    'audio/ogg;codecs=opus',\n    'audio/wav'\n];\nclass AudioRecorder {\n    constructor(config = {}){\n        this.mediaRecorder = null;\n        this.stream = null;\n        this.state = 'idle';\n        this.chunkSequence = 0 // 切片序號計數器\n        ;\n        this.config = {\n            ...DEFAULT_CONFIG,\n            ...config\n        };\n    }\n    /**\n   * 開始錄製\n   */ async start(onDataAvailable) {\n        if (this.mediaRecorder && this.mediaRecorder.state === 'recording') {\n            throw new Error('錄製已在進行中');\n        }\n        // 獲取麥克風權限\n        this.stream = await navigator.mediaDevices.getUserMedia({\n            audio: true\n        });\n        // 創建 MediaRecorder\n        this.mediaRecorder = new MediaRecorder(this.stream, {\n            mimeType: this.config.mimeType,\n            audioBitsPerSecond: this.config.audioBitsPerSecond\n        });\n        // 重置序號計數器\n        this.chunkSequence = 0;\n        // 監聽資料可用事件\n        this.mediaRecorder.ondataavailable = (event)=>{\n            console.log('🎙️ [AudioRecorder] MediaRecorder.ondataavailable 觸發', {\n                dataSize: event.data.size,\n                sequence: this.chunkSequence,\n                timestamp: new Date().toISOString()\n            });\n            if (event.data.size > 0) {\n                const chunk = {\n                    blob: event.data,\n                    timestamp: Date.now(),\n                    duration: this.config.chunkInterval,\n                    sequence: this.chunkSequence++\n                };\n                console.log('📦 [AudioRecorder] 建立音頻切片', {\n                    sequence: chunk.sequence,\n                    size: chunk.blob.size,\n                    duration: chunk.duration,\n                    mimeType: this.config.mimeType\n                });\n                onDataAvailable(chunk);\n            } else {\n                console.warn('⚠️ [AudioRecorder] ondataavailable 但 data.size = 0');\n            }\n        };\n        // 開始錄製，每隔指定時間產生一個切片\n        console.log('🎬 [AudioRecorder] 開始錄製', {\n            chunkInterval: this.config.chunkInterval,\n            mimeType: this.config.mimeType,\n            state: this.mediaRecorder.state\n        });\n        this.mediaRecorder.start(this.config.chunkInterval);\n        console.log('✅ [AudioRecorder] MediaRecorder.start() 已調用', {\n            state: this.mediaRecorder.state,\n            stream: this.stream ? 'active' : 'null'\n        });\n    }\n    /**\n   * 停止錄製\n   */ stop() {\n        if (this.mediaRecorder && this.mediaRecorder.state === 'recording') {\n            this.mediaRecorder.stop();\n        }\n        if (this.stream) {\n            this.stream.getTracks().forEach((track)=>track.stop());\n            this.stream = null;\n        }\n        this.mediaRecorder = null;\n        this.chunkSequence = 0 // 重置序號\n        ;\n    }\n    /**\n   * 獲取錄製狀態\n   */ get isRecording() {\n        return this.mediaRecorder !== null && this.mediaRecorder.state === 'recording';\n    }\n    /**\n   * 獲取當前序號\n   */ get currentSequence() {\n        return this.chunkSequence;\n    }\n    // 清理資源\n    cleanup() {\n        this.stop();\n        if (this.stream) {\n            this.stream.getTracks().forEach((track)=>track.stop());\n            this.stream = null;\n        }\n        this.mediaRecorder = null;\n        console.log('🧹 音訊錄製器已清理');\n    }\n    // 設定狀態\n    setState(newState) {\n        this.state = newState;\n        this.onStateChangeCallback?.(newState);\n    }\n    // 錯誤處理\n    handleError(error) {\n        console.error('❌ AudioRecorder 錯誤:', error);\n        this.setState('error');\n        this.onErrorCallback?.(error);\n    }\n    // 事件回調設定\n    onChunk(callback) {\n        this.onChunkCallback = callback;\n    }\n    onStateChange(callback) {\n        this.onStateChangeCallback = callback;\n    }\n    onError(callback) {\n        this.onErrorCallback = callback;\n    }\n    // Getter\n    get currentState() {\n        return this.state;\n    }\n    get currentConfig() {\n        return {\n            ...this.config\n        };\n    }\n}\n// 工廠函數\nconst createAudioRecorder = (config)=>{\n    return new AudioRecorder(config);\n};\n/**\n * 檢查瀏覽器音訊錄製支援\n */ async function checkAudioRecordingSupport() {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        return {\n            isSupported: false,\n            error: '瀏覽器不支援 MediaDevices API'\n        };\n    }\n    if (!window.MediaRecorder) {\n        return {\n            isSupported: false,\n            error: '瀏覽器不支援 MediaRecorder API'\n        };\n    }\n    // 檢查 MIME 類型支援\n    if (!MediaRecorder.isTypeSupported(DEFAULT_CONFIG.mimeType)) {\n        return {\n            isSupported: false,\n            error: `不支援音訊格式: ${DEFAULT_CONFIG.mimeType}`\n        };\n    }\n    try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n            audio: true\n        });\n        // 立即停止串流以釋放資源\n        stream.getTracks().forEach((track)=>track.stop());\n        return {\n            isSupported: true\n        };\n    } catch (error) {\n        return {\n            isSupported: false,\n            error: `無法獲取麥克風權限: ${error}`\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvYXVkaW8tcmVjb3JkZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O2tIQXNCQSxPQUFPO0FBQ1AsTUFBTUEsaUJBQXNDO0lBQzFDQyxlQUFlO0lBQ2ZDLFVBQVU7SUFDVkMsb0JBQW9CO0FBQ3RCO0FBRUEsa0JBQWtCO0FBQ2xCLHdDQUF3QztBQUN4QyxNQUFNQyx1QkFBdUI7SUFDM0I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRU0sTUFBTUM7SUFZWEMsWUFBWUMsU0FBdUMsQ0FBQyxDQUFDLENBQUU7YUFYL0NDLGdCQUFzQzthQUN0Q0MsU0FBNkI7YUFFN0JDLFFBQTRCO2FBQzVCQyxnQkFBd0IsRUFBRSxVQUFVOztRQVExQyxJQUFJLENBQUNKLE1BQU0sR0FBRztZQUFFLEdBQUdQLGNBQWM7WUFBRSxHQUFHTyxNQUFNO1FBQUM7SUFDL0M7SUFFQTs7R0FFQyxHQUNELE1BQU1LLE1BQU1DLGVBQTRDLEVBQWlCO1FBQ3ZFLElBQUksSUFBSSxDQUFDTCxhQUFhLElBQUksSUFBSSxDQUFDQSxhQUFhLENBQUNFLEtBQUssS0FBSyxhQUFhO1lBQ2xFLE1BQU0sSUFBSUksTUFBTTtRQUNsQjtRQUVBLFVBQVU7UUFDVixJQUFJLENBQUNMLE1BQU0sR0FBRyxNQUFNTSxVQUFVQyxZQUFZLENBQUNDLFlBQVksQ0FBQztZQUFFQyxPQUFPO1FBQUs7UUFFdEUsbUJBQW1CO1FBQ25CLElBQUksQ0FBQ1YsYUFBYSxHQUFHLElBQUlXLGNBQWMsSUFBSSxDQUFDVixNQUFNLEVBQUU7WUFDbERQLFVBQVUsSUFBSSxDQUFDSyxNQUFNLENBQUNMLFFBQVE7WUFDOUJDLG9CQUFvQixJQUFJLENBQUNJLE1BQU0sQ0FBQ0osa0JBQWtCO1FBQ3BEO1FBRUEsVUFBVTtRQUNWLElBQUksQ0FBQ1EsYUFBYSxHQUFHO1FBRXJCLFdBQVc7UUFDWCxJQUFJLENBQUNILGFBQWEsQ0FBQ1ksZUFBZSxHQUFHLENBQUNDO1lBQ3BDQyxRQUFRQyxHQUFHLENBQUMsd0RBQXdEO2dCQUNsRUMsVUFBVUgsTUFBTUksSUFBSSxDQUFDQyxJQUFJO2dCQUN6QkMsVUFBVSxJQUFJLENBQUNoQixhQUFhO2dCQUM1QmlCLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNuQztZQUVBLElBQUlULE1BQU1JLElBQUksQ0FBQ0MsSUFBSSxHQUFHLEdBQUc7Z0JBQ3ZCLE1BQU1LLFFBQW9CO29CQUN4QkMsTUFBTVgsTUFBTUksSUFBSTtvQkFDaEJHLFdBQVdDLEtBQUtJLEdBQUc7b0JBQ25CQyxVQUFVLElBQUksQ0FBQzNCLE1BQU0sQ0FBQ04sYUFBYTtvQkFDbkMwQixVQUFVLElBQUksQ0FBQ2hCLGFBQWE7Z0JBQzlCO2dCQUVBVyxRQUFRQyxHQUFHLENBQUMsNkJBQTZCO29CQUN2Q0ksVUFBVUksTUFBTUosUUFBUTtvQkFDeEJELE1BQU1LLE1BQU1DLElBQUksQ0FBQ04sSUFBSTtvQkFDckJRLFVBQVVILE1BQU1HLFFBQVE7b0JBQ3hCaEMsVUFBVSxJQUFJLENBQUNLLE1BQU0sQ0FBQ0wsUUFBUTtnQkFDaEM7Z0JBRUFXLGdCQUFnQmtCO1lBQ2xCLE9BQU87Z0JBQ0xULFFBQVFhLElBQUksQ0FBQztZQUNmO1FBQ0Y7UUFFQSxvQkFBb0I7UUFDcEJiLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkI7WUFDckN0QixlQUFlLElBQUksQ0FBQ00sTUFBTSxDQUFDTixhQUFhO1lBQ3hDQyxVQUFVLElBQUksQ0FBQ0ssTUFBTSxDQUFDTCxRQUFRO1lBQzlCUSxPQUFPLElBQUksQ0FBQ0YsYUFBYSxDQUFDRSxLQUFLO1FBQ2pDO1FBRUEsSUFBSSxDQUFDRixhQUFhLENBQUNJLEtBQUssQ0FBQyxJQUFJLENBQUNMLE1BQU0sQ0FBQ04sYUFBYTtRQUVsRHFCLFFBQVFDLEdBQUcsQ0FBQywrQ0FBK0M7WUFDekRiLE9BQU8sSUFBSSxDQUFDRixhQUFhLENBQUNFLEtBQUs7WUFDL0JELFFBQVEsSUFBSSxDQUFDQSxNQUFNLEdBQUcsV0FBVztRQUNuQztJQUNGO0lBRUE7O0dBRUMsR0FDRDJCLE9BQWE7UUFDWCxJQUFJLElBQUksQ0FBQzVCLGFBQWEsSUFBSSxJQUFJLENBQUNBLGFBQWEsQ0FBQ0UsS0FBSyxLQUFLLGFBQWE7WUFDbEUsSUFBSSxDQUFDRixhQUFhLENBQUM0QixJQUFJO1FBQ3pCO1FBRUEsSUFBSSxJQUFJLENBQUMzQixNQUFNLEVBQUU7WUFDZixJQUFJLENBQUNBLE1BQU0sQ0FBQzRCLFNBQVMsR0FBR0MsT0FBTyxDQUFDQyxDQUFBQSxRQUFTQSxNQUFNSCxJQUFJO1lBQ25ELElBQUksQ0FBQzNCLE1BQU0sR0FBRztRQUNoQjtRQUVBLElBQUksQ0FBQ0QsYUFBYSxHQUFHO1FBQ3JCLElBQUksQ0FBQ0csYUFBYSxHQUFHLEVBQUUsT0FBTzs7SUFDaEM7SUFFQTs7R0FFQyxHQUNELElBQUk2QixjQUF1QjtRQUN6QixPQUFPLElBQUksQ0FBQ2hDLGFBQWEsS0FBSyxRQUFRLElBQUksQ0FBQ0EsYUFBYSxDQUFDRSxLQUFLLEtBQUs7SUFDckU7SUFFQTs7R0FFQyxHQUNELElBQUkrQixrQkFBMEI7UUFDNUIsT0FBTyxJQUFJLENBQUM5QixhQUFhO0lBQzNCO0lBRUEsT0FBTztJQUNQK0IsVUFBZ0I7UUFDZCxJQUFJLENBQUNOLElBQUk7UUFFVCxJQUFJLElBQUksQ0FBQzNCLE1BQU0sRUFBRTtZQUNmLElBQUksQ0FBQ0EsTUFBTSxDQUFDNEIsU0FBUyxHQUFHQyxPQUFPLENBQUNDLENBQUFBLFFBQVNBLE1BQU1ILElBQUk7WUFDbkQsSUFBSSxDQUFDM0IsTUFBTSxHQUFHO1FBQ2hCO1FBRUEsSUFBSSxDQUFDRCxhQUFhLEdBQUc7UUFDckJjLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0lBRUEsT0FBTztJQUNDb0IsU0FBU0MsUUFBNEIsRUFBUTtRQUNuRCxJQUFJLENBQUNsQyxLQUFLLEdBQUdrQztRQUNiLElBQUksQ0FBQ0MscUJBQXFCLEdBQUdEO0lBQy9CO0lBRUEsT0FBTztJQUNDRSxZQUFZQyxLQUFZLEVBQVE7UUFDdEN6QixRQUFReUIsS0FBSyxDQUFDLHVCQUF1QkE7UUFDckMsSUFBSSxDQUFDSixRQUFRLENBQUM7UUFDZCxJQUFJLENBQUNLLGVBQWUsR0FBR0Q7SUFDekI7SUFFQSxTQUFTO0lBQ1RFLFFBQVFDLFFBQXFDLEVBQVE7UUFDbkQsSUFBSSxDQUFDQyxlQUFlLEdBQUdEO0lBQ3pCO0lBRUFFLGNBQWNGLFFBQTZDLEVBQVE7UUFDakUsSUFBSSxDQUFDTCxxQkFBcUIsR0FBR0s7SUFDL0I7SUFFQUcsUUFBUUgsUUFBZ0MsRUFBUTtRQUM5QyxJQUFJLENBQUNGLGVBQWUsR0FBR0U7SUFDekI7SUFFQSxTQUFTO0lBQ1QsSUFBSUksZUFBbUM7UUFDckMsT0FBTyxJQUFJLENBQUM1QyxLQUFLO0lBQ25CO0lBRUEsSUFBSTZDLGdCQUFxQztRQUN2QyxPQUFPO1lBQUUsR0FBRyxJQUFJLENBQUNoRCxNQUFNO1FBQUM7SUFDMUI7QUFDRjtBQUVBLE9BQU87QUFDQSxNQUFNaUQsc0JBQXNCLENBQUNqRDtJQUNsQyxPQUFPLElBQUlGLGNBQWNFO0FBQzNCLEVBQUM7QUFFRDs7Q0FFQyxHQUNNLGVBQWVrRDtJQUNwQixJQUFJLENBQUMxQyxVQUFVQyxZQUFZLElBQUksQ0FBQ0QsVUFBVUMsWUFBWSxDQUFDQyxZQUFZLEVBQUU7UUFDbkUsT0FBTztZQUFFeUMsYUFBYTtZQUFPWCxPQUFPO1FBQTBCO0lBQ2hFO0lBRUEsSUFBSSxDQUFDWSxPQUFPeEMsYUFBYSxFQUFFO1FBQ3pCLE9BQU87WUFBRXVDLGFBQWE7WUFBT1gsT0FBTztRQUEyQjtJQUNqRTtJQUVBLGVBQWU7SUFDZixJQUFJLENBQUM1QixjQUFjeUMsZUFBZSxDQUFDNUQsZUFBZUUsUUFBUSxHQUFHO1FBQzNELE9BQU87WUFBRXdELGFBQWE7WUFBT1gsT0FBTyxDQUFDLFNBQVMsRUFBRS9DLGVBQWVFLFFBQVEsRUFBRTtRQUFDO0lBQzVFO0lBRUEsSUFBSTtRQUNGLE1BQU1PLFNBQVMsTUFBTU0sVUFBVUMsWUFBWSxDQUFDQyxZQUFZLENBQUM7WUFBRUMsT0FBTztRQUFLO1FBQ3ZFLGNBQWM7UUFDZFQsT0FBTzRCLFNBQVMsR0FBR0MsT0FBTyxDQUFDQyxDQUFBQSxRQUFTQSxNQUFNSCxJQUFJO1FBQzlDLE9BQU87WUFBRXNCLGFBQWE7UUFBSztJQUM3QixFQUFFLE9BQU9YLE9BQU87UUFDZCxPQUFPO1lBQUVXLGFBQWE7WUFBT1gsT0FBTyxDQUFDLFdBQVcsRUFBRUEsT0FBTztRQUFDO0lBQzVEO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9hdWRpby1yZWNvcmRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBnZXRBdWRpb0NodW5rSW50ZXJ2YWxNcyB9IGZyb20gJy4vY29uZmlnJ1xuXG4vLyDpn7PoqIrpjIToo73ni4DmhYtcbmV4cG9ydCB0eXBlIEF1ZGlvUmVjb3JkZXJTdGF0ZSA9ICdpZGxlJyB8ICdyZWNvcmRpbmcnIHwgJ3BhdXNlZCcgfCAnZXJyb3InXG5cbi8vIOmfs+ioiumMhOijvemFjee9rlxuZXhwb3J0IGludGVyZmFjZSBBdWRpb1JlY29yZGVyQ29uZmlnIHtcbiAgY2h1bmtJbnRlcnZhbDogbnVtYmVyIC8vIOWIh+eJh+mWk+malO+8iOavq+enku+8iVxuICBtaW1lVHlwZTogc3RyaW5nIC8vIOmfs+ioiuagvOW8j1xuICBhdWRpb0JpdHNQZXJTZWNvbmQ/OiBudW1iZXIgLy8g6Z+z6KiK5L2N5YWD546HXG59XG5cbi8vIOmfs+ioiuWIh+eJh+izh+aWmVxuZXhwb3J0IGludGVyZmFjZSBBdWRpb0NodW5rIHtcbiAgYmxvYjogQmxvYlxuICB0aW1lc3RhbXA6IG51bWJlclxuICBkdXJhdGlvbjogbnVtYmVyXG4gIHNlcXVlbmNlOiBudW1iZXJcbn1cblxuLy8g6aCQ6Kit6YWN572uXG5jb25zdCBERUZBVUxUX0NPTkZJRzogQXVkaW9SZWNvcmRlckNvbmZpZyA9IHtcbiAgY2h1bmtJbnRlcnZhbDogMTIwMDAsIC8vIDEyIOenklxuICBtaW1lVHlwZTogJ2F1ZGlvL3dlYm07Y29kZWNzPW9wdXMnLFxuICBhdWRpb0JpdHNQZXJTZWNvbmQ6IDY0MDAwLCAvLyA2NCBrYnBzXG59XG5cbi8vIOaUr+aPtOeahOmfs+ioiuagvOW8j+WIl+ihqO+8iOWEquWFiOmghuW6j++8iVxuLy8gTVA0IOagvOW8j+WcqCBGRm1wZWcgNy4xLjEg5Lit5pyJ5pu05aW955qE5YW85a655oCn77yM5Zug5q2k5pS+5Zyo56ys5LiA5L2NXG5jb25zdCBTVVBQT1JURURfTUlNRV9UWVBFUyA9IFtcbiAgJ2F1ZGlvL3dlYm07Y29kZWNzPW9wdXMnLCAvLyDnrKzkuIDlhKrlhYjvvJpXZWJNIE9wdXMg57eo6Kej56K85Zmo77yM6Z+z6LOq5YSq56eA5LiU5Liy5rWB5Y+L5aW9XG4gICdhdWRpby93ZWJtJywgICAgICAgICAgICAgLy8g56ys5LqM5YSq5YWI77yaV2ViTSDpgJrnlKjmoLzlvI9cbiAgJ2F1ZGlvL21wNCcsICAgICAgICAgICAgICAvLyDnrKzkuInlhKrlhYjvvJpNUDQg5L2c54K65YKZ6YG45pa55qGIXG4gICdhdWRpby9vZ2c7Y29kZWNzPW9wdXMnLFxuICAnYXVkaW8vd2F2Jyxcbl1cblxuZXhwb3J0IGNsYXNzIEF1ZGlvUmVjb3JkZXIge1xuICBwcml2YXRlIG1lZGlhUmVjb3JkZXI6IE1lZGlhUmVjb3JkZXIgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIHN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGNvbmZpZzogQXVkaW9SZWNvcmRlckNvbmZpZ1xuICBwcml2YXRlIHN0YXRlOiBBdWRpb1JlY29yZGVyU3RhdGUgPSAnaWRsZSdcbiAgcHJpdmF0ZSBjaHVua1NlcXVlbmNlOiBudW1iZXIgPSAwIC8vIOWIh+eJh+W6j+iZn+ioiOaVuOWZqFxuXG4gIC8vIOS6i+S7tuWbnuiqv1xuICBwcml2YXRlIG9uQ2h1bmtDYWxsYmFjaz86IChjaHVuazogQXVkaW9DaHVuaykgPT4gdm9pZFxuICBwcml2YXRlIG9uU3RhdGVDaGFuZ2VDYWxsYmFjaz86IChzdGF0ZTogQXVkaW9SZWNvcmRlclN0YXRlKSA9PiB2b2lkXG4gIHByaXZhdGUgb25FcnJvckNhbGxiYWNrPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZFxuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogUGFydGlhbDxBdWRpb1JlY29yZGVyQ29uZmlnPiA9IHt9KSB7XG4gICAgdGhpcy5jb25maWcgPSB7IC4uLkRFRkFVTFRfQ09ORklHLCAuLi5jb25maWcgfVxuICB9XG5cbiAgLyoqXG4gICAqIOmWi+Wni+mMhOijvVxuICAgKi9cbiAgYXN5bmMgc3RhcnQob25EYXRhQXZhaWxhYmxlOiAoY2h1bms6IEF1ZGlvQ2h1bmspID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyICYmIHRoaXMubWVkaWFSZWNvcmRlci5zdGF0ZSA9PT0gJ3JlY29yZGluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign6YyE6KO95bey5Zyo6YCy6KGM5LitJylcbiAgICB9XG5cbiAgICAvLyDnjbLlj5bpuqXlhYvpoqjmrIrpmZBcbiAgICB0aGlzLnN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSlcblxuICAgIC8vIOWJteW7uiBNZWRpYVJlY29yZGVyXG4gICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIodGhpcy5zdHJlYW0sIHtcbiAgICAgIG1pbWVUeXBlOiB0aGlzLmNvbmZpZy5taW1lVHlwZSxcbiAgICAgIGF1ZGlvQml0c1BlclNlY29uZDogdGhpcy5jb25maWcuYXVkaW9CaXRzUGVyU2Vjb25kLFxuICAgIH0pXG5cbiAgICAvLyDph43nva7luo/omZ/oqIjmlbjlmahcbiAgICB0aGlzLmNodW5rU2VxdWVuY2UgPSAwXG5cbiAgICAvLyDnm6Pogb3os4fmlpnlj6/nlKjkuovku7ZcbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn8J+Ome+4jyBbQXVkaW9SZWNvcmRlcl0gTWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUg6Ke455m8Jywge1xuICAgICAgICBkYXRhU2l6ZTogZXZlbnQuZGF0YS5zaXplLFxuICAgICAgICBzZXF1ZW5jZTogdGhpcy5jaHVua1NlcXVlbmNlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSlcblxuICAgICAgaWYgKGV2ZW50LmRhdGEuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc3QgY2h1bms6IEF1ZGlvQ2h1bmsgPSB7XG4gICAgICAgICAgYmxvYjogZXZlbnQuZGF0YSxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMuY29uZmlnLmNodW5rSW50ZXJ2YWwsXG4gICAgICAgICAgc2VxdWVuY2U6IHRoaXMuY2h1bmtTZXF1ZW5jZSsrLCAvLyDliIbphY3luo/omZ/kuKbpgZ7lop5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OmIFtBdWRpb1JlY29yZGVyXSDlu7rnq4vpn7PpoLvliIfniYcnLCB7XG4gICAgICAgICAgc2VxdWVuY2U6IGNodW5rLnNlcXVlbmNlLFxuICAgICAgICAgIHNpemU6IGNodW5rLmJsb2Iuc2l6ZSxcbiAgICAgICAgICBkdXJhdGlvbjogY2h1bmsuZHVyYXRpb24sXG4gICAgICAgICAgbWltZVR5cGU6IHRoaXMuY29uZmlnLm1pbWVUeXBlXG4gICAgICAgIH0pXG5cbiAgICAgICAgb25EYXRhQXZhaWxhYmxlKGNodW5rKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW0F1ZGlvUmVjb3JkZXJdIG9uZGF0YWF2YWlsYWJsZSDkvYYgZGF0YS5zaXplID0gMCcpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g6ZaL5aeL6YyE6KO977yM5q+P6ZqU5oyH5a6a5pmC6ZaT55Si55Sf5LiA5YCL5YiH54mHXG4gICAgY29uc29sZS5sb2coJ/CfjqwgW0F1ZGlvUmVjb3JkZXJdIOmWi+Wni+mMhOijvScsIHtcbiAgICAgIGNodW5rSW50ZXJ2YWw6IHRoaXMuY29uZmlnLmNodW5rSW50ZXJ2YWwsXG4gICAgICBtaW1lVHlwZTogdGhpcy5jb25maWcubWltZVR5cGUsXG4gICAgICBzdGF0ZTogdGhpcy5tZWRpYVJlY29yZGVyLnN0YXRlXG4gICAgfSlcblxuICAgIHRoaXMubWVkaWFSZWNvcmRlci5zdGFydCh0aGlzLmNvbmZpZy5jaHVua0ludGVydmFsKVxuXG4gICAgY29uc29sZS5sb2coJ+KchSBbQXVkaW9SZWNvcmRlcl0gTWVkaWFSZWNvcmRlci5zdGFydCgpIOW3suiqv+eUqCcsIHtcbiAgICAgIHN0YXRlOiB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhdGUsXG4gICAgICBzdHJlYW06IHRoaXMuc3RyZWFtID8gJ2FjdGl2ZScgOiAnbnVsbCdcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIOWBnOatoumMhOijvVxuICAgKi9cbiAgc3RvcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyICYmIHRoaXMubWVkaWFSZWNvcmRlci5zdGF0ZSA9PT0gJ3JlY29yZGluZycpIHtcbiAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5zdG9wKClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgIHRoaXMuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKVxuICAgICAgdGhpcy5zdHJlYW0gPSBudWxsXG4gICAgfVxuXG4gICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbnVsbFxuICAgIHRoaXMuY2h1bmtTZXF1ZW5jZSA9IDAgLy8g6YeN572u5bqP6JmfXG4gIH1cblxuICAvKipcbiAgICog542y5Y+W6YyE6KO954uA5oWLXG4gICAqL1xuICBnZXQgaXNSZWNvcmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWVkaWFSZWNvcmRlciAhPT0gbnVsbCAmJiB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhdGUgPT09ICdyZWNvcmRpbmcnXG4gIH1cblxuICAvKipcbiAgICog542y5Y+W55W25YmN5bqP6JmfXG4gICAqL1xuICBnZXQgY3VycmVudFNlcXVlbmNlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2h1bmtTZXF1ZW5jZVxuICB9XG5cbiAgLy8g5riF55CG6LOH5rqQXG4gIGNsZWFudXAoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wKClcblxuICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgdGhpcy5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpXG4gICAgICB0aGlzLnN0cmVhbSA9IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBudWxsXG4gICAgY29uc29sZS5sb2coJ/Cfp7kg6Z+z6KiK6YyE6KO95Zmo5bey5riF55CGJylcbiAgfVxuXG4gIC8vIOioreWumueLgOaFi1xuICBwcml2YXRlIHNldFN0YXRlKG5ld1N0YXRlOiBBdWRpb1JlY29yZGVyU3RhdGUpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGVcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VDYWxsYmFjaz8uKG5ld1N0YXRlKVxuICB9XG5cbiAgLy8g6Yyv6Kqk6JmV55CGXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IEVycm9yKTogdm9pZCB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEF1ZGlvUmVjb3JkZXIg6Yyv6KqkOicsIGVycm9yKVxuICAgIHRoaXMuc2V0U3RhdGUoJ2Vycm9yJylcbiAgICB0aGlzLm9uRXJyb3JDYWxsYmFjaz8uKGVycm9yKVxuICB9XG5cbiAgLy8g5LqL5Lu25Zue6Kq/6Kit5a6aXG4gIG9uQ2h1bmsoY2FsbGJhY2s6IChjaHVuazogQXVkaW9DaHVuaykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25DaHVua0NhbGxiYWNrID0gY2FsbGJhY2tcbiAgfVxuXG4gIG9uU3RhdGVDaGFuZ2UoY2FsbGJhY2s6IChzdGF0ZTogQXVkaW9SZWNvcmRlclN0YXRlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG5cbiAgb25FcnJvcihjYWxsYmFjazogKGVycm9yOiBFcnJvcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25FcnJvckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgfVxuXG4gIC8vIEdldHRlclxuICBnZXQgY3VycmVudFN0YXRlKCk6IEF1ZGlvUmVjb3JkZXJTdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVcbiAgfVxuXG4gIGdldCBjdXJyZW50Q29uZmlnKCk6IEF1ZGlvUmVjb3JkZXJDb25maWcge1xuICAgIHJldHVybiB7IC4uLnRoaXMuY29uZmlnIH1cbiAgfVxufVxuXG4vLyDlt6Xlu6Dlh73mlbhcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb1JlY29yZGVyID0gKGNvbmZpZz86IFBhcnRpYWw8QXVkaW9SZWNvcmRlckNvbmZpZz4pOiBBdWRpb1JlY29yZGVyID0+IHtcbiAgcmV0dXJuIG5ldyBBdWRpb1JlY29yZGVyKGNvbmZpZylcbn1cblxuLyoqXG4gKiDmqqLmn6XngI/opr3lmajpn7PoqIrpjIToo73mlK/mj7RcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrQXVkaW9SZWNvcmRpbmdTdXBwb3J0KCk6IFByb21pc2U8eyBpc1N1cHBvcnRlZDogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMgfHwgIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgcmV0dXJuIHsgaXNTdXBwb3J0ZWQ6IGZhbHNlLCBlcnJvcjogJ+eAj+imveWZqOS4jeaUr+aPtCBNZWRpYURldmljZXMgQVBJJyB9XG4gIH1cblxuICBpZiAoIXdpbmRvdy5NZWRpYVJlY29yZGVyKSB7XG4gICAgcmV0dXJuIHsgaXNTdXBwb3J0ZWQ6IGZhbHNlLCBlcnJvcjogJ+eAj+imveWZqOS4jeaUr+aPtCBNZWRpYVJlY29yZGVyIEFQSScgfVxuICB9XG5cbiAgLy8g5qqi5p+lIE1JTUUg6aGe5Z6L5pSv5o+0XG4gIGlmICghTWVkaWFSZWNvcmRlci5pc1R5cGVTdXBwb3J0ZWQoREVGQVVMVF9DT05GSUcubWltZVR5cGUpKSB7XG4gICAgcmV0dXJuIHsgaXNTdXBwb3J0ZWQ6IGZhbHNlLCBlcnJvcjogYOS4jeaUr+aPtOmfs+ioiuagvOW8jzogJHtERUZBVUxUX0NPTkZJRy5taW1lVHlwZX1gIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KVxuICAgIC8vIOeri+WNs+WBnOatouS4sua1geS7pemHi+aUvuizh+a6kFxuICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSlcbiAgICByZXR1cm4geyBpc1N1cHBvcnRlZDogdHJ1ZSB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgaXNTdXBwb3J0ZWQ6IGZhbHNlLCBlcnJvcjogYOeEoeazleeNsuWPlum6peWFi+miqOasiumZkDogJHtlcnJvcn1gIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIkRFRkFVTFRfQ09ORklHIiwiY2h1bmtJbnRlcnZhbCIsIm1pbWVUeXBlIiwiYXVkaW9CaXRzUGVyU2Vjb25kIiwiU1VQUE9SVEVEX01JTUVfVFlQRVMiLCJBdWRpb1JlY29yZGVyIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJtZWRpYVJlY29yZGVyIiwic3RyZWFtIiwic3RhdGUiLCJjaHVua1NlcXVlbmNlIiwic3RhcnQiLCJvbkRhdGFBdmFpbGFibGUiLCJFcnJvciIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsImF1ZGlvIiwiTWVkaWFSZWNvcmRlciIsIm9uZGF0YWF2YWlsYWJsZSIsImV2ZW50IiwiY29uc29sZSIsImxvZyIsImRhdGFTaXplIiwiZGF0YSIsInNpemUiLCJzZXF1ZW5jZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNodW5rIiwiYmxvYiIsIm5vdyIsImR1cmF0aW9uIiwid2FybiIsInN0b3AiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJpc1JlY29yZGluZyIsImN1cnJlbnRTZXF1ZW5jZSIsImNsZWFudXAiLCJzZXRTdGF0ZSIsIm5ld1N0YXRlIiwib25TdGF0ZUNoYW5nZUNhbGxiYWNrIiwiaGFuZGxlRXJyb3IiLCJlcnJvciIsIm9uRXJyb3JDYWxsYmFjayIsIm9uQ2h1bmsiLCJjYWxsYmFjayIsIm9uQ2h1bmtDYWxsYmFjayIsIm9uU3RhdGVDaGFuZ2UiLCJvbkVycm9yIiwiY3VycmVudFN0YXRlIiwiY3VycmVudENvbmZpZyIsImNyZWF0ZUF1ZGlvUmVjb3JkZXIiLCJjaGVja0F1ZGlvUmVjb3JkaW5nU3VwcG9ydCIsImlzU3VwcG9ydGVkIiwid2luZG93IiwiaXNUeXBlU3VwcG9ydGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/audio-recorder.ts\n");

/***/ }),

/***/ "(ssr)/./lib/config.ts":
/*!***********************!*\
  !*** ./lib/config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appConfig: () => (/* binding */ appConfig),\n/* harmony export */   getAppConfig: () => (/* binding */ getAppConfig),\n/* harmony export */   getAudioChunkIntervalMs: () => (/* binding */ getAudioChunkIntervalMs),\n/* harmony export */   getAudioChunkIntervalSec: () => (/* binding */ getAudioChunkIntervalSec),\n/* harmony export */   getAudioConfigInfo: () => (/* binding */ getAudioConfigInfo),\n/* harmony export */   getConfigInfo: () => (/* binding */ getConfigInfo)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ appConfig,getAudioChunkIntervalMs,getAudioChunkIntervalSec,getAudioConfigInfo,getAppConfig,getConfigInfo auto */ /**\n * 從環境變數獲取音訊切片間隔\n * 支援秒數和毫秒數兩種格式\n */ function getAudioChunkInterval() {\n    // 優先使用毫秒格式的環境變數\n    const intervalMs = process.env.NEXT_PUBLIC_AUDIO_CHUNK_INTERVAL_MS;\n    if (intervalMs) {\n        const parsed = parseInt(intervalMs, 10);\n        if (!isNaN(parsed) && parsed > 0) {\n            return parsed;\n        }\n    }\n    // 其次使用秒數格式的環境變數\n    const intervalSec = \"12\";\n    if (intervalSec) {\n        const parsed = parseInt(intervalSec, 10);\n        if (!isNaN(parsed) && parsed > 0) {\n            return parsed * 1000 // 轉換為毫秒\n            ;\n        }\n    }\n    // 預設值：10秒\n    return 10 * 1000;\n}\n/**\n * 應用程式配置實例\n */ const appConfig = {\n    apiUrl: \"http://localhost:8000\" || 0,\n    wsUrl: \"ws://localhost:8000\" || 0,\n    isDevelopment: \"development\" === 'development',\n    audio: {\n        chunkInterval: getAudioChunkInterval(),\n        mimeType: 'audio/webm;codecs=opus',\n        audioBitsPerSecond: 64000 // 64 kbps for 10s chunks\n    }\n};\n/**\n * 輔助函數：獲取音訊切片間隔（毫秒）\n */ function getAudioChunkIntervalMs() {\n    return appConfig.audio.chunkInterval;\n}\n/**\n * 輔助函數：獲取音訊切片間隔（秒）\n */ function getAudioChunkIntervalSec() {\n    return Math.round(appConfig.audio.chunkInterval / 1000);\n}\n/**\n * 輔助函數：格式化音訊配置資訊\n */ function getAudioConfigInfo() {\n    const seconds = getAudioChunkIntervalSec();\n    return `${seconds}秒切片 (${appConfig.audio.chunkInterval}ms)`;\n}\n/**\n * 獲取應用程式配置\n */ function getAppConfig() {\n    return appConfig;\n}\n/**\n * 開發模式診斷資訊\n */ function getConfigInfo() {\n    const config = getAppConfig();\n    return `Config: API=${config.apiUrl}, WS=${config.wsUrl}, Dev=${config.isDevelopment}`;\n}\n/**\n * 開發模式診斷：顯示當前配置\n */ if (appConfig.isDevelopment && \"undefined\" !== 'undefined') {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs4SkEwQkE7OztDQUdDLEdBQ0QsU0FBU0E7SUFDUCxnQkFBZ0I7SUFDaEIsTUFBTUMsYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxtQ0FBbUM7SUFDbEUsSUFBSUgsWUFBWTtRQUNkLE1BQU1JLFNBQVNDLFNBQVNMLFlBQVk7UUFDcEMsSUFBSSxDQUFDTSxNQUFNRixXQUFXQSxTQUFTLEdBQUc7WUFDaEMsT0FBT0E7UUFDVDtJQUNGO0lBRUEsZ0JBQWdCO0lBQ2hCLE1BQU1HLGNBQWNOLElBQWdEO0lBQ3BFLElBQUlNLGFBQWE7UUFDZixNQUFNSCxTQUFTQyxTQUFTRSxhQUFhO1FBQ3JDLElBQUksQ0FBQ0QsTUFBTUYsV0FBV0EsU0FBUyxHQUFHO1lBQ2hDLE9BQU9BLFNBQVMsS0FBSyxRQUFROztRQUMvQjtJQUNGO0lBRUEsVUFBVTtJQUNWLE9BQU8sS0FBSztBQUNkO0FBRUE7O0NBRUMsR0FDTSxNQUFNSyxZQUF1QjtJQUNsQ0MsUUFBUVQsdUJBQStCLElBQUksQ0FBdUI7SUFDbEVXLE9BQU9YLHFCQUE4QixJQUFJLENBQXFCO0lBQzlEYSxlQUFlYixrQkFBeUI7SUFDeENjLE9BQU87UUFDTEMsZUFBZWpCO1FBQ2ZrQixVQUFVO1FBQ1ZDLG9CQUFvQixNQUFPLHlCQUF5QjtJQUN0RDtBQUNGLEVBQUM7QUFFRDs7Q0FFQyxHQUNNLFNBQVNDO0lBQ2QsT0FBT1YsVUFBVU0sS0FBSyxDQUFDQyxhQUFhO0FBQ3RDO0FBRUE7O0NBRUMsR0FDTSxTQUFTSTtJQUNkLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ2IsVUFBVU0sS0FBSyxDQUFDQyxhQUFhLEdBQUc7QUFDcEQ7QUFFQTs7Q0FFQyxHQUNNLFNBQVNPO0lBQ2QsTUFBTUMsVUFBVUo7SUFDaEIsT0FBTyxHQUFHSSxRQUFRLEtBQUssRUFBRWYsVUFBVU0sS0FBSyxDQUFDQyxhQUFhLENBQUMsR0FBRyxDQUFDO0FBQzdEO0FBRUE7O0NBRUMsR0FDTSxTQUFTUztJQUNkLE9BQU9oQjtBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTaUI7SUFDZCxNQUFNQyxTQUFTRjtJQUNmLE9BQU8sQ0FBQyxZQUFZLEVBQUVFLE9BQU9qQixNQUFNLENBQUMsS0FBSyxFQUFFaUIsT0FBT2YsS0FBSyxDQUFDLE1BQU0sRUFBRWUsT0FBT2IsYUFBYSxFQUFFO0FBQ3hGO0FBRUE7O0NBRUMsR0FDRCxJQUFJTCxVQUFVSyxhQUFhLElBQUksZ0JBQWtCLGFBQWEsRUFRN0QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9jb25maWcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuLyoqXG4gKiDliY3nq6/phY3nva7nrqHnkIZcbiAqIOmbhuS4reeuoeeQhuaJgOacieWPr+mFjee9rueahOioreWumumgheebrlxuICovXG5cbi8qKlxuICog6Z+z6KiK6YyE6KO96YWN572uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9Db25maWcge1xuICBjaHVua0ludGVydmFsOiBudW1iZXIgLy8g6Z+z6KiK5YiH54mH6ZaT6ZqU77yI5q+r56eS77yJXG4gIG1pbWVUeXBlOiBzdHJpbmcgLy8g6Z+z6KiK5qC85byPXG4gIGF1ZGlvQml0c1BlclNlY29uZDogbnVtYmVyIC8vIOmfs+ioiuS9jeWFg+eOh1xufVxuXG4vKipcbiAqIOaHieeUqOeoi+W8j+mFjee9rlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFwcENvbmZpZyB7XG4gIGFwaVVybDogc3RyaW5nXG4gIHdzVXJsOiBzdHJpbmdcbiAgYXVkaW86IEF1ZGlvQ29uZmlnXG4gIGlzRGV2ZWxvcG1lbnQ6IGJvb2xlYW5cbn1cblxuLyoqXG4gKiDlvp7nkrDlooPorormlbjnjbLlj5bpn7PoqIrliIfniYfplpPpmpRcbiAqIOaUr+aPtOenkuaVuOWSjOavq+enkuaVuOWFqeeoruagvOW8j1xuICovXG5mdW5jdGlvbiBnZXRBdWRpb0NodW5rSW50ZXJ2YWwoKTogbnVtYmVyIHtcbiAgLy8g5YSq5YWI5L2/55So5q+r56eS5qC85byP55qE55Kw5aKD6K6K5pW4XG4gIGNvbnN0IGludGVydmFsTXMgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BVURJT19DSFVOS19JTlRFUlZBTF9NU1xuICBpZiAoaW50ZXJ2YWxNcykge1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KGludGVydmFsTXMsIDEwKVxuICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPiAwKSB7XG4gICAgICByZXR1cm4gcGFyc2VkXG4gICAgfVxuICB9XG5cbiAgLy8g5YW25qyh5L2/55So56eS5pW45qC85byP55qE55Kw5aKD6K6K5pW4XG4gIGNvbnN0IGludGVydmFsU2VjID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVVESU9fQ0hVTktfSU5URVJWQUxfU0VDXG4gIGlmIChpbnRlcnZhbFNlYykge1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KGludGVydmFsU2VjLCAxMClcbiAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID4gMCkge1xuICAgICAgcmV0dXJuIHBhcnNlZCAqIDEwMDAgLy8g6L2J5o+b54K65q+r56eSXG4gICAgfVxuICB9XG5cbiAgLy8g6aCQ6Kit5YC877yaMTDnp5JcbiAgcmV0dXJuIDEwICogMTAwMFxufVxuXG4vKipcbiAqIOaHieeUqOeoi+W8j+mFjee9ruWvpuS+i1xuICovXG5leHBvcnQgY29uc3QgYXBwQ29uZmlnOiBBcHBDb25maWcgPSB7XG4gIGFwaVVybDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJyxcbiAgd3NVcmw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dTX1VSTCB8fCAnd3M6Ly9sb2NhbGhvc3Q6ODAwMCcsXG4gIGlzRGV2ZWxvcG1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLFxuICBhdWRpbzoge1xuICAgIGNodW5rSW50ZXJ2YWw6IGdldEF1ZGlvQ2h1bmtJbnRlcnZhbCgpLFxuICAgIG1pbWVUeXBlOiAnYXVkaW8vd2VibTtjb2RlY3M9b3B1cycsXG4gICAgYXVkaW9CaXRzUGVyU2Vjb25kOiA2NDAwMCAgLy8gNjQga2JwcyBmb3IgMTBzIGNodW5rc1xuICB9XG59XG5cbi8qKlxuICog6LyU5Yqp5Ye95pW477ya542y5Y+W6Z+z6KiK5YiH54mH6ZaT6ZqU77yI5q+r56eS77yJXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBdWRpb0NodW5rSW50ZXJ2YWxNcygpOiBudW1iZXIge1xuICByZXR1cm4gYXBwQ29uZmlnLmF1ZGlvLmNodW5rSW50ZXJ2YWxcbn1cblxuLyoqXG4gKiDovJTliqnlh73mlbjvvJrnjbLlj5bpn7PoqIrliIfniYfplpPpmpTvvIjnp5LvvIlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEF1ZGlvQ2h1bmtJbnRlcnZhbFNlYygpOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5yb3VuZChhcHBDb25maWcuYXVkaW8uY2h1bmtJbnRlcnZhbCAvIDEwMDApXG59XG5cbi8qKlxuICog6LyU5Yqp5Ye95pW477ya5qC85byP5YyW6Z+z6KiK6YWN572u6LOH6KiKXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBdWRpb0NvbmZpZ0luZm8oKTogc3RyaW5nIHtcbiAgY29uc3Qgc2Vjb25kcyA9IGdldEF1ZGlvQ2h1bmtJbnRlcnZhbFNlYygpXG4gIHJldHVybiBgJHtzZWNvbmRzfeenkuWIh+eJhyAoJHthcHBDb25maWcuYXVkaW8uY2h1bmtJbnRlcnZhbH1tcylgXG59XG5cbi8qKlxuICog542y5Y+W5oeJ55So56iL5byP6YWN572uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcHBDb25maWcoKTogQXBwQ29uZmlnIHtcbiAgcmV0dXJuIGFwcENvbmZpZ1xufVxuXG4vKipcbiAqIOmWi+eZvOaooeW8j+iouuaWt+izh+ioilxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29uZmlnSW5mbygpOiBzdHJpbmcge1xuICBjb25zdCBjb25maWcgPSBnZXRBcHBDb25maWcoKVxuICByZXR1cm4gYENvbmZpZzogQVBJPSR7Y29uZmlnLmFwaVVybH0sIFdTPSR7Y29uZmlnLndzVXJsfSwgRGV2PSR7Y29uZmlnLmlzRGV2ZWxvcG1lbnR9YFxufVxuXG4vKipcbiAqIOmWi+eZvOaooeW8j+iouuaWt++8mumhr+ekuueVtuWJjemFjee9rlxuICovXG5pZiAoYXBwQ29uZmlnLmlzRGV2ZWxvcG1lbnQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgY29uc29sZS5sb2coJ/CflKcgW0NvbmZpZ10g6Z+z6KiK6YWN572uOicsIHtcbiAgICBjaHVua0ludGVydmFsOiBhcHBDb25maWcuYXVkaW8uY2h1bmtJbnRlcnZhbCxcbiAgICBjaHVua0ludGVydmFsU2VjOiBnZXRBdWRpb0NodW5rSW50ZXJ2YWxTZWMoKSxcbiAgICBtaW1lVHlwZTogYXBwQ29uZmlnLmF1ZGlvLm1pbWVUeXBlLFxuICAgIHNvdXJjZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVVESU9fQ0hVTktfSU5URVJWQUxfTVMgPyAnTVMnIDpcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FVRElPX0NIVU5LX0lOVEVSVkFMX1NFQyA/ICdTRUMnIDogJ0RFRkFVTFQnXG4gIH0pXG59XG4iXSwibmFtZXMiOlsiZ2V0QXVkaW9DaHVua0ludGVydmFsIiwiaW50ZXJ2YWxNcyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BVURJT19DSFVOS19JTlRFUlZBTF9NUyIsInBhcnNlZCIsInBhcnNlSW50IiwiaXNOYU4iLCJpbnRlcnZhbFNlYyIsIk5FWFRfUFVCTElDX0FVRElPX0NIVU5LX0lOVEVSVkFMX1NFQyIsImFwcENvbmZpZyIsImFwaVVybCIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJ3c1VybCIsIk5FWFRfUFVCTElDX1dTX1VSTCIsImlzRGV2ZWxvcG1lbnQiLCJhdWRpbyIsImNodW5rSW50ZXJ2YWwiLCJtaW1lVHlwZSIsImF1ZGlvQml0c1BlclNlY29uZCIsImdldEF1ZGlvQ2h1bmtJbnRlcnZhbE1zIiwiZ2V0QXVkaW9DaHVua0ludGVydmFsU2VjIiwiTWF0aCIsInJvdW5kIiwiZ2V0QXVkaW9Db25maWdJbmZvIiwic2Vjb25kcyIsImdldEFwcENvbmZpZyIsImdldENvbmZpZ0luZm8iLCJjb25maWciLCJjb25zb2xlIiwibG9nIiwiY2h1bmtJbnRlcnZhbFNlYyIsInNvdXJjZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/config.ts\n");

/***/ }),

/***/ "(ssr)/./lib/feature-flags.ts":
/*!******************************!*\
  !*** ./lib/feature-flags.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   disableFeature: () => (/* binding */ disableFeature),\n/* harmony export */   enableFeature: () => (/* binding */ enableFeature),\n/* harmony export */   featureFlagManager: () => (/* binding */ featureFlagManager),\n/* harmony export */   isFeatureEnabled: () => (/* binding */ isFeatureEnabled)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ featureFlagManager,isFeatureEnabled,enableFeature,disableFeature auto */ // 預設功能開關設定（新模式啟用）\nconst defaultFeatureFlags = {\n    useNewStateManagement: true,\n    useNewRecordingHook: true,\n    useNewSessionHook: true,\n    useNewTranscriptHook: true,\n    useNewAppStateHook: true,\n    useSimpleRecordingService: true,\n    enableStateSync: true,\n    enableDebugLogging: true\n};\n// 從 localStorage 讀取功能開關設定\nfunction loadFeatureFlags() {\n    if (true) {\n        return defaultFeatureFlags;\n    }\n    try {\n        const stored = localStorage.getItem('study-scriber-feature-flags');\n        if (stored) {\n            const parsed = JSON.parse(stored);\n            return {\n                ...defaultFeatureFlags,\n                ...parsed\n            };\n        }\n    } catch (error) {\n        console.warn('🚩 [FeatureFlags] 讀取功能開關失敗:', error);\n    }\n    return defaultFeatureFlags;\n}\n// 儲存功能開關設定到 localStorage\nfunction saveFeatureFlags(flags) {\n    if (true) return;\n    try {\n        const current = loadFeatureFlags();\n        const updated = {\n            ...current,\n            ...flags\n        };\n        localStorage.setItem('study-scriber-feature-flags', JSON.stringify(updated));\n        console.log('🚩 [FeatureFlags] 功能開關已更新:', updated);\n    } catch (error) {\n        console.error('🚩 [FeatureFlags] 儲存功能開關失敗:', error);\n    }\n}\n// 功能開關管理器\nclass FeatureFlagManager {\n    constructor(){\n        this.flags = loadFeatureFlags();\n        this.exposeToWindow();\n    }\n    // 檢查功能是否啟用\n    isEnabled(flag) {\n        return this.flags[flag];\n    }\n    // 啟用功能\n    enable(flag) {\n        this.updateFlag(flag, true);\n    }\n    // 停用功能\n    disable(flag) {\n        this.updateFlag(flag, false);\n    }\n    // 切換功能狀態\n    toggle(flag) {\n        this.updateFlag(flag, !this.flags[flag]);\n    }\n    // 更新單一功能開關\n    updateFlag(flag, value) {\n        this.flags = {\n            ...this.flags,\n            [flag]: value\n        };\n        saveFeatureFlags({\n            [flag]: value\n        });\n        console.log(`🚩 [FeatureFlags] ${flag}: ${value ? '啟用' : '停用'}`);\n        // 如果是關鍵功能，給予警告\n        if (flag === 'useNewStateManagement' && value) {\n            console.warn('⚠️ [FeatureFlags] 新狀態管理系統已啟用，請確保已完成測試');\n        }\n    }\n    // 批次更新功能開關\n    updateFlags(updates) {\n        this.flags = {\n            ...this.flags,\n            ...updates\n        };\n        saveFeatureFlags(updates);\n        console.log('🚩 [FeatureFlags] 批次更新完成:', updates);\n    }\n    // 重置所有功能開關\n    reset() {\n        this.flags = defaultFeatureFlags;\n        if (false) {}\n        console.log('🚩 [FeatureFlags] 已重置為預設值');\n    }\n    // 取得當前所有功能開關狀態\n    getAll() {\n        return {\n            ...this.flags\n        };\n    }\n    // 暴露到 window 供調試使用\n    exposeToWindow() {\n        if (false) {}\n    }\n}\n// 單例模式\nconst featureFlagManager = new FeatureFlagManager();\n// 便利函數\nconst isFeatureEnabled = (flag)=>featureFlagManager.isEnabled(flag);\nconst enableFeature = (flag)=>featureFlagManager.enable(flag);\nconst disableFeature = (flag)=>featureFlagManager.disable(flag);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2ZlLFNBQXVCO1FBQ3JCLE9BQU87WUFBRSxHQUFHLElBQUksQ0FBQ3BCLEtBQUs7UUFBQztJQUN6QjtJQUVBLG1CQUFtQjtJQUNYUSxpQkFBdUI7UUFDN0IsSUFBSSxLQUE2QixFQUFFLEVBK0JsQztJQUNIO0FBQ0Y7QUFFQSxPQUFPO0FBQ0EsTUFBTW1CLHFCQUFxQixJQUFJckIscUJBQW9CO0FBRTFELE9BQU87QUFDQSxNQUFNc0IsbUJBQW1CLENBQUNsQixPQUMvQmlCLG1CQUFtQmxCLFNBQVMsQ0FBQ0MsTUFBSztBQUU3QixNQUFNbUIsZ0JBQWdCLENBQUNuQixPQUM1QmlCLG1CQUFtQmhCLE1BQU0sQ0FBQ0QsTUFBSztBQUUxQixNQUFNb0IsaUJBQWlCLENBQUNwQixPQUM3QmlCLG1CQUFtQmQsT0FBTyxDQUFDSCxNQUFLIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvZmVhdHVyZS1mbGFncy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG4vLyDlip/og73plovpl5zphY3nva5cbmV4cG9ydCBpbnRlcmZhY2UgRmVhdHVyZUZsYWdzIHtcbiAgdXNlTmV3U3RhdGVNYW5hZ2VtZW50OiBib29sZWFuXG4gIHVzZU5ld1JlY29yZGluZ0hvb2s6IGJvb2xlYW5cbiAgdXNlTmV3U2Vzc2lvbkhvb2s6IGJvb2xlYW5cbiAgdXNlTmV3VHJhbnNjcmlwdEhvb2s6IGJvb2xlYW5cbiAgdXNlTmV3QXBwU3RhdGVIb29rOiBib29sZWFuXG4gIHVzZVNpbXBsZVJlY29yZGluZ1NlcnZpY2U6IGJvb2xlYW4gIC8vIPCfhpUgUGhhc2UgMjog5L2/55So57Ch5YyW6YyE6Z+z5pyN5YuZXG4gIGVuYWJsZVN0YXRlU3luYzogYm9vbGVhblxuICBlbmFibGVEZWJ1Z0xvZ2dpbmc6IGJvb2xlYW5cbn1cblxuLy8g6aCQ6Kit5Yqf6IO96ZaL6Zec6Kit5a6a77yI5paw5qih5byP5ZWf55So77yJXG5jb25zdCBkZWZhdWx0RmVhdHVyZUZsYWdzOiBGZWF0dXJlRmxhZ3MgPSB7XG4gIHVzZU5ld1N0YXRlTWFuYWdlbWVudDogdHJ1ZSwgICAvLyDwn4aVIOWVn+eUqOaWsOeLgOaFi+euoeeQhlxuICB1c2VOZXdSZWNvcmRpbmdIb29rOiB0cnVlLCAgICAgLy8g8J+GlSDllZ/nlKjmlrAgcmVjb3JkaW5nIGhvb2tcbiAgdXNlTmV3U2Vzc2lvbkhvb2s6IHRydWUsICAgICAgIC8vIPCfhpUg5ZWf55So5pawIHNlc3Npb24gaG9va1xuICB1c2VOZXdUcmFuc2NyaXB0SG9vazogdHJ1ZSwgICAgLy8g8J+GlSDllZ/nlKjmlrAgdHJhbnNjcmlwdCBob29rXG4gIHVzZU5ld0FwcFN0YXRlSG9vazogdHJ1ZSwgICAgICAvLyDwn4aVIOWVn+eUqOaWsCBhcHAgc3RhdGUgaG9va1xuICB1c2VTaW1wbGVSZWNvcmRpbmdTZXJ2aWNlOiB0cnVlLCAvLyDwn4aVIFBoYXNlIDI6IOWVn+eUqOewoeWMlumMhOmfs+acjeWLmVxuICBlbmFibGVTdGF0ZVN5bmM6IHRydWUsICAgICAgICAgLy8g6aCQ6Kit6ZaL5ZWf54uA5oWL5ZCM5q2lXG4gIGVuYWJsZURlYnVnTG9nZ2luZzogdHJ1ZSwgICAgICAvLyDpoJDoqK3plovllZ/oqr/oqabml6Xoqoxcbn1cblxuLy8g5b6eIGxvY2FsU3RvcmFnZSDoroDlj5blip/og73plovpl5zoqK3lrppcbmZ1bmN0aW9uIGxvYWRGZWF0dXJlRmxhZ3MoKTogRmVhdHVyZUZsYWdzIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRGZWF0dXJlRmxhZ3NcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0dWR5LXNjcmliZXItZmVhdHVyZS1mbGFncycpXG4gICAgaWYgKHN0b3JlZCkge1xuICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzdG9yZWQpXG4gICAgICByZXR1cm4geyAuLi5kZWZhdWx0RmVhdHVyZUZsYWdzLCAuLi5wYXJzZWQgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ/CfmqkgW0ZlYXR1cmVGbGFnc10g6K6A5Y+W5Yqf6IO96ZaL6Zec5aSx5pWXOicsIGVycm9yKVxuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRGZWF0dXJlRmxhZ3Ncbn1cblxuLy8g5YSy5a2Y5Yqf6IO96ZaL6Zec6Kit5a6a5YiwIGxvY2FsU3RvcmFnZVxuZnVuY3Rpb24gc2F2ZUZlYXR1cmVGbGFncyhmbGFnczogUGFydGlhbDxGZWF0dXJlRmxhZ3M+KTogdm9pZCB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuXG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjdXJyZW50ID0gbG9hZEZlYXR1cmVGbGFncygpXG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uY3VycmVudCwgLi4uZmxhZ3MgfVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzdHVkeS1zY3JpYmVyLWZlYXR1cmUtZmxhZ3MnLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkKSlcbiAgICBjb25zb2xlLmxvZygn8J+aqSBbRmVhdHVyZUZsYWdzXSDlip/og73plovpl5zlt7Lmm7TmlrA6JywgdXBkYXRlZClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfwn5qpIFtGZWF0dXJlRmxhZ3NdIOWEsuWtmOWKn+iDvemWi+mXnOWkseaVlzonLCBlcnJvcilcbiAgfVxufVxuXG4vLyDlip/og73plovpl5znrqHnkIblmahcbmNsYXNzIEZlYXR1cmVGbGFnTWFuYWdlciB7XG4gIHByaXZhdGUgZmxhZ3M6IEZlYXR1cmVGbGFnc1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZmxhZ3MgPSBsb2FkRmVhdHVyZUZsYWdzKClcbiAgICB0aGlzLmV4cG9zZVRvV2luZG93KClcbiAgfVxuXG4gIC8vIOaqouafpeWKn+iDveaYr+WQpuWVn+eUqFxuICBpc0VuYWJsZWQoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZmxhZ3NbZmxhZ11cbiAgfVxuXG4gIC8vIOWVn+eUqOWKn+iDvVxuICBlbmFibGUoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVGbGFnKGZsYWcsIHRydWUpXG4gIH1cblxuICAvLyDlgZznlKjlip/og71cbiAgZGlzYWJsZShmbGFnOiBrZXlvZiBGZWF0dXJlRmxhZ3MpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZUZsYWcoZmxhZywgZmFsc2UpXG4gIH1cblxuICAvLyDliIfmj5vlip/og73ni4DmhYtcbiAgdG9nZ2xlKGZsYWc6IGtleW9mIEZlYXR1cmVGbGFncyk6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlRmxhZyhmbGFnLCAhdGhpcy5mbGFnc1tmbGFnXSlcbiAgfVxuXG4gIC8vIOabtOaWsOWWruS4gOWKn+iDvemWi+mXnFxuICBwcml2YXRlIHVwZGF0ZUZsYWcoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzLCB2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuZmxhZ3MgPSB7IC4uLnRoaXMuZmxhZ3MsIFtmbGFnXTogdmFsdWUgfVxuICAgIHNhdmVGZWF0dXJlRmxhZ3MoeyBbZmxhZ106IHZhbHVlIH0pXG5cbiAgICBjb25zb2xlLmxvZyhg8J+aqSBbRmVhdHVyZUZsYWdzXSAke2ZsYWd9OiAke3ZhbHVlID8gJ+WVn+eUqCcgOiAn5YGc55SoJ31gKVxuXG4gICAgLy8g5aaC5p6c5piv6Zec6Y215Yqf6IO977yM57Wm5LqI6K2m5ZGKXG4gICAgaWYgKGZsYWcgPT09ICd1c2VOZXdTdGF0ZU1hbmFnZW1lbnQnICYmIHZhbHVlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbRmVhdHVyZUZsYWdzXSDmlrDni4DmhYvnrqHnkIbns7vntbHlt7LllZ/nlKjvvIzoq4vnorrkv53lt7LlrozmiJDmuKzoqaYnKVxuICAgIH1cbiAgfVxuXG4gIC8vIOaJueasoeabtOaWsOWKn+iDvemWi+mXnFxuICB1cGRhdGVGbGFncyh1cGRhdGVzOiBQYXJ0aWFsPEZlYXR1cmVGbGFncz4pOiB2b2lkIHtcbiAgICB0aGlzLmZsYWdzID0geyAuLi50aGlzLmZsYWdzLCAuLi51cGRhdGVzIH1cbiAgICBzYXZlRmVhdHVyZUZsYWdzKHVwZGF0ZXMpXG4gICAgY29uc29sZS5sb2coJ/CfmqkgW0ZlYXR1cmVGbGFnc10g5om55qyh5pu05paw5a6M5oiQOicsIHVwZGF0ZXMpXG4gIH1cblxuICAvLyDph43nva7miYDmnInlip/og73plovpl5xcbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5mbGFncyA9IGRlZmF1bHRGZWF0dXJlRmxhZ3NcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdHVkeS1zY3JpYmVyLWZlYXR1cmUtZmxhZ3MnKVxuICAgIH1cbiAgICBjb25zb2xlLmxvZygn8J+aqSBbRmVhdHVyZUZsYWdzXSDlt7Lph43nva7ngrrpoJDoqK3lgLwnKVxuICB9XG5cbiAgLy8g5Y+W5b6X55W25YmN5omA5pyJ5Yqf6IO96ZaL6Zec54uA5oWLXG4gIGdldEFsbCgpOiBGZWF0dXJlRmxhZ3Mge1xuICAgIHJldHVybiB7IC4uLnRoaXMuZmxhZ3MgfVxuICB9XG5cbiAgLy8g5pq06Zyy5YiwIHdpbmRvdyDkvpvoqr/oqabkvb/nlKhcbiAgcHJpdmF0ZSBleHBvc2VUb1dpbmRvdygpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICh3aW5kb3cgYXMgYW55KS5mZWF0dXJlRmxhZ3MgPSB7XG4gICAgICAgIGVuYWJsZTogKGZsYWc6IGtleW9mIEZlYXR1cmVGbGFncykgPT4gdGhpcy5lbmFibGUoZmxhZyksXG4gICAgICAgIGRpc2FibGU6IChmbGFnOiBrZXlvZiBGZWF0dXJlRmxhZ3MpID0+IHRoaXMuZGlzYWJsZShmbGFnKSxcbiAgICAgICAgdG9nZ2xlOiAoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKSA9PiB0aGlzLnRvZ2dsZShmbGFnKSxcbiAgICAgICAgaXNFbmFibGVkOiAoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKSA9PiB0aGlzLmlzRW5hYmxlZChmbGFnKSxcbiAgICAgICAgZ2V0QWxsOiAoKSA9PiB0aGlzLmdldEFsbCgpLFxuICAgICAgICByZXNldDogKCkgPT4gdGhpcy5yZXNldCgpLFxuXG4gICAgICAgIC8vIOS+v+WIqeaWueazlVxuICAgICAgICBlbmFibGVOZXdTdGF0ZTogKCkgPT4gdGhpcy5lbmFibGUoJ3VzZU5ld1N0YXRlTWFuYWdlbWVudCcpLFxuICAgICAgICBkaXNhYmxlTmV3U3RhdGU6ICgpID0+IHRoaXMuZGlzYWJsZSgndXNlTmV3U3RhdGVNYW5hZ2VtZW50JyksXG4gICAgICAgIGVuYWJsZUFsbDogKCkgPT4gdGhpcy51cGRhdGVGbGFncyh7XG4gICAgICAgICAgdXNlTmV3U3RhdGVNYW5hZ2VtZW50OiB0cnVlLFxuICAgICAgICAgIHVzZU5ld1JlY29yZGluZ0hvb2s6IHRydWUsXG4gICAgICAgICAgdXNlTmV3U2Vzc2lvbkhvb2s6IHRydWUsXG4gICAgICAgICAgdXNlTmV3VHJhbnNjcmlwdEhvb2s6IHRydWUsXG4gICAgICAgICAgdXNlTmV3QXBwU3RhdGVIb29rOiB0cnVlLFxuICAgICAgICB9KSxcbiAgICAgICAgZGlzYWJsZUFsbDogKCkgPT4gdGhpcy51cGRhdGVGbGFncyh7XG4gICAgICAgICAgdXNlTmV3U3RhdGVNYW5hZ2VtZW50OiBmYWxzZSxcbiAgICAgICAgICB1c2VOZXdSZWNvcmRpbmdIb29rOiBmYWxzZSxcbiAgICAgICAgICB1c2VOZXdTZXNzaW9uSG9vazogZmFsc2UsXG4gICAgICAgICAgdXNlTmV3VHJhbnNjcmlwdEhvb2s6IGZhbHNlLFxuICAgICAgICAgIHVzZU5ld0FwcFN0YXRlSG9vazogZmFsc2UsXG4gICAgICAgIH0pLFxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+aqSBbRmVhdHVyZUZsYWdzXSDoqr/oqabku4vpnaLlt7LmmrTpnLLliLAgd2luZG93LmZlYXR1cmVGbGFncycpXG4gICAgICBjb25zb2xlLmxvZygnICAg5L2/55So5pa55rOVOiB3aW5kb3cuZmVhdHVyZUZsYWdzLmVuYWJsZU5ld1N0YXRlKCknKVxuICAgICAgY29uc29sZS5sb2coJyAgIOafpeeci+eLgOaFizogd2luZG93LmZlYXR1cmVGbGFncy5nZXRBbGwoKScpXG4gICAgfVxuICB9XG59XG5cbi8vIOWWruS+i+aooeW8j1xuZXhwb3J0IGNvbnN0IGZlYXR1cmVGbGFnTWFuYWdlciA9IG5ldyBGZWF0dXJlRmxhZ01hbmFnZXIoKVxuXG4vLyDkvr/liKnlh73mlbhcbmV4cG9ydCBjb25zdCBpc0ZlYXR1cmVFbmFibGVkID0gKGZsYWc6IGtleW9mIEZlYXR1cmVGbGFncyk6IGJvb2xlYW4gPT5cbiAgZmVhdHVyZUZsYWdNYW5hZ2VyLmlzRW5hYmxlZChmbGFnKVxuXG5leHBvcnQgY29uc3QgZW5hYmxlRmVhdHVyZSA9IChmbGFnOiBrZXlvZiBGZWF0dXJlRmxhZ3MpOiB2b2lkID0+XG4gIGZlYXR1cmVGbGFnTWFuYWdlci5lbmFibGUoZmxhZylcblxuZXhwb3J0IGNvbnN0IGRpc2FibGVGZWF0dXJlID0gKGZsYWc6IGtleW9mIEZlYXR1cmVGbGFncyk6IHZvaWQgPT5cbiAgZmVhdHVyZUZsYWdNYW5hZ2VyLmRpc2FibGUoZmxhZylcbiJdLCJuYW1lcyI6WyJkZWZhdWx0RmVhdHVyZUZsYWdzIiwidXNlTmV3U3RhdGVNYW5hZ2VtZW50IiwidXNlTmV3UmVjb3JkaW5nSG9vayIsInVzZU5ld1Nlc3Npb25Ib29rIiwidXNlTmV3VHJhbnNjcmlwdEhvb2siLCJ1c2VOZXdBcHBTdGF0ZUhvb2siLCJ1c2VTaW1wbGVSZWNvcmRpbmdTZXJ2aWNlIiwiZW5hYmxlU3RhdGVTeW5jIiwiZW5hYmxlRGVidWdMb2dnaW5nIiwibG9hZEZlYXR1cmVGbGFncyIsInN0b3JlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwic2F2ZUZlYXR1cmVGbGFncyIsImZsYWdzIiwiY3VycmVudCIsInVwZGF0ZWQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwibG9nIiwiRmVhdHVyZUZsYWdNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJleHBvc2VUb1dpbmRvdyIsImlzRW5hYmxlZCIsImZsYWciLCJlbmFibGUiLCJ1cGRhdGVGbGFnIiwiZGlzYWJsZSIsInRvZ2dsZSIsInZhbHVlIiwidXBkYXRlRmxhZ3MiLCJ1cGRhdGVzIiwicmVzZXQiLCJyZW1vdmVJdGVtIiwiZ2V0QWxsIiwid2luZG93IiwiZmVhdHVyZUZsYWdzIiwiZW5hYmxlTmV3U3RhdGUiLCJkaXNhYmxlTmV3U3RhdGUiLCJlbmFibGVBbGwiLCJkaXNhYmxlQWxsIiwiZmVhdHVyZUZsYWdNYW5hZ2VyIiwiaXNGZWF0dXJlRW5hYmxlZCIsImVuYWJsZUZlYXR1cmUiLCJkaXNhYmxlRmVhdHVyZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/feature-flags.ts\n");

/***/ }),

/***/ "(ssr)/./lib/initial-state-loader.ts":
/*!*************************************!*\
  !*** ./lib/initial-state-loader.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InitialStateLoader: () => (/* binding */ InitialStateLoader)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ InitialStateLoader auto */ /**\n * 初始狀態載入器\n * 負責從 localStorage 或其他持久化存儲載入初始狀態\n */ class InitialStateLoader {\n    static{\n        this.STORAGE_KEYS = {\n            DRAFT_NOTE: 'draft_note',\n            LAST_SESSION: 'last_session',\n            APP_STATE: 'app_state_v1'\n        };\n    }\n    /**\n     * 載入初始應用狀態\n     * 優先順序：localStorage > 預設狀態\n     */ static loadInitialAppData() {\n        console.log('🔄 [InitialStateLoader] 開始載入初始狀態');\n        try {\n            // 1. 載入草稿筆記\n            const draftContent = this.loadDraftNote();\n            // 2. 載入上次會話資訊（如果有的話）\n            const lastSession = this.loadLastSession();\n            // 3. 載入完整應用狀態（如果有的話）\n            const savedAppState = this.loadSavedAppState();\n            // 修正：如果儲存的狀態是暫時性或已完成的，則重置為預設狀態\n            console.log('🔍 [InitialStateLoader] 檢查儲存的狀態:', {\n                savedState: savedAppState?.state,\n                shouldReset: savedAppState?.state && [\n                    'recording_waiting',\n                    'recording_active',\n                    'processing',\n                    'finished'\n                ].includes(savedAppState.state)\n            });\n            const validInitialState = savedAppState?.state && ![\n                'recording_waiting',\n                'recording_active',\n                'processing',\n                'finished'\n            ].includes(savedAppState.state) ? savedAppState.state : 'default';\n            console.log('🔍 [InitialStateLoader] 最終初始狀態:', validInitialState);\n            const initialAppData = {\n                state: validInitialState,\n                transcriptEntries: savedAppState?.transcriptEntries || [],\n                editorContent: draftContent || '',\n                isRecording: false,\n                recordingTime: 0,\n                session: lastSession\n            };\n            console.log('🔄 [InitialStateLoader] 初始狀態載入完成:', {\n                hasDraftContent: !!draftContent,\n                hasLastSession: !!lastSession,\n                hasSavedAppState: !!savedAppState,\n                state: initialAppData.state,\n                transcriptCount: initialAppData.transcriptEntries.length\n            });\n            return initialAppData;\n        } catch (error) {\n            console.error('❌ [InitialStateLoader] 載入初始狀態失敗:', error);\n            return this.getDefaultAppData();\n        }\n    }\n    /**\n     * 載入草稿筆記內容\n     */ static loadDraftNote() {\n        try {\n            const draft = localStorage.getItem(this.STORAGE_KEYS.DRAFT_NOTE);\n            return draft || '';\n        } catch (error) {\n            console.warn('⚠️ [InitialStateLoader] 載入草稿筆記失敗:', error);\n            return '';\n        }\n    }\n    /**\n     * 載入上次會話資訊\n     */ static loadLastSession() {\n        try {\n            const sessionData = localStorage.getItem(this.STORAGE_KEYS.LAST_SESSION);\n            if (!sessionData) return null;\n            const session = JSON.parse(sessionData);\n            // 驗證會話資料結構\n            if (session && typeof session === 'object' && session.id) {\n                // 只有在會話狀態不是 completed 或 error 時才恢復\n                if (session.status === 'completed' || session.status === 'error') {\n                    console.log('🔄 [InitialStateLoader] 上次會話已完成，不恢復:', session.status);\n                    return null;\n                }\n                console.log('🔄 [InitialStateLoader] 恢復上次會話:', {\n                    id: session.id,\n                    status: session.status,\n                    type: session.type\n                });\n                return session;\n            }\n            return null;\n        } catch (error) {\n            console.warn('⚠️ [InitialStateLoader] 載入上次會話失敗:', error);\n            return null;\n        }\n    }\n    /**\n     * 載入完整的應用狀態\n     */ static loadSavedAppState() {\n        try {\n            const stateData = localStorage.getItem(this.STORAGE_KEYS.APP_STATE);\n            if (!stateData) return null;\n            const savedState = JSON.parse(stateData);\n            // 驗證狀態資料結構\n            if (savedState && typeof savedState === 'object') {\n                console.log('🔄 [InitialStateLoader] 載入已儲存的應用狀態');\n                return savedState;\n            }\n            return null;\n        } catch (error) {\n            console.warn('⚠️ [InitialStateLoader] 載入應用狀態失敗:', error);\n            return null;\n        }\n    }\n    /**\n     * 獲取預設應用狀態\n     */ static getDefaultAppData() {\n        console.log('🔄 [InitialStateLoader] 使用預設狀態');\n        return {\n            state: 'default',\n            transcriptEntries: [],\n            editorContent: '',\n            isRecording: false,\n            recordingTime: 0,\n            session: null\n        };\n    }\n    /**\n     * 儲存應用狀態到 localStorage\n     */ static saveAppState(appData) {\n        try {\n            // 儲存完整應用狀態（排除敏感資訊）\n            const stateToSave = {\n                state: appData.state,\n                transcriptEntries: appData.transcriptEntries\n            };\n            localStorage.setItem(this.STORAGE_KEYS.APP_STATE, JSON.stringify(stateToSave));\n            // 儲存會話資訊\n            if (appData.session) {\n                localStorage.setItem(this.STORAGE_KEYS.LAST_SESSION, JSON.stringify(appData.session));\n            } else {\n                localStorage.removeItem(this.STORAGE_KEYS.LAST_SESSION);\n            }\n            console.log('💾 [InitialStateLoader] 應用狀態已儲存');\n        } catch (error) {\n            console.error('❌ [InitialStateLoader] 儲存應用狀態失敗:', error);\n        }\n    }\n    /**\n     * 清除所有持久化狀態\n     */ static clearPersistedState() {\n        try {\n            localStorage.removeItem(this.STORAGE_KEYS.APP_STATE);\n            localStorage.removeItem(this.STORAGE_KEYS.LAST_SESSION);\n            // 注意：不清除 DRAFT_NOTE，因為那是用戶的草稿內容\n            console.log('🗑️ [InitialStateLoader] 持久化狀態已清除');\n        } catch (error) {\n            console.error('❌ [InitialStateLoader] 清除持久化狀態失敗:', error);\n        }\n    }\n    /**\n     * 檢查是否有持久化狀態\n     */ static hasPersistedState() {\n        try {\n            return !!(localStorage.getItem(this.STORAGE_KEYS.APP_STATE) || localStorage.getItem(this.STORAGE_KEYS.LAST_SESSION));\n        } catch (error) {\n            console.warn('⚠️ [InitialStateLoader] 檢查持久化狀態失敗:', error);\n            return false;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZSxVQUFVLENBQUMsSUFBSSxDQUFDL0MsWUFBWSxDQUFDRSxZQUFZO1lBQzFEO1lBRUFHLFFBQVFDLEdBQUcsQ0FBQztRQUNoQixFQUFFLE9BQU91QixPQUFPO1lBQ1p4QixRQUFRd0IsS0FBSyxDQUFDLG9DQUFvQ0E7UUFDdEQ7SUFDSjtJQUVBOztLQUVDLEdBQ0QsT0FBT21CLHNCQUE0QjtRQUMvQixJQUFJO1lBQ0FoQixhQUFhZSxVQUFVLENBQUMsSUFBSSxDQUFDL0MsWUFBWSxDQUFDRyxTQUFTO1lBQ25ENkIsYUFBYWUsVUFBVSxDQUFDLElBQUksQ0FBQy9DLFlBQVksQ0FBQ0UsWUFBWTtZQUN0RCxnQ0FBZ0M7WUFFaENHLFFBQVFDLEdBQUcsQ0FBQztRQUNoQixFQUFFLE9BQU91QixPQUFPO1lBQ1p4QixRQUFRd0IsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDdkQ7SUFDSjtJQUVBOztLQUVDLEdBQ0QsT0FBT29CLG9CQUE2QjtRQUNoQyxJQUFJO1lBQ0EsT0FBTyxDQUFDLENBQ0pqQixDQUFBQSxhQUFhQyxPQUFPLENBQUMsSUFBSSxDQUFDakMsWUFBWSxDQUFDRyxTQUFTLEtBQ2hENkIsYUFBYUMsT0FBTyxDQUFDLElBQUksQ0FBQ2pDLFlBQVksQ0FBQ0UsWUFBWTtRQUUzRCxFQUFFLE9BQU8yQixPQUFPO1lBQ1p4QixRQUFRNkIsSUFBSSxDQUFDLHNDQUFzQ0w7WUFDbkQsT0FBTztRQUNYO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL2luaXRpYWwtc3RhdGUtbG9hZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB0eXBlIHsgQXBwRGF0YSB9IGZyb20gJy4uL3R5cGVzL2FwcC1zdGF0ZSdcblxuLyoqXG4gKiDliJ3lp4vni4DmhYvovInlhaXlmahcbiAqIOiyoOiyrOW+niBsb2NhbFN0b3JhZ2Ug5oiW5YW25LuW5oyB5LmF5YyW5a2Y5YSy6LyJ5YWl5Yid5aeL54uA5oWLXG4gKi9cbmV4cG9ydCBjbGFzcyBJbml0aWFsU3RhdGVMb2FkZXIge1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFNUT1JBR0VfS0VZUyA9IHtcbiAgICAgICAgRFJBRlRfTk9URTogJ2RyYWZ0X25vdGUnLFxuICAgICAgICBMQVNUX1NFU1NJT046ICdsYXN0X3Nlc3Npb24nLFxuICAgICAgICBBUFBfU1RBVEU6ICdhcHBfc3RhdGVfdjEnLFxuICAgIH0gYXMgY29uc3RcblxuICAgIC8qKlxuICAgICAqIOi8ieWFpeWIneWni+aHieeUqOeLgOaFi1xuICAgICAqIOWEquWFiOmghuW6j++8mmxvY2FsU3RvcmFnZSA+IOmgkOioreeLgOaFi1xuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkSW5pdGlhbEFwcERhdGEoKTogQXBwRGF0YSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFtJbml0aWFsU3RhdGVMb2FkZXJdIOmWi+Wni+i8ieWFpeWIneWni+eLgOaFiycpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIDEuIOi8ieWFpeiNieeov+ethuiomFxuICAgICAgICAgICAgY29uc3QgZHJhZnRDb250ZW50ID0gdGhpcy5sb2FkRHJhZnROb3RlKClcblxuICAgICAgICAgICAgLy8gMi4g6LyJ5YWl5LiK5qyh5pyD6Kmx6LOH6KiK77yI5aaC5p6c5pyJ55qE6Kmx77yJXG4gICAgICAgICAgICBjb25zdCBsYXN0U2Vzc2lvbiA9IHRoaXMubG9hZExhc3RTZXNzaW9uKClcblxuICAgICAgICAgICAgLy8gMy4g6LyJ5YWl5a6M5pW05oeJ55So54uA5oWL77yI5aaC5p6c5pyJ55qE6Kmx77yJXG4gICAgICAgICAgICBjb25zdCBzYXZlZEFwcFN0YXRlID0gdGhpcy5sb2FkU2F2ZWRBcHBTdGF0ZSgpXG5cbiAgICAgICAgICAgIC8vIOS/ruato++8muWmguaenOWEsuWtmOeahOeLgOaFi+aYr+aaq+aZguaAp+aIluW3suWujOaIkOeahO+8jOWJh+mHjee9rueCuumgkOioreeLgOaFi1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0luaXRpYWxTdGF0ZUxvYWRlcl0g5qqi5p+l5YSy5a2Y55qE54uA5oWLOicsIHtcbiAgICAgICAgICAgICAgICBzYXZlZFN0YXRlOiBzYXZlZEFwcFN0YXRlPy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBzaG91bGRSZXNldDogc2F2ZWRBcHBTdGF0ZT8uc3RhdGUgJiYgWydyZWNvcmRpbmdfd2FpdGluZycsICdyZWNvcmRpbmdfYWN0aXZlJywgJ3Byb2Nlc3NpbmcnLCAnZmluaXNoZWQnXS5pbmNsdWRlcyhzYXZlZEFwcFN0YXRlLnN0YXRlKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29uc3QgdmFsaWRJbml0aWFsU3RhdGUgPVxuICAgICAgICAgICAgICAgIHNhdmVkQXBwU3RhdGU/LnN0YXRlICYmXG4gICAgICAgICAgICAgICAgICAgICFbJ3JlY29yZGluZ193YWl0aW5nJywgJ3JlY29yZGluZ19hY3RpdmUnLCAncHJvY2Vzc2luZycsICdmaW5pc2hlZCddLmluY2x1ZGVzKHNhdmVkQXBwU3RhdGUuc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgID8gc2F2ZWRBcHBTdGF0ZS5zdGF0ZVxuICAgICAgICAgICAgICAgICAgICA6ICdkZWZhdWx0J1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbSW5pdGlhbFN0YXRlTG9hZGVyXSDmnIDntYLliJ3lp4vni4DmhYs6JywgdmFsaWRJbml0aWFsU3RhdGUpXG5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxBcHBEYXRhOiBBcHBEYXRhID0ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiB2YWxpZEluaXRpYWxTdGF0ZSxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0RW50cmllczogc2F2ZWRBcHBTdGF0ZT8udHJhbnNjcmlwdEVudHJpZXMgfHwgW10sXG4gICAgICAgICAgICAgICAgZWRpdG9yQ29udGVudDogZHJhZnRDb250ZW50IHx8ICcnLFxuICAgICAgICAgICAgICAgIGlzUmVjb3JkaW5nOiBmYWxzZSwgLy8g6YeN5ZWf5b6M5rC46YGg5LiN5oeJ6Kmy5piv6YyE6Z+z54uA5oWLXG4gICAgICAgICAgICAgICAgcmVjb3JkaW5nVGltZTogMCwgICAvLyDph43llZ/lvozph43nva7pjITpn7PmmYLplpNcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiBsYXN0U2Vzc2lvbiwgLy8g5Y+v6IO954K6IG51bGxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW0luaXRpYWxTdGF0ZUxvYWRlcl0g5Yid5aeL54uA5oWL6LyJ5YWl5a6M5oiQOicsIHtcbiAgICAgICAgICAgICAgICBoYXNEcmFmdENvbnRlbnQ6ICEhZHJhZnRDb250ZW50LFxuICAgICAgICAgICAgICAgIGhhc0xhc3RTZXNzaW9uOiAhIWxhc3RTZXNzaW9uLFxuICAgICAgICAgICAgICAgIGhhc1NhdmVkQXBwU3RhdGU6ICEhc2F2ZWRBcHBTdGF0ZSxcbiAgICAgICAgICAgICAgICBzdGF0ZTogaW5pdGlhbEFwcERhdGEuc3RhdGUsXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdENvdW50OiBpbml0aWFsQXBwRGF0YS50cmFuc2NyaXB0RW50cmllcy5sZW5ndGhcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsQXBwRGF0YVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtJbml0aWFsU3RhdGVMb2FkZXJdIOi8ieWFpeWIneWni+eLgOaFi+WkseaVlzonLCBlcnJvcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERlZmF1bHRBcHBEYXRhKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOi8ieWFpeiNieeov+ethuiomOWFp+WuuVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGxvYWREcmFmdE5vdGUoKTogc3RyaW5nIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRyYWZ0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuRFJBRlRfTk9URSlcbiAgICAgICAgICAgIHJldHVybiBkcmFmdCB8fCAnJ1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW0luaXRpYWxTdGF0ZUxvYWRlcl0g6LyJ5YWl6I2J56i/562G6KiY5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDovInlhaXkuIrmrKHmnIPoqbHos4foqIpcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBsb2FkTGFzdFNlc3Npb24oKTogQXBwRGF0YVsnc2Vzc2lvbiddIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuTEFTVF9TRVNTSU9OKVxuICAgICAgICAgICAgaWYgKCFzZXNzaW9uRGF0YSkgcmV0dXJuIG51bGxcblxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IEpTT04ucGFyc2Uoc2Vzc2lvbkRhdGEpXG5cbiAgICAgICAgICAgIC8vIOmpl+itieacg+ipseizh+aWmee1kOani1xuICAgICAgICAgICAgaWYgKHNlc3Npb24gJiYgdHlwZW9mIHNlc3Npb24gPT09ICdvYmplY3QnICYmIHNlc3Npb24uaWQpIHtcbiAgICAgICAgICAgICAgICAvLyDlj6rmnInlnKjmnIPoqbHni4DmhYvkuI3mmK8gY29tcGxldGVkIOaIliBlcnJvciDmmYLmiY3mgaLlvqlcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdGF0dXMgPT09ICdjb21wbGV0ZWQnIHx8IHNlc3Npb24uc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFtJbml0aWFsU3RhdGVMb2FkZXJdIOS4iuasoeacg+ipseW3suWujOaIkO+8jOS4jeaBouW+qTonLCBzZXNzaW9uLnN0YXR1cylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbSW5pdGlhbFN0YXRlTG9hZGVyXSDmgaLlvqnkuIrmrKHmnIPoqbE6Jywge1xuICAgICAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzZXNzaW9uLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogc2Vzc2lvbi50eXBlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW0luaXRpYWxTdGF0ZUxvYWRlcl0g6LyJ5YWl5LiK5qyh5pyD6Kmx5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOi8ieWFpeWujOaVtOeahOaHieeUqOeLgOaFi1xuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGxvYWRTYXZlZEFwcFN0YXRlKCk6IFBhcnRpYWw8QXBwRGF0YT4gfCBudWxsIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuU1RPUkFHRV9LRVlTLkFQUF9TVEFURSlcbiAgICAgICAgICAgIGlmICghc3RhdGVEYXRhKSByZXR1cm4gbnVsbFxuXG4gICAgICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gSlNPTi5wYXJzZShzdGF0ZURhdGEpXG5cbiAgICAgICAgICAgIC8vIOmpl+itieeLgOaFi+izh+aWmee1kOani1xuICAgICAgICAgICAgaWYgKHNhdmVkU3RhdGUgJiYgdHlwZW9mIHNhdmVkU3RhdGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW0luaXRpYWxTdGF0ZUxvYWRlcl0g6LyJ5YWl5bey5YSy5a2Y55qE5oeJ55So54uA5oWLJylcbiAgICAgICAgICAgICAgICByZXR1cm4gc2F2ZWRTdGF0ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW0luaXRpYWxTdGF0ZUxvYWRlcl0g6LyJ5YWl5oeJ55So54uA5oWL5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeNsuWPlumgkOioreaHieeUqOeLgOaFi1xuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldERlZmF1bHRBcHBEYXRhKCk6IEFwcERhdGEge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbSW5pdGlhbFN0YXRlTG9hZGVyXSDkvb/nlKjpoJDoqK3ni4DmhYsnKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdGU6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBbXSxcbiAgICAgICAgICAgIGVkaXRvckNvbnRlbnQ6ICcnLFxuICAgICAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVjb3JkaW5nVGltZTogMCxcbiAgICAgICAgICAgIHNlc3Npb246IG51bGwsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhLLlrZjmh4nnlKjni4DmhYvliLAgbG9jYWxTdG9yYWdlXG4gICAgICovXG4gICAgc3RhdGljIHNhdmVBcHBTdGF0ZShhcHBEYXRhOiBBcHBEYXRhKTogdm9pZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyDlhLLlrZjlrozmlbTmh4nnlKjni4DmhYvvvIjmjpLpmaTmlY/mhJ/os4foqIrvvIlcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlVG9TYXZlID0ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBhcHBEYXRhLnN0YXRlLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBhcHBEYXRhLnRyYW5zY3JpcHRFbnRyaWVzLFxuICAgICAgICAgICAgICAgIC8vIOS4jeWEsuWtmCBlZGl0b3JDb250ZW5077yI5bey5Zau542o5YSy5a2Y54K6IGRyYWZ0X25vdGXvvIlcbiAgICAgICAgICAgICAgICAvLyDkuI3lhLLlrZggaXNSZWNvcmRpbmcg5ZKMIHJlY29yZGluZ1RpbWXvvIjph43llZ/lvozmh4nph43nva7vvIlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuQVBQX1NUQVRFLCBKU09OLnN0cmluZ2lmeShzdGF0ZVRvU2F2ZSkpXG5cbiAgICAgICAgICAgIC8vIOWEsuWtmOacg+ipseizh+ioilxuICAgICAgICAgICAgaWYgKGFwcERhdGEuc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuU1RPUkFHRV9LRVlTLkxBU1RfU0VTU0lPTiwgSlNPTi5zdHJpbmdpZnkoYXBwRGF0YS5zZXNzaW9uKSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuTEFTVF9TRVNTSU9OKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBbSW5pdGlhbFN0YXRlTG9hZGVyXSDmh4nnlKjni4DmhYvlt7LlhLLlrZgnKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtJbml0aWFsU3RhdGVMb2FkZXJdIOWEsuWtmOaHieeUqOeLgOaFi+WkseaVlzonLCBlcnJvcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOa4hemZpOaJgOacieaMgeS5heWMlueLgOaFi1xuICAgICAqL1xuICAgIHN0YXRpYyBjbGVhclBlcnNpc3RlZFN0YXRlKCk6IHZvaWQge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuQVBQX1NUQVRFKVxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuTEFTVF9TRVNTSU9OKVxuICAgICAgICAgICAgLy8g5rOo5oSP77ya5LiN5riF6ZmkIERSQUZUX05PVEXvvIzlm6DngrrpgqPmmK/nlKjmiLbnmoTojYnnqL/lhaflrrlcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8gW0luaXRpYWxTdGF0ZUxvYWRlcl0g5oyB5LmF5YyW54uA5oWL5bey5riF6ZmkJylcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbSW5pdGlhbFN0YXRlTG9hZGVyXSDmuIXpmaTmjIHkuYXljJbni4DmhYvlpLHmlZc6JywgZXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmqqLmn6XmmK/lkKbmnInmjIHkuYXljJbni4DmhYtcbiAgICAgKi9cbiAgICBzdGF0aWMgaGFzUGVyc2lzdGVkU3RhdGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gISEoXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuQVBQX1NUQVRFKSB8fFxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuU1RPUkFHRV9LRVlTLkxBU1RfU0VTU0lPTilcbiAgICAgICAgICAgIClcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFtJbml0aWFsU3RhdGVMb2FkZXJdIOaqouafpeaMgeS5heWMlueLgOaFi+WkseaVlzonLCBlcnJvcilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkluaXRpYWxTdGF0ZUxvYWRlciIsIlNUT1JBR0VfS0VZUyIsIkRSQUZUX05PVEUiLCJMQVNUX1NFU1NJT04iLCJBUFBfU1RBVEUiLCJsb2FkSW5pdGlhbEFwcERhdGEiLCJjb25zb2xlIiwibG9nIiwiZHJhZnRDb250ZW50IiwibG9hZERyYWZ0Tm90ZSIsImxhc3RTZXNzaW9uIiwibG9hZExhc3RTZXNzaW9uIiwic2F2ZWRBcHBTdGF0ZSIsImxvYWRTYXZlZEFwcFN0YXRlIiwic2F2ZWRTdGF0ZSIsInN0YXRlIiwic2hvdWxkUmVzZXQiLCJpbmNsdWRlcyIsInZhbGlkSW5pdGlhbFN0YXRlIiwiaW5pdGlhbEFwcERhdGEiLCJ0cmFuc2NyaXB0RW50cmllcyIsImVkaXRvckNvbnRlbnQiLCJpc1JlY29yZGluZyIsInJlY29yZGluZ1RpbWUiLCJzZXNzaW9uIiwiaGFzRHJhZnRDb250ZW50IiwiaGFzTGFzdFNlc3Npb24iLCJoYXNTYXZlZEFwcFN0YXRlIiwidHJhbnNjcmlwdENvdW50IiwibGVuZ3RoIiwiZXJyb3IiLCJnZXREZWZhdWx0QXBwRGF0YSIsImRyYWZ0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIndhcm4iLCJzZXNzaW9uRGF0YSIsIkpTT04iLCJwYXJzZSIsImlkIiwic3RhdHVzIiwidHlwZSIsInN0YXRlRGF0YSIsInNhdmVBcHBTdGF0ZSIsImFwcERhdGEiLCJzdGF0ZVRvU2F2ZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwiY2xlYXJQZXJzaXN0ZWRTdGF0ZSIsImhhc1BlcnNpc3RlZFN0YXRlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/initial-state-loader.ts\n");

/***/ }),

/***/ "(ssr)/./lib/rest-audio-uploader.ts":
/*!************************************!*\
  !*** ./lib/rest-audio-uploader.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RestAudioUploader: () => (/* binding */ RestAudioUploader),\n/* harmony export */   restAudioUploader: () => (/* binding */ restAudioUploader)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ RestAudioUploader,restAudioUploader auto */ class RestAudioUploader {\n    constructor(){\n        this.sessionId = null;\n        this.uploadQueue = new Map();\n        this.retryCount = new Map();\n        this.maxRetries = 3;\n        if (false) {}\n    }\n    /**\n     * 初始化 IndexedDB 存儲\n     */ async initIndexedDB() {\n        if (true) {\n            console.warn('⚠️ [RestAudioUploader] IndexedDB 不可用（服務器端渲染）');\n            return;\n        }\n        return new Promise((resolve, reject)=>{\n            const request = indexedDB.open('AudioSegmentCache', 1);\n            request.onerror = ()=>{\n                console.error('❌ [RestAudioUploader] IndexedDB 開啟失敗');\n                reject(new Error('IndexedDB 初始化失敗'));\n            };\n            request.onsuccess = ()=>{\n                console.log('✅ [RestAudioUploader] IndexedDB 初始化成功');\n                resolve();\n            };\n            request.onupgradeneeded = (event)=>{\n                const db = event.target.result;\n                if (!db.objectStoreNames.contains('failedSegments')) {\n                    const store = db.createObjectStore('failedSegments', {\n                        keyPath: 'id'\n                    });\n                    store.createIndex('sessionId', 'sessionId', {\n                        unique: false\n                    });\n                    store.createIndex('timestamp', 'timestamp', {\n                        unique: false\n                    });\n                }\n            };\n        });\n    }\n    /**\n     * 設定 session ID\n     */ setSessionId(sessionId) {\n        this.sessionId = sessionId;\n        console.log('🎯 [RestAudioUploader] Session ID 設定:', sessionId);\n    }\n    /**\n     * 上傳音頻段落\n     */ async uploadSegment(sequence, blob) {\n        if (!this.sessionId) {\n            throw new Error('Session ID 未設定');\n        }\n        console.log(`📤 [RestAudioUploader] 準備上傳段落 #${sequence}`, {\n            size: blob.size,\n            mimeType: blob.type,\n            sessionId: this.sessionId\n        });\n        try {\n            const formData = new FormData();\n            formData.append('seq', sequence.toString());\n            formData.append('file', blob, `seg${sequence}.webm`);\n            const response = await fetch(`/api/segment?sid=${this.sessionId}`, {\n                method: 'POST',\n                body: formData\n            });\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            const result = await response.json();\n            console.log(`✅ [RestAudioUploader] 段落 #${sequence} 上傳成功`, result);\n            // 重置重試計數\n            this.retryCount.delete(sequence);\n            // 觸發成功回調\n            this.onUploadSuccessCallback?.(sequence, result);\n            return result;\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : '上傳失敗';\n            console.error(`❌ [RestAudioUploader] 段落 #${sequence} 上傳失敗:`, errorMessage);\n            // 處理重試邏輯\n            await this.handleUploadFailure(sequence, blob, errorMessage);\n            throw new Error(errorMessage);\n        }\n    }\n    /**\n     * 處理上傳失敗 - 重試或暫存\n     */ async handleUploadFailure(sequence, blob, error) {\n        const currentRetries = this.retryCount.get(sequence) || 0;\n        if (currentRetries < this.maxRetries) {\n            // 嘗試重試\n            this.retryCount.set(sequence, currentRetries + 1);\n            console.log(`🔄 [RestAudioUploader] 段落 #${sequence} 準備重試 (${currentRetries + 1}/${this.maxRetries})`);\n            // 延遲重試（漸進式延遲）\n            const delay = Math.pow(2, currentRetries) * 1000 // 1s, 2s, 4s\n            ;\n            setTimeout(()=>{\n                this.retryUpload(sequence, blob);\n            }, delay);\n        } else {\n            // 達到最大重試次數，暫存到 IndexedDB\n            console.warn(`⚠️ [RestAudioUploader] 段落 #${sequence} 達到最大重試次數，暫存到本地`);\n            await this.cacheFailedSegment(sequence, blob);\n            // 觸發錯誤回調\n            this.onUploadErrorCallback?.(sequence, `達到最大重試次數: ${error}`);\n        }\n    }\n    /**\n     * 重試上傳\n     */ async retryUpload(sequence, blob) {\n        try {\n            await this.uploadSegment(sequence, blob);\n        } catch (error) {\n            // 重試失敗會再次觸發 handleUploadFailure\n            console.log(`⚠️ [RestAudioUploader] 段落 #${sequence} 重試失敗`);\n        }\n    }\n    /**\n * 暫存失敗的段落到 IndexedDB\n */ async cacheFailedSegment(sequence, blob) {\n        if (!this.sessionId || \"undefined\" === 'undefined' || 0) return;\n        try {\n            const request = indexedDB.open('AudioSegmentCache', 1);\n            request.onsuccess = ()=>{\n                const db = request.result;\n                const transaction = db.transaction([\n                    'failedSegments'\n                ], 'readwrite');\n                const store = transaction.objectStore('failedSegments');\n                const failedSegment = {\n                    sessionId: this.sessionId,\n                    sequence,\n                    blob,\n                    timestamp: Date.now(),\n                    retryCount: this.retryCount.get(sequence) || 0\n                };\n                const addRequest = store.put({\n                    id: `${this.sessionId}_${sequence}`,\n                    ...failedSegment\n                });\n                addRequest.onsuccess = ()=>{\n                    console.log(`💾 [RestAudioUploader] 段落 #${sequence} 已暫存到本地`);\n                    this.onCacheStoredCallback?.(sequence);\n                };\n                addRequest.onerror = ()=>{\n                    console.error(`❌ [RestAudioUploader] 段落 #${sequence} 暫存失敗`);\n                };\n            };\n        } catch (error) {\n            console.error('❌ [RestAudioUploader] IndexedDB 暫存錯誤:', error);\n        }\n    }\n    /**\n * 重新上傳暫存的失敗段落\n */ async retryFailedSegments() {\n        if (!this.sessionId || \"undefined\" === 'undefined' || 0) return;\n        try {\n            const request = indexedDB.open('AudioSegmentCache', 1);\n            request.onsuccess = ()=>{\n                const db = request.result;\n                const transaction = db.transaction([\n                    'failedSegments'\n                ], 'readonly');\n                const store = transaction.objectStore('failedSegments');\n                const index = store.index('sessionId');\n                const getRequest = index.getAll(this.sessionId);\n                getRequest.onsuccess = async ()=>{\n                    const failedSegments = getRequest.result;\n                    if (failedSegments.length === 0) {\n                        console.log('✅ [RestAudioUploader] 沒有暫存的失敗段落');\n                        return;\n                    }\n                    console.log(`🔄 [RestAudioUploader] 發現 ${failedSegments.length} 個暫存段落，開始重新上傳`);\n                    for (const segment of failedSegments){\n                        try {\n                            await this.uploadSegment(segment.sequence, segment.blob);\n                            // 上傳成功，從 IndexedDB 中移除\n                            await this.removeFailedSegment(`${segment.sessionId}_${segment.sequence}`);\n                        } catch (error) {\n                            console.warn(`⚠️ [RestAudioUploader] 暫存段落 #${segment.sequence} 重新上傳失敗`);\n                        }\n                    }\n                };\n            };\n        } catch (error) {\n            console.error('❌ [RestAudioUploader] 重新上傳暫存段落失敗:', error);\n        }\n    }\n    /**\n * 從 IndexedDB 中移除成功上傳的段落\n */ async removeFailedSegment(id) {\n        if (true) return;\n        try {\n            const request = indexedDB.open('AudioSegmentCache', 1);\n            request.onsuccess = ()=>{\n                const db = request.result;\n                const transaction = db.transaction([\n                    'failedSegments'\n                ], 'readwrite');\n                const store = transaction.objectStore('failedSegments');\n                const deleteRequest = store.delete(id);\n                deleteRequest.onsuccess = ()=>{\n                    console.log(`🗑️ [RestAudioUploader] 已移除暫存段落: ${id}`);\n                };\n            };\n        } catch (error) {\n            console.error('❌ [RestAudioUploader] 移除暫存段落失敗:', error);\n        }\n    }\n    /**\n * 獲取暫存的失敗段落數量\n */ async getCachedSegmentsCount() {\n        if (!this.sessionId || \"undefined\" === 'undefined' || 0) return 0;\n        return new Promise((resolve)=>{\n            const request = indexedDB.open('AudioSegmentCache', 1);\n            request.onsuccess = ()=>{\n                const db = request.result;\n                const transaction = db.transaction([\n                    'failedSegments'\n                ], 'readonly');\n                const store = transaction.objectStore('failedSegments');\n                const index = store.index('sessionId');\n                const countRequest = index.count(this.sessionId);\n                countRequest.onsuccess = ()=>{\n                    resolve(countRequest.result);\n                };\n                countRequest.onerror = ()=>{\n                    resolve(0);\n                };\n            };\n            request.onerror = ()=>{\n                resolve(0);\n            };\n        });\n    }\n    /**\n     * 清理資源\n     */ cleanup() {\n        this.sessionId = null;\n        this.uploadQueue.clear();\n        this.retryCount.clear();\n        console.log('🧹 [RestAudioUploader] 已清理');\n    }\n    // 事件回調設定\n    onUploadSuccess(callback) {\n        this.onUploadSuccessCallback = callback;\n    }\n    onUploadError(callback) {\n        this.onUploadErrorCallback = callback;\n    }\n    onCacheStored(callback) {\n        this.onCacheStoredCallback = callback;\n    }\n}\n// 預設實例\nconst restAudioUploader = new RestAudioUploader();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNdkMsUUFBUXVDLFlBQVlDLFdBQVcsQ0FBQztnQkFDdEMsTUFBTVUsUUFBUWxELE1BQU1rRCxLQUFLLENBQUM7Z0JBQzFCLE1BQU1TLGVBQWVULE1BQU1VLEtBQUssQ0FBQyxJQUFJLENBQUN2RixTQUFTO2dCQUUvQ3NGLGFBQWFwRSxTQUFTLEdBQUc7b0JBQ3JCUCxRQUFRMkUsYUFBYTlELE1BQU07Z0JBQy9CO2dCQUVBOEQsYUFBYXZFLE9BQU8sR0FBRztvQkFDbkJKLFFBQVE7Z0JBQ1o7WUFDSjtZQUVBRSxRQUFRRSxPQUFPLEdBQUc7Z0JBQ2RKLFFBQVE7WUFDWjtRQUNKO0lBQ0o7SUFFQTs7S0FFQyxHQUNENkUsVUFBZ0I7UUFDWixJQUFJLENBQUN4RixTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDQyxXQUFXLENBQUN3RixLQUFLO1FBQ3RCLElBQUksQ0FBQ3RGLFVBQVUsQ0FBQ3NGLEtBQUs7UUFDckJqRixRQUFRVyxHQUFHLENBQUM7SUFDaEI7SUFFQSxTQUFTO0lBQ1R1RSxnQkFBZ0JDLFFBQWdFLEVBQVE7UUFDcEYsSUFBSSxDQUFDdkMsdUJBQXVCLEdBQUd1QztJQUNuQztJQUVBQyxjQUFjRCxRQUE4QyxFQUFRO1FBQ2hFLElBQUksQ0FBQzFCLHFCQUFxQixHQUFHMEI7SUFDakM7SUFFQUUsY0FBY0YsUUFBK0IsRUFBUTtRQUNqRCxJQUFJLENBQUNoQixxQkFBcUIsR0FBR2dCO0lBQ2pDO0FBQ0o7QUFFQSxPQUFPO0FBQ0EsTUFBTUcsb0JBQW9CLElBQUloRyxvQkFBbUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9yZXN0LWF1ZGlvLXVwbG9hZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbi8qKlxuICogUmVzdEF1ZGlvVXBsb2FkZXIgLSBSRVNUIEFQSSDpn7PpoLvkuIrlgrPlmahcbiAqXG4gKiBQaGFzZSAyIOmHjeani++8muabv+aPmyBXZWJTb2NrZXQg54K6IFJFU1QgQVBJIOS4iuWCs1xuICpcbiAqIOeJuem7nu+8mlxuICogLSDkvb/nlKggZmV0Y2ggUE9TVCBgL2FwaS9zZWdtZW50YCDkuIrlgrPlrozmlbQgMTBzIOaqlOahiFxuICogLSDlr6bkvZzkuIrlgrPpjK/oqqTomZXnkIblkozph43oqabmqZ/liLZcbiAqIC0g5L2/55SoIEluZGV4ZWREQiDmmqvlrZjlpLHmlZfnmoTmqpTmoYhcbiAqIC0g57Ch5YyW55qE6Yyv6Kqk6JmV55CG5rWB56iLXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRTZWdtZW50UmVzcG9uc2Uge1xuICAgIGFjazogbnVtYmVyXG4gICAgc2l6ZTogbnVtYmVyXG4gICAgc3RhdHVzOiAnc3VjY2VzcycgfCAnZXJyb3InXG4gICAgZXJyb3I/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGYWlsZWRTZWdtZW50IHtcbiAgICBzZXNzaW9uSWQ6IHN0cmluZ1xuICAgIHNlcXVlbmNlOiBudW1iZXJcbiAgICBibG9iOiBCbG9iXG4gICAgdGltZXN0YW1wOiBudW1iZXJcbiAgICByZXRyeUNvdW50OiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIFJlc3RBdWRpb1VwbG9hZGVyIHtcbiAgICBwcml2YXRlIHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgICBwcml2YXRlIHVwbG9hZFF1ZXVlOiBNYXA8bnVtYmVyLCBCbG9iPiA9IG5ldyBNYXAoKVxuICAgIHByaXZhdGUgcmV0cnlDb3VudDogTWFwPG51bWJlciwgbnVtYmVyPiA9IG5ldyBNYXAoKVxuICAgIHByaXZhdGUgbWF4UmV0cmllcyA9IDNcblxuICAgIC8vIOS6i+S7tuWbnuiqv1xuICAgIHByaXZhdGUgb25VcGxvYWRTdWNjZXNzQ2FsbGJhY2s/OiAoc2VxOiBudW1iZXIsIHJlc3BvbnNlOiBVcGxvYWRTZWdtZW50UmVzcG9uc2UpID0+IHZvaWRcbiAgICBwcml2YXRlIG9uVXBsb2FkRXJyb3JDYWxsYmFjaz86IChzZXE6IG51bWJlciwgZXJyb3I6IHN0cmluZykgPT4gdm9pZFxuICAgIHByaXZhdGUgb25DYWNoZVN0b3JlZENhbGxiYWNrPzogKHNlcTogbnVtYmVyKSA9PiB2b2lkXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRJbmRleGVkREIoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Yid5aeL5YyWIEluZGV4ZWREQiDlrZjlhLJcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGluaXRJbmRleGVkREIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93LmluZGV4ZWREQikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW1Jlc3RBdWRpb1VwbG9hZGVyXSBJbmRleGVkREIg5LiN5Y+v55So77yI5pyN5YuZ5Zmo56uv5riy5p+T77yJJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbignQXVkaW9TZWdtZW50Q2FjaGUnLCAxKVxuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtSZXN0QXVkaW9VcGxvYWRlcl0gSW5kZXhlZERCIOmWi+WVn+WkseaVlycpXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignSW5kZXhlZERCIOWIneWni+WMluWkseaVlycpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtSZXN0QXVkaW9VcGxvYWRlcl0gSW5kZXhlZERCIOWIneWni+WMluaIkOWKnycpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSAoZXZlbnQudGFyZ2V0IGFzIElEQk9wZW5EQlJlcXVlc3QpLnJlc3VsdFxuXG4gICAgICAgICAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdmYWlsZWRTZWdtZW50cycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ2ZhaWxlZFNlZ21lbnRzJywgeyBrZXlQYXRoOiAnaWQnIH0pXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KCdzZXNzaW9uSWQnLCAnc2Vzc2lvbklkJywgeyB1bmlxdWU6IGZhbHNlIH0pXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KCd0aW1lc3RhbXAnLCAndGltZXN0YW1wJywgeyB1bmlxdWU6IGZhbHNlIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOioreWumiBzZXNzaW9uIElEXG4gICAgICovXG4gICAgc2V0U2Vzc2lvbklkKHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46vIFtSZXN0QXVkaW9VcGxvYWRlcl0gU2Vzc2lvbiBJRCDoqK3lrpo6Jywgc2Vzc2lvbklkKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS4iuWCs+mfs+mgu+auteiQvVxuICAgICAqL1xuICAgIGFzeW5jIHVwbG9hZFNlZ21lbnQoc2VxdWVuY2U6IG51bWJlciwgYmxvYjogQmxvYik6IFByb21pc2U8VXBsb2FkU2VnbWVudFJlc3BvbnNlPiB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uSWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBJRCDmnKroqK3lrponKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coYPCfk6QgW1Jlc3RBdWRpb1VwbG9hZGVyXSDmupblgpnkuIrlgrPmrrXokL0gIyR7c2VxdWVuY2V9YCwge1xuICAgICAgICAgICAgc2l6ZTogYmxvYi5zaXplLFxuICAgICAgICAgICAgbWltZVR5cGU6IGJsb2IudHlwZSxcbiAgICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcbiAgICAgICAgfSlcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKVxuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdzZXEnLCBzZXF1ZW5jZS50b1N0cmluZygpKVxuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYmxvYiwgYHNlZyR7c2VxdWVuY2V9LndlYm1gKVxuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NlZ21lbnQ/c2lkPSR7dGhpcy5zZXNzaW9uSWR9YCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogVXBsb2FkU2VnbWVudFJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1Jlc3RBdWRpb1VwbG9hZGVyXSDmrrXokL0gIyR7c2VxdWVuY2V9IOS4iuWCs+aIkOWKn2AsIHJlc3VsdClcblxuICAgICAgICAgICAgLy8g6YeN572u6YeN6Kmm6KiI5pW4XG4gICAgICAgICAgICB0aGlzLnJldHJ5Q291bnQuZGVsZXRlKHNlcXVlbmNlKVxuXG4gICAgICAgICAgICAvLyDop7jnmbzmiJDlip/lm57oqr9cbiAgICAgICAgICAgIHRoaXMub25VcGxvYWRTdWNjZXNzQ2FsbGJhY2s/LihzZXF1ZW5jZSwgcmVzdWx0KVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+S4iuWCs+WkseaVlydcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBbUmVzdEF1ZGlvVXBsb2FkZXJdIOauteiQvSAjJHtzZXF1ZW5jZX0g5LiK5YKz5aSx5pWXOmAsIGVycm9yTWVzc2FnZSlcblxuICAgICAgICAgICAgLy8g6JmV55CG6YeN6Kmm6YKP6LyvXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVVwbG9hZEZhaWx1cmUoc2VxdWVuY2UsIGJsb2IsIGVycm9yTWVzc2FnZSlcblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiZleeQhuS4iuWCs+WkseaVlyAtIOmHjeippuaIluaaq+WtmFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlVXBsb2FkRmFpbHVyZShzZXF1ZW5jZTogbnVtYmVyLCBibG9iOiBCbG9iLCBlcnJvcjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXRyaWVzID0gdGhpcy5yZXRyeUNvdW50LmdldChzZXF1ZW5jZSkgfHwgMFxuXG4gICAgICAgIGlmIChjdXJyZW50UmV0cmllcyA8IHRoaXMubWF4UmV0cmllcykge1xuICAgICAgICAgICAgLy8g5ZiX6Kmm6YeN6KmmXG4gICAgICAgICAgICB0aGlzLnJldHJ5Q291bnQuc2V0KHNlcXVlbmNlLCBjdXJyZW50UmV0cmllcyArIDEpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBbUmVzdEF1ZGlvVXBsb2FkZXJdIOauteiQvSAjJHtzZXF1ZW5jZX0g5rqW5YKZ6YeN6KmmICgke2N1cnJlbnRSZXRyaWVzICsgMX0vJHt0aGlzLm1heFJldHJpZXN9KWApXG5cbiAgICAgICAgICAgIC8vIOW7tumBsumHjeippu+8iOa8uOmAsuW8j+W7tumBsu+8iVxuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLnBvdygyLCBjdXJyZW50UmV0cmllcykgKiAxMDAwIC8vIDFzLCAycywgNHNcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmV0cnlVcGxvYWQoc2VxdWVuY2UsIGJsb2IpXG4gICAgICAgICAgICB9LCBkZWxheSlcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g6YGU5Yiw5pyA5aSn6YeN6Kmm5qyh5pW477yM5pqr5a2Y5YiwIEluZGV4ZWREQlxuICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gW1Jlc3RBdWRpb1VwbG9hZGVyXSDmrrXokL0gIyR7c2VxdWVuY2V9IOmBlOWIsOacgOWkp+mHjeippuasoeaVuO+8jOaaq+WtmOWIsOacrOWcsGApXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhY2hlRmFpbGVkU2VnbWVudChzZXF1ZW5jZSwgYmxvYilcblxuICAgICAgICAgICAgLy8g6Ke455m86Yyv6Kqk5Zue6Kq/XG4gICAgICAgICAgICB0aGlzLm9uVXBsb2FkRXJyb3JDYWxsYmFjaz8uKHNlcXVlbmNlLCBg6YGU5Yiw5pyA5aSn6YeN6Kmm5qyh5pW4OiAke2Vycm9yfWApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDph43oqabkuIrlgrNcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHJldHJ5VXBsb2FkKHNlcXVlbmNlOiBudW1iZXIsIGJsb2I6IEJsb2IpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBsb2FkU2VnbWVudChzZXF1ZW5jZSwgYmxvYilcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIOmHjeippuWkseaVl+acg+WGjeasoeinuOeZvCBoYW5kbGVVcGxvYWRGYWlsdXJlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4pqg77iPIFtSZXN0QXVkaW9VcGxvYWRlcl0g5q616JC9ICMke3NlcXVlbmNlfSDph43oqablpLHmlZdgKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gKiDmmqvlrZjlpLHmlZfnmoTmrrXokL3liLAgSW5kZXhlZERCXG4gKi9cbiAgICBwcml2YXRlIGFzeW5jIGNhY2hlRmFpbGVkU2VnbWVudChzZXF1ZW5jZTogbnVtYmVyLCBibG9iOiBCbG9iKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uSWQgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5pbmRleGVkREIpIHJldHVyblxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oJ0F1ZGlvU2VnbWVudENhY2hlJywgMSlcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSByZXF1ZXN0LnJlc3VsdFxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oWydmYWlsZWRTZWdtZW50cyddLCAncmVhZHdyaXRlJylcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdmYWlsZWRTZWdtZW50cycpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBmYWlsZWRTZWdtZW50OiBGYWlsZWRTZWdtZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkISxcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UsXG4gICAgICAgICAgICAgICAgICAgIGJsb2IsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudDogdGhpcy5yZXRyeUNvdW50LmdldChzZXF1ZW5jZSkgfHwgMFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGFkZFJlcXVlc3QgPSBzdG9yZS5wdXQoe1xuICAgICAgICAgICAgICAgICAgICBpZDogYCR7dGhpcy5zZXNzaW9uSWR9XyR7c2VxdWVuY2V9YCxcbiAgICAgICAgICAgICAgICAgICAgLi4uZmFpbGVkU2VnbWVudFxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBhZGRSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfkr4gW1Jlc3RBdWRpb1VwbG9hZGVyXSDmrrXokL0gIyR7c2VxdWVuY2V9IOW3suaaq+WtmOWIsOacrOWcsGApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DYWNoZVN0b3JlZENhbGxiYWNrPy4oc2VxdWVuY2UpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWRkUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgW1Jlc3RBdWRpb1VwbG9hZGVyXSDmrrXokL0gIyR7c2VxdWVuY2V9IOaaq+WtmOWkseaVl2ApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1Jlc3RBdWRpb1VwbG9hZGVyXSBJbmRleGVkREIg5pqr5a2Y6Yyv6KqkOicsIGVycm9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gKiDph43mlrDkuIrlgrPmmqvlrZjnmoTlpLHmlZfmrrXokL1cbiAqL1xuICAgIGFzeW5jIHJldHJ5RmFpbGVkU2VnbWVudHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uSWQgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5pbmRleGVkREIpIHJldHVyblxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oJ0F1ZGlvU2VnbWVudENhY2hlJywgMSlcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSByZXF1ZXN0LnJlc3VsdFxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oWydmYWlsZWRTZWdtZW50cyddLCAncmVhZG9ubHknKVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ2ZhaWxlZFNlZ21lbnRzJylcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHN0b3JlLmluZGV4KCdzZXNzaW9uSWQnKVxuICAgICAgICAgICAgICAgIGNvbnN0IGdldFJlcXVlc3QgPSBpbmRleC5nZXRBbGwodGhpcy5zZXNzaW9uSWQpXG5cbiAgICAgICAgICAgICAgICBnZXRSZXF1ZXN0Lm9uc3VjY2VzcyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFpbGVkU2VnbWVudHMgPSBnZXRSZXF1ZXN0LnJlc3VsdFxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsZWRTZWdtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW1Jlc3RBdWRpb1VwbG9hZGVyXSDmspLmnInmmqvlrZjnmoTlpLHmlZfmrrXokL0nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBbUmVzdEF1ZGlvVXBsb2FkZXJdIOeZvOePviAke2ZhaWxlZFNlZ21lbnRzLmxlbmd0aH0g5YCL5pqr5a2Y5q616JC977yM6ZaL5aeL6YeN5paw5LiK5YKzYClcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgZmFpbGVkU2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGxvYWRTZWdtZW50KHNlZ21lbnQuc2VxdWVuY2UsIHNlZ21lbnQuYmxvYilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS4iuWCs+aIkOWKn++8jOW+niBJbmRleGVkREIg5Lit56e76ZmkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW1vdmVGYWlsZWRTZWdtZW50KGAke3NlZ21lbnQuc2Vzc2lvbklkfV8ke3NlZ21lbnQuc2VxdWVuY2V9YClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBbUmVzdEF1ZGlvVXBsb2FkZXJdIOaaq+WtmOauteiQvSAjJHtzZWdtZW50LnNlcXVlbmNlfSDph43mlrDkuIrlgrPlpLHmlZdgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1Jlc3RBdWRpb1VwbG9hZGVyXSDph43mlrDkuIrlgrPmmqvlrZjmrrXokL3lpLHmlZc6JywgZXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAqIOW+niBJbmRleGVkREIg5Lit56e76Zmk5oiQ5Yqf5LiK5YKz55qE5q616JC9XG4gKi9cbiAgICBwcml2YXRlIGFzeW5jIHJlbW92ZUZhaWxlZFNlZ21lbnQoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5pbmRleGVkREIpIHJldHVyblxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oJ0F1ZGlvU2VnbWVudENhY2hlJywgMSlcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSByZXF1ZXN0LnJlc3VsdFxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oWydmYWlsZWRTZWdtZW50cyddLCAncmVhZHdyaXRlJylcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdmYWlsZWRTZWdtZW50cycpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVSZXF1ZXN0ID0gc3RvcmUuZGVsZXRlKGlkKVxuICAgICAgICAgICAgICAgIGRlbGV0ZVJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+Xke+4jyBbUmVzdEF1ZGlvVXBsb2FkZXJdIOW3suenu+mZpOaaq+WtmOauteiQvTogJHtpZH1gKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtSZXN0QXVkaW9VcGxvYWRlcl0g56e76Zmk5pqr5a2Y5q616JC95aSx5pWXOicsIGVycm9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gKiDnjbLlj5bmmqvlrZjnmoTlpLHmlZfmrrXokL3mlbjph49cbiAqL1xuICAgIGFzeW5jIGdldENhY2hlZFNlZ21lbnRzQ291bnQoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25JZCB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93LmluZGV4ZWREQikgcmV0dXJuIDBcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbignQXVkaW9TZWdtZW50Q2FjaGUnLCAxKVxuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IHJlcXVlc3QucmVzdWx0XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbJ2ZhaWxlZFNlZ21lbnRzJ10sICdyZWFkb25seScpXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnZmFpbGVkU2VnbWVudHMnKVxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc3RvcmUuaW5kZXgoJ3Nlc3Npb25JZCcpXG4gICAgICAgICAgICAgICAgY29uc3QgY291bnRSZXF1ZXN0ID0gaW5kZXguY291bnQodGhpcy5zZXNzaW9uSWQhKVxuXG4gICAgICAgICAgICAgICAgY291bnRSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjb3VudFJlcXVlc3QucmVzdWx0KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvdW50UmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKDApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOa4heeQhuizh+a6kFxuICAgICAqL1xuICAgIGNsZWFudXAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gbnVsbFxuICAgICAgICB0aGlzLnVwbG9hZFF1ZXVlLmNsZWFyKClcbiAgICAgICAgdGhpcy5yZXRyeUNvdW50LmNsZWFyKClcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfp7kgW1Jlc3RBdWRpb1VwbG9hZGVyXSDlt7LmuIXnkIYnKVxuICAgIH1cblxuICAgIC8vIOS6i+S7tuWbnuiqv+ioreWumlxuICAgIG9uVXBsb2FkU3VjY2VzcyhjYWxsYmFjazogKHNlcTogbnVtYmVyLCByZXNwb25zZTogVXBsb2FkU2VnbWVudFJlc3BvbnNlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHRoaXMub25VcGxvYWRTdWNjZXNzQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIG9uVXBsb2FkRXJyb3IoY2FsbGJhY2s6IChzZXE6IG51bWJlciwgZXJyb3I6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICB0aGlzLm9uVXBsb2FkRXJyb3JDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxuXG4gICAgb25DYWNoZVN0b3JlZChjYWxsYmFjazogKHNlcTogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHRoaXMub25DYWNoZVN0b3JlZENhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG59XG5cbi8vIOmgkOioreWvpuS+i1xuZXhwb3J0IGNvbnN0IHJlc3RBdWRpb1VwbG9hZGVyID0gbmV3IFJlc3RBdWRpb1VwbG9hZGVyKClcbiJdLCJuYW1lcyI6WyJSZXN0QXVkaW9VcGxvYWRlciIsImNvbnN0cnVjdG9yIiwic2Vzc2lvbklkIiwidXBsb2FkUXVldWUiLCJNYXAiLCJyZXRyeUNvdW50IiwibWF4UmV0cmllcyIsImluaXRJbmRleGVkREIiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJjb25zb2xlIiwid2FybiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsIm9wZW4iLCJvbmVycm9yIiwiZXJyb3IiLCJFcnJvciIsIm9uc3VjY2VzcyIsImxvZyIsIm9udXBncmFkZW5lZWRlZCIsImV2ZW50IiwiZGIiLCJ0YXJnZXQiLCJyZXN1bHQiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJzdG9yZSIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwic2V0U2Vzc2lvbklkIiwidXBsb2FkU2VnbWVudCIsInNlcXVlbmNlIiwiYmxvYiIsInNpemUiLCJtaW1lVHlwZSIsInR5cGUiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidG9TdHJpbmciLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIm9rIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImpzb24iLCJkZWxldGUiLCJvblVwbG9hZFN1Y2Nlc3NDYWxsYmFjayIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJoYW5kbGVVcGxvYWRGYWlsdXJlIiwiY3VycmVudFJldHJpZXMiLCJnZXQiLCJzZXQiLCJkZWxheSIsIk1hdGgiLCJwb3ciLCJzZXRUaW1lb3V0IiwicmV0cnlVcGxvYWQiLCJjYWNoZUZhaWxlZFNlZ21lbnQiLCJvblVwbG9hZEVycm9yQ2FsbGJhY2siLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiZmFpbGVkU2VnbWVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJhZGRSZXF1ZXN0IiwicHV0IiwiaWQiLCJvbkNhY2hlU3RvcmVkQ2FsbGJhY2siLCJyZXRyeUZhaWxlZFNlZ21lbnRzIiwiaW5kZXgiLCJnZXRSZXF1ZXN0IiwiZ2V0QWxsIiwiZmFpbGVkU2VnbWVudHMiLCJsZW5ndGgiLCJzZWdtZW50IiwicmVtb3ZlRmFpbGVkU2VnbWVudCIsImRlbGV0ZVJlcXVlc3QiLCJnZXRDYWNoZWRTZWdtZW50c0NvdW50IiwiY291bnRSZXF1ZXN0IiwiY291bnQiLCJjbGVhbnVwIiwiY2xlYXIiLCJvblVwbG9hZFN1Y2Nlc3MiLCJjYWxsYmFjayIsIm9uVXBsb2FkRXJyb3IiLCJvbkNhY2hlU3RvcmVkIiwicmVzdEF1ZGlvVXBsb2FkZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/rest-audio-uploader.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/base-service.ts":
/*!**************************************!*\
  !*** ./lib/services/base-service.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseService: () => (/* binding */ BaseService),\n/* harmony export */   ServiceError: () => (/* binding */ ServiceError)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ BaseService,ServiceError auto */ /**\n * BaseService - 服務層基礎抽象類\n *\n * 提供統一的服務基礎設施：\n * - 統一日誌介面\n * - 生命週期管理 (initialize/cleanup)\n * - 錯誤處理模式\n * - 服務狀態管理\n */ class BaseService {\n    /**\n     * 啟動服務\n     * 統一的啟動流程：檢查狀態 → 初始化 → 標記為運行中\n     */ async start() {\n        if (this._isRunning) {\n            this.logger.warn(`🔄 [${this.serviceName}] 服務已在運行中，跳過啟動`);\n            return;\n        }\n        try {\n            this.logger.log(`🚀 [${this.serviceName}] 開始啟動服務...`);\n            if (!this._isInitialized) {\n                await this.initialize();\n                this._isInitialized = true;\n                this.logger.log(`✅ [${this.serviceName}] 服務初始化完成`);\n            }\n            this._isRunning = true;\n            this.logger.log(`✅ [${this.serviceName}] 服務啟動成功`);\n        } catch (error) {\n            this.logger.error(`❌ [${this.serviceName}] 服務啟動失敗:`, error);\n            throw error;\n        }\n    }\n    /**\n     * 停止服務\n     * 統一的停止流程：檢查狀態 → 清理資源 → 標記為停止\n     */ async stop() {\n        if (!this._isRunning) {\n            this.logger.warn(`🔄 [${this.serviceName}] 服務未在運行中，跳過停止`);\n            return;\n        }\n        try {\n            this.logger.log(`🛑 [${this.serviceName}] 開始停止服務...`);\n            await this.cleanup();\n            this._isRunning = false;\n            this.logger.log(`✅ [${this.serviceName}] 服務停止完成`);\n        } catch (error) {\n            this.logger.error(`❌ [${this.serviceName}] 服務停止失敗:`, error);\n            throw error;\n        }\n    }\n    /**\n     * 重啟服務\n     * 先停止，再啟動\n     */ async restart() {\n        this.logger.log(`🔄 [${this.serviceName}] 開始重啟服務...`);\n        await this.stop();\n        await this.start();\n        this.logger.log(`✅ [${this.serviceName}] 服務重啟完成`);\n    }\n    /**\n     * 檢查服務是否已初始化\n     */ get isInitialized() {\n        return this._isInitialized;\n    }\n    /**\n     * 檢查服務是否正在運行\n     */ get isRunning() {\n        return this._isRunning;\n    }\n    /**\n     * 獲取服務狀態摘要\n     */ getStatus() {\n        return {\n            serviceName: this.serviceName,\n            isInitialized: this._isInitialized,\n            isRunning: this._isRunning,\n            timestamp: new Date().toISOString()\n        };\n    }\n    /**\n     * 統一錯誤處理\n     * 提供一致的錯誤日誌格式和錯誤包裝\n     */ handleError(operation, error) {\n        const errorMessage = error instanceof Error ? error.message : '未知錯誤';\n        const fullMessage = `${this.serviceName} ${operation} 失敗: ${errorMessage}`;\n        this.logger.error(`❌ [${this.serviceName}] ${operation} 失敗:`, error);\n        throw new ServiceError(fullMessage, {\n            serviceName: this.serviceName,\n            operation,\n            originalError: error,\n            timestamp: new Date().toISOString()\n        });\n    }\n    /**\n     * 統一成功日誌\n     */ logSuccess(operation, details) {\n        this.logger.log(`✅ [${this.serviceName}] ${operation} 成功`, details ? details : '');\n    }\n    /**\n     * 統一資訊日誌\n     */ logInfo(message, details) {\n        this.logger.log(`ℹ️ [${this.serviceName}] ${message}`, details ? details : '');\n    }\n    /**\n     * 統一警告日誌\n     */ logWarning(message, details) {\n        this.logger.warn(`⚠️ [${this.serviceName}] ${message}`, details ? details : '');\n    }\n    constructor(){\n        /**\n     * 日誌工具 - 重用現有的 console 模式\n     */ this.logger = console;\n        /**\n     * 服務初始化狀態\n     */ this._isInitialized = false;\n        /**\n     * 服務是否正在運行\n     */ this._isRunning = false;\n    }\n}\n/**\n * 服務錯誤類別\n * 提供結構化的錯誤訊息和上下文\n */ class ServiceError extends Error {\n    constructor(message, context){\n        super(message);\n        this.name = 'ServiceError';\n        this.serviceName = context.serviceName;\n        this.operation = context.operation;\n        this.originalError = context.originalError;\n        this.timestamp = context.timestamp;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxFQUFFSyxVQUFVQSxVQUFVO0lBQ2hGOztRQTVKQTs7S0FFQyxRQUNrQnpCLFNBQVM0QjtRQU81Qjs7S0FFQyxRQUNPeEIsaUJBQWlCO1FBRXpCOztLQUVDLFFBQ09MLGFBQWE7O0FBMkl6QjtBQVlBOzs7Q0FHQyxHQUNNLE1BQU11QixxQkFBcUJIO0lBTTlCVSxZQUFZVCxPQUFlLEVBQUVVLE9BSzVCLENBQUU7UUFDQyxLQUFLLENBQUNWO1FBQ04sSUFBSSxDQUFDVyxJQUFJLEdBQUc7UUFDWixJQUFJLENBQUM3QixXQUFXLEdBQUc0QixRQUFRNUIsV0FBVztRQUN0QyxJQUFJLENBQUNlLFNBQVMsR0FBR2EsUUFBUWIsU0FBUztRQUNsQyxJQUFJLENBQUNNLGFBQWEsR0FBR08sUUFBUVAsYUFBYTtRQUMxQyxJQUFJLENBQUNWLFNBQVMsR0FBR2lCLFFBQVFqQixTQUFTO0lBQ3RDO0FBQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9zZXJ2aWNlcy9iYXNlLXNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuLyoqXG4gKiBCYXNlU2VydmljZSAtIOacjeWLmeWxpOWfuuekjuaKveixoemhnlxuICpcbiAqIOaPkOS+m+e1seS4gOeahOacjeWLmeWfuuekjuioreaWve+8mlxuICogLSDntbHkuIDml6Xoqozku4vpnaJcbiAqIC0g55Sf5ZG96YCx5pyf566h55CGIChpbml0aWFsaXplL2NsZWFudXApXG4gKiAtIOmMr+iqpOiZleeQhuaooeW8j1xuICogLSDmnI3li5nni4DmhYvnrqHnkIZcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VTZXJ2aWNlIHtcbiAgICAvKipcbiAgICAgKiDml6Xoqozlt6XlhbcgLSDph43nlKjnj77mnInnmoQgY29uc29sZSDmqKHlvI9cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nZ2VyID0gY29uc29sZVxuXG4gICAgLyoqXG4gICAgICog5pyN5YuZ5ZCN56ix77yM55So5pa85pel6KqM5ZKM6Kq/6KmmXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHJlYWRvbmx5IHNlcnZpY2VOYW1lOiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIOacjeWLmeWIneWni+WMlueLgOaFi1xuICAgICAqL1xuICAgIHByaXZhdGUgX2lzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4gICAgLyoqXG4gICAgICog5pyN5YuZ5piv5ZCm5q2j5Zyo6YGL6KGMXG4gICAgICovXG4gICAgcHJpdmF0ZSBfaXNSdW5uaW5nID0gZmFsc2VcblxuICAgIC8qKlxuICAgICAqIOWIneWni+WMluacjeWLmVxuICAgICAqIOWtkOmhnuW/hemgiOWvpuePvuWFt+mrlOeahOWIneWni+WMlumCj+i8r1xuICAgICAqL1xuICAgIGFic3RyYWN0IGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPlxuXG4gICAgLyoqXG4gICAgICog5riF55CG5pyN5YuZ6LOH5rqQXG4gICAgICog5a2Q6aGe5b+F6aCI5a+m54++5YW36auU55qE5riF55CG6YKP6LyvXG4gICAgICovXG4gICAgYWJzdHJhY3QgY2xlYW51cCgpOiBQcm9taXNlPHZvaWQ+XG5cbiAgICAvKipcbiAgICAgKiDllZ/li5XmnI3li5lcbiAgICAgKiDntbHkuIDnmoTllZ/li5XmtYHnqIvvvJrmqqLmn6Xni4DmhYsg4oaSIOWIneWni+WMliDihpIg5qiZ6KiY54K66YGL6KGM5LitXG4gICAgICovXG4gICAgYXN5bmMgc3RhcnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYPCflIQgWyR7dGhpcy5zZXJ2aWNlTmFtZX1dIOacjeWLmeW3suWcqOmBi+ihjOS4re+8jOi3s+mBjuWVn+WLlWApXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coYPCfmoAgWyR7dGhpcy5zZXJ2aWNlTmFtZX1dIOmWi+Wni+WVn+WLleacjeWLmS4uLmApXG5cbiAgICAgICAgICAgIGlmICghdGhpcy5faXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpXG4gICAgICAgICAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coYOKchSBbJHt0aGlzLnNlcnZpY2VOYW1lfV0g5pyN5YuZ5Yid5aeL5YyW5a6M5oiQYClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faXNSdW5uaW5nID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGDinIUgWyR7dGhpcy5zZXJ2aWNlTmFtZX1dIOacjeWLmeWVn+WLleaIkOWKn2ApXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihg4p2MIFske3RoaXMuc2VydmljZU5hbWV9XSDmnI3li5nllZ/li5XlpLHmlZc6YCwgZXJyb3IpXG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YGc5q2i5pyN5YuZXG4gICAgICog57Wx5LiA55qE5YGc5q2i5rWB56iL77ya5qqi5p+l54uA5oWLIOKGkiDmuIXnkIbos4fmupAg4oaSIOaomeiomOeCuuWBnOatolxuICAgICAqL1xuICAgIGFzeW5jIHN0b3AoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5faXNSdW5uaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGDwn5SEIFske3RoaXMuc2VydmljZU5hbWV9XSDmnI3li5nmnKrlnKjpgYvooYzkuK3vvIzot7PpgY7lgZzmraJgKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGDwn5uRIFske3RoaXMuc2VydmljZU5hbWV9XSDplovlp4vlgZzmraLmnI3li5kuLi5gKVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNsZWFudXAoKVxuICAgICAgICAgICAgdGhpcy5faXNSdW5uaW5nID0gZmFsc2VcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGDinIUgWyR7dGhpcy5zZXJ2aWNlTmFtZX1dIOacjeWLmeWBnOatouWujOaIkGApXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihg4p2MIFske3RoaXMuc2VydmljZU5hbWV9XSDmnI3li5nlgZzmraLlpLHmlZc6YCwgZXJyb3IpXG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6YeN5ZWf5pyN5YuZXG4gICAgICog5YWI5YGc5q2i77yM5YaN5ZWf5YuVXG4gICAgICovXG4gICAgYXN5bmMgcmVzdGFydCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKGDwn5SEIFske3RoaXMuc2VydmljZU5hbWV9XSDplovlp4vph43llZ/mnI3li5kuLi5gKVxuICAgICAgICBhd2FpdCB0aGlzLnN0b3AoKVxuICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0KClcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKGDinIUgWyR7dGhpcy5zZXJ2aWNlTmFtZX1dIOacjeWLmemHjeWVn+WujOaIkGApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5qqi5p+l5pyN5YuZ5piv5ZCm5bey5Yid5aeL5YyWXG4gICAgICovXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0luaXRpYWxpemVkXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5qqi5p+l5pyN5YuZ5piv5ZCm5q2j5Zyo6YGL6KGMXG4gICAgICovXG4gICAgZ2V0IGlzUnVubmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUnVubmluZ1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeNsuWPluacjeWLmeeLgOaFi+aRmOimgVxuICAgICAqL1xuICAgIGdldFN0YXR1cygpOiBTZXJ2aWNlU3RhdHVzIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lOiB0aGlzLnNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgaXNJbml0aWFsaXplZDogdGhpcy5faXNJbml0aWFsaXplZCxcbiAgICAgICAgICAgIGlzUnVubmluZzogdGhpcy5faXNSdW5uaW5nLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOe1seS4gOmMr+iqpOiZleeQhlxuICAgICAqIOaPkOS+m+S4gOiHtOeahOmMr+iqpOaXpeiqjOagvOW8j+WSjOmMr+iqpOWMheijnVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBoYW5kbGVFcnJvcihvcGVyYXRpb246IHN0cmluZywgZXJyb3I6IHVua25vd24pOiBuZXZlciB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+acquefpemMr+iqpCdcbiAgICAgICAgY29uc3QgZnVsbE1lc3NhZ2UgPSBgJHt0aGlzLnNlcnZpY2VOYW1lfSAke29wZXJhdGlvbn0g5aSx5pWXOiAke2Vycm9yTWVzc2FnZX1gXG5cbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYOKdjCBbJHt0aGlzLnNlcnZpY2VOYW1lfV0gJHtvcGVyYXRpb259IOWkseaVlzpgLCBlcnJvcilcblxuICAgICAgICB0aHJvdyBuZXcgU2VydmljZUVycm9yKGZ1bGxNZXNzYWdlLCB7XG4gICAgICAgICAgICBzZXJ2aWNlTmFtZTogdGhpcy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDntbHkuIDmiJDlip/ml6XoqoxcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgbG9nU3VjY2VzcyhvcGVyYXRpb246IHN0cmluZywgZGV0YWlscz86IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYOKchSBbJHt0aGlzLnNlcnZpY2VOYW1lfV0gJHtvcGVyYXRpb259IOaIkOWKn2AsIGRldGFpbHMgPyBkZXRhaWxzIDogJycpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog57Wx5LiA6LOH6KiK5pel6KqMXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGxvZ0luZm8obWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhg4oS577iPIFske3RoaXMuc2VydmljZU5hbWV9XSAke21lc3NhZ2V9YCwgZGV0YWlscyA/IGRldGFpbHMgOiAnJylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDntbHkuIDorablkYrml6XoqoxcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgbG9nV2FybmluZyhtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2Fybihg4pqg77iPIFske3RoaXMuc2VydmljZU5hbWV9XSAke21lc3NhZ2V9YCwgZGV0YWlscyA/IGRldGFpbHMgOiAnJylcbiAgICB9XG59XG5cbi8qKlxuICog5pyN5YuZ54uA5oWL5LuL6Z2iXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmljZVN0YXR1cyB7XG4gICAgc2VydmljZU5hbWU6IHN0cmluZ1xuICAgIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW5cbiAgICBpc1J1bm5pbmc6IGJvb2xlYW5cbiAgICB0aW1lc3RhbXA6IHN0cmluZ1xufVxuXG4vKipcbiAqIOacjeWLmemMr+iqpOmhnuWIpVxuICog5o+Q5L6b57WQ5qeL5YyW55qE6Yyv6Kqk6KiK5oGv5ZKM5LiK5LiL5paHXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJ2aWNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgcmVhZG9ubHkgc2VydmljZU5hbWU6IHN0cmluZ1xuICAgIHJlYWRvbmx5IG9wZXJhdGlvbjogc3RyaW5nXG4gICAgcmVhZG9ubHkgb3JpZ2luYWxFcnJvcjogdW5rbm93blxuICAgIHJlYWRvbmx5IHRpbWVzdGFtcDogc3RyaW5nXG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ6IHtcbiAgICAgICAgc2VydmljZU5hbWU6IHN0cmluZ1xuICAgICAgICBvcGVyYXRpb246IHN0cmluZ1xuICAgICAgICBvcmlnaW5hbEVycm9yOiB1bmtub3duXG4gICAgICAgIHRpbWVzdGFtcDogc3RyaW5nXG4gICAgfSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKVxuICAgICAgICB0aGlzLm5hbWUgPSAnU2VydmljZUVycm9yJ1xuICAgICAgICB0aGlzLnNlcnZpY2VOYW1lID0gY29udGV4dC5zZXJ2aWNlTmFtZVxuICAgICAgICB0aGlzLm9wZXJhdGlvbiA9IGNvbnRleHQub3BlcmF0aW9uXG4gICAgICAgIHRoaXMub3JpZ2luYWxFcnJvciA9IGNvbnRleHQub3JpZ2luYWxFcnJvclxuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IGNvbnRleHQudGltZXN0YW1wXG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkJhc2VTZXJ2aWNlIiwic3RhcnQiLCJfaXNSdW5uaW5nIiwibG9nZ2VyIiwid2FybiIsInNlcnZpY2VOYW1lIiwibG9nIiwiX2lzSW5pdGlhbGl6ZWQiLCJpbml0aWFsaXplIiwiZXJyb3IiLCJzdG9wIiwiY2xlYW51cCIsInJlc3RhcnQiLCJpc0luaXRpYWxpemVkIiwiaXNSdW5uaW5nIiwiZ2V0U3RhdHVzIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaGFuZGxlRXJyb3IiLCJvcGVyYXRpb24iLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJmdWxsTWVzc2FnZSIsIlNlcnZpY2VFcnJvciIsIm9yaWdpbmFsRXJyb3IiLCJsb2dTdWNjZXNzIiwiZGV0YWlscyIsImxvZ0luZm8iLCJsb2dXYXJuaW5nIiwiY29uc29sZSIsImNvbnN0cnVjdG9yIiwiY29udGV4dCIsIm5hbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/base-service.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/index.ts":
/*!*******************************!*\
  !*** ./lib/services/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseService: () => (/* reexport safe */ _base_service__WEBPACK_IMPORTED_MODULE_0__.BaseService),\n/* harmony export */   RecordingService: () => (/* reexport safe */ _recording_service__WEBPACK_IMPORTED_MODULE_3__.RecordingService),\n/* harmony export */   SERVICE_KEYS: () => (/* reexport safe */ _interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS),\n/* harmony export */   ServiceContainer: () => (/* reexport safe */ _service_container__WEBPACK_IMPORTED_MODULE_1__.ServiceContainer),\n/* harmony export */   ServiceContainerError: () => (/* reexport safe */ _service_container__WEBPACK_IMPORTED_MODULE_1__.ServiceContainerError),\n/* harmony export */   ServiceError: () => (/* reexport safe */ _base_service__WEBPACK_IMPORTED_MODULE_0__.ServiceError),\n/* harmony export */   ServiceRegistry: () => (/* reexport safe */ _service_registry__WEBPACK_IMPORTED_MODULE_5__.ServiceRegistry),\n/* harmony export */   SessionService: () => (/* reexport safe */ _session_service__WEBPACK_IMPORTED_MODULE_2__.SessionService),\n/* harmony export */   TranscriptService: () => (/* reexport safe */ _transcript_service__WEBPACK_IMPORTED_MODULE_4__.TranscriptService),\n/* harmony export */   serviceContainer: () => (/* reexport safe */ _service_container__WEBPACK_IMPORTED_MODULE_1__.serviceContainer)\n/* harmony export */ });\n/* harmony import */ var _base_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-service */ \"(ssr)/./lib/services/base-service.ts\");\n/* harmony import */ var _service_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./service-container */ \"(ssr)/./lib/services/service-container.ts\");\n/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./session-service */ \"(ssr)/./lib/services/session-service.ts\");\n/* harmony import */ var _recording_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./recording-service */ \"(ssr)/./lib/services/recording-service.ts\");\n/* harmony import */ var _transcript_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./transcript-service */ \"(ssr)/./lib/services/transcript-service.ts\");\n/* harmony import */ var _service_registry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./service-registry */ \"(ssr)/./lib/services/service-registry.ts\");\n/* harmony import */ var _interfaces__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./interfaces */ \"(ssr)/./lib/services/interfaces.ts\");\n/* __next_internal_client_entry_do_not_use__ BaseService,ServiceError,ServiceContainer,ServiceContainerError,serviceContainer,SessionService,RecordingService,TranscriptService,ServiceRegistry,SERVICE_KEYS auto */ /**\n * 服務層統一入口\n *\n * 提供服務層所有模組的統一匯出\n */ // 基礎服務類別\n\n// 服務容器\n\n// 具體服務實現\n\n\n\n// 服務註冊\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc2VydmljZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cU5BRUE7Ozs7Q0FJQyxHQUVELFNBQVM7QUFDaUQ7QUFHMUQsT0FBTztBQUN3RjtBQU8vRixTQUFTO0FBQ3lDO0FBR0k7QUFHRTtBQUV4RCxPQUFPO0FBQzZDO0FBZVQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9zZXJ2aWNlcy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG4vKipcbiAqIOacjeWLmeWxpOe1seS4gOWFpeWPo1xuICpcbiAqIOaPkOS+m+acjeWLmeWxpOaJgOacieaooee1hOeahOe1seS4gOWMr+WHulxuICovXG5cbi8vIOWfuuekjuacjeWLmemhnuWIpVxuZXhwb3J0IHsgQmFzZVNlcnZpY2UsIFNlcnZpY2VFcnJvciB9IGZyb20gJy4vYmFzZS1zZXJ2aWNlJ1xuZXhwb3J0IHR5cGUgeyBTZXJ2aWNlU3RhdHVzIH0gZnJvbSAnLi9iYXNlLXNlcnZpY2UnXG5cbi8vIOacjeWLmeWuueWZqFxuZXhwb3J0IHsgU2VydmljZUNvbnRhaW5lciwgU2VydmljZUNvbnRhaW5lckVycm9yLCBzZXJ2aWNlQ29udGFpbmVyIH0gZnJvbSAnLi9zZXJ2aWNlLWNvbnRhaW5lcidcbmV4cG9ydCB0eXBlIHtcbiAgICBTZXJ2aWNlQ29udGFpbmVyU3RhdHVzLFxuICAgIFNlcnZpY2VJbml0aWFsaXphdGlvblJlc3VsdCxcbiAgICBTZXJ2aWNlQ2xlYW51cFJlc3VsdFxufSBmcm9tICcuL3NlcnZpY2UtY29udGFpbmVyJ1xuXG4vLyDlhbfpq5TmnI3li5nlr6bnj75cbmV4cG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi9zZXNzaW9uLXNlcnZpY2UnXG5leHBvcnQgdHlwZSB7IFNlc3Npb25TZXJ2aWNlU3RhdHVzIH0gZnJvbSAnLi9zZXNzaW9uLXNlcnZpY2UnXG5cbmV4cG9ydCB7IFJlY29yZGluZ1NlcnZpY2UgfSBmcm9tICcuL3JlY29yZGluZy1zZXJ2aWNlJ1xuZXhwb3J0IHR5cGUgeyBSZWNvcmRpbmdTZXJ2aWNlU3RhdHVzIH0gZnJvbSAnLi9yZWNvcmRpbmctc2VydmljZSdcblxuZXhwb3J0IHsgVHJhbnNjcmlwdFNlcnZpY2UgfSBmcm9tICcuL3RyYW5zY3JpcHQtc2VydmljZSdcblxuLy8g5pyN5YuZ6Ki75YaKXG5leHBvcnQgeyBTZXJ2aWNlUmVnaXN0cnkgfSBmcm9tICcuL3NlcnZpY2UtcmVnaXN0cnknXG5cbi8vIOacjeWLmeS7i+mdolxuZXhwb3J0IHR5cGUge1xuICAgIElTZXNzaW9uU2VydmljZSxcbiAgICBJUmVjb3JkaW5nU2VydmljZSxcbiAgICBJVHJhbnNjcmlwdFNlcnZpY2UsXG4gICAgSVNlcnZpY2VDb250YWluZXIsXG4gICAgUmVjb3JkaW5nU3RhdGUsXG4gICAgVHJhbnNjcmlwdE1lc3NhZ2UsXG4gICAgVHJhbnNjcmlwdEVudHJ5LFxuICAgIFNlcnZpY2VLZXksXG4gICAgU2VydmljZVR5cGVNYXBcbn0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xuXG5leHBvcnQgeyBTRVJWSUNFX0tFWVMgfSBmcm9tICcuL2ludGVyZmFjZXMnXG4iXSwibmFtZXMiOlsiQmFzZVNlcnZpY2UiLCJTZXJ2aWNlRXJyb3IiLCJTZXJ2aWNlQ29udGFpbmVyIiwiU2VydmljZUNvbnRhaW5lckVycm9yIiwic2VydmljZUNvbnRhaW5lciIsIlNlc3Npb25TZXJ2aWNlIiwiUmVjb3JkaW5nU2VydmljZSIsIlRyYW5zY3JpcHRTZXJ2aWNlIiwiU2VydmljZVJlZ2lzdHJ5IiwiU0VSVklDRV9LRVlTIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/index.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/interfaces.ts":
/*!************************************!*\
  !*** ./lib/services/interfaces.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SERVICE_KEYS: () => (/* binding */ SERVICE_KEYS)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ SERVICE_KEYS auto */ /**\n * 服務註冊鍵值常數\n * 避免字串拼寫錯誤，提供類型安全的服務鍵值\n */ const SERVICE_KEYS = {\n    SESSION_SERVICE: 'SessionService',\n    RECORDING_SERVICE: 'RecordingService',\n    TRANSCRIPT_SERVICE: 'TranscriptService',\n    RECORDING_FLOW_SERVICE: 'RecordingFlowService'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc2VydmljZXMvaW50ZXJmYWNlcy50cyIsIm1hcHBpbmdzIjoiOzs7O2tFQXVNQTs7O0NBR0MsR0FDTSxNQUFNQSxlQUFlO0lBQ3hCQyxpQkFBaUI7SUFDakJDLG1CQUFtQjtJQUNuQkMsb0JBQW9CO0lBQ3BCQyx3QkFBd0I7QUFDNUIsRUFBVSIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL3NlcnZpY2VzL2ludGVyZmFjZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHR5cGUgeyBTZXNzaW9uUmVzcG9uc2UgfSBmcm9tICcuLi9hcGknXG5cbi8qKlxuICog5pyN5YuZ5bGk5LuL6Z2i5a6a576pXG4gKlxuICog5o+Q5L6b57Wx5LiA55qE5pyN5YuZ5aWR57SE77yM56K65L+d6aGe5Z6L5a6J5YWo5ZKM5LiA6Ie05oCnXG4gKi9cblxuLyoqXG4gKiDpjITpn7PmtYHnqIvllZ/li5XntZDmnpxcbiAqXG4gKiBSZWNvcmRpbmdGbG93U2VydmljZS5zdGFydFJlY29yZGluZ0Zsb3coKSDnmoTov5Tlm57poZ7lnotcbiAqIOaIkOWKn+aZguebtOaOpei/lOWbniBTZXNzaW9uUmVzcG9uc2XvvIzlpLHmlZfmmYLmi4vlh7ogRXJyb3JcbiAqL1xuZXhwb3J0IHR5cGUgU3RhcnRSZWNvcmRpbmdSZXN1bHQgPSBTZXNzaW9uUmVzcG9uc2VcblxuLyoqXG4gKiDmnIPoqbHnrqHnkIbmnI3li5nku4vpnaJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJU2Vzc2lvblNlcnZpY2Uge1xuICAgIC8qKlxuICAgICAqIOeiuuS/nemMhOmfs+acg+ipseWtmOWcqCAtIOWEqumbheiZleeQhuacg+ipseihneeqgVxuICAgICAqXG4gICAgICog562W55Wl77yaXG4gICAgICogMS4g5YSq5YWI5ZiX6Kmm5Ym15bu65paw55qE6YyE6Z+z5pyD6KmxXG4gICAgICogMi4g6Iul6YGH5YiwIDQwOSDooZ3nqoHvvIzmlLnngrrnjbLlj5bnj77mnInmtLvouo3mnIPoqbFcbiAgICAgKiAzLiDnorrkv53ov5Tlm57lj6/nlKjnmoTpjITpn7PmnIPoqbFcbiAgICAgKi9cbiAgICBlbnN1cmVSZWNvcmRpbmdTZXNzaW9uKHRpdGxlPzogc3RyaW5nLCBjb250ZW50Pzogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2U+XG5cbiAgICAvKipcbiAgICAgKiDlibXlu7rpjITpn7PmnIPoqbFcbiAgICAgKi9cbiAgICBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZT5cblxuICAgIC8qKlxuICAgICAqIOWJteW7uue0lOethuiomOacg+ipsVxuICAgICAqL1xuICAgIGNyZWF0ZU5vdGVTZXNzaW9uKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZT5cblxuICAgIC8qKlxuICAgICAqIOWNh+e0muacg+ipseiHs+mMhOmfs+aooeW8j1xuICAgICAqL1xuICAgIHVwZ3JhZGVUb1JlY29yZGluZyhzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlPlxuXG4gICAgLyoqXG4gICAgICog5a6M5oiQ5pyD6KmxXG4gICAgICovXG4gICAgZmluaXNoU2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD5cblxuICAgIC8qKlxuICAgICAqIOaqouafpea0u+i6jeacg+ipsVxuICAgICAqL1xuICAgIGNoZWNrQWN0aXZlU2Vzc2lvbigpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+XG5cbiAgICAvKipcbiAgICAgKiDnrYnlvoXmnIPoqbHlnKjos4fmlpnluqvkuK3lrozlhajlj6/opotcbiAgICAgKi9cbiAgICB3YWl0Rm9yU2Vzc2lvblJlYWR5KHNlc3Npb25JZDogc3RyaW5nLCBtYXhXYWl0VGltZT86IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj5cblxuICAgIC8qKlxuICAgICAqIOWIqumZpOacg+ipsVxuICAgICAqL1xuICAgIGRlbGV0ZVNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+XG59XG5cbi8qKlxuICog6YyE6Z+z54uA5oWLXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb3JkaW5nU3RhdGUge1xuICAgIGlzUmVjb3JkaW5nOiBib29sZWFuXG4gICAgcmVjb3JkaW5nVGltZTogbnVtYmVyXG4gICAgY3VycmVudFNlc3Npb25JZDogc3RyaW5nIHwgbnVsbFxuICAgIGVycm9yOiBzdHJpbmcgfCBudWxsXG59XG5cbi8qKlxuICog6YyE6Z+z5pyN5YuZ5LuL6Z2iXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVJlY29yZGluZ1NlcnZpY2Uge1xuICAgIC8qKlxuICAgICAqIOmWi+Wni+mMhOmfs1xuICAgICAqL1xuICAgIHN0YXJ0UmVjb3JkaW5nKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPlxuXG4gICAgLyoqXG4gICAgICog5YGc5q2i6YyE6Z+zXG4gICAgICovXG4gICAgc3RvcFJlY29yZGluZygpOiBQcm9taXNlPHZvaWQ+XG5cbiAgICAvKipcbiAgICAgKiDlj5blvpfnlbbliY3pjITpn7Pni4DmhYtcbiAgICAgKi9cbiAgICBnZXRSZWNvcmRpbmdTdGF0ZSgpOiBSZWNvcmRpbmdTdGF0ZVxuXG4gICAgLyoqXG4gICAgICog5qqi5p+l5piv5ZCm5q2j5Zyo6YyE6Z+zXG4gICAgICovXG4gICAgaXNSZWNvcmRpbmcoKTogYm9vbGVhblxuXG4gICAgLyoqXG4gICAgICog5Y+W5b6X6YyE6Z+z5pmC6ZaT77yI56eS77yJXG4gICAgICovXG4gICAgZ2V0UmVjb3JkaW5nVGltZSgpOiBudW1iZXJcbn1cblxuLyoqXG4gKiDpgJDlrZfnqL/oqIrmga/poZ7lnotcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0TWVzc2FnZSB7XG4gICAgdHlwZTogc3RyaW5nXG4gICAgdGV4dD86IHN0cmluZ1xuICAgIHN0YXJ0X3RpbWU/OiBudW1iZXJcbiAgICBlbmRfdGltZT86IG51bWJlclxuICAgIHN0YXJ0X3NlcXVlbmNlPzogbnVtYmVyXG4gICAgY29uZmlkZW5jZT86IG51bWJlclxuICAgIHRpbWVzdGFtcD86IG51bWJlclxuICAgIHBoYXNlPzogc3RyaW5nXG4gICAgbWVzc2FnZT86IHN0cmluZ1xuICAgIGVycm9yX3R5cGU/OiBzdHJpbmdcbiAgICBlcnJvcl9tZXNzYWdlPzogc3RyaW5nXG4gICAgZGV0YWlscz86IGFueVxufVxuXG4vKipcbiAqIOmAkOWtl+eov+mgheebrlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRFbnRyeSB7XG4gICAgdGltZTogc3RyaW5nXG4gICAgdGV4dDogc3RyaW5nXG59XG5cbi8qKlxuICog6YCQ5a2X56i/5pyN5YuZ5LuL6Z2iXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVRyYW5zY3JpcHRTZXJ2aWNlIHtcbiAgICAvKipcbiAgICAgKiDpgKPmjqXpgJDlrZfnqL/mnI3li5lcbiAgICAgKi9cbiAgICBjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPlxuXG4gICAgLyoqXG4gICAgICog5pa36ZaL6YCQ5a2X56i/5pyN5YuZXG4gICAgICovXG4gICAgZGlzY29ubmVjdChzZXNzaW9uSWQ/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+XG5cbiAgICAvKipcbiAgICAgKiDmt7vliqDpgJDlrZfnqL/nm6Pogb3lmahcbiAgICAgKi9cbiAgICBhZGRUcmFuc2NyaXB0TGlzdGVuZXIoc2Vzc2lvbklkOiBzdHJpbmcsIGNhbGxiYWNrOiAobWVzc2FnZTogVHJhbnNjcmlwdE1lc3NhZ2UpID0+IHZvaWQpOiB2b2lkXG5cbiAgICAvKipcbiAgICAgKiDnp7vpmaTpgJDlrZfnqL/nm6Pogb3lmahcbiAgICAgKi9cbiAgICByZW1vdmVUcmFuc2NyaXB0TGlzdGVuZXIoc2Vzc2lvbklkOiBzdHJpbmcsIGNhbGxiYWNrOiAobWVzc2FnZTogVHJhbnNjcmlwdE1lc3NhZ2UpID0+IHZvaWQpOiB2b2lkXG5cbiAgICAvKipcbiAgICAgKiDmqqLmn6XpgKPmjqXni4DmhYtcbiAgICAgKi9cbiAgICBpc0Nvbm5lY3RlZChzZXNzaW9uSWQ6IHN0cmluZyk6IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIOa4hemZpOmAkOWtl+eov1xuICAgICAqL1xuICAgIGNsZWFyVHJhbnNjcmlwdHMoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkXG59XG5cbi8qKlxuICog5pyN5YuZ5a655Zmo5LuL6Z2iXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVNlcnZpY2VDb250YWluZXIge1xuICAgIC8qKlxuICAgICAqIOiou+WGiuacjeWLmVxuICAgICAqL1xuICAgIHJlZ2lzdGVyPFQ+KGtleTogc3RyaW5nLCBmYWN0b3J5OiAoKSA9PiBUKTogdm9pZFxuXG4gICAgLyoqXG4gICAgICog6Ki75YaK5Zau5L6L5pyN5YuZXG4gICAgICovXG4gICAgcmVnaXN0ZXJTaW5nbGV0b248VD4oa2V5OiBzdHJpbmcsIGZhY3Rvcnk6ICgpID0+IFQpOiB2b2lkXG5cbiAgICAvKipcbiAgICAgKiDop6PmnpDmnI3li5lcbiAgICAgKi9cbiAgICByZXNvbHZlPFQ+KGtleTogc3RyaW5nKTogVFxuXG4gICAgLyoqXG4gICAgICog5qqi5p+l5pyN5YuZ5piv5ZCm5bey6Ki75YaKXG4gICAgICovXG4gICAgaXNSZWdpc3RlcmVkKGtleTogc3RyaW5nKTogYm9vbGVhblxuXG4gICAgLyoqXG4gICAgICog5Y+W5b6X5bey6Ki75YaK55qE5pyN5YuZ5riF5ZauXG4gICAgICovXG4gICAgZ2V0UmVnaXN0ZXJlZFNlcnZpY2VzKCk6IHN0cmluZ1tdXG59XG5cbi8qKlxuICog5pyN5YuZ6Ki75YaK6Y215YC85bi45pW4XG4gKiDpgb/lhY3lrZfkuLLmi7zlr6vpjK/oqqTvvIzmj5DkvpvpoZ7lnovlronlhajnmoTmnI3li5npjbXlgLxcbiAqL1xuZXhwb3J0IGNvbnN0IFNFUlZJQ0VfS0VZUyA9IHtcbiAgICBTRVNTSU9OX1NFUlZJQ0U6ICdTZXNzaW9uU2VydmljZScsXG4gICAgUkVDT1JESU5HX1NFUlZJQ0U6ICdSZWNvcmRpbmdTZXJ2aWNlJyxcbiAgICBUUkFOU0NSSVBUX1NFUlZJQ0U6ICdUcmFuc2NyaXB0U2VydmljZScsXG4gICAgUkVDT1JESU5HX0ZMT1dfU0VSVklDRTogJ1JlY29yZGluZ0Zsb3dTZXJ2aWNlJ1xufSBhcyBjb25zdFxuXG4vKipcbiAqIOacjeWLmemNteWAvOmhnuWei1xuICovXG5leHBvcnQgdHlwZSBTZXJ2aWNlS2V5ID0gdHlwZW9mIFNFUlZJQ0VfS0VZU1trZXlvZiB0eXBlb2YgU0VSVklDRV9LRVlTXVxuXG4vKipcbiAqIOWMr+WHuuacjeWLmemhnuWei+aYoOWwhFxuICog5o+Q5L6b57eo6K2v5pmC6aGe5Z6L5qqi5p+lXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmljZVR5cGVNYXAge1xuICAgIFtTRVJWSUNFX0tFWVMuU0VTU0lPTl9TRVJWSUNFXTogSVNlc3Npb25TZXJ2aWNlXG4gICAgW1NFUlZJQ0VfS0VZUy5SRUNPUkRJTkdfU0VSVklDRV06IElSZWNvcmRpbmdTZXJ2aWNlXG4gICAgW1NFUlZJQ0VfS0VZUy5UUkFOU0NSSVBUX1NFUlZJQ0VdOiBJVHJhbnNjcmlwdFNlcnZpY2Vcbn1cbiJdLCJuYW1lcyI6WyJTRVJWSUNFX0tFWVMiLCJTRVNTSU9OX1NFUlZJQ0UiLCJSRUNPUkRJTkdfU0VSVklDRSIsIlRSQU5TQ1JJUFRfU0VSVklDRSIsIlJFQ09SRElOR19GTE9XX1NFUlZJQ0UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/interfaces.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/recording-flow-service.ts":
/*!************************************************!*\
  !*** ./lib/services/recording-flow-service.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingFlowService: () => (/* binding */ RecordingFlowService)\n/* harmony export */ });\n/* harmony import */ var _base_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-service */ \"(ssr)/./lib/services/base-service.ts\");\n/* harmony import */ var _service_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./service-container */ \"(ssr)/./lib/services/service-container.ts\");\n/* harmony import */ var _interfaces__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./interfaces */ \"(ssr)/./lib/services/interfaces.ts\");\n/* __next_internal_client_entry_do_not_use__ RecordingFlowService auto */ \n\n\n/**\n * 錄音流程管理服務\n *\n * 整合 SessionService、RecordingService 和 TranscriptService\n * 提供統一的錄音流程管理\n */ class RecordingFlowService extends _base_service__WEBPACK_IMPORTED_MODULE_0__.BaseService {\n    /**\n   * 服務初始化\n   */ async initialize() {\n        this.logInfo('初始化錄音流程服務');\n        // 解析服務依賴\n        this.sessionService = _service_container__WEBPACK_IMPORTED_MODULE_1__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_2__.SERVICE_KEYS.SESSION_SERVICE);\n        this.recordingService = _service_container__WEBPACK_IMPORTED_MODULE_1__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_2__.SERVICE_KEYS.RECORDING_SERVICE);\n        this.transcriptService = _service_container__WEBPACK_IMPORTED_MODULE_1__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_2__.SERVICE_KEYS.TRANSCRIPT_SERVICE);\n        this.logSuccess('服務依賴解析完成');\n        this.logSuccess('初始化完成');\n    }\n    /**\n   * 服務清理\n   */ async cleanup() {\n        this.logInfo('清理錄音流程服務');\n        // 如果有活躍的流程，先停止\n        if (this.isFlowActive) {\n            await this.stopRecordingFlow();\n        }\n        // 重置狀態\n        this.currentSession = null;\n        this.isFlowActive = false;\n        this.transcriptEntries = [];\n        this.logSuccess('清理完成');\n    }\n    /**\n   * 開始錄音流程\n   */ async startRecordingFlow(title, content) {\n        this.logInfo('開始錄音流程', {\n            title,\n            content\n        });\n        try {\n            // 檢查是否已有活躍流程\n            if (this.isFlowActive) {\n                this.logWarning('錄音流程已啟動，先停止現有流程');\n                await this.stopRecordingFlow();\n            }\n            // 步驟 1: 確保錄音會話存在\n            this.logInfo('步驟 1: 確保錄音會話');\n            this.currentSession = await this.sessionService.ensureRecordingSession(title, content);\n            this.logSuccess('錄音會話已準備', {\n                sessionId: this.currentSession.id\n            });\n            // 步驟 2: 等待會話在資料庫中完全可見\n            this.logInfo('步驟 2: 等待會話準備完成');\n            const isReady = await this.sessionService.waitForSessionReady(this.currentSession.id, 5000);\n            if (!isReady) {\n                throw new Error('會話準備超時');\n            }\n            this.logSuccess('會話準備完成');\n            // 步驟 3: 連接逐字稿服務\n            this.logInfo('步驟 3: 連接逐字稿服務');\n            await this.transcriptService.connect(this.currentSession.id);\n            this.setupTranscriptListener();\n            this.logSuccess('逐字稿服務連接成功');\n            // 步驟 4: 開始錄音\n            this.logInfo('步驟 4: 開始錄音');\n            await this.recordingService.startRecording(this.currentSession.id);\n            this.logSuccess('錄音啟動成功');\n            // 標記流程為活躍\n            this.isFlowActive = true;\n            this.logSuccess('錄音流程啟動完成', {\n                sessionId: this.currentSession.id,\n                isRecording: this.recordingService.isRecording(),\n                transcriptConnected: this.transcriptService.isConnected(this.currentSession.id)\n            });\n            // 診斷資訊\n            console.log('🎉 [RecordingFlowService] 錄音流程已完全啟動', {\n                sessionId: this.currentSession.id,\n                audioRecording: this.recordingService.isRecording() ? '✅ 錄音中' : '❌ 未錄音',\n                transcriptWS: this.transcriptService.isConnected(this.currentSession.id) ? '✅ 已連接' : '❌ 未連接',\n                recordingState: this.recordingService.getRecordingState(),\n                timestamp: new Date().toISOString()\n            });\n            console.log('📋 [RecordingFlowService] 請檢查：');\n            console.log('1. 應該每秒看到 [AudioRecorder] ondataavailable 觸發');\n            console.log('2. 應該每秒看到 [AudioUploadWebSocket] Binary frame 已送出');\n            console.log('3. DevTools > Network > WS > /ws/upload_audio 應該看到 binary frames');\n            console.log('4. DevTools > Network > WS > /ws/transcript_feed 應該收到逐字稿');\n            return this.currentSession;\n        } catch (error) {\n            // 錯誤時清理資源\n            await this.cleanupFlowResources();\n            this.handleError('開始錄音流程', error);\n            throw error;\n        }\n    }\n    /**\n   * 停止錄音流程\n   */ async stopRecordingFlow() {\n        this.logInfo('停止錄音流程');\n        try {\n            if (!this.isFlowActive || !this.currentSession) {\n                this.logWarning('沒有活躍的錄音流程');\n                return;\n            }\n            const sessionId = this.currentSession.id;\n            // 步驟 1: 停止錄音\n            this.logInfo('步驟 1: 停止錄音');\n            if (this.recordingService.isRecording()) {\n                await this.recordingService.stopRecording();\n                this.logSuccess('錄音已停止');\n            }\n            // 步驟 2: 斷開逐字稿服務（保持連接以接收剩餘處理結果）\n            this.logInfo('步驟 2: 斷開逐字稿服務');\n            await this.transcriptService.disconnect(sessionId);\n            this.logSuccess('逐字稿服務已斷開');\n            // 步驟 3: 完成會話\n            this.logInfo('步驟 3: 完成會話');\n            await this.sessionService.finishSession(sessionId);\n            this.logSuccess('會話已完成');\n            // 重置流程狀態\n            this.isFlowActive = false;\n            this.logSuccess('錄音流程停止完成', {\n                sessionId,\n                transcriptEntriesCount: this.transcriptEntries.length,\n                finalRecordingTime: this.recordingService.getRecordingTime()\n            });\n        } catch (error) {\n            this.handleError('停止錄音流程', error);\n            throw error;\n        } finally{\n            // 確保資源清理\n            await this.cleanupFlowResources();\n        }\n    }\n    /**\n   * 取得當前會話\n   */ getCurrentSession() {\n        return this.currentSession;\n    }\n    /**\n   * 檢查流程是否活躍\n   */ isFlowRunning() {\n        return this.isFlowActive;\n    }\n    /**\n   * 取得逐字稿項目\n   */ getTranscriptEntries() {\n        return [\n            ...this.transcriptEntries\n        ];\n    }\n    /**\n   * 取得錄音狀態\n   */ getRecordingState() {\n        return this.recordingService.getRecordingState();\n    }\n    /**\n   * 設定逐字稿監聽器\n   */ setupTranscriptListener() {\n        if (!this.currentSession) return;\n        const sessionId = this.currentSession.id;\n        // 移除現有監聽器（如果有）\n        this.transcriptService.removeTranscriptListener(sessionId, this.handleTranscriptMessage);\n        // 添加新的監聽器\n        this.transcriptService.addTranscriptListener(sessionId, this.handleTranscriptMessage);\n        this.logInfo('逐字稿監聽器已設定', {\n            sessionId\n        });\n    }\n    /**\n   * 清理流程資源\n   */ async cleanupFlowResources() {\n        try {\n            // 停止錄音（如果還在錄音）\n            if (this.recordingService?.isRecording()) {\n                await this.recordingService.stopRecording();\n            }\n            // 斷開逐字稿服務\n            if (this.currentSession && this.transcriptService?.isConnected(this.currentSession.id)) {\n                await this.transcriptService.disconnect(this.currentSession.id);\n            }\n            // 重置狀態\n            this.currentSession = null;\n            this.isFlowActive = false;\n            this.logInfo('流程資源清理完成');\n        } catch (error) {\n            this.logWarning('清理流程資源時發生錯誤', error);\n        }\n    }\n    /**\n   * 取得流程詳細狀態\n   */ async getFlowStatus() {\n        const baseStatus = this.getStatus();\n        return {\n            ...baseStatus,\n            isFlowActive: this.isFlowActive,\n            currentSession: this.currentSession,\n            transcriptEntriesCount: this.transcriptEntries.length,\n            recordingState: this.recordingService?.getRecordingState() || null,\n            transcriptConnected: this.currentSession ? this.transcriptService?.isConnected(this.currentSession.id) || false : false\n        };\n    }\n    constructor(...args){\n        super(...args), this.serviceName = 'RecordingFlowService', // 流程狀態\n        this.currentSession = null, this.isFlowActive = false, this.transcriptEntries = [], /**\n   * 處理逐字稿訊息\n   */ this.handleTranscriptMessage = (message)=>{\n            this.logInfo('收到逐字稿訊息', {\n                type: message.type,\n                hasText: !!message.text\n            });\n            try {\n                if (message.type === 'transcript' && message.text) {\n                    // 格式化時間戳\n                    const time = new Date(message.timestamp || Date.now()).toLocaleTimeString('zh-TW', {\n                        hour12: false,\n                        hour: '2-digit',\n                        minute: '2-digit',\n                        second: '2-digit'\n                    });\n                    // 添加逐字稿項目\n                    const entry = {\n                        time,\n                        text: message.text.trim()\n                    };\n                    this.transcriptEntries.push(entry);\n                    this.logInfo('逐字稿項目已添加', {\n                        time: entry.time,\n                        textLength: entry.text.length,\n                        totalEntries: this.transcriptEntries.length\n                    });\n                } else if (message.type === 'error') {\n                    this.logWarning('逐字稿錯誤', {\n                        errorType: message.error_type,\n                        errorMessage: message.error_message\n                    });\n                }\n            } catch (error) {\n                this.logWarning('處理逐字稿訊息失敗', error);\n            }\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc2VydmljZXMvcmVjb3JkaW5nLWZsb3ctc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OzBFQUU0QztBQUNVO0FBQ29GO0FBRzFJOzs7OztDQUtDLEdBQ00sTUFBTUcsNkJBQTZCSCxzREFBV0E7SUFhbkQ7O0dBRUMsR0FDRCxNQUFNSSxhQUE0QjtRQUNoQyxJQUFJLENBQUNDLE9BQU8sQ0FBQztRQUViLFNBQVM7UUFDVCxJQUFJLENBQUNDLGNBQWMsR0FBR0wsZ0VBQWdCQSxDQUFDTSxPQUFPLENBQWtCTCxxREFBWUEsQ0FBQ00sZUFBZTtRQUM1RixJQUFJLENBQUNDLGdCQUFnQixHQUFHUixnRUFBZ0JBLENBQUNNLE9BQU8sQ0FBb0JMLHFEQUFZQSxDQUFDUSxpQkFBaUI7UUFDbEcsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR1YsZ0VBQWdCQSxDQUFDTSxPQUFPLENBQXFCTCxxREFBWUEsQ0FBQ1Usa0JBQWtCO1FBRXJHLElBQUksQ0FBQ0MsVUFBVSxDQUFDO1FBQ2hCLElBQUksQ0FBQ0EsVUFBVSxDQUFDO0lBQ2xCO0lBRUE7O0dBRUMsR0FDRCxNQUFNQyxVQUF5QjtRQUM3QixJQUFJLENBQUNULE9BQU8sQ0FBQztRQUViLGVBQWU7UUFDZixJQUFJLElBQUksQ0FBQ1UsWUFBWSxFQUFFO1lBQ3JCLE1BQU0sSUFBSSxDQUFDQyxpQkFBaUI7UUFDOUI7UUFFQSxPQUFPO1FBQ1AsSUFBSSxDQUFDQyxjQUFjLEdBQUc7UUFDdEIsSUFBSSxDQUFDRixZQUFZLEdBQUc7UUFDcEIsSUFBSSxDQUFDRyxpQkFBaUIsR0FBRyxFQUFFO1FBRTNCLElBQUksQ0FBQ0wsVUFBVSxDQUFDO0lBQ2xCO0lBRUE7O0dBRUMsR0FDRCxNQUFNTSxtQkFBbUJDLEtBQWMsRUFBRUMsT0FBZ0IsRUFBNEI7UUFDbkYsSUFBSSxDQUFDaEIsT0FBTyxDQUFDLFVBQVU7WUFBRWU7WUFBT0M7UUFBUTtRQUV4QyxJQUFJO1lBQ0YsYUFBYTtZQUNiLElBQUksSUFBSSxDQUFD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QU1SLElBQUksQ0FBQ2hCLE1BQU07d0JBQzdCNEIsY0FBYyxJQUFJLENBQUM3RCxpQkFBaUIsQ0FBQ2lDLE1BQU07b0JBQzdDO2dCQUNGLE9BQU8sSUFBSWEsUUFBUUMsSUFBSSxLQUFLLFNBQVM7b0JBQ25DLElBQUksQ0FBQzNDLFVBQVUsQ0FBQyxTQUFTO3dCQUN2QjBELFdBQVdoQixRQUFRaUIsVUFBVTt3QkFDN0JDLGNBQWNsQixRQUFRbUIsYUFBYTtvQkFDckM7Z0JBQ0Y7WUFDRixFQUFFLE9BQU92QyxPQUFPO2dCQUNkLElBQUksQ0FBQ3RCLFVBQVUsQ0FBQyxhQUFhc0I7WUFDL0I7UUFDRjs7QUE0Q0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9zZXJ2aWNlcy9yZWNvcmRpbmctZmxvdy1zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IEJhc2VTZXJ2aWNlIH0gZnJvbSAnLi9iYXNlLXNlcnZpY2UnXG5pbXBvcnQgeyBzZXJ2aWNlQ29udGFpbmVyIH0gZnJvbSAnLi9zZXJ2aWNlLWNvbnRhaW5lcidcbmltcG9ydCB7IFNFUlZJQ0VfS0VZUywgdHlwZSBJU2Vzc2lvblNlcnZpY2UsIHR5cGUgSVJlY29yZGluZ1NlcnZpY2UsIHR5cGUgSVRyYW5zY3JpcHRTZXJ2aWNlLCB0eXBlIFRyYW5zY3JpcHRNZXNzYWdlIH0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IHR5cGUgeyBTZXNzaW9uUmVzcG9uc2UgfSBmcm9tICcuLi9hcGknXG5cbi8qKlxuICog6YyE6Z+z5rWB56iL566h55CG5pyN5YuZXG4gKlxuICog5pW05ZCIIFNlc3Npb25TZXJ2aWNl44CBUmVjb3JkaW5nU2VydmljZSDlkowgVHJhbnNjcmlwdFNlcnZpY2VcbiAqIOaPkOS+m+e1seS4gOeahOmMhOmfs+a1geeoi+euoeeQhlxuICovXG5leHBvcnQgY2xhc3MgUmVjb3JkaW5nRmxvd1NlcnZpY2UgZXh0ZW5kcyBCYXNlU2VydmljZSB7XG4gIHByb3RlY3RlZCByZWFkb25seSBzZXJ2aWNlTmFtZSA9ICdSZWNvcmRpbmdGbG93U2VydmljZSdcblxuICAvLyDmnI3li5nkvp3os7RcbiAgcHJpdmF0ZSBzZXNzaW9uU2VydmljZSE6IElTZXNzaW9uU2VydmljZVxuICBwcml2YXRlIHJlY29yZGluZ1NlcnZpY2UhOiBJUmVjb3JkaW5nU2VydmljZVxuICBwcml2YXRlIHRyYW5zY3JpcHRTZXJ2aWNlITogSVRyYW5zY3JpcHRTZXJ2aWNlXG5cbiAgLy8g5rWB56iL54uA5oWLXG4gIHByaXZhdGUgY3VycmVudFNlc3Npb246IFNlc3Npb25SZXNwb25zZSB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgaXNGbG93QWN0aXZlID0gZmFsc2VcbiAgcHJpdmF0ZSB0cmFuc2NyaXB0RW50cmllczogQXJyYXk8eyB0aW1lOiBzdHJpbmc7IHRleHQ6IHN0cmluZyB9PiA9IFtdXG5cbiAgLyoqXG4gICAqIOacjeWLmeWIneWni+WMllxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmxvZ0luZm8oJ+WIneWni+WMlumMhOmfs+a1geeoi+acjeWLmScpXG5cbiAgICAvLyDop6PmnpDmnI3li5nkvp3os7RcbiAgICB0aGlzLnNlc3Npb25TZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPElTZXNzaW9uU2VydmljZT4oU0VSVklDRV9LRVlTLlNFU1NJT05fU0VSVklDRSlcbiAgICB0aGlzLnJlY29yZGluZ1NlcnZpY2UgPSBzZXJ2aWNlQ29udGFpbmVyLnJlc29sdmU8SVJlY29yZGluZ1NlcnZpY2U+KFNFUlZJQ0VfS0VZUy5SRUNPUkRJTkdfU0VSVklDRSlcbiAgICB0aGlzLnRyYW5zY3JpcHRTZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPElUcmFuc2NyaXB0U2VydmljZT4oU0VSVklDRV9LRVlTLlRSQU5TQ1JJUFRfU0VSVklDRSlcblxuICAgIHRoaXMubG9nU3VjY2Vzcygn5pyN5YuZ5L6d6LO06Kej5p6Q5a6M5oiQJylcbiAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+WIneWni+WMluWujOaIkCcpXG4gIH1cblxuICAvKipcbiAgICog5pyN5YuZ5riF55CGXG4gICAqL1xuICBhc3luYyBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMubG9nSW5mbygn5riF55CG6YyE6Z+z5rWB56iL5pyN5YuZJylcblxuICAgIC8vIOWmguaenOaciea0u+i6jeeahOa1geeoi++8jOWFiOWBnOatolxuICAgIGlmICh0aGlzLmlzRmxvd0FjdGl2ZSkge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wUmVjb3JkaW5nRmxvdygpXG4gICAgfVxuXG4gICAgLy8g6YeN572u54uA5oWLXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IG51bGxcbiAgICB0aGlzLmlzRmxvd0FjdGl2ZSA9IGZhbHNlXG4gICAgdGhpcy50cmFuc2NyaXB0RW50cmllcyA9IFtdXG5cbiAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+a4heeQhuWujOaIkCcpXG4gIH1cblxuICAvKipcbiAgICog6ZaL5aeL6YyE6Z+z5rWB56iLXG4gICAqL1xuICBhc3luYyBzdGFydFJlY29yZGluZ0Zsb3codGl0bGU/OiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZT4ge1xuICAgIHRoaXMubG9nSW5mbygn6ZaL5aeL6YyE6Z+z5rWB56iLJywgeyB0aXRsZSwgY29udGVudCB9KVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOaqouafpeaYr+WQpuW3suaciea0u+i6jea1geeoi1xuICAgICAgaWYgKHRoaXMuaXNGbG93QWN0aXZlKSB7XG4gICAgICAgIHRoaXMubG9nV2FybmluZygn6YyE6Z+z5rWB56iL5bey5ZWf5YuV77yM5YWI5YGc5q2i54++5pyJ5rWB56iLJylcbiAgICAgICAgYXdhaXQgdGhpcy5zdG9wUmVjb3JkaW5nRmxvdygpXG4gICAgICB9XG5cbiAgICAgIC8vIOatpempnyAxOiDnorrkv53pjITpn7PmnIPoqbHlrZjlnKhcbiAgICAgIHRoaXMubG9nSW5mbygn5q2l6amfIDE6IOeiuuS/nemMhOmfs+acg+ipsScpXG4gICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uID0gYXdhaXQgdGhpcy5zZXNzaW9uU2VydmljZS5lbnN1cmVSZWNvcmRpbmdTZXNzaW9uKHRpdGxlLCBjb250ZW50KVxuICAgICAgdGhpcy5sb2dTdWNjZXNzKCfpjITpn7PmnIPoqbHlt7LmupblgpknLCB7IHNlc3Npb25JZDogdGhpcy5jdXJyZW50U2Vzc2lvbi5pZCB9KVxuXG4gICAgICAvLyDmraXpqZ8gMjog562J5b6F5pyD6Kmx5Zyo6LOH5paZ5bqr5Lit5a6M5YWo5Y+v6KaLXG4gICAgICB0aGlzLmxvZ0luZm8oJ+atpempnyAyOiDnrYnlvoXmnIPoqbHmupblgpnlrozmiJAnKVxuICAgICAgY29uc3QgaXNSZWFkeSA9IGF3YWl0IHRoaXMuc2Vzc2lvblNlcnZpY2Uud2FpdEZvclNlc3Npb25SZWFkeSh0aGlzLmN1cnJlbnRTZXNzaW9uLmlkLCA1MDAwKVxuICAgICAgaWYgKCFpc1JlYWR5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcign5pyD6Kmx5rqW5YKZ6LaF5pmCJylcbiAgICAgIH1cbiAgICAgIHRoaXMubG9nU3VjY2Vzcygn5pyD6Kmx5rqW5YKZ5a6M5oiQJylcblxuICAgICAgLy8g5q2l6amfIDM6IOmAo+aOpemAkOWtl+eov+acjeWLmVxuICAgICAgdGhpcy5sb2dJbmZvKCfmraXpqZ8gMzog6YCj5o6l6YCQ5a2X56i/5pyN5YuZJylcbiAgICAgIGF3YWl0IHRoaXMudHJhbnNjcmlwdFNlcnZpY2UuY29ubmVjdCh0aGlzLmN1cnJlbnRTZXNzaW9uLmlkKVxuICAgICAgdGhpcy5zZXR1cFRyYW5zY3JpcHRMaXN0ZW5lcigpXG4gICAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+mAkOWtl+eov+acjeWLmemAo+aOpeaIkOWKnycpXG5cbiAgICAgIC8vIOatpempnyA0OiDplovlp4vpjITpn7NcbiAgICAgIHRoaXMubG9nSW5mbygn5q2l6amfIDQ6IOmWi+Wni+mMhOmfsycpXG4gICAgICBhd2FpdCB0aGlzLnJlY29yZGluZ1NlcnZpY2Uuc3RhcnRSZWNvcmRpbmcodGhpcy5jdXJyZW50U2Vzc2lvbi5pZClcbiAgICAgIHRoaXMubG9nU3VjY2Vzcygn6YyE6Z+z5ZWf5YuV5oiQ5YqfJylcblxuICAgICAgLy8g5qiZ6KiY5rWB56iL54K65rS76LqNXG4gICAgICB0aGlzLmlzRmxvd0FjdGl2ZSA9IHRydWVcblxuICAgICAgdGhpcy5sb2dTdWNjZXNzKCfpjITpn7PmtYHnqIvllZ/li5XlrozmiJAnLCB7XG4gICAgICAgIHNlc3Npb25JZDogdGhpcy5jdXJyZW50U2Vzc2lvbi5pZCxcbiAgICAgICAgaXNSZWNvcmRpbmc6IHRoaXMucmVjb3JkaW5nU2VydmljZS5pc1JlY29yZGluZygpLFxuICAgICAgICB0cmFuc2NyaXB0Q29ubmVjdGVkOiB0aGlzLnRyYW5zY3JpcHRTZXJ2aWNlLmlzQ29ubmVjdGVkKHRoaXMuY3VycmVudFNlc3Npb24uaWQpXG4gICAgICB9KVxuXG4gICAgICAvLyDoqLrmlrfos4foqIpcbiAgICAgIGNvbnNvbGUubG9nKCfwn46JIFtSZWNvcmRpbmdGbG93U2VydmljZV0g6YyE6Z+z5rWB56iL5bey5a6M5YWo5ZWf5YuVJywge1xuICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuY3VycmVudFNlc3Npb24uaWQsXG4gICAgICAgIGF1ZGlvUmVjb3JkaW5nOiB0aGlzLnJlY29yZGluZ1NlcnZpY2UuaXNSZWNvcmRpbmcoKSA/ICfinIUg6YyE6Z+z5LitJyA6ICfinYwg5pyq6YyE6Z+zJyxcbiAgICAgICAgdHJhbnNjcmlwdFdTOiB0aGlzLnRyYW5zY3JpcHRTZXJ2aWNlLmlzQ29ubmVjdGVkKHRoaXMuY3VycmVudFNlc3Npb24uaWQpID8gJ+KchSDlt7LpgKPmjqUnIDogJ+KdjCDmnKrpgKPmjqUnLFxuICAgICAgICByZWNvcmRpbmdTdGF0ZTogdGhpcy5yZWNvcmRpbmdTZXJ2aWNlLmdldFJlY29yZGluZ1N0YXRlKCksXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+TiyBbUmVjb3JkaW5nRmxvd1NlcnZpY2VdIOiri+aqouafpe+8micpXG4gICAgICBjb25zb2xlLmxvZygnMS4g5oeJ6Kmy5q+P56eS55yL5YiwIFtBdWRpb1JlY29yZGVyXSBvbmRhdGFhdmFpbGFibGUg6Ke455m8JylcbiAgICAgIGNvbnNvbGUubG9nKCcyLiDmh4noqbLmr4/np5LnnIvliLAgW0F1ZGlvVXBsb2FkV2ViU29ja2V0XSBCaW5hcnkgZnJhbWUg5bey6YCB5Ye6JylcbiAgICAgIGNvbnNvbGUubG9nKCczLiBEZXZUb29scyA+IE5ldHdvcmsgPiBXUyA+IC93cy91cGxvYWRfYXVkaW8g5oeJ6Kmy55yL5YiwIGJpbmFyeSBmcmFtZXMnKVxuICAgICAgY29uc29sZS5sb2coJzQuIERldlRvb2xzID4gTmV0d29yayA+IFdTID4gL3dzL3RyYW5zY3JpcHRfZmVlZCDmh4noqbLmlLbliLDpgJDlrZfnqL8nKVxuXG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50U2Vzc2lvblxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIOmMr+iqpOaZgua4heeQhuizh+a6kFxuICAgICAgYXdhaXQgdGhpcy5jbGVhbnVwRmxvd1Jlc291cmNlcygpXG4gICAgICB0aGlzLmhhbmRsZUVycm9yKCfplovlp4vpjITpn7PmtYHnqIsnLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWBnOatoumMhOmfs+a1geeoi1xuICAgKi9cbiAgYXN5bmMgc3RvcFJlY29yZGluZ0Zsb3coKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5sb2dJbmZvKCflgZzmraLpjITpn7PmtYHnqIsnKVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5pc0Zsb3dBY3RpdmUgfHwgIXRoaXMuY3VycmVudFNlc3Npb24pIHtcbiAgICAgICAgdGhpcy5sb2dXYXJuaW5nKCfmspLmnInmtLvouo3nmoTpjITpn7PmtYHnqIsnKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2Vzc2lvbklkID0gdGhpcy5jdXJyZW50U2Vzc2lvbi5pZFxuXG4gICAgICAvLyDmraXpqZ8gMTog5YGc5q2i6YyE6Z+zXG4gICAgICB0aGlzLmxvZ0luZm8oJ+atpempnyAxOiDlgZzmraLpjITpn7MnKVxuICAgICAgaWYgKHRoaXMucmVjb3JkaW5nU2VydmljZS5pc1JlY29yZGluZygpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVjb3JkaW5nU2VydmljZS5zdG9wUmVjb3JkaW5nKClcbiAgICAgICAgdGhpcy5sb2dTdWNjZXNzKCfpjITpn7Plt7LlgZzmraInKVxuICAgICAgfVxuXG4gICAgICAvLyDmraXpqZ8gMjog5pa36ZaL6YCQ5a2X56i/5pyN5YuZ77yI5L+d5oyB6YCj5o6l5Lul5o6l5pS25Ymp6aSY6JmV55CG57WQ5p6c77yJXG4gICAgICB0aGlzLmxvZ0luZm8oJ+atpempnyAyOiDmlrfplovpgJDlrZfnqL/mnI3li5knKVxuICAgICAgYXdhaXQgdGhpcy50cmFuc2NyaXB0U2VydmljZS5kaXNjb25uZWN0KHNlc3Npb25JZClcbiAgICAgIHRoaXMubG9nU3VjY2Vzcygn6YCQ5a2X56i/5pyN5YuZ5bey5pa36ZaLJylcblxuICAgICAgLy8g5q2l6amfIDM6IOWujOaIkOacg+ipsVxuICAgICAgdGhpcy5sb2dJbmZvKCfmraXpqZ8gMzog5a6M5oiQ5pyD6KmxJylcbiAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvblNlcnZpY2UuZmluaXNoU2Vzc2lvbihzZXNzaW9uSWQpXG4gICAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+acg+ipseW3suWujOaIkCcpXG5cbiAgICAgIC8vIOmHjee9rua1geeoi+eLgOaFi1xuICAgICAgdGhpcy5pc0Zsb3dBY3RpdmUgPSBmYWxzZVxuXG4gICAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+mMhOmfs+a1geeoi+WBnOatouWujOaIkCcsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB0cmFuc2NyaXB0RW50cmllc0NvdW50OiB0aGlzLnRyYW5zY3JpcHRFbnRyaWVzLmxlbmd0aCxcbiAgICAgICAgZmluYWxSZWNvcmRpbmdUaW1lOiB0aGlzLnJlY29yZGluZ1NlcnZpY2UuZ2V0UmVjb3JkaW5nVGltZSgpXG4gICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IoJ+WBnOatoumMhOmfs+a1geeoiycsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8g56K65L+d6LOH5rqQ5riF55CGXG4gICAgICBhd2FpdCB0aGlzLmNsZWFudXBGbG93UmVzb3VyY2VzKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5Y+W5b6X55W25YmN5pyD6KmxXG4gICAqL1xuICBnZXRDdXJyZW50U2Vzc2lvbigpOiBTZXNzaW9uUmVzcG9uc2UgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U2Vzc2lvblxuICB9XG5cbiAgLyoqXG4gICAqIOaqouafpea1geeoi+aYr+WQpua0u+i6jVxuICAgKi9cbiAgaXNGbG93UnVubmluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc0Zsb3dBY3RpdmVcbiAgfVxuXG4gIC8qKlxuICAgKiDlj5blvpfpgJDlrZfnqL/poIXnm65cbiAgICovXG4gIGdldFRyYW5zY3JpcHRFbnRyaWVzKCk6IEFycmF5PHsgdGltZTogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfT4ge1xuICAgIHJldHVybiBbLi4udGhpcy50cmFuc2NyaXB0RW50cmllc11cbiAgfVxuXG4gIC8qKlxuICAgKiDlj5blvpfpjITpn7Pni4DmhYtcbiAgICovXG4gIGdldFJlY29yZGluZ1N0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnJlY29yZGluZ1NlcnZpY2UuZ2V0UmVjb3JkaW5nU3RhdGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIOioreWumumAkOWtl+eov+ebo+iBveWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cFRyYW5zY3JpcHRMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVyblxuXG4gICAgY29uc3Qgc2Vzc2lvbklkID0gdGhpcy5jdXJyZW50U2Vzc2lvbi5pZFxuXG4gICAgLy8g56e76Zmk54++5pyJ55uj6IG95Zmo77yI5aaC5p6c5pyJ77yJXG4gICAgdGhpcy50cmFuc2NyaXB0U2VydmljZS5yZW1vdmVUcmFuc2NyaXB0TGlzdGVuZXIoc2Vzc2lvbklkLCB0aGlzLmhhbmRsZVRyYW5zY3JpcHRNZXNzYWdlKVxuXG4gICAgLy8g5re75Yqg5paw55qE55uj6IG95ZmoXG4gICAgdGhpcy50cmFuc2NyaXB0U2VydmljZS5hZGRUcmFuc2NyaXB0TGlzdGVuZXIoc2Vzc2lvbklkLCB0aGlzLmhhbmRsZVRyYW5zY3JpcHRNZXNzYWdlKVxuXG4gICAgdGhpcy5sb2dJbmZvKCfpgJDlrZfnqL/nm6Pogb3lmajlt7LoqK3lrponLCB7IHNlc3Npb25JZCB9KVxuICB9XG5cbiAgLyoqXG4gICAqIOiZleeQhumAkOWtl+eov+ioiuaBr1xuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVUcmFuc2NyaXB0TWVzc2FnZSA9IChtZXNzYWdlOiBUcmFuc2NyaXB0TWVzc2FnZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMubG9nSW5mbygn5pS25Yiw6YCQ5a2X56i/6KiK5oGvJywgeyB0eXBlOiBtZXNzYWdlLnR5cGUsIGhhc1RleHQ6ICEhbWVzc2FnZS50ZXh0IH0pXG5cbiAgICB0cnkge1xuICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3RyYW5zY3JpcHQnICYmIG1lc3NhZ2UudGV4dCkge1xuICAgICAgICAvLyDmoLzlvI/ljJbmmYLplpPmiLNcbiAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKG1lc3NhZ2UudGltZXN0YW1wIHx8IERhdGUubm93KCkpLnRvTG9jYWxlVGltZVN0cmluZygnemgtVFcnLCB7XG4gICAgICAgICAgaG91cjEyOiBmYWxzZSxcbiAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCdcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDmt7vliqDpgJDlrZfnqL/poIXnm65cbiAgICAgICAgY29uc3QgZW50cnkgPSB7XG4gICAgICAgICAgdGltZSxcbiAgICAgICAgICB0ZXh0OiBtZXNzYWdlLnRleHQudHJpbSgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyYW5zY3JpcHRFbnRyaWVzLnB1c2goZW50cnkpXG5cbiAgICAgICAgdGhpcy5sb2dJbmZvKCfpgJDlrZfnqL/poIXnm67lt7Lmt7vliqAnLCB7XG4gICAgICAgICAgdGltZTogZW50cnkudGltZSxcbiAgICAgICAgICB0ZXh0TGVuZ3RoOiBlbnRyeS50ZXh0Lmxlbmd0aCxcbiAgICAgICAgICB0b3RhbEVudHJpZXM6IHRoaXMudHJhbnNjcmlwdEVudHJpZXMubGVuZ3RoXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICB0aGlzLmxvZ1dhcm5pbmcoJ+mAkOWtl+eov+mMr+iqpCcsIHtcbiAgICAgICAgICBlcnJvclR5cGU6IG1lc3NhZ2UuZXJyb3JfdHlwZSxcbiAgICAgICAgICBlcnJvck1lc3NhZ2U6IG1lc3NhZ2UuZXJyb3JfbWVzc2FnZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ1dhcm5pbmcoJ+iZleeQhumAkOWtl+eov+ioiuaBr+WkseaVlycsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbmtYHnqIvos4fmupBcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgY2xlYW51cEZsb3dSZXNvdXJjZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOWBnOatoumMhOmfs++8iOWmguaenOmChOWcqOmMhOmfs++8iVxuICAgICAgaWYgKHRoaXMucmVjb3JkaW5nU2VydmljZT8uaXNSZWNvcmRpbmcoKSkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlY29yZGluZ1NlcnZpY2Uuc3RvcFJlY29yZGluZygpXG4gICAgICB9XG5cbiAgICAgIC8vIOaWt+mWi+mAkOWtl+eov+acjeWLmVxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlc3Npb24gJiYgdGhpcy50cmFuc2NyaXB0U2VydmljZT8uaXNDb25uZWN0ZWQodGhpcy5jdXJyZW50U2Vzc2lvbi5pZCkpIHtcbiAgICAgICAgYXdhaXQgdGhpcy50cmFuc2NyaXB0U2VydmljZS5kaXNjb25uZWN0KHRoaXMuY3VycmVudFNlc3Npb24uaWQpXG4gICAgICB9XG5cbiAgICAgIC8vIOmHjee9rueLgOaFi1xuICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IG51bGxcbiAgICAgIHRoaXMuaXNGbG93QWN0aXZlID0gZmFsc2VcblxuICAgICAgdGhpcy5sb2dJbmZvKCfmtYHnqIvos4fmupDmuIXnkIblrozmiJAnKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ1dhcm5pbmcoJ+a4heeQhua1geeoi+izh+a6kOaZgueZvOeUn+mMr+iqpCcsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlj5blvpfmtYHnqIvoqbPntLDni4DmhYtcbiAgICovXG4gIGFzeW5jIGdldEZsb3dTdGF0dXMoKSB7XG4gICAgY29uc3QgYmFzZVN0YXR1cyA9IHRoaXMuZ2V0U3RhdHVzKClcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5iYXNlU3RhdHVzLFxuICAgICAgaXNGbG93QWN0aXZlOiB0aGlzLmlzRmxvd0FjdGl2ZSxcbiAgICAgIGN1cnJlbnRTZXNzaW9uOiB0aGlzLmN1cnJlbnRTZXNzaW9uLFxuICAgICAgdHJhbnNjcmlwdEVudHJpZXNDb3VudDogdGhpcy50cmFuc2NyaXB0RW50cmllcy5sZW5ndGgsXG4gICAgICByZWNvcmRpbmdTdGF0ZTogdGhpcy5yZWNvcmRpbmdTZXJ2aWNlPy5nZXRSZWNvcmRpbmdTdGF0ZSgpIHx8IG51bGwsXG4gICAgICB0cmFuc2NyaXB0Q29ubmVjdGVkOiB0aGlzLmN1cnJlbnRTZXNzaW9uXG4gICAgICAgID8gdGhpcy50cmFuc2NyaXB0U2VydmljZT8uaXNDb25uZWN0ZWQodGhpcy5jdXJyZW50U2Vzc2lvbi5pZCkgfHwgZmFsc2VcbiAgICAgICAgOiBmYWxzZVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIkJhc2VTZXJ2aWNlIiwic2VydmljZUNvbnRhaW5lciIsIlNFUlZJQ0VfS0VZUyIsIlJlY29yZGluZ0Zsb3dTZXJ2aWNlIiwiaW5pdGlhbGl6ZSIsImxvZ0luZm8iLCJzZXNzaW9uU2VydmljZSIsInJlc29sdmUiLCJTRVNTSU9OX1NFUlZJQ0UiLCJyZWNvcmRpbmdTZXJ2aWNlIiwiUkVDT1JESU5HX1NFUlZJQ0UiLCJ0cmFuc2NyaXB0U2VydmljZSIsIlRSQU5TQ1JJUFRfU0VSVklDRSIsImxvZ1N1Y2Nlc3MiLCJjbGVhbnVwIiwiaXNGbG93QWN0aXZlIiwic3RvcFJlY29yZGluZ0Zsb3ciLCJjdXJyZW50U2Vzc2lvbiIsInRyYW5zY3JpcHRFbnRyaWVzIiwic3RhcnRSZWNvcmRpbmdGbG93IiwidGl0bGUiLCJjb250ZW50IiwibG9nV2FybmluZyIsImVuc3VyZVJlY29yZGluZ1Nlc3Npb24iLCJzZXNzaW9uSWQiLCJpZCIsImlzUmVhZHkiLCJ3YWl0Rm9yU2Vzc2lvblJlYWR5IiwiRXJyb3IiLCJjb25uZWN0Iiwic2V0dXBUcmFuc2NyaXB0TGlzdGVuZXIiLCJzdGFydFJlY29yZGluZyIsImlzUmVjb3JkaW5nIiwidHJhbnNjcmlwdENvbm5lY3RlZCIsImlzQ29ubmVjdGVkIiwiY29uc29sZSIsImxvZyIsImF1ZGlvUmVjb3JkaW5nIiwidHJhbnNjcmlwdFdTIiwicmVjb3JkaW5nU3RhdGUiLCJnZXRSZWNvcmRpbmdTdGF0ZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVycm9yIiwiY2xlYW51cEZsb3dSZXNvdXJjZXMiLCJoYW5kbGVFcnJvciIsInN0b3BSZWNvcmRpbmciLCJkaXNjb25uZWN0IiwiZmluaXNoU2Vzc2lvbiIsInRyYW5zY3JpcHRFbnRyaWVzQ291bnQiLCJsZW5ndGgiLCJmaW5hbFJlY29yZGluZ1RpbWUiLCJnZXRSZWNvcmRpbmdUaW1lIiwiZ2V0Q3VycmVudFNlc3Npb24iLCJpc0Zsb3dSdW5uaW5nIiwiZ2V0VHJhbnNjcmlwdEVudHJpZXMiLCJyZW1vdmVUcmFuc2NyaXB0TGlzdGVuZXIiLCJoYW5kbGVUcmFuc2NyaXB0TWVzc2FnZSIsImFkZFRyYW5zY3JpcHRMaXN0ZW5lciIsImdldEZsb3dTdGF0dXMiLCJiYXNlU3RhdHVzIiwiZ2V0U3RhdHVzIiwic2VydmljZU5hbWUiLCJtZXNzYWdlIiwidHlwZSIsImhhc1RleHQiLCJ0ZXh0IiwidGltZSIsIm5vdyIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIxMiIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJlbnRyeSIsInRyaW0iLCJwdXNoIiwidGV4dExlbmd0aCIsInRvdGFsRW50cmllcyIsImVycm9yVHlwZSIsImVycm9yX3R5cGUiLCJlcnJvck1lc3NhZ2UiLCJlcnJvcl9tZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/recording-flow-service.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/recording-service.ts":
/*!*******************************************!*\
  !*** ./lib/services/recording-service.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingService: () => (/* binding */ RecordingService)\n/* harmony export */ });\n/* harmony import */ var _base_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-service */ \"(ssr)/./lib/services/base-service.ts\");\n/* harmony import */ var _audio_recorder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../audio-recorder */ \"(ssr)/./lib/audio-recorder.ts\");\n/* harmony import */ var _websocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../websocket */ \"(ssr)/./lib/websocket.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"(ssr)/./lib/config.ts\");\n/* __next_internal_client_entry_do_not_use__ RecordingService auto */ \n\n\n\n/**\n * RecordingService - 錄音管理服務\n *\n * 整合現有的錄音相關邏輯，提供：\n * - 音頻錄製管理（重用 AudioRecorder）\n * - WebSocket 音頻上傳（重用 AudioUploadWebSocket）\n * - 錄音狀態管理\n * - 錯誤處理和重試機制\n * - 心跳監測\n */ class RecordingService extends _base_service__WEBPACK_IMPORTED_MODULE_0__.BaseService {\n    /**\n   * 服務初始化\n   * 檢查音頻錄製支援度\n   */ async initialize() {\n        this.logInfo('服務初始化開始');\n        // 檢查瀏覽器支援度\n        const supportCheck = await (0,_audio_recorder__WEBPACK_IMPORTED_MODULE_1__.checkAudioRecordingSupport)();\n        if (!supportCheck.isSupported) {\n            const errorMessage = `音頻錄製不支援: ${supportCheck.error || '未知錯誤'}`;\n            this.logWarning('瀏覽器支援度檢查失敗', supportCheck.error);\n            throw new Error(errorMessage);\n        }\n        this.logSuccess('瀏覽器支援度檢查通過');\n        this.logSuccess('初始化完成');\n    }\n    /**\n   * 服務清理\n   */ async cleanup() {\n        this.logInfo('服務清理開始');\n        // 如果正在錄音，先停止\n        if (this.recordingState.isRecording) {\n            await this.stopRecording();\n        }\n        // 清理音頻錄製器\n        if (this.audioRecorder) {\n            this.audioRecorder.cleanup();\n            this.audioRecorder = null;\n        }\n        // 清理計時器\n        this.clearTimers();\n        // 重置狀態\n        this.resetRecordingState();\n        this.logSuccess('清理完成');\n    }\n    /**\n   * 開始錄音\n   * 重用現有的音頻錄製和 WebSocket 上傳邏輯\n   */ async startRecording(sessionId) {\n        this.logInfo('開始錄音', {\n            sessionId\n        });\n        try {\n            // 檢查是否已在錄音\n            if (this.recordingState.isRecording) {\n                this.logWarning('已在錄音中，跳過重複啟動');\n                return;\n            }\n            // 重置狀態\n            this.resetRecordingState();\n            this.recordingState.currentSessionId = sessionId;\n            // 步驟 1: 初始化音頻錄製器\n            this.logInfo('步驟 1: 初始化音頻錄製器');\n            const chunkInterval = (0,_config__WEBPACK_IMPORTED_MODULE_3__.getAudioChunkIntervalMs)();\n            console.log('🎯 [RecordingService] 音頻配置', {\n                chunkInterval: `${chunkInterval}ms (${chunkInterval / 1000}秒)`,\n                mimeType: 'audio/webm;codecs=opus',\n                configInfo: (0,_config__WEBPACK_IMPORTED_MODULE_3__.getAudioConfigInfo)()\n            });\n            this.audioRecorder = new _audio_recorder__WEBPACK_IMPORTED_MODULE_1__.AudioRecorder({\n                chunkInterval,\n                mimeType: 'audio/webm;codecs=opus'\n            });\n            this.logInfo(`音訊配置: ${(0,_config__WEBPACK_IMPORTED_MODULE_3__.getAudioConfigInfo)()}`);\n            // 設定音頻錄製器事件處理\n            this.setupAudioRecorderEvents();\n            // 步驟 2: 開始音頻錄製（包含獲取權限）\n            this.logInfo('步驟 2: 開始音頻錄製（包含獲取權限）');\n            // 步驟 3: 建立音頻上傳 WebSocket\n            this.logInfo('步驟 3: 建立音頻上傳 WebSocket');\n            this.audioUploadWs = new _websocket__WEBPACK_IMPORTED_MODULE_2__.AudioUploadWebSocket(sessionId);\n            // 設定 WebSocket 事件處理\n            this.setupWebSocketEvents();\n            // 連接 WebSocket\n            await this.audioUploadWs.connect();\n            // 驗證 WebSocket 連接\n            if (!this.audioUploadWs.isConnected) {\n                throw new Error('音頻上傳 WebSocket 連接失敗');\n            }\n            // 步驟 4: 啟動心跳機制\n            this.logInfo('步驟 4: 啟動心跳機制');\n            this.startHeartbeat();\n            // 步驟 5: 開始錄音\n            this.logInfo('步驟 5: 開始音頻錄製');\n            await this.audioRecorder.start((chunk)=>{\n                this.handleAudioChunk(chunk);\n            });\n            // 步驟 6: 啟動錄音計時器\n            this.logInfo('步驟 6: 啟動錄音計時器');\n            this.startRecordingTimer();\n            // 更新錄音狀態\n            this.recordingState.isRecording = true;\n            this.recordingState.error = null;\n            this.logSuccess('錄音啟動成功', {\n                sessionId,\n                chunkConfig: (0,_config__WEBPACK_IMPORTED_MODULE_3__.getAudioConfigInfo)(),\n                mimeType: 'audio/webm;codecs=opus'\n            });\n        } catch (error) {\n            // 錯誤時清理資源\n            await this.cleanupRecordingResources();\n            this.recordingState.error = error instanceof Error ? error.message : '開始錄音失敗';\n            this.handleError('開始錄音', error);\n        }\n    }\n    /**\n   * 停止錄音\n   * 保持 WebSocket 連接以接收剩餘的處理結果\n   */ async stopRecording() {\n        this.logInfo('停止錄音');\n        try {\n            // 更新狀態\n            this.recordingState.isRecording = false;\n            // 停止音頻錄製器\n            if (this.audioRecorder) {\n                this.audioRecorder.stop();\n                this.logInfo('音頻錄製器已停止');\n            }\n            // 停止計時器\n            this.clearTimers();\n            // 清理音頻錄製器（保留 WebSocket 連接）\n            if (this.audioRecorder) {\n                this.audioRecorder.cleanup();\n                this.audioRecorder = null;\n            }\n            // 斷開音頻上傳 WebSocket\n            if (this.audioUploadWs) {\n                this.audioUploadWs.disconnect();\n                this.audioUploadWs = null;\n            }\n            this.logSuccess('錄音停止成功', {\n                sessionId: this.recordingState.currentSessionId,\n                recordingTime: this.recordingState.recordingTime\n            });\n        } catch (error) {\n            this.recordingState.error = error instanceof Error ? error.message : '停止錄音失敗';\n            this.handleError('停止錄音', error);\n        }\n    }\n    /**\n   * 取得當前錄音狀態\n   */ getRecordingState() {\n        return {\n            ...this.recordingState\n        };\n    }\n    /**\n   * 檢查是否正在錄音\n   */ isRecording() {\n        return this.recordingState.isRecording;\n    }\n    /**\n   * 取得錄音時間（秒）\n   */ getRecordingTime() {\n        return this.recordingState.recordingTime;\n    }\n    /**\n * 設定音頻錄製器事件處理\n */ setupAudioRecorderEvents() {\n        if (!this.audioRecorder) return;\n        // 處理錄製錯誤\n        this.audioRecorder.onError((error)=>{\n            this.logWarning('音頻錄製器錯誤', error.message);\n            this.recordingState.error = error.message;\n        });\n        // 處理狀態變化\n        this.audioRecorder.onStateChange((state)=>{\n            this.logInfo('音頻錄製器狀態變化', state);\n        });\n    }\n    /**\n   * 設定 WebSocket 事件處理\n   */ setupWebSocketEvents() {\n        if (!this.audioUploadWs) return;\n        // 處理 ACK/Missing 訊息\n        this.audioUploadWs.onAckMissing((data)=>{\n            this.handleAckMissing(data);\n        });\n        // 處理 WebSocket 關閉\n        this.audioUploadWs.onClose((event)=>{\n            this.logWarning('音頻上傳 WebSocket 連接關閉', {\n                code: event.code,\n                reason: event.reason\n            });\n        });\n    }\n    /**\n   * 處理音頻切片\n   * 儲存切片並上傳\n   */ handleAudioChunk(chunk) {\n        console.log('🎤 [RecordingService] 收到音頻切片', {\n            sequence: chunk.sequence,\n            size: chunk.blob.size,\n            duration: chunk.duration,\n            timestamp: new Date().toISOString()\n        });\n        this.logInfo('收到音頻切片', {\n            sequence: chunk.sequence,\n            size: chunk.blob.size,\n            duration: chunk.duration\n        });\n        // 儲存切片供重傳使用\n        this.audioChunks[chunk.sequence] = chunk;\n        // 如果 WebSocket 已連接，立即上傳\n        if (this.audioUploadWs?.isConnected) {\n            console.log('📤 [RecordingService] 準備上傳音頻切片', {\n                sequence: chunk.sequence,\n                wsState: this.audioUploadWs.readyState,\n                wsUrl: `/ws/upload_audio/${this.recordingState.currentSessionId}`\n            });\n            this.audioUploadWs.uploadAudioChunk(chunk.blob);\n            console.log('✅ [RecordingService] 音頻切片已送出', {\n                sequence: chunk.sequence,\n                size: chunk.blob.size,\n                time: new Date().toISOString()\n            });\n            this.logInfo('音頻切片已上傳', {\n                sequence: chunk.sequence\n            });\n        } else {\n            console.error('❌ [RecordingService] WebSocket 未連接，無法上傳音頻切片', {\n                sequence: chunk.sequence,\n                wsState: this.audioUploadWs?.readyState || 'null',\n                isConnected: this.audioUploadWs?.isConnected || false\n            });\n            this.logWarning('WebSocket 未連接，無法上傳音頻切片', {\n                sequence: chunk.sequence\n            });\n        }\n    }\n    /**\n   * 處理 ACK/Missing 訊息\n   * 實現音頻切片重傳機制\n   */ handleAckMissing(data) {\n        this.logInfo('收到 ACK/Missing 訊息', {\n            ack: data.ack,\n            missing: data.missing\n        });\n        if (data.missing.length > 0) {\n            this.logWarning('檢測到遺失的音頻切片，準備重傳', data.missing);\n            // 重傳遺失的切片\n            data.missing.forEach((sequence)=>{\n                const retryCount = this.retryCounts.get(sequence) ?? 0;\n                if (retryCount < 5) {\n                    this.retryCounts.set(sequence, retryCount + 1);\n                    // 尋找對應的音頻切片進行重傳\n                    if (this.audioChunks[sequence]) {\n                        this.logInfo('重傳音頻切片', {\n                            sequence,\n                            retryCount: retryCount + 1,\n                            maxRetries: 5\n                        });\n                        this.audioUploadWs?.uploadAudioChunk(this.audioChunks[sequence].blob);\n                    } else {\n                        this.logWarning('找不到要重傳的音頻切片', {\n                            sequence\n                        });\n                    }\n                } else {\n                    this.logWarning('音頻切片重傳次數已達上限', {\n                        sequence,\n                        maxRetries: 5\n                    });\n                }\n            });\n        }\n    }\n    /**\n   * 啟動錄音計時器\n   */ startRecordingTimer() {\n        this.clearRecordingTimer();\n        this.recordingState.recordingTime = 0;\n        this.recordingTimer = setInterval(()=>{\n            this.recordingState.recordingTime += 1;\n            // 每 30 秒記錄一次錄音時間\n            if (this.recordingState.recordingTime % 30 === 0) {\n                this.logInfo('錄音進行中', {\n                    recordingTime: this.recordingState.recordingTime,\n                    minutes: Math.floor(this.recordingState.recordingTime / 60)\n                });\n            }\n        }, 1000);\n    }\n    /**\n   * 啟動心跳機制\n   */ startHeartbeat() {\n        this.clearHeartbeatTimer();\n        this.heartbeatTimer = setInterval(()=>{\n            if (this.audioUploadWs?.isConnected) {\n                this.audioUploadWs.send(JSON.stringify({\n                    type: 'heartbeat',\n                    timestamp: Date.now()\n                }));\n                this.logInfo('發送心跳訊號');\n            }\n        }, 30000) // 每 30 秒發送一次心跳\n        ;\n    }\n    /**\n   * 清理所有計時器\n   */ clearTimers() {\n        this.clearRecordingTimer();\n        this.clearHeartbeatTimer();\n    }\n    /**\n   * 清理錄音計時器\n   */ clearRecordingTimer() {\n        if (this.recordingTimer) {\n            clearInterval(this.recordingTimer);\n            this.recordingTimer = null;\n        }\n    }\n    /**\n   * 清理心跳計時器\n   */ clearHeartbeatTimer() {\n        if (this.heartbeatTimer) {\n            clearInterval(this.heartbeatTimer);\n            this.heartbeatTimer = null;\n        }\n    }\n    /**\n   * 重置錄音狀態\n   */ resetRecordingState() {\n        this.recordingState = {\n            isRecording: false,\n            recordingTime: 0,\n            currentSessionId: null,\n            error: null\n        };\n        this.audioChunks = [];\n        this.retryCounts.clear();\n    }\n    /**\n   * 清理錄音相關資源\n   * 錯誤處理時使用\n   */ async cleanupRecordingResources() {\n        try {\n            // 停止音頻錄製器\n            if (this.audioRecorder) {\n                this.audioRecorder.stop();\n                this.audioRecorder.cleanup();\n                this.audioRecorder = null;\n            }\n            // 關閉 WebSocket 連接\n            if (this.audioUploadWs) {\n                this.audioUploadWs.disconnect();\n                this.audioUploadWs = null;\n            }\n            // 清理計時器\n            this.clearTimers();\n            // 重置狀態\n            this.recordingState.isRecording = false;\n            this.logInfo('錄音資源清理完成');\n        } catch (error) {\n            this.logWarning('清理錄音資源時發生錯誤', error);\n        }\n    }\n    /**\n * 獲取服務詳細狀態\n * 擴展基礎狀態，包含錄音特定信息\n */ async getDetailedStatus() {\n        const baseStatus = this.getStatus();\n        const supportCheck = await (0,_audio_recorder__WEBPACK_IMPORTED_MODULE_1__.checkAudioRecordingSupport)();\n        return {\n            ...baseStatus,\n            recordingState: this.getRecordingState(),\n            audioSupport: {\n                supported: supportCheck.isSupported,\n                errors: supportCheck.error ? [\n                    supportCheck.error\n                ] : []\n            },\n            audioRecorderState: this.audioRecorder?.currentState ?? null,\n            webSocketConnected: this.audioUploadWs?.isConnected ?? false,\n            chunksCount: this.audioChunks.length,\n            retryCount: Array.from(this.retryCounts.values()).reduce((sum, count)=>sum + count, 0)\n        };\n    }\n    constructor(...args){\n        super(...args), this.serviceName = 'RecordingService', // 錄音器和 WebSocket 引用\n        this.audioRecorder = null, this.audioUploadWs = null, // 錄音狀態\n        this.recordingState = {\n            isRecording: false,\n            recordingTime: 0,\n            currentSessionId: null,\n            error: null\n        }, // 計時器和重試機制\n        this.recordingTimer = null, this.heartbeatTimer = null, this.audioChunks = [], this.retryCounts = new Map();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc2VydmljZXMvcmVjb3JkaW5nLXNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7c0VBRTRDO0FBRTZDO0FBQ25CO0FBQ0M7QUFFdkU7Ozs7Ozs7OztDQVNDLEdBQ00sTUFBTU0seUJBQXlCTixzREFBV0E7SUFxQi9DOzs7R0FHQyxHQUNELE1BQU1PLGFBQTRCO1FBQ2hDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBRWIsV0FBVztRQUNYLE1BQU1DLGVBQWUsTUFBTVAsMkVBQTBCQTtRQUNyRCxJQUFJLENBQUNPLGFBQWFDLFdBQVcsRUFBRTtZQUM3QixNQUFNQyxlQUFlLENBQUMsU0FBUyxFQUFFRixhQUFhRyxLQUFLLElBQUksUUFBUTtZQUMvRCxJQUFJLENBQUNDLFVBQVUsQ0FBQyxjQUFjSixhQUFhRyxLQUFLO1lBQ2hELE1BQU0sSUFBSUUsTUFBTUg7UUFDbEI7UUFFQSxJQUFJLENBQUNJLFVBQVUsQ0FBQztRQUNoQixJQUFJLENBQUNBLFVBQVUsQ0FBQztJQUNsQjtJQUVBOztHQUVDLEdBQ0QsTUFBTUMsVUFBeUI7UUFDN0IsSUFBSSxDQUFDUixPQUFPLENBQUM7UUFFYixhQUFhO1FBQ2IsSUFBSSxJQUFJLENBQUNTLGNBQWMsQ0FBQ0MsV0FBVyxFQUFFO1lBQ25DLE1BQU0sSUFBSSxDQUFDQyxhQUFhO1FBQzFCO1FBRUEsVUFBVTtRQUNWLElBQUksSUFBSSxDQUFDQyxhQUFhLEVBQUU7WUFDdEIsSUFBSSxDQUFDQSxhQUFhLENBQUNKLE9BQU87WUFDMUIsSUFBSSxDQUFDSSxhQUFhLEdBQUc7UUFDdkI7UUFFQSxRQUFRO1FBQ1IsSUFBSSxDQUFDQyxXQUFXO1FBRWhCLE9BQU87UUFDUCxJQUFJLENBQUNDLG1CQUFtQjtRQUV4QixJQUFJLENBQUNQLFVBQVUsQ0FBQztJQUNsQjtJQUVBOzs7R0FHQyxHQUNELE1BQU1RLGVBQWVDLFNBQWlCLEVBQWlCO1FBQ3JELElBQUksQ0FBQ2hCLE9BQU8sQ0FBQyxRQUFRO1lBQUVnQjtRQUFV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QUVBLFdBQVc7YUFDSHVFLGlCQUF3RCxXQUN4RE0saUJBQXdELFdBQ3hEdEIsY0FBNEIsRUFBRSxPQUM5QlcsY0FBYyxJQUFJb0M7O0FBMGM1QiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL3NlcnZpY2VzL3JlY29yZGluZy1zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IEJhc2VTZXJ2aWNlIH0gZnJvbSAnLi9iYXNlLXNlcnZpY2UnXG5pbXBvcnQgeyBJUmVjb3JkaW5nU2VydmljZSwgUmVjb3JkaW5nU3RhdGUgfSBmcm9tICcuL2ludGVyZmFjZXMnXG5pbXBvcnQgeyBBdWRpb1JlY29yZGVyLCBBdWRpb0NodW5rLCBjaGVja0F1ZGlvUmVjb3JkaW5nU3VwcG9ydCB9IGZyb20gJy4uL2F1ZGlvLXJlY29yZGVyJ1xuaW1wb3J0IHsgQXVkaW9VcGxvYWRXZWJTb2NrZXQsIEFja01pc3NpbmdNZXNzYWdlIH0gZnJvbSAnLi4vd2Vic29ja2V0J1xuaW1wb3J0IHsgZ2V0QXVkaW9DaHVua0ludGVydmFsTXMsIGdldEF1ZGlvQ29uZmlnSW5mbyB9IGZyb20gJy4uL2NvbmZpZydcblxuLyoqXG4gKiBSZWNvcmRpbmdTZXJ2aWNlIC0g6YyE6Z+z566h55CG5pyN5YuZXG4gKlxuICog5pW05ZCI54++5pyJ55qE6YyE6Z+z55u46Zec6YKP6Lyv77yM5o+Q5L6b77yaXG4gKiAtIOmfs+mgu+mMhOijveeuoeeQhu+8iOmHjeeUqCBBdWRpb1JlY29yZGVy77yJXG4gKiAtIFdlYlNvY2tldCDpn7PpoLvkuIrlgrPvvIjph43nlKggQXVkaW9VcGxvYWRXZWJTb2NrZXTvvIlcbiAqIC0g6YyE6Z+z54uA5oWL566h55CGXG4gKiAtIOmMr+iqpOiZleeQhuWSjOmHjeippuapn+WItlxuICogLSDlv4Pot7Pnm6PmuKxcbiAqL1xuZXhwb3J0IGNsYXNzIFJlY29yZGluZ1NlcnZpY2UgZXh0ZW5kcyBCYXNlU2VydmljZSBpbXBsZW1lbnRzIElSZWNvcmRpbmdTZXJ2aWNlIHtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHNlcnZpY2VOYW1lID0gJ1JlY29yZGluZ1NlcnZpY2UnXG5cbiAgLy8g6YyE6Z+z5Zmo5ZKMIFdlYlNvY2tldCDlvJXnlKhcbiAgcHJpdmF0ZSBhdWRpb1JlY29yZGVyOiBBdWRpb1JlY29yZGVyIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBhdWRpb1VwbG9hZFdzOiBBdWRpb1VwbG9hZFdlYlNvY2tldCB8IG51bGwgPSBudWxsXG5cbiAgLy8g6YyE6Z+z54uA5oWLXG4gIHByaXZhdGUgcmVjb3JkaW5nU3RhdGU6IFJlY29yZGluZ1N0YXRlID0ge1xuICAgIGlzUmVjb3JkaW5nOiBmYWxzZSxcbiAgICByZWNvcmRpbmdUaW1lOiAwLFxuICAgIGN1cnJlbnRTZXNzaW9uSWQ6IG51bGwsXG4gICAgZXJyb3I6IG51bGxcbiAgfVxuXG4gIC8vIOioiOaZguWZqOWSjOmHjeippuapn+WItlxuICBwcml2YXRlIHJlY29yZGluZ1RpbWVyOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD4gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGhlYXJ0YmVhdFRpbWVyOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD4gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGF1ZGlvQ2h1bmtzOiBBdWRpb0NodW5rW10gPSBbXVxuICBwcml2YXRlIHJldHJ5Q291bnRzID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKVxuXG4gIC8qKlxuICAgKiDmnI3li5nliJ3lp4vljJZcbiAgICog5qqi5p+l6Z+z6aC76YyE6KO95pSv5o+05bqmXG4gICAqL1xuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMubG9nSW5mbygn5pyN5YuZ5Yid5aeL5YyW6ZaL5aeLJylcblxuICAgIC8vIOaqouafpeeAj+imveWZqOaUr+aPtOW6plxuICAgIGNvbnN0IHN1cHBvcnRDaGVjayA9IGF3YWl0IGNoZWNrQXVkaW9SZWNvcmRpbmdTdXBwb3J0KClcbiAgICBpZiAoIXN1cHBvcnRDaGVjay5pc1N1cHBvcnRlZCkge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYOmfs+mgu+mMhOijveS4jeaUr+aPtDogJHtzdXBwb3J0Q2hlY2suZXJyb3IgfHwgJ+acquefpemMr+iqpCd9YFxuICAgICAgdGhpcy5sb2dXYXJuaW5nKCfngI/opr3lmajmlK/mj7TluqbmqqLmn6XlpLHmlZcnLCBzdXBwb3J0Q2hlY2suZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgIH1cblxuICAgIHRoaXMubG9nU3VjY2Vzcygn54CP6Ka95Zmo5pSv5o+05bqm5qqi5p+l6YCa6YGOJylcbiAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+WIneWni+WMluWujOaIkCcpXG4gIH1cblxuICAvKipcbiAgICog5pyN5YuZ5riF55CGXG4gICAqL1xuICBhc3luYyBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMubG9nSW5mbygn5pyN5YuZ5riF55CG6ZaL5aeLJylcblxuICAgIC8vIOWmguaenOato+WcqOmMhOmfs++8jOWFiOWBnOatolxuICAgIGlmICh0aGlzLnJlY29yZGluZ1N0YXRlLmlzUmVjb3JkaW5nKSB7XG4gICAgICBhd2FpdCB0aGlzLnN0b3BSZWNvcmRpbmcoKVxuICAgIH1cblxuICAgIC8vIOa4heeQhumfs+mgu+mMhOijveWZqFxuICAgIGlmICh0aGlzLmF1ZGlvUmVjb3JkZXIpIHtcbiAgICAgIHRoaXMuYXVkaW9SZWNvcmRlci5jbGVhbnVwKClcbiAgICAgIHRoaXMuYXVkaW9SZWNvcmRlciA9IG51bGxcbiAgICB9XG5cbiAgICAvLyDmuIXnkIboqIjmmYLlmahcbiAgICB0aGlzLmNsZWFyVGltZXJzKClcblxuICAgIC8vIOmHjee9rueLgOaFi1xuICAgIHRoaXMucmVzZXRSZWNvcmRpbmdTdGF0ZSgpXG5cbiAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+a4heeQhuWujOaIkCcpXG4gIH1cblxuICAvKipcbiAgICog6ZaL5aeL6YyE6Z+zXG4gICAqIOmHjeeUqOePvuacieeahOmfs+mgu+mMhOijveWSjCBXZWJTb2NrZXQg5LiK5YKz6YKP6LyvXG4gICAqL1xuICBhc3luYyBzdGFydFJlY29yZGluZyhzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMubG9nSW5mbygn6ZaL5aeL6YyE6Z+zJywgeyBzZXNzaW9uSWQgfSlcblxuICAgIHRyeSB7XG4gICAgICAvLyDmqqLmn6XmmK/lkKblt7LlnKjpjITpn7NcbiAgICAgIGlmICh0aGlzLnJlY29yZGluZ1N0YXRlLmlzUmVjb3JkaW5nKSB7XG4gICAgICAgIHRoaXMubG9nV2FybmluZygn5bey5Zyo6YyE6Z+z5Lit77yM6Lez6YGO6YeN6KSH5ZWf5YuVJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIOmHjee9rueLgOaFi1xuICAgICAgdGhpcy5yZXNldFJlY29yZGluZ1N0YXRlKClcbiAgICAgIHRoaXMucmVjb3JkaW5nU3RhdGUuY3VycmVudFNlc3Npb25JZCA9IHNlc3Npb25JZFxuXG4gICAgICAvLyDmraXpqZ8gMTog5Yid5aeL5YyW6Z+z6aC76YyE6KO95ZmoXG4gICAgICB0aGlzLmxvZ0luZm8oJ+atpempnyAxOiDliJ3lp4vljJbpn7PpoLvpjIToo73lmagnKVxuICAgICAgY29uc3QgY2h1bmtJbnRlcnZhbCA9IGdldEF1ZGlvQ2h1bmtJbnRlcnZhbE1zKClcblxuICAgICAgY29uc29sZS5sb2coJ/Cfjq8gW1JlY29yZGluZ1NlcnZpY2VdIOmfs+mgu+mFjee9ricsIHtcbiAgICAgICAgY2h1bmtJbnRlcnZhbDogYCR7Y2h1bmtJbnRlcnZhbH1tcyAoJHtjaHVua0ludGVydmFsIC8gMTAwMH3np5IpYCxcbiAgICAgICAgbWltZVR5cGU6ICdhdWRpby93ZWJtO2NvZGVjcz1vcHVzJyxcbiAgICAgICAgY29uZmlnSW5mbzogZ2V0QXVkaW9Db25maWdJbmZvKClcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuYXVkaW9SZWNvcmRlciA9IG5ldyBBdWRpb1JlY29yZGVyKHtcbiAgICAgICAgY2h1bmtJbnRlcnZhbCwgLy8g5L2/55So55Kw5aKD6K6K5pW46YWN572u55qE5YiH54mH6ZaT6ZqUXG4gICAgICAgIG1pbWVUeXBlOiAnYXVkaW8vd2VibTtjb2RlY3M9b3B1cydcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMubG9nSW5mbyhg6Z+z6KiK6YWN572uOiAke2dldEF1ZGlvQ29uZmlnSW5mbygpfWApXG5cbiAgICAgIC8vIOioreWumumfs+mgu+mMhOijveWZqOS6i+S7tuiZleeQhlxuICAgICAgdGhpcy5zZXR1cEF1ZGlvUmVjb3JkZXJFdmVudHMoKVxuXG4gICAgICAvLyDmraXpqZ8gMjog6ZaL5aeL6Z+z6aC76YyE6KO977yI5YyF5ZCr542y5Y+W5qyK6ZmQ77yJXG4gICAgICB0aGlzLmxvZ0luZm8oJ+atpempnyAyOiDplovlp4vpn7PpoLvpjIToo73vvIjljIXlkKvnjbLlj5bmrIrpmZDvvIknKVxuXG4gICAgICAvLyDmraXpqZ8gMzog5bu656uL6Z+z6aC75LiK5YKzIFdlYlNvY2tldFxuICAgICAgdGhpcy5sb2dJbmZvKCfmraXpqZ8gMzog5bu656uL6Z+z6aC75LiK5YKzIFdlYlNvY2tldCcpXG4gICAgICB0aGlzLmF1ZGlvVXBsb2FkV3MgPSBuZXcgQXVkaW9VcGxvYWRXZWJTb2NrZXQoc2Vzc2lvbklkKVxuXG4gICAgICAvLyDoqK3lrpogV2ViU29ja2V0IOS6i+S7tuiZleeQhlxuICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldEV2ZW50cygpXG5cbiAgICAgIC8vIOmAo+aOpSBXZWJTb2NrZXRcbiAgICAgIGF3YWl0IHRoaXMuYXVkaW9VcGxvYWRXcy5jb25uZWN0KClcblxuICAgICAgLy8g6amX6K2JIFdlYlNvY2tldCDpgKPmjqVcbiAgICAgIGlmICghdGhpcy5hdWRpb1VwbG9hZFdzLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcign6Z+z6aC75LiK5YKzIFdlYlNvY2tldCDpgKPmjqXlpLHmlZcnKVxuICAgICAgfVxuXG4gICAgICAvLyDmraXpqZ8gNDog5ZWf5YuV5b+D6Lez5qmf5Yi2XG4gICAgICB0aGlzLmxvZ0luZm8oJ+atpempnyA0OiDllZ/li5Xlv4Pot7PmqZ/liLYnKVxuICAgICAgdGhpcy5zdGFydEhlYXJ0YmVhdCgpXG5cbiAgICAgIC8vIOatpempnyA1OiDplovlp4vpjITpn7NcbiAgICAgIHRoaXMubG9nSW5mbygn5q2l6amfIDU6IOmWi+Wni+mfs+mgu+mMhOijvScpXG4gICAgICBhd2FpdCB0aGlzLmF1ZGlvUmVjb3JkZXIuc3RhcnQoKGNodW5rOiBBdWRpb0NodW5rKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlQXVkaW9DaHVuayhjaHVuaylcbiAgICAgIH0pXG5cbiAgICAgIC8vIOatpempnyA2OiDllZ/li5XpjITpn7PoqIjmmYLlmahcbiAgICAgIHRoaXMubG9nSW5mbygn5q2l6amfIDY6IOWVn+WLlemMhOmfs+ioiOaZguWZqCcpXG4gICAgICB0aGlzLnN0YXJ0UmVjb3JkaW5nVGltZXIoKVxuXG4gICAgICAvLyDmm7TmlrDpjITpn7Pni4DmhYtcbiAgICAgIHRoaXMucmVjb3JkaW5nU3RhdGUuaXNSZWNvcmRpbmcgPSB0cnVlXG4gICAgICB0aGlzLnJlY29yZGluZ1N0YXRlLmVycm9yID0gbnVsbFxuXG4gICAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+mMhOmfs+WVn+WLleaIkOWKnycsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICBjaHVua0NvbmZpZzogZ2V0QXVkaW9Db25maWdJbmZvKCksXG4gICAgICAgIG1pbWVUeXBlOiAnYXVkaW8vd2VibTtjb2RlY3M9b3B1cydcbiAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8g6Yyv6Kqk5pmC5riF55CG6LOH5rqQXG4gICAgICBhd2FpdCB0aGlzLmNsZWFudXBSZWNvcmRpbmdSZXNvdXJjZXMoKVxuICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5lcnJvciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+mWi+Wni+mMhOmfs+WkseaVlydcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IoJ+mWi+Wni+mMhOmfsycsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlgZzmraLpjITpn7NcbiAgICog5L+d5oyBIFdlYlNvY2tldCDpgKPmjqXku6XmjqXmlLblianppJjnmoTomZXnkIbntZDmnpxcbiAgICovXG4gIGFzeW5jIHN0b3BSZWNvcmRpbmcoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5sb2dJbmZvKCflgZzmraLpjITpn7MnKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOabtOaWsOeLgOaFi1xuICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5pc1JlY29yZGluZyA9IGZhbHNlXG5cbiAgICAgIC8vIOWBnOatoumfs+mgu+mMhOijveWZqFxuICAgICAgaWYgKHRoaXMuYXVkaW9SZWNvcmRlcikge1xuICAgICAgICB0aGlzLmF1ZGlvUmVjb3JkZXIuc3RvcCgpXG4gICAgICAgIHRoaXMubG9nSW5mbygn6Z+z6aC76YyE6KO95Zmo5bey5YGc5q2iJylcbiAgICAgIH1cblxuICAgICAgLy8g5YGc5q2i6KiI5pmC5ZmoXG4gICAgICB0aGlzLmNsZWFyVGltZXJzKClcblxuICAgICAgLy8g5riF55CG6Z+z6aC76YyE6KO95Zmo77yI5L+d55WZIFdlYlNvY2tldCDpgKPmjqXvvIlcbiAgICAgIGlmICh0aGlzLmF1ZGlvUmVjb3JkZXIpIHtcbiAgICAgICAgdGhpcy5hdWRpb1JlY29yZGVyLmNsZWFudXAoKVxuICAgICAgICB0aGlzLmF1ZGlvUmVjb3JkZXIgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIC8vIOaWt+mWi+mfs+mgu+S4iuWCsyBXZWJTb2NrZXRcbiAgICAgIGlmICh0aGlzLmF1ZGlvVXBsb2FkV3MpIHtcbiAgICAgICAgdGhpcy5hdWRpb1VwbG9hZFdzLmRpc2Nvbm5lY3QoKVxuICAgICAgICB0aGlzLmF1ZGlvVXBsb2FkV3MgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9nU3VjY2Vzcygn6YyE6Z+z5YGc5q2i5oiQ5YqfJywge1xuICAgICAgICBzZXNzaW9uSWQ6IHRoaXMucmVjb3JkaW5nU3RhdGUuY3VycmVudFNlc3Npb25JZCxcbiAgICAgICAgcmVjb3JkaW5nVGltZTogdGhpcy5yZWNvcmRpbmdTdGF0ZS5yZWNvcmRpbmdUaW1lXG4gICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMucmVjb3JkaW5nU3RhdGUuZXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICflgZzmraLpjITpn7PlpLHmlZcnXG4gICAgICB0aGlzLmhhbmRsZUVycm9yKCflgZzmraLpjITpn7MnLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5Y+W5b6X55W25YmN6YyE6Z+z54uA5oWLXG4gICAqL1xuICBnZXRSZWNvcmRpbmdTdGF0ZSgpOiBSZWNvcmRpbmdTdGF0ZSB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5yZWNvcmRpbmdTdGF0ZSB9XG4gIH1cblxuICAvKipcbiAgICog5qqi5p+l5piv5ZCm5q2j5Zyo6YyE6Z+zXG4gICAqL1xuICBpc1JlY29yZGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5yZWNvcmRpbmdTdGF0ZS5pc1JlY29yZGluZ1xuICB9XG5cbiAgLyoqXG4gICAqIOWPluW+l+mMhOmfs+aZgumWk++8iOenku+8iVxuICAgKi9cbiAgZ2V0UmVjb3JkaW5nVGltZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnJlY29yZGluZ1N0YXRlLnJlY29yZGluZ1RpbWVcbiAgfVxuXG4gIC8qKlxuICog6Kit5a6a6Z+z6aC76YyE6KO95Zmo5LqL5Lu26JmV55CGXG4gKi9cbiAgcHJpdmF0ZSBzZXR1cEF1ZGlvUmVjb3JkZXJFdmVudHMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmF1ZGlvUmVjb3JkZXIpIHJldHVyblxuXG4gICAgLy8g6JmV55CG6YyE6KO96Yyv6KqkXG4gICAgdGhpcy5hdWRpb1JlY29yZGVyLm9uRXJyb3IoKGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgdGhpcy5sb2dXYXJuaW5nKCfpn7PpoLvpjIToo73lmajpjK/oqqQnLCBlcnJvci5tZXNzYWdlKVxuICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5lcnJvciA9IGVycm9yLm1lc3NhZ2VcbiAgICB9KVxuXG4gICAgLy8g6JmV55CG54uA5oWL6K6K5YyWXG4gICAgdGhpcy5hdWRpb1JlY29yZGVyLm9uU3RhdGVDaGFuZ2UoKHN0YXRlKSA9PiB7XG4gICAgICB0aGlzLmxvZ0luZm8oJ+mfs+mgu+mMhOijveWZqOeLgOaFi+iuiuWMlicsIHN0YXRlKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICog6Kit5a6aIFdlYlNvY2tldCDkuovku7bomZXnkIZcbiAgICovXG4gIHByaXZhdGUgc2V0dXBXZWJTb2NrZXRFdmVudHMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmF1ZGlvVXBsb2FkV3MpIHJldHVyblxuXG4gICAgLy8g6JmV55CGIEFDSy9NaXNzaW5nIOioiuaBr1xuICAgIHRoaXMuYXVkaW9VcGxvYWRXcy5vbkFja01pc3NpbmcoKGRhdGE6IEFja01pc3NpbmdNZXNzYWdlKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUFja01pc3NpbmcoZGF0YSlcbiAgICB9KVxuXG4gICAgLy8g6JmV55CGIFdlYlNvY2tldCDpl5zplolcbiAgICB0aGlzLmF1ZGlvVXBsb2FkV3Mub25DbG9zZSgoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMubG9nV2FybmluZygn6Z+z6aC75LiK5YKzIFdlYlNvY2tldCDpgKPmjqXpl5zploknLCB7XG4gICAgICAgIGNvZGU6IGV2ZW50LmNvZGUsXG4gICAgICAgIHJlYXNvbjogZXZlbnQucmVhc29uXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICog6JmV55CG6Z+z6aC75YiH54mHXG4gICAqIOWEsuWtmOWIh+eJh+S4puS4iuWCs1xuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVBdWRpb0NodW5rKGNodW5rOiBBdWRpb0NodW5rKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coJ/CfjqQgW1JlY29yZGluZ1NlcnZpY2VdIOaUtuWIsOmfs+mgu+WIh+eJhycsIHtcbiAgICAgIHNlcXVlbmNlOiBjaHVuay5zZXF1ZW5jZSxcbiAgICAgIHNpemU6IGNodW5rLmJsb2Iuc2l6ZSxcbiAgICAgIGR1cmF0aW9uOiBjaHVuay5kdXJhdGlvbixcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSlcblxuICAgIHRoaXMubG9nSW5mbygn5pS25Yiw6Z+z6aC75YiH54mHJywge1xuICAgICAgc2VxdWVuY2U6IGNodW5rLnNlcXVlbmNlLFxuICAgICAgc2l6ZTogY2h1bmsuYmxvYi5zaXplLFxuICAgICAgZHVyYXRpb246IGNodW5rLmR1cmF0aW9uXG4gICAgfSlcblxuICAgIC8vIOWEsuWtmOWIh+eJh+S+m+mHjeWCs+S9v+eUqFxuICAgIHRoaXMuYXVkaW9DaHVua3NbY2h1bmsuc2VxdWVuY2VdID0gY2h1bmtcblxuICAgIC8vIOWmguaenCBXZWJTb2NrZXQg5bey6YCj5o6l77yM56uL5Y2z5LiK5YKzXG4gICAgaWYgKHRoaXMuYXVkaW9VcGxvYWRXcz8uaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OkIFtSZWNvcmRpbmdTZXJ2aWNlXSDmupblgpnkuIrlgrPpn7PpoLvliIfniYcnLCB7XG4gICAgICAgIHNlcXVlbmNlOiBjaHVuay5zZXF1ZW5jZSxcbiAgICAgICAgd3NTdGF0ZTogdGhpcy5hdWRpb1VwbG9hZFdzLnJlYWR5U3RhdGUsXG4gICAgICAgIHdzVXJsOiBgL3dzL3VwbG9hZF9hdWRpby8ke3RoaXMucmVjb3JkaW5nU3RhdGUuY3VycmVudFNlc3Npb25JZH1gXG4gICAgICB9KVxuXG4gICAgICB0aGlzLmF1ZGlvVXBsb2FkV3MudXBsb2FkQXVkaW9DaHVuayhjaHVuay5ibG9iKVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFtSZWNvcmRpbmdTZXJ2aWNlXSDpn7PpoLvliIfniYflt7LpgIHlh7onLCB7XG4gICAgICAgIHNlcXVlbmNlOiBjaHVuay5zZXF1ZW5jZSxcbiAgICAgICAgc2l6ZTogY2h1bmsuYmxvYi5zaXplLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMubG9nSW5mbygn6Z+z6aC75YiH54mH5bey5LiK5YKzJywgeyBzZXF1ZW5jZTogY2h1bmsuc2VxdWVuY2UgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFtSZWNvcmRpbmdTZXJ2aWNlXSBXZWJTb2NrZXQg5pyq6YCj5o6l77yM54Sh5rOV5LiK5YKz6Z+z6aC75YiH54mHJywge1xuICAgICAgICBzZXF1ZW5jZTogY2h1bmsuc2VxdWVuY2UsXG4gICAgICAgIHdzU3RhdGU6IHRoaXMuYXVkaW9VcGxvYWRXcz8ucmVhZHlTdGF0ZSB8fCAnbnVsbCcsXG4gICAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmF1ZGlvVXBsb2FkV3M/LmlzQ29ubmVjdGVkIHx8IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICB0aGlzLmxvZ1dhcm5pbmcoJ1dlYlNvY2tldCDmnKrpgKPmjqXvvIznhKHms5XkuIrlgrPpn7PpoLvliIfniYcnLCB7IHNlcXVlbmNlOiBjaHVuay5zZXF1ZW5jZSB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDomZXnkIYgQUNLL01pc3Npbmcg6KiK5oGvXG4gICAqIOWvpuePvumfs+mgu+WIh+eJh+mHjeWCs+apn+WItlxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVBY2tNaXNzaW5nKGRhdGE6IEFja01pc3NpbmdNZXNzYWdlKTogdm9pZCB7XG4gICAgdGhpcy5sb2dJbmZvKCfmlLbliLAgQUNLL01pc3Npbmcg6KiK5oGvJywge1xuICAgICAgYWNrOiBkYXRhLmFjayxcbiAgICAgIG1pc3Npbmc6IGRhdGEubWlzc2luZ1xuICAgIH0pXG5cbiAgICBpZiAoZGF0YS5taXNzaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMubG9nV2FybmluZygn5qqi5ris5Yiw6YG65aSx55qE6Z+z6aC75YiH54mH77yM5rqW5YKZ6YeN5YKzJywgZGF0YS5taXNzaW5nKVxuXG4gICAgICAvLyDph43lgrPpgbrlpLHnmoTliIfniYdcbiAgICAgIGRhdGEubWlzc2luZy5mb3JFYWNoKHNlcXVlbmNlID0+IHtcbiAgICAgICAgY29uc3QgcmV0cnlDb3VudCA9IHRoaXMucmV0cnlDb3VudHMuZ2V0KHNlcXVlbmNlKSA/PyAwXG5cbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPCA1KSB7IC8vIOacgOWkmumHjeWCsyA1IOasoVxuICAgICAgICAgIHRoaXMucmV0cnlDb3VudHMuc2V0KHNlcXVlbmNlLCByZXRyeUNvdW50ICsgMSlcblxuICAgICAgICAgIC8vIOWwi+aJvuWwjeaHieeahOmfs+mgu+WIh+eJh+mAsuihjOmHjeWCs1xuICAgICAgICAgIGlmICh0aGlzLmF1ZGlvQ2h1bmtzW3NlcXVlbmNlXSkge1xuICAgICAgICAgICAgdGhpcy5sb2dJbmZvKCfph43lgrPpn7PpoLvliIfniYcnLCB7XG4gICAgICAgICAgICAgIHNlcXVlbmNlLFxuICAgICAgICAgICAgICByZXRyeUNvdW50OiByZXRyeUNvdW50ICsgMSxcbiAgICAgICAgICAgICAgbWF4UmV0cmllczogNVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuYXVkaW9VcGxvYWRXcz8udXBsb2FkQXVkaW9DaHVuayh0aGlzLmF1ZGlvQ2h1bmtzW3NlcXVlbmNlXS5ibG9iKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ1dhcm5pbmcoJ+aJvuS4jeWIsOimgemHjeWCs+eahOmfs+mgu+WIh+eJhycsIHsgc2VxdWVuY2UgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sb2dXYXJuaW5nKCfpn7PpoLvliIfniYfph43lgrPmrKHmlbjlt7LpgZTkuIrpmZAnLCB7XG4gICAgICAgICAgICBzZXF1ZW5jZSxcbiAgICAgICAgICAgIG1heFJldHJpZXM6IDVcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDllZ/li5XpjITpn7PoqIjmmYLlmahcbiAgICovXG4gIHByaXZhdGUgc3RhcnRSZWNvcmRpbmdUaW1lcigpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyUmVjb3JkaW5nVGltZXIoKVxuICAgIHRoaXMucmVjb3JkaW5nU3RhdGUucmVjb3JkaW5nVGltZSA9IDBcblxuICAgIHRoaXMucmVjb3JkaW5nVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnJlY29yZGluZ1N0YXRlLnJlY29yZGluZ1RpbWUgKz0gMVxuXG4gICAgICAvLyDmr48gMzAg56eS6KiY6YyE5LiA5qyh6YyE6Z+z5pmC6ZaTXG4gICAgICBpZiAodGhpcy5yZWNvcmRpbmdTdGF0ZS5yZWNvcmRpbmdUaW1lICUgMzAgPT09IDApIHtcbiAgICAgICAgdGhpcy5sb2dJbmZvKCfpjITpn7PpgLLooYzkuK0nLCB7XG4gICAgICAgICAgcmVjb3JkaW5nVGltZTogdGhpcy5yZWNvcmRpbmdTdGF0ZS5yZWNvcmRpbmdUaW1lLFxuICAgICAgICAgIG1pbnV0ZXM6IE1hdGguZmxvb3IodGhpcy5yZWNvcmRpbmdTdGF0ZS5yZWNvcmRpbmdUaW1lIC8gNjApXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSwgMTAwMClcbiAgfVxuXG4gIC8qKlxuICAgKiDllZ/li5Xlv4Pot7PmqZ/liLZcbiAgICovXG4gIHByaXZhdGUgc3RhcnRIZWFydGJlYXQoKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckhlYXJ0YmVhdFRpbWVyKClcblxuICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5hdWRpb1VwbG9hZFdzPy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLmF1ZGlvVXBsb2FkV3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdHlwZTogJ2hlYXJ0YmVhdCcsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgIH0pKVxuICAgICAgICB0aGlzLmxvZ0luZm8oJ+eZvOmAgeW/g+i3s+ioiuiZnycpXG4gICAgICB9XG4gICAgfSwgMzAwMDApIC8vIOavjyAzMCDnp5LnmbzpgIHkuIDmrKHlv4Pot7NcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbmiYDmnInoqIjmmYLlmahcbiAgICovXG4gIHByaXZhdGUgY2xlYXJUaW1lcnMoKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhclJlY29yZGluZ1RpbWVyKClcbiAgICB0aGlzLmNsZWFySGVhcnRiZWF0VGltZXIoKVxuICB9XG5cbiAgLyoqXG4gICAqIOa4heeQhumMhOmfs+ioiOaZguWZqFxuICAgKi9cbiAgcHJpdmF0ZSBjbGVhclJlY29yZGluZ1RpbWVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlY29yZGluZ1RpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb3JkaW5nVGltZXIpXG4gICAgICB0aGlzLnJlY29yZGluZ1RpbWVyID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIblv4Pot7PoqIjmmYLlmahcbiAgICovXG4gIHByaXZhdGUgY2xlYXJIZWFydGJlYXRUaW1lcigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oZWFydGJlYXRUaW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0YmVhdFRpbWVyKVxuICAgICAgdGhpcy5oZWFydGJlYXRUaW1lciA9IG51bGxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6YeN572u6YyE6Z+z54uA5oWLXG4gICAqL1xuICBwcml2YXRlIHJlc2V0UmVjb3JkaW5nU3RhdGUoKTogdm9pZCB7XG4gICAgdGhpcy5yZWNvcmRpbmdTdGF0ZSA9IHtcbiAgICAgIGlzUmVjb3JkaW5nOiBmYWxzZSxcbiAgICAgIHJlY29yZGluZ1RpbWU6IDAsXG4gICAgICBjdXJyZW50U2Vzc2lvbklkOiBudWxsLFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9XG4gICAgdGhpcy5hdWRpb0NodW5rcyA9IFtdXG4gICAgdGhpcy5yZXRyeUNvdW50cy5jbGVhcigpXG4gIH1cblxuICAvKipcbiAgICog5riF55CG6YyE6Z+z55u46Zec6LOH5rqQXG4gICAqIOmMr+iqpOiZleeQhuaZguS9v+eUqFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjbGVhbnVwUmVjb3JkaW5nUmVzb3VyY2VzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyDlgZzmraLpn7PpoLvpjIToo73lmahcbiAgICAgIGlmICh0aGlzLmF1ZGlvUmVjb3JkZXIpIHtcbiAgICAgICAgdGhpcy5hdWRpb1JlY29yZGVyLnN0b3AoKVxuICAgICAgICB0aGlzLmF1ZGlvUmVjb3JkZXIuY2xlYW51cCgpXG4gICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlciA9IG51bGxcbiAgICAgIH1cblxuICAgICAgLy8g6Zec6ZaJIFdlYlNvY2tldCDpgKPmjqVcbiAgICAgIGlmICh0aGlzLmF1ZGlvVXBsb2FkV3MpIHtcbiAgICAgICAgdGhpcy5hdWRpb1VwbG9hZFdzLmRpc2Nvbm5lY3QoKVxuICAgICAgICB0aGlzLmF1ZGlvVXBsb2FkV3MgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIC8vIOa4heeQhuioiOaZguWZqFxuICAgICAgdGhpcy5jbGVhclRpbWVycygpXG5cbiAgICAgIC8vIOmHjee9rueLgOaFi1xuICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5pc1JlY29yZGluZyA9IGZhbHNlXG5cbiAgICAgIHRoaXMubG9nSW5mbygn6YyE6Z+z6LOH5rqQ5riF55CG5a6M5oiQJylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dXYXJuaW5nKCfmuIXnkIbpjITpn7Pos4fmupDmmYLnmbznlJ/pjK/oqqQnLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAqIOeNsuWPluacjeWLmeips+e0sOeLgOaFi1xuICog5pO05bGV5Z+656SO54uA5oWL77yM5YyF5ZCr6YyE6Z+z54m55a6a5L+h5oGvXG4gKi9cbiAgYXN5bmMgZ2V0RGV0YWlsZWRTdGF0dXMoKTogUHJvbWlzZTxSZWNvcmRpbmdTZXJ2aWNlU3RhdHVzPiB7XG4gICAgY29uc3QgYmFzZVN0YXR1cyA9IHRoaXMuZ2V0U3RhdHVzKClcbiAgICBjb25zdCBzdXBwb3J0Q2hlY2sgPSBhd2FpdCBjaGVja0F1ZGlvUmVjb3JkaW5nU3VwcG9ydCgpXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uYmFzZVN0YXR1cyxcbiAgICAgIHJlY29yZGluZ1N0YXRlOiB0aGlzLmdldFJlY29yZGluZ1N0YXRlKCksXG4gICAgICBhdWRpb1N1cHBvcnQ6IHtcbiAgICAgICAgc3VwcG9ydGVkOiBzdXBwb3J0Q2hlY2suaXNTdXBwb3J0ZWQsXG4gICAgICAgIGVycm9yczogc3VwcG9ydENoZWNrLmVycm9yID8gW3N1cHBvcnRDaGVjay5lcnJvcl0gOiBbXVxuICAgICAgfSxcbiAgICAgIGF1ZGlvUmVjb3JkZXJTdGF0ZTogdGhpcy5hdWRpb1JlY29yZGVyPy5jdXJyZW50U3RhdGUgPz8gbnVsbCxcbiAgICAgIHdlYlNvY2tldENvbm5lY3RlZDogdGhpcy5hdWRpb1VwbG9hZFdzPy5pc0Nvbm5lY3RlZCA/PyBmYWxzZSxcbiAgICAgIGNodW5rc0NvdW50OiB0aGlzLmF1ZGlvQ2h1bmtzLmxlbmd0aCxcbiAgICAgIHJldHJ5Q291bnQ6IEFycmF5LmZyb20odGhpcy5yZXRyeUNvdW50cy52YWx1ZXMoKSkucmVkdWNlKChzdW0sIGNvdW50KSA9PiBzdW0gKyBjb3VudCwgMClcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZWNvcmRpbmdTZXJ2aWNlIOips+e0sOeLgOaFi+S7i+mdolxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZGluZ1NlcnZpY2VTdGF0dXMge1xuICBzZXJ2aWNlTmFtZTogc3RyaW5nXG4gIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW5cbiAgaXNSdW5uaW5nOiBib29sZWFuXG4gIHRpbWVzdGFtcDogc3RyaW5nXG4gIHJlY29yZGluZ1N0YXRlOiBSZWNvcmRpbmdTdGF0ZVxuICBhdWRpb1N1cHBvcnQ6IHtcbiAgICBzdXBwb3J0ZWQ6IGJvb2xlYW5cbiAgICBlcnJvcnM6IHN0cmluZ1tdXG4gIH1cbiAgYXVkaW9SZWNvcmRlclN0YXRlOiBzdHJpbmcgfCBudWxsXG4gIHdlYlNvY2tldENvbm5lY3RlZDogYm9vbGVhblxuICBjaHVua3NDb3VudDogbnVtYmVyXG4gIHJldHJ5Q291bnQ6IG51bWJlclxufVxuIl0sIm5hbWVzIjpbIkJhc2VTZXJ2aWNlIiwiQXVkaW9SZWNvcmRlciIsImNoZWNrQXVkaW9SZWNvcmRpbmdTdXBwb3J0IiwiQXVkaW9VcGxvYWRXZWJTb2NrZXQiLCJnZXRBdWRpb0NodW5rSW50ZXJ2YWxNcyIsImdldEF1ZGlvQ29uZmlnSW5mbyIsIlJlY29yZGluZ1NlcnZpY2UiLCJpbml0aWFsaXplIiwibG9nSW5mbyIsInN1cHBvcnRDaGVjayIsImlzU3VwcG9ydGVkIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3IiLCJsb2dXYXJuaW5nIiwiRXJyb3IiLCJsb2dTdWNjZXNzIiwiY2xlYW51cCIsInJlY29yZGluZ1N0YXRlIiwiaXNSZWNvcmRpbmciLCJzdG9wUmVjb3JkaW5nIiwiYXVkaW9SZWNvcmRlciIsImNsZWFyVGltZXJzIiwicmVzZXRSZWNvcmRpbmdTdGF0ZSIsInN0YXJ0UmVjb3JkaW5nIiwic2Vzc2lvbklkIiwiY3VycmVudFNlc3Npb25JZCIsImNodW5rSW50ZXJ2YWwiLCJjb25zb2xlIiwibG9nIiwibWltZVR5cGUiLCJjb25maWdJbmZvIiwic2V0dXBBdWRpb1JlY29yZGVyRXZlbnRzIiwiYXVkaW9VcGxvYWRXcyIsInNldHVwV2ViU29ja2V0RXZlbnRzIiwiY29ubmVjdCIsImlzQ29ubmVjdGVkIiwic3RhcnRIZWFydGJlYXQiLCJzdGFydCIsImNodW5rIiwiaGFuZGxlQXVkaW9DaHVuayIsInN0YXJ0UmVjb3JkaW5nVGltZXIiLCJjaHVua0NvbmZpZyIsImNsZWFudXBSZWNvcmRpbmdSZXNvdXJjZXMiLCJtZXNzYWdlIiwiaGFuZGxlRXJyb3IiLCJzdG9wIiwiZGlzY29ubmVjdCIsInJlY29yZGluZ1RpbWUiLCJnZXRSZWNvcmRpbmdTdGF0ZSIsImdldFJlY29yZGluZ1RpbWUiLCJvbkVycm9yIiwib25TdGF0ZUNoYW5nZSIsInN0YXRlIiwib25BY2tNaXNzaW5nIiwiZGF0YSIsImhhbmRsZUFja01pc3NpbmciLCJvbkNsb3NlIiwiZXZlbnQiLCJjb2RlIiwicmVhc29uIiwic2VxdWVuY2UiLCJzaXplIiwiYmxvYiIsImR1cmF0aW9uIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiYXVkaW9DaHVua3MiLCJ3c1N0YXRlIiwicmVhZHlTdGF0ZSIsIndzVXJsIiwidXBsb2FkQXVkaW9DaHVuayIsInRpbWUiLCJhY2siLCJtaXNzaW5nIiwibGVuZ3RoIiwiZm9yRWFjaCIsInJldHJ5Q291bnQiLCJyZXRyeUNvdW50cyIsImdldCIsInNldCIsIm1heFJldHJpZXMiLCJjbGVhclJlY29yZGluZ1RpbWVyIiwicmVjb3JkaW5nVGltZXIiLCJzZXRJbnRlcnZhbCIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJjbGVhckhlYXJ0YmVhdFRpbWVyIiwiaGVhcnRiZWF0VGltZXIiLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsInR5cGUiLCJub3ciLCJjbGVhckludGVydmFsIiwiY2xlYXIiLCJnZXREZXRhaWxlZFN0YXR1cyIsImJhc2VTdGF0dXMiLCJnZXRTdGF0dXMiLCJhdWRpb1N1cHBvcnQiLCJzdXBwb3J0ZWQiLCJlcnJvcnMiLCJhdWRpb1JlY29yZGVyU3RhdGUiLCJjdXJyZW50U3RhdGUiLCJ3ZWJTb2NrZXRDb25uZWN0ZWQiLCJjaHVua3NDb3VudCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInJlZHVjZSIsInN1bSIsImNvdW50Iiwic2VydmljZU5hbWUiLCJNYXAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/recording-service.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/service-container.ts":
/*!*******************************************!*\
  !*** ./lib/services/service-container.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServiceContainer: () => (/* binding */ ServiceContainer),\n/* harmony export */   ServiceContainerError: () => (/* binding */ ServiceContainerError),\n/* harmony export */   serviceContainer: () => (/* binding */ serviceContainer)\n/* harmony export */ });\n/* harmony import */ var _base_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-service */ \"(ssr)/./lib/services/base-service.ts\");\n/* __next_internal_client_entry_do_not_use__ ServiceContainer,ServiceContainerError,serviceContainer auto */ \n/**\n * ServiceContainer - 服務依賴注入容器\n *\n * 參考後端 container.py 模式，提供：\n * - Singleton 模式 (參考 TranscriptManager.getInstance())\n * - 類型安全的服務註冊和解析\n * - 服務生命週期管理\n * - 依賴關係管理\n */ class ServiceContainer {\n    static{\n        /**\n     * Singleton 實例\n     */ this.instance = null;\n    }\n    /**\n     * 私有建構子 (Singleton 模式)\n     */ constructor(){\n        /**\n     * 服務工廠函數映射表\n     * key: 服務識別符, value: 服務工廠函數\n     */ this.providers = new Map();\n        /**\n     * 單例服務實例快取\n     * key: 服務識別符, value: 服務實例\n     */ this.singletons = new Map();\n        /**\n     * 已註冊的單例服務標識\n     */ this.singletonKeys = new Set();\n        // 開發模式下將實例掛到全域以利除錯\n        if (false) {}\n    }\n    /**\n     * 取得 ServiceContainer 實例 (Singleton)\n     */ static getInstance() {\n        if (!ServiceContainer.instance) {\n            ServiceContainer.instance = new ServiceContainer();\n        }\n        return ServiceContainer.instance;\n    }\n    /**\n     * 註冊服務工廠函數\n     * 參考後端 container.py 的 register 方法\n     *\n     * @param key 服務識別符\n     * @param factory 服務工廠函數\n     */ register(key, factory) {\n        if (this.providers.has(key)) {\n            console.warn(`⚠️ [ServiceContainer] 服務 \"${key}\" 已存在，將被覆蓋`);\n        }\n        this.providers.set(key, factory);\n        console.log(`✅ [ServiceContainer] 服務 \"${key}\" 註冊成功`);\n    }\n    /**\n     * 註冊單例服務\n     * 單例服務只會被創建一次，後續調用返回同一實例\n     *\n     * @param key 服務識別符\n     * @param factory 服務工廠函數\n     */ registerSingleton(key, factory) {\n        this.register(key, factory);\n        this.singletonKeys.add(key);\n        console.log(`✅ [ServiceContainer] 單例服務 \"${key}\" 註冊成功`);\n    }\n    /**\n     * 解析服務實例\n     * 參考後端 container.py 的 resolve 方法\n     *\n     * @param key 服務識別符\n     * @returns 服務實例\n     * @throws 如果服務未註冊\n     */ resolve(key) {\n        // 檢查單例快取\n        if (this.singletonKeys.has(key) && this.singletons.has(key)) {\n            return this.singletons.get(key);\n        }\n        // 取得工廠函數\n        const provider = this.providers.get(key);\n        if (!provider) {\n            const error = `服務 \"${key}\" 未註冊`;\n            console.error(`❌ [ServiceContainer] ${error}`);\n            throw new Error(error);\n        }\n        try {\n            const instance = provider();\n            // 單例服務快取實例\n            if (this.singletonKeys.has(key)) {\n                this.singletons.set(key, instance);\n            }\n            console.log(`✅ [ServiceContainer] 服務 \"${key}\" 解析成功`);\n            return instance;\n        } catch (error) {\n            console.error(`❌ [ServiceContainer] 創建服務 \"${key}\" 失敗:`, error);\n            throw error;\n        }\n    }\n    /**\n     * 檢查服務是否已註冊\n     *\n     * @param key 服務識別符\n     */ isRegistered(key) {\n        return this.providers.has(key);\n    }\n    /**\n     * 取得所有已註冊的服務識別符\n     */ getRegisteredServices() {\n        return Array.from(this.providers.keys());\n    }\n    /**\n     * 清除指定服務註冊\n     *\n     * @param key 服務識別符\n     */ unregister(key) {\n        const hasProvider = this.providers.delete(key);\n        this.singletons.delete(key);\n        this.singletonKeys.delete(key);\n        if (hasProvider) {\n            console.log(`🗑️ [ServiceContainer] 服務 \"${key}\" 已清除`);\n        }\n        return hasProvider;\n    }\n    /**\n     * 清除所有服務註冊\n     * 主要用於測試環境\n     */ clear() {\n        const count = this.providers.size;\n        this.providers.clear();\n        this.singletons.clear();\n        this.singletonKeys.clear();\n        console.log(`🗑️ [ServiceContainer] 已清除 ${count} 個服務`);\n    }\n    /**\n     * 獲取容器狀態摘要\n     */ getContainerStatus() {\n        const registeredServices = this.getRegisteredServices();\n        const activeSingletons = Array.from(this.singletons.keys());\n        return {\n            totalServices: registeredServices.length,\n            activeSingletonsCount: activeSingletons.length,\n            registeredServices,\n            activeSingletons,\n            timestamp: new Date().toISOString()\n        };\n    }\n    /**\n     * 初始化所有已註冊的 BaseService 實例\n     * 用於應用程式啟動時統一初始化服務\n     */ async initializeServices() {\n        const results = [];\n        const services = this.getRegisteredServices();\n        console.log(`🚀 [ServiceContainer] 開始初始化 ${services.length} 個服務...`);\n        for (const serviceKey of services){\n            try {\n                const service = this.resolve(serviceKey);\n                // 檢查是否為 BaseService 實例\n                if (service instanceof _base_service__WEBPACK_IMPORTED_MODULE_0__.BaseService) {\n                    await service.start();\n                    results.push({\n                        serviceKey,\n                        success: true,\n                        status: service.getStatus()\n                    });\n                    console.log(`✅ [ServiceContainer] 服務 \"${serviceKey}\" 初始化成功`);\n                } else {\n                    // 非 BaseService 實例，跳過初始化\n                    results.push({\n                        serviceKey,\n                        success: true,\n                        status: null,\n                        message: '非 BaseService 實例，跳過初始化'\n                    });\n                    console.log(`ℹ️ [ServiceContainer] 服務 \"${serviceKey}\" 非 BaseService 實例，跳過初始化`);\n                }\n            } catch (error) {\n                results.push({\n                    serviceKey,\n                    success: false,\n                    error: error instanceof Error ? error.message : '未知錯誤'\n                });\n                console.error(`❌ [ServiceContainer] 服務 \"${serviceKey}\" 初始化失敗:`, error);\n            }\n        }\n        const successCount = results.filter((r)=>r.success).length;\n        console.log(`🎯 [ServiceContainer] 服務初始化完成: ${successCount}/${services.length} 成功`);\n        return results;\n    }\n    /**\n     * 清理所有已啟動的 BaseService 實例\n     * 用於應用程式關閉時統一清理資源\n     */ async cleanupServices() {\n        const results = [];\n        const singletonKeys = Array.from(this.singletons.keys());\n        console.log(`🛑 [ServiceContainer] 開始清理 ${singletonKeys.length} 個單例服務...`);\n        for (const serviceKey of singletonKeys){\n            try {\n                const service = this.singletons.get(serviceKey);\n                if (service instanceof _base_service__WEBPACK_IMPORTED_MODULE_0__.BaseService && service.isRunning) {\n                    await service.stop();\n                    results.push({\n                        serviceKey,\n                        success: true\n                    });\n                    console.log(`✅ [ServiceContainer] 服務 \"${serviceKey}\" 清理成功`);\n                } else {\n                    results.push({\n                        serviceKey,\n                        success: true,\n                        message: '服務未運行或非 BaseService 實例'\n                    });\n                }\n            } catch (error) {\n                results.push({\n                    serviceKey,\n                    success: false,\n                    error: error instanceof Error ? error.message : '未知錯誤'\n                });\n                console.error(`❌ [ServiceContainer] 服務 \"${serviceKey}\" 清理失敗:`, error);\n            }\n        }\n        const successCount = results.filter((r)=>r.success).length;\n        console.log(`🎯 [ServiceContainer] 服務清理完成: ${successCount}/${singletonKeys.length} 成功`);\n        return results;\n    }\n}\n/**\n * 服務容器錯誤類別\n */ class ServiceContainerError extends Error {\n    constructor(message, errorType, serviceKey, originalError){\n        super(message);\n        this.name = 'ServiceContainerError';\n        this.errorType = errorType;\n        this.serviceKey = serviceKey;\n        this.originalError = originalError;\n    }\n}\n/**\n * 匯出全域容器實例 (Singleton)\n * 方便其他模組使用\n */ const serviceContainer = ServiceContainer.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc2VydmljZXMvc2VydmljZS1jb250YWluZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs2R0FFMkQ7QUFFM0Q7Ozs7Ozs7O0NBUUMsR0FDTSxNQUFNQzs7UUFDVDs7S0FFQyxRQUNjQyxXQUFvQzs7SUFtQm5EOztLQUVDLEdBQ0QsYUFBc0I7UUFwQnRCOzs7S0FHQyxRQUNnQkMsWUFBWSxJQUFJQztRQUVqQzs7O0tBR0MsUUFDZ0JDLGFBQWEsSUFBSUQ7UUFFbEM7O0tBRUMsUUFDZ0JFLGdCQUFnQixJQUFJQztRQU1qQyxtQkFBbUI7UUFDbkIsSUFBSSxLQUE2QixFQUFFLEVBR2xDO0lBQ0w7SUFFQTs7S0FFQyxHQUNELE9BQU9LLGNBQWdDO1FBQ25DLElBQUksQ0FBQ1gsaUJBQWlCQyxRQUFRLEVBQUU7WUFDNUJELGlCQUFpQkMsUUFBUSxHQUFHLElBQUlEO1FBQ3BDO1FBQ0EsT0FBT0EsaUJBQWlCQyxRQUFRO0lBQ3BDO0lBRUE7Ozs7OztLQU1DLEdBQ0RXLFNBQVlDLEdBQVcsRUFBRUMsT0FBZ0IsRUFBUTtRQUM3QyxJQUFJLElBQUksQ0FBQ1osU0FBUyxDQUFDYSxHQUFHLENBQUNGLE1BQU07WUFDekJKLFFBQVFPLElBQUksQ0FBQyxDQUFDLDBCQUEwQixFQUFFSCxJQUFJLFVBQVUsQ0FBQztRQUM3RDtRQUVBLElBQUksQ0FBQ1gsU0FBUyxDQUFDZSxHQUFHLENBQUNKLEtBQUtDO1FBQ3hCTCxRQUFRQyxHQUFHLENBQUMsQ0FBQyx5QkFBeUIsRUFBRUcsSUFBSSxNQUFNLENBQUM7SUFDdkQ7SUFFQTs7Ozs7O0tBTUMsR0FDREssa0JBQXFCTCxHQUFXLEVBQUVDLE9BQWdCLEVBQVE7UUFDdEQsSUFBSSxDQUFDRixRQUFRLENBQUNDLEtBQUtDO1FBQ25CLElBQUksQ0FBQ1QsYUFBYSxDQUFDYyxHQUFHLENBQUNOO1FBQ3ZCSixRQUFRQyxHQUFHLENBQUMsQ0FBQywyQkFBMkIsRUFBRUcsSUFBSSxNQUFNLENBQUM7SUFDekQ7SUFFQTs7Ozs7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QUNFLEtBQUssQ0FBQ1Y7UUFDTixJQUFJLENBQUNXLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ0YsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNoQixVQUFVLEdBQUdBO1FBQ2xCLElBQUksQ0FBQ2lCLGFBQWEsR0FBR0E7SUFDekI7QUFDSjtBQWtDQTs7O0NBR0MsR0FDTSxNQUFNekQsbUJBQW1CUixpQkFBaUJXLFdBQVcsR0FBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL3NlcnZpY2VzL3NlcnZpY2UtY29udGFpbmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IEJhc2VTZXJ2aWNlLCBTZXJ2aWNlU3RhdHVzIH0gZnJvbSAnLi9iYXNlLXNlcnZpY2UnXG5cbi8qKlxuICogU2VydmljZUNvbnRhaW5lciAtIOacjeWLmeS+neiztOazqOWFpeWuueWZqFxuICpcbiAqIOWPg+iAg+W+jOerryBjb250YWluZXIucHkg5qih5byP77yM5o+Q5L6b77yaXG4gKiAtIFNpbmdsZXRvbiDmqKHlvI8gKOWPg+iAgyBUcmFuc2NyaXB0TWFuYWdlci5nZXRJbnN0YW5jZSgpKVxuICogLSDpoZ7lnovlronlhajnmoTmnI3li5noqLvlhorlkozop6PmnpBcbiAqIC0g5pyN5YuZ55Sf5ZG96YCx5pyf566h55CGXG4gKiAtIOS+neiztOmXnOS/gueuoeeQhlxuICovXG5leHBvcnQgY2xhc3MgU2VydmljZUNvbnRhaW5lciB7XG4gICAgLyoqXG4gICAgICogU2luZ2xldG9uIOWvpuS+i1xuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBTZXJ2aWNlQ29udGFpbmVyIHwgbnVsbCA9IG51bGxcblxuICAgIC8qKlxuICAgICAqIOacjeWLmeW3peW7oOWHveaVuOaYoOWwhOihqFxuICAgICAqIGtleTog5pyN5YuZ6K2Y5Yil56ymLCB2YWx1ZTog5pyN5YuZ5bel5bug5Ye95pW4XG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm92aWRlcnMgPSBuZXcgTWFwPHN0cmluZywgKCkgPT4gYW55PigpXG5cbiAgICAvKipcbiAgICAgKiDllq7kvovmnI3li5nlr6bkvovlv6vlj5ZcbiAgICAgKiBrZXk6IOacjeWLmeitmOWIpeespiwgdmFsdWU6IOacjeWLmeWvpuS+i1xuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2luZ2xldG9ucyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KClcblxuICAgIC8qKlxuICAgICAqIOW3suiou+WGiueahOWWruS+i+acjeWLmeaomeitmFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2luZ2xldG9uS2V5cyA9IG5ldyBTZXQ8c3RyaW5nPigpXG5cbiAgICAvKipcbiAgICAgKiDnp4HmnInlu7rmp4vlrZAgKFNpbmdsZXRvbiDmqKHlvI8pXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8g6ZaL55m85qih5byP5LiL5bCH5a+m5L6L5o6b5Yiw5YWo5Z+f5Lul5Yip6Zmk6YyvXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgOyAod2luZG93IGFzIGFueSkuc2VydmljZUNvbnRhaW5lciA9IHRoaXNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIFtTZXJ2aWNlQ29udGFpbmVyXSDmnI3li5nlrrnlmajlt7LliJ3lp4vljJYnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Y+W5b6XIFNlcnZpY2VDb250YWluZXIg5a+m5L6LIChTaW5nbGV0b24pXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKCk6IFNlcnZpY2VDb250YWluZXIge1xuICAgICAgICBpZiAoIVNlcnZpY2VDb250YWluZXIuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIFNlcnZpY2VDb250YWluZXIuaW5zdGFuY2UgPSBuZXcgU2VydmljZUNvbnRhaW5lcigpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNlcnZpY2VDb250YWluZXIuaW5zdGFuY2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDoqLvlhormnI3li5nlt6Xlu6Dlh73mlbhcbiAgICAgKiDlj4PogIPlvoznq68gY29udGFpbmVyLnB5IOeahCByZWdpc3RlciDmlrnms5VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkg5pyN5YuZ6K2Y5Yil56ymXG4gICAgICogQHBhcmFtIGZhY3Rvcnkg5pyN5YuZ5bel5bug5Ye95pW4XG4gICAgICovXG4gICAgcmVnaXN0ZXI8VD4oa2V5OiBzdHJpbmcsIGZhY3Rvcnk6ICgpID0+IFQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucHJvdmlkZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBbU2VydmljZUNvbnRhaW5lcl0g5pyN5YuZIFwiJHtrZXl9XCIg5bey5a2Y5Zyo77yM5bCH6KKr6KaG6JOLYClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvdmlkZXJzLnNldChrZXksIGZhY3RvcnkpXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1NlcnZpY2VDb250YWluZXJdIOacjeWLmSBcIiR7a2V5fVwiIOiou+WGiuaIkOWKn2ApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6Ki75YaK5Zau5L6L5pyN5YuZXG4gICAgICog5Zau5L6L5pyN5YuZ5Y+q5pyD6KKr5Ym15bu65LiA5qyh77yM5b6M57qM6Kq/55So6L+U5Zue5ZCM5LiA5a+m5L6LXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IOacjeWLmeitmOWIpeesplxuICAgICAqIEBwYXJhbSBmYWN0b3J5IOacjeWLmeW3peW7oOWHveaVuFxuICAgICAqL1xuICAgIHJlZ2lzdGVyU2luZ2xldG9uPFQ+KGtleTogc3RyaW5nLCBmYWN0b3J5OiAoKSA9PiBUKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXIoa2V5LCBmYWN0b3J5KVxuICAgICAgICB0aGlzLnNpbmdsZXRvbktleXMuYWRkKGtleSlcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBbU2VydmljZUNvbnRhaW5lcl0g5Zau5L6L5pyN5YuZIFwiJHtrZXl9XCIg6Ki75YaK5oiQ5YqfYClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDop6PmnpDmnI3li5nlr6bkvotcbiAgICAgKiDlj4PogIPlvoznq68gY29udGFpbmVyLnB5IOeahCByZXNvbHZlIOaWueazlVxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSDmnI3li5norZjliKXnrKZcbiAgICAgKiBAcmV0dXJucyDmnI3li5nlr6bkvotcbiAgICAgKiBAdGhyb3dzIOWmguaenOacjeWLmeacquiou+WGilxuICAgICAqL1xuICAgIHJlc29sdmU8VD4oa2V5OiBzdHJpbmcpOiBUIHtcbiAgICAgICAgLy8g5qqi5p+l5Zau5L6L5b+r5Y+WXG4gICAgICAgIGlmICh0aGlzLnNpbmdsZXRvbktleXMuaGFzKGtleSkgJiYgdGhpcy5zaW5nbGV0b25zLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGV0b25zLmdldChrZXkpIGFzIFRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWPluW+l+W3peW7oOWHveaVuFxuICAgICAgICBjb25zdCBwcm92aWRlciA9IHRoaXMucHJvdmlkZXJzLmdldChrZXkpXG4gICAgICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gYOacjeWLmSBcIiR7a2V5fVwiIOacquiou+WGimBcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBbU2VydmljZUNvbnRhaW5lcl0gJHtlcnJvcn1gKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKVxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gcHJvdmlkZXIoKSBhcyBUXG5cbiAgICAgICAgICAgIC8vIOWWruS+i+acjeWLmeW/q+WPluWvpuS+i1xuICAgICAgICAgICAgaWYgKHRoaXMuc2luZ2xldG9uS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2luZ2xldG9ucy5zZXQoa2V5LCBpbnN0YW5jZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBbU2VydmljZUNvbnRhaW5lcl0g5pyN5YuZIFwiJHtrZXl9XCIg6Kej5p6Q5oiQ5YqfYClcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFtTZXJ2aWNlQ29udGFpbmVyXSDlibXlu7rmnI3li5kgXCIke2tleX1cIiDlpLHmlZc6YCwgZXJyb3IpXG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5qqi5p+l5pyN5YuZ5piv5ZCm5bey6Ki75YaKXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IOacjeWLmeitmOWIpeesplxuICAgICAqL1xuICAgIGlzUmVnaXN0ZXJlZChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnMuaGFzKGtleSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlj5blvpfmiYDmnInlt7LoqLvlhornmoTmnI3li5norZjliKXnrKZcbiAgICAgKi9cbiAgICBnZXRSZWdpc3RlcmVkU2VydmljZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByb3ZpZGVycy5rZXlzKCkpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5riF6Zmk5oyH5a6a5pyN5YuZ6Ki75YaKXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IOacjeWLmeitmOWIpeesplxuICAgICAqL1xuICAgIHVucmVnaXN0ZXIoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgaGFzUHJvdmlkZXIgPSB0aGlzLnByb3ZpZGVycy5kZWxldGUoa2V5KVxuICAgICAgICB0aGlzLnNpbmdsZXRvbnMuZGVsZXRlKGtleSlcbiAgICAgICAgdGhpcy5zaW5nbGV0b25LZXlzLmRlbGV0ZShrZXkpXG5cbiAgICAgICAgaWYgKGhhc1Byb3ZpZGVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+Xke+4jyBbU2VydmljZUNvbnRhaW5lcl0g5pyN5YuZIFwiJHtrZXl9XCIg5bey5riF6ZmkYClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoYXNQcm92aWRlclxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOa4hemZpOaJgOacieacjeWLmeiou+WGilxuICAgICAqIOS4u+imgeeUqOaWvOa4rOippueSsOWig1xuICAgICAqL1xuICAgIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjb3VudCA9IHRoaXMucHJvdmlkZXJzLnNpemVcbiAgICAgICAgdGhpcy5wcm92aWRlcnMuY2xlYXIoKVxuICAgICAgICB0aGlzLnNpbmdsZXRvbnMuY2xlYXIoKVxuICAgICAgICB0aGlzLnNpbmdsZXRvbktleXMuY2xlYXIoKVxuICAgICAgICBjb25zb2xlLmxvZyhg8J+Xke+4jyBbU2VydmljZUNvbnRhaW5lcl0g5bey5riF6ZmkICR7Y291bnR9IOWAi+acjeWLmWApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog542y5Y+W5a655Zmo54uA5oWL5pGY6KaBXG4gICAgICovXG4gICAgZ2V0Q29udGFpbmVyU3RhdHVzKCk6IFNlcnZpY2VDb250YWluZXJTdGF0dXMge1xuICAgICAgICBjb25zdCByZWdpc3RlcmVkU2VydmljZXMgPSB0aGlzLmdldFJlZ2lzdGVyZWRTZXJ2aWNlcygpXG4gICAgICAgIGNvbnN0IGFjdGl2ZVNpbmdsZXRvbnMgPSBBcnJheS5mcm9tKHRoaXMuc2luZ2xldG9ucy5rZXlzKCkpXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvdGFsU2VydmljZXM6IHJlZ2lzdGVyZWRTZXJ2aWNlcy5sZW5ndGgsXG4gICAgICAgICAgICBhY3RpdmVTaW5nbGV0b25zQ291bnQ6IGFjdGl2ZVNpbmdsZXRvbnMubGVuZ3RoLFxuICAgICAgICAgICAgcmVnaXN0ZXJlZFNlcnZpY2VzLFxuICAgICAgICAgICAgYWN0aXZlU2luZ2xldG9ucyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbmiYDmnInlt7LoqLvlhornmoQgQmFzZVNlcnZpY2Ug5a+m5L6LXG4gICAgICog55So5pa85oeJ55So56iL5byP5ZWf5YuV5pmC57Wx5LiA5Yid5aeL5YyW5pyN5YuZXG4gICAgICovXG4gICAgYXN5bmMgaW5pdGlhbGl6ZVNlcnZpY2VzKCk6IFByb21pc2U8U2VydmljZUluaXRpYWxpemF0aW9uUmVzdWx0W10+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogU2VydmljZUluaXRpYWxpemF0aW9uUmVzdWx0W10gPSBbXVxuICAgICAgICBjb25zdCBzZXJ2aWNlcyA9IHRoaXMuZ2V0UmVnaXN0ZXJlZFNlcnZpY2VzKClcblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+agCBbU2VydmljZUNvbnRhaW5lcl0g6ZaL5aeL5Yid5aeL5YyWICR7c2VydmljZXMubGVuZ3RofSDlgIvmnI3li5kuLi5gKVxuXG4gICAgICAgIGZvciAoY29uc3Qgc2VydmljZUtleSBvZiBzZXJ2aWNlcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5yZXNvbHZlKHNlcnZpY2VLZXkpXG5cbiAgICAgICAgICAgICAgICAvLyDmqqLmn6XmmK/lkKbngrogQmFzZVNlcnZpY2Ug5a+m5L6LXG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2UgaW5zdGFuY2VvZiBCYXNlU2VydmljZSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZXJ2aWNlLnN0YXJ0KClcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzZXJ2aWNlLmdldFN0YXR1cygpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1NlcnZpY2VDb250YWluZXJdIOacjeWLmSBcIiR7c2VydmljZUtleX1cIiDliJ3lp4vljJbmiJDlip9gKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOmdniBCYXNlU2VydmljZSDlr6bkvovvvIzot7PpgY7liJ3lp4vljJZcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+mdniBCYXNlU2VydmljZSDlr6bkvovvvIzot7PpgY7liJ3lp4vljJYnXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDihLnvuI8gW1NlcnZpY2VDb250YWluZXJdIOacjeWLmSBcIiR7c2VydmljZUtleX1cIiDpnZ4gQmFzZVNlcnZpY2Ug5a+m5L6L77yM6Lez6YGO5Yid5aeL5YyWYClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VLZXksXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn5pyq55+l6Yyv6KqkJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFtTZXJ2aWNlQ29udGFpbmVyXSDmnI3li5kgXCIke3NlcnZpY2VLZXl9XCIg5Yid5aeL5YyW5aSx5pWXOmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3VjY2Vzc0NvdW50ID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN1Y2Nlc3MpLmxlbmd0aFxuICAgICAgICBjb25zb2xlLmxvZyhg8J+OryBbU2VydmljZUNvbnRhaW5lcl0g5pyN5YuZ5Yid5aeL5YyW5a6M5oiQOiAke3N1Y2Nlc3NDb3VudH0vJHtzZXJ2aWNlcy5sZW5ndGh9IOaIkOWKn2ApXG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmuIXnkIbmiYDmnInlt7LllZ/li5XnmoQgQmFzZVNlcnZpY2Ug5a+m5L6LXG4gICAgICog55So5pa85oeJ55So56iL5byP6Zec6ZaJ5pmC57Wx5LiA5riF55CG6LOH5rqQXG4gICAgICovXG4gICAgYXN5bmMgY2xlYW51cFNlcnZpY2VzKCk6IFByb21pc2U8U2VydmljZUNsZWFudXBSZXN1bHRbXT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBTZXJ2aWNlQ2xlYW51cFJlc3VsdFtdID0gW11cbiAgICAgICAgY29uc3Qgc2luZ2xldG9uS2V5cyA9IEFycmF5LmZyb20odGhpcy5zaW5nbGV0b25zLmtleXMoKSlcblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+bkSBbU2VydmljZUNvbnRhaW5lcl0g6ZaL5aeL5riF55CGICR7c2luZ2xldG9uS2V5cy5sZW5ndGh9IOWAi+WWruS+i+acjeWLmS4uLmApXG5cbiAgICAgICAgZm9yIChjb25zdCBzZXJ2aWNlS2V5IG9mIHNpbmdsZXRvbktleXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IHRoaXMuc2luZ2xldG9ucy5nZXQoc2VydmljZUtleSlcblxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlIGluc3RhbmNlb2YgQmFzZVNlcnZpY2UgJiYgc2VydmljZS5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VydmljZS5zdG9wKClcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1NlcnZpY2VDb250YWluZXJdIOacjeWLmSBcIiR7c2VydmljZUtleX1cIiDmuIXnkIbmiJDlip9gKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmnI3li5nmnKrpgYvooYzmiJbpnZ4gQmFzZVNlcnZpY2Ug5a+m5L6LJ1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUtleSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfmnKrnn6XpjK/oqqQnXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgW1NlcnZpY2VDb250YWluZXJdIOacjeWLmSBcIiR7c2VydmljZUtleX1cIiDmuIXnkIblpLHmlZc6YCwgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdWNjZXNzQ291bnQgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3VjY2VzcykubGVuZ3RoXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46vIFtTZXJ2aWNlQ29udGFpbmVyXSDmnI3li5nmuIXnkIblrozmiJA6ICR7c3VjY2Vzc0NvdW50fS8ke3NpbmdsZXRvbktleXMubGVuZ3RofSDmiJDlip9gKVxuXG4gICAgICAgIHJldHVybiByZXN1bHRzXG4gICAgfVxufVxuXG4vKipcbiAqIOacjeWLmeWuueWZqOmMr+iqpOmhnuWIpVxuICovXG5leHBvcnQgY2xhc3MgU2VydmljZUNvbnRhaW5lckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHJlYWRvbmx5IGVycm9yVHlwZTogJ1VOUkVHSVNURVJFRF9TRVJWSUNFJyB8ICdDUkVBVElPTl9GQUlMRUQnIHwgJ1VOS05PV04nXG4gICAgcmVhZG9ubHkgc2VydmljZUtleTogc3RyaW5nXG4gICAgcmVhZG9ubHkgb3JpZ2luYWxFcnJvcj86IHVua25vd25cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgICAgIGVycm9yVHlwZTogJ1VOUkVHSVNURVJFRF9TRVJWSUNFJyB8ICdDUkVBVElPTl9GQUlMRUQnIHwgJ1VOS05PV04nLFxuICAgICAgICBzZXJ2aWNlS2V5OiBzdHJpbmcsXG4gICAgICAgIG9yaWdpbmFsRXJyb3I/OiB1bmtub3duXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpXG4gICAgICAgIHRoaXMubmFtZSA9ICdTZXJ2aWNlQ29udGFpbmVyRXJyb3InXG4gICAgICAgIHRoaXMuZXJyb3JUeXBlID0gZXJyb3JUeXBlXG4gICAgICAgIHRoaXMuc2VydmljZUtleSA9IHNlcnZpY2VLZXlcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvclxuICAgIH1cbn1cblxuLyoqXG4gKiDlrrnlmajni4DmhYvku4vpnaJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXJ2aWNlQ29udGFpbmVyU3RhdHVzIHtcbiAgICB0b3RhbFNlcnZpY2VzOiBudW1iZXJcbiAgICBhY3RpdmVTaW5nbGV0b25zQ291bnQ6IG51bWJlclxuICAgIHJlZ2lzdGVyZWRTZXJ2aWNlczogc3RyaW5nW11cbiAgICBhY3RpdmVTaW5nbGV0b25zOiBzdHJpbmdbXVxuICAgIHRpbWVzdGFtcDogc3RyaW5nXG59XG5cbi8qKlxuICog5pyN5YuZ5Yid5aeL5YyW57WQ5p6c5LuL6Z2iXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmljZUluaXRpYWxpemF0aW9uUmVzdWx0IHtcbiAgICBzZXJ2aWNlS2V5OiBzdHJpbmdcbiAgICBzdWNjZXNzOiBib29sZWFuXG4gICAgc3RhdHVzPzogU2VydmljZVN0YXR1cyB8IG51bGxcbiAgICBlcnJvcj86IHN0cmluZ1xuICAgIG1lc3NhZ2U/OiBzdHJpbmdcbn1cblxuLyoqXG4gKiDmnI3li5nmuIXnkIbntZDmnpzku4vpnaJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXJ2aWNlQ2xlYW51cFJlc3VsdCB7XG4gICAgc2VydmljZUtleTogc3RyaW5nXG4gICAgc3VjY2VzczogYm9vbGVhblxuICAgIGVycm9yPzogc3RyaW5nXG4gICAgbWVzc2FnZT86IHN0cmluZ1xufVxuXG4vKipcbiAqIOWMr+WHuuWFqOWfn+WuueWZqOWvpuS+iyAoU2luZ2xldG9uKVxuICog5pa55L6/5YW25LuW5qih57WE5L2/55SoXG4gKi9cbmV4cG9ydCBjb25zdCBzZXJ2aWNlQ29udGFpbmVyID0gU2VydmljZUNvbnRhaW5lci5nZXRJbnN0YW5jZSgpXG4iXSwibmFtZXMiOlsiQmFzZVNlcnZpY2UiLCJTZXJ2aWNlQ29udGFpbmVyIiwiaW5zdGFuY2UiLCJwcm92aWRlcnMiLCJNYXAiLCJzaW5nbGV0b25zIiwic2luZ2xldG9uS2V5cyIsIlNldCIsIndpbmRvdyIsInNlcnZpY2VDb250YWluZXIiLCJjb25zb2xlIiwibG9nIiwiZ2V0SW5zdGFuY2UiLCJyZWdpc3RlciIsImtleSIsImZhY3RvcnkiLCJoYXMiLCJ3YXJuIiwic2V0IiwicmVnaXN0ZXJTaW5nbGV0b24iLCJhZGQiLCJyZXNvbHZlIiwiZ2V0IiwicHJvdmlkZXIiLCJlcnJvciIsIkVycm9yIiwiaXNSZWdpc3RlcmVkIiwiZ2V0UmVnaXN0ZXJlZFNlcnZpY2VzIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsInVucmVnaXN0ZXIiLCJoYXNQcm92aWRlciIsImRlbGV0ZSIsImNsZWFyIiwiY291bnQiLCJzaXplIiwiZ2V0Q29udGFpbmVyU3RhdHVzIiwicmVnaXN0ZXJlZFNlcnZpY2VzIiwiYWN0aXZlU2luZ2xldG9ucyIsInRvdGFsU2VydmljZXMiLCJsZW5ndGgiLCJhY3RpdmVTaW5nbGV0b25zQ291bnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJpbml0aWFsaXplU2VydmljZXMiLCJyZXN1bHRzIiwic2VydmljZXMiLCJzZXJ2aWNlS2V5Iiwic2VydmljZSIsInN0YXJ0IiwicHVzaCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJnZXRTdGF0dXMiLCJtZXNzYWdlIiwic3VjY2Vzc0NvdW50IiwiZmlsdGVyIiwiciIsImNsZWFudXBTZXJ2aWNlcyIsImlzUnVubmluZyIsInN0b3AiLCJTZXJ2aWNlQ29udGFpbmVyRXJyb3IiLCJjb25zdHJ1Y3RvciIsImVycm9yVHlwZSIsIm9yaWdpbmFsRXJyb3IiLCJuYW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/service-container.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/service-registry.ts":
/*!******************************************!*\
  !*** ./lib/services/service-registry.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServiceRegistry: () => (/* binding */ ServiceRegistry)\n/* harmony export */ });\n/* harmony import */ var _service_container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./service-container */ \"(ssr)/./lib/services/service-container.ts\");\n/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./session-service */ \"(ssr)/./lib/services/session-service.ts\");\n/* harmony import */ var _recording_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./recording-service */ \"(ssr)/./lib/services/recording-service.ts\");\n/* harmony import */ var _simple_recording_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simple-recording-service */ \"(ssr)/./lib/services/simple-recording-service.ts\");\n/* harmony import */ var _transcript_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./transcript-service */ \"(ssr)/./lib/services/transcript-service.ts\");\n/* harmony import */ var _recording_flow_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./recording-flow-service */ \"(ssr)/./lib/services/recording-flow-service.ts\");\n/* harmony import */ var _interfaces__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./interfaces */ \"(ssr)/./lib/services/interfaces.ts\");\n/* harmony import */ var _feature_flags__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ ServiceRegistry auto */ \n\n\n\n\n\n\n\n/**\n * 服務註冊管理\n *\n * 統一管理所有服務的註冊和初始化\n */ class ServiceRegistry {\n    static{\n        this.isRegistered = false;\n    }\n    /**\n     * 註冊所有服務\n     *\n     * 使用 Singleton 模式確保服務只註冊一次\n     */ static async registerServices() {\n        if (ServiceRegistry.isRegistered) {\n            console.log('🔄 [ServiceRegistry] 服務已註冊，跳過重複註冊');\n            return;\n        }\n        try {\n            console.log('🚀 [ServiceRegistry] 開始註冊服務...');\n            // 註冊 SessionService\n            _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.registerSingleton(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.SESSION_SERVICE, ()=>new _session_service__WEBPACK_IMPORTED_MODULE_1__.SessionService());\n            console.log('✅ [ServiceRegistry] SessionService 註冊完成');\n            // 註冊 RecordingService（根據功能開關選擇）\n            if ((0,_feature_flags__WEBPACK_IMPORTED_MODULE_7__.isFeatureEnabled)('useSimpleRecordingService')) {\n                _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.registerSingleton(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.RECORDING_SERVICE, ()=>new _simple_recording_service__WEBPACK_IMPORTED_MODULE_3__.SimpleRecordingService());\n                console.log('✅ [ServiceRegistry] SimpleRecordingService 註冊完成 (Phase 2)');\n            } else {\n                _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.registerSingleton(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.RECORDING_SERVICE, ()=>new _recording_service__WEBPACK_IMPORTED_MODULE_2__.RecordingService());\n                console.log('✅ [ServiceRegistry] RecordingService 註冊完成 (Legacy)');\n            }\n            // 註冊 TranscriptService\n            _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.registerSingleton(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.TRANSCRIPT_SERVICE, ()=>new _transcript_service__WEBPACK_IMPORTED_MODULE_4__.TranscriptService());\n            console.log('✅ [ServiceRegistry] TranscriptService 註冊完成');\n            // 註冊 RecordingFlowService\n            _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.registerSingleton(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.RECORDING_FLOW_SERVICE, ()=>new _recording_flow_service__WEBPACK_IMPORTED_MODULE_5__.RecordingFlowService());\n            console.log('✅ [ServiceRegistry] RecordingFlowService 註冊完成');\n            ServiceRegistry.isRegistered = true;\n            console.log('✅ [ServiceRegistry] 所有服務註冊完成');\n        } catch (error) {\n            console.error('❌ [ServiceRegistry] 服務註冊失敗:', error);\n            throw error;\n        }\n    }\n    /**\n     * 初始化所有服務\n     *\n     * 啟動所有已註冊的服務\n     */ static async initializeServices() {\n        try {\n            console.log('🚀 [ServiceRegistry] 開始初始化服務...');\n            // 確保服務已註冊\n            await ServiceRegistry.registerServices();\n            // 初始化 SessionService\n            const sessionService = _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.SESSION_SERVICE);\n            await sessionService.start();\n            // 初始化 RecordingService\n            const recordingService = _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.RECORDING_SERVICE);\n            await recordingService.start();\n            // 初始化 TranscriptService\n            const transcriptService = _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.TRANSCRIPT_SERVICE);\n            await transcriptService.start();\n            // 初始化 RecordingFlowService\n            const recordingFlowService = _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.RECORDING_FLOW_SERVICE);\n            await recordingFlowService.start();\n            console.log('✅ [ServiceRegistry] 所有服務初始化完成');\n        } catch (error) {\n            console.error('❌ [ServiceRegistry] 服務初始化失敗:', error);\n            throw error;\n        }\n    }\n    /**\n     * 停止所有服務\n     */ static async stopServices() {\n        try {\n            console.log('🛑 [ServiceRegistry] 開始停止服務...');\n            if (!ServiceRegistry.isRegistered) {\n                console.log('ℹ️ [ServiceRegistry] 服務未註冊，無需停止');\n                return;\n            }\n            // 按相反順序停止服務\n            const recordingFlowService = _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.RECORDING_FLOW_SERVICE);\n            await recordingFlowService.stop();\n            const transcriptService = _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.TRANSCRIPT_SERVICE);\n            await transcriptService.stop();\n            const recordingService = _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.RECORDING_SERVICE);\n            await recordingService.stop();\n            const sessionService = _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.resolve(_interfaces__WEBPACK_IMPORTED_MODULE_6__.SERVICE_KEYS.SESSION_SERVICE);\n            await sessionService.stop();\n            console.log('✅ [ServiceRegistry] 所有服務停止完成');\n        } catch (error) {\n            console.error('❌ [ServiceRegistry] 服務停止失敗:', error);\n            throw error;\n        }\n    }\n    /**\n     * 取得服務註冊狀態\n     */ static getRegistrationStatus() {\n        return {\n            isRegistered: ServiceRegistry.isRegistered,\n            registeredServices: _service_container__WEBPACK_IMPORTED_MODULE_0__.serviceContainer.getRegisteredServices()\n        };\n    }\n}\n// 自動註冊服務（在模組載入時）\nServiceRegistry.registerServices().catch((error)=>{\n    console.error('❌ [ServiceRegistry] 自動註冊失敗:', error);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc2VydmljZXMvc2VydmljZS1yZWdpc3RyeS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7cUVBRXNEO0FBQ0o7QUFDSTtBQUNhO0FBQ1g7QUFDTztBQUNwQjtBQUNRO0FBRW5EOzs7O0NBSUMsR0FDTSxNQUFNUTs7YUFDTUMsZUFBZTs7SUFFOUI7Ozs7S0FJQyxHQUNELGFBQWFDLG1CQUFrQztRQUMzQyxJQUFJRixnQkFBZ0JDLFlBQVksRUFBRTtZQUM5QkUsUUFBUUMsR0FBRyxDQUFDO1lBQ1o7UUFDSjtRQUVBLElBQUk7WUFDQUQsUUFBUUMsR0FBRyxDQUFDO1lBRVosb0JBQW9CO1lBQ3BCWixnRUFBZ0JBLENBQUNhLGlCQUFpQixDQUFDUCxxREFBWUEsQ0FBQ1EsZUFBZSxFQUFFLElBQU0sSUFBSWIsNERBQWNBO1lBQ3pGVSxRQUFRQyxHQUFHLENBQUM7WUFFWixnQ0FBZ0M7WUFDaEMsSUFBSUwsZ0VBQWdCQSxDQUFDLDhCQUE4QjtnQkFDL0NQLGdFQUFnQkEsQ0FBQ2EsaUJBQWlCLENBQUNQLHFEQUFZQSxDQUFDUyxpQkFBaUIsRUFBRSxJQUFNLElBQUlaLDZFQUFzQkE7Z0JBQ25HUSxRQUFRQyxHQUFHLENBQUM7WUFDaEIsT0FBTztnQkFDSFosZ0VBQWdCQSxDQUFDYSxpQkFBaUIsQ0FBQ1AscURBQVlBLENBQUNTLGlCQUFpQixFQUFFLElBQU0sSUFBSWIsZ0VBQWdCQTtnQkFDN0ZTLFFBQVFDLEdBQUcsQ0FBQztZQUNoQjtZQUVBLHVCQUF1QjtZQUN2QlosZ0VBQWdCQSxDQUFDYSxpQkFBaUIsQ0FBQ1AscURBQVlBLENBQUNVLGtCQUFrQixFQUFFLElBQU0sSUFBSVosa0VBQWlCQTtZQUMvRk8sUUFBUUMsR0FBRyxDQUFDO1lBRVosMEJBQTBCO1lBQzFCWixnRUFBZ0JBLENBQUNhLGlCQUFpQixDQUFDUCxxREFBWUEsQ0FBQ1csc0JBQXNCLEVBQUUsSUFBTSxJQUFJWix5RUFBb0JBO1lBQ3RHTSxRQUFRQyxHQUFHLENBQUM7WUFFWkosZ0JBQWdCQyxZQUFZLEdBQUc7WUFDL0JFLFFBQVFDLEdBQUcsQ0FBQztRQUVoQixFQUFFLE9BQU9NLE9BQU87WUFDWlAsUUFBUU8sS0FBSyxDQUFDLCtCQUErQkE7WUFDN0MsTUFBTUE7UUFDVjtJQUNKO0lBRUE7Ozs7S0FJQyxHQUNELGFBQWFDLHFCQUFvQztRQUM3QyxJQUFJO1lBQ0FSLFFBQVFDLEdBQUcsQ0FBQztZQUVaLFVBQVU7WUFDVixNQUFNSixnQkFBZ0JFLGdCQUFnQjtZQUV0QyxxQkFBcUI7WUFDckIsTUFBTVUsaUJBQWlCcEIsZ0VBQWdCQSxDQUFDcUIsT0FBTyxDQUFpQmYscURBQVlBLENBQUNRLGVBQWU7WUFDNUYsTUFBTU0sZUFBZUUsS0FBSztZQUUxQix1QkFBdUI7WUFDdkIsTUFBTUMsbUJBQW1CdkIsZ0VBQWdCQSxDQUFDcUIsT0FBTyxDQUFtQmYscURBQVlBLENBQUNTLGlCQUFpQjtZQUNsRyxNQUFNUSxpQkFBaUJELEtBQUs7WUFFNUIsd0JBQXdCO1lBQ3hCLE1BQU1FLG9CQUFvQnhCLGdFQUFnQkEsQ0FBQ3FCLE9BQU8sQ0FBb0JmLHFEQUFZQSxDQUFDVSxrQkFBa0I7WUFDckcsTUFBTVEsa0JBQWtCRixLQUFLO1lBRTdCLDJCQUEyQjtZQUMzQixNQUFNRyx1QkFBdUJ6QixnRUFBZ0JBLENBQUNxQixPQUFPLENBQXVCZixxREFBWUEsQ0FBQ1csc0JBQXNCO1lBQy9HLE1BQU1RLHFCQUFxQkgsS0FBSztZQUVoQ1gsUUFBUUMsR0FBRyxDQUFDO1FBRWhCLEVBQUUsT0FBT00sT0FBTztZQUNaUCxRQUFRTyxLQUFLLENBQUMsZ0NBQWdDQTtZQUM5QyxNQUFNQTtRQUNWO0lBQ0o7SUFFQTs7S0FFQyxHQUNELGFBQWFRLGVBQThCO1FBQ3ZDLElBQUk7WUFDQWYsUUFBUUMsR0FBRyxDQUFDO1lBRVosSUFBSSxDQUFDSixnQkFBZ0JDLFlBQVksRUFBRTtnQkFDL0JFLFFBQVFDLEdBQUcsQ0FBQztnQkFDWjtZQUNKO1lBRUEsWUFBWTtZQUNaLE1BQU1hLHVCQUF1QnpCLGdFQUFnQkEsQ0FBQ3FCLE9BQU8sQ0FBdUJmLHFEQUFZQSxDQUFDVyxzQkFBc0I7WUFDL0csTUFBTVEscUJBQXFCRSxJQUFJO1lBRS9CLE1BQU1ILG9CQUFvQnhCLGdFQUFnQkEsQ0FBQ3FCLE9BQU8sQ0FBb0JmLHFEQUFZQSxDQUFDVSxrQkFBa0I7WUFDckcsTUFBTVEsa0JBQWtCRyxJQUFJO1lBRTVCLE1BQU1KLG1CQUFtQnZCLGdFQUFnQkEsQ0FBQ3FCLE9BQU8sQ0FBbUJmLHFEQUFZQSxDQUFDUyxpQkFBaUI7WUFDbEcsTUFBTVEsaUJBQWlCSSxJQUFJO1lBRTNCLE1BQU1QLGlCQUFpQnBCLGdFQUFnQkEsQ0FBQ3FCLE9BQU8sQ0FBaUJmLHFEQUFZQSxDQUFDUSxlQUFlO1lBQzVGLE1BQU1NLGVBQWVPLElBQUk7WUFFekJoQixRQUFRQyxHQUFHLENBQUM7UUFFaEIsRUFBRSxPQUFPTSxPQUFPO1lBQ1pQLFFBQVFPLEtBQUssQ0FBQywrQkFBK0JBO1lBQzdDLE1BQU1BO1FBQ1Y7SUFDSjtJQUVBOztLQUVDLEdBQ0QsT0FBT1Usd0JBR0w7UUFDRSxPQUFPO1lBQ0huQixjQUFjRCxnQkFBZ0JDLFlBQVk7WUFDMUNvQixvQkFBb0I3QixnRUFBZ0JBLENBQUM4QixxQkFBcUI7UUFDOUQ7SUFDSjtBQUNKO0FBRUEsaUJBQWlCO0FBQ2pCdEIsZ0JBQWdCRSxnQkFBZ0IsR0FBR3FCLEtBQUssQ0FBQ2IsQ0FBQUE7SUFDckNQLFFBQVFPLEtBQUssQ0FBQywrQkFBK0JBO0FBQ2pEIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvc2VydmljZXMvc2VydmljZS1yZWdpc3RyeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBzZXJ2aWNlQ29udGFpbmVyIH0gZnJvbSAnLi9zZXJ2aWNlLWNvbnRhaW5lcidcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi9zZXNzaW9uLXNlcnZpY2UnXG5pbXBvcnQgeyBSZWNvcmRpbmdTZXJ2aWNlIH0gZnJvbSAnLi9yZWNvcmRpbmctc2VydmljZSdcbmltcG9ydCB7IFNpbXBsZVJlY29yZGluZ1NlcnZpY2UgfSBmcm9tICcuL3NpbXBsZS1yZWNvcmRpbmctc2VydmljZSdcbmltcG9ydCB7IFRyYW5zY3JpcHRTZXJ2aWNlIH0gZnJvbSAnLi90cmFuc2NyaXB0LXNlcnZpY2UnXG5pbXBvcnQgeyBSZWNvcmRpbmdGbG93U2VydmljZSB9IGZyb20gJy4vcmVjb3JkaW5nLWZsb3ctc2VydmljZSdcbmltcG9ydCB7IFNFUlZJQ0VfS0VZUyB9IGZyb20gJy4vaW50ZXJmYWNlcydcbmltcG9ydCB7IGlzRmVhdHVyZUVuYWJsZWQgfSBmcm9tICcuLi9mZWF0dXJlLWZsYWdzJ1xuXG4vKipcbiAqIOacjeWLmeiou+WGiueuoeeQhlxuICpcbiAqIOe1seS4gOeuoeeQhuaJgOacieacjeWLmeeahOiou+WGiuWSjOWIneWni+WMllxuICovXG5leHBvcnQgY2xhc3MgU2VydmljZVJlZ2lzdHJ5IHtcbiAgICBwcml2YXRlIHN0YXRpYyBpc1JlZ2lzdGVyZWQgPSBmYWxzZVxuXG4gICAgLyoqXG4gICAgICog6Ki75YaK5omA5pyJ5pyN5YuZXG4gICAgICpcbiAgICAgKiDkvb/nlKggU2luZ2xldG9uIOaooeW8j+eiuuS/neacjeWLmeWPquiou+WGiuS4gOasoVxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyByZWdpc3RlclNlcnZpY2VzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoU2VydmljZVJlZ2lzdHJ5LmlzUmVnaXN0ZXJlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW1NlcnZpY2VSZWdpc3RyeV0g5pyN5YuZ5bey6Ki75YaK77yM6Lez6YGO6YeN6KSH6Ki75YaKJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIFtTZXJ2aWNlUmVnaXN0cnldIOmWi+Wni+iou+WGiuacjeWLmS4uLicpXG5cbiAgICAgICAgICAgIC8vIOiou+WGiiBTZXNzaW9uU2VydmljZVxuICAgICAgICAgICAgc2VydmljZUNvbnRhaW5lci5yZWdpc3RlclNpbmdsZXRvbihTRVJWSUNFX0tFWVMuU0VTU0lPTl9TRVJWSUNFLCAoKSA9PiBuZXcgU2Vzc2lvblNlcnZpY2UoKSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW1NlcnZpY2VSZWdpc3RyeV0gU2Vzc2lvblNlcnZpY2Ug6Ki75YaK5a6M5oiQJylcblxuICAgICAgICAgICAgLy8g6Ki75YaKIFJlY29yZGluZ1NlcnZpY2XvvIjmoLnmk5rlip/og73plovpl5zpgbjmk4fvvIlcbiAgICAgICAgICAgIGlmIChpc0ZlYXR1cmVFbmFibGVkKCd1c2VTaW1wbGVSZWNvcmRpbmdTZXJ2aWNlJykpIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnJlZ2lzdGVyU2luZ2xldG9uKFNFUlZJQ0VfS0VZUy5SRUNPUkRJTkdfU0VSVklDRSwgKCkgPT4gbmV3IFNpbXBsZVJlY29yZGluZ1NlcnZpY2UoKSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtTZXJ2aWNlUmVnaXN0cnldIFNpbXBsZVJlY29yZGluZ1NlcnZpY2Ug6Ki75YaK5a6M5oiQIChQaGFzZSAyKScpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlcnZpY2VDb250YWluZXIucmVnaXN0ZXJTaW5nbGV0b24oU0VSVklDRV9LRVlTLlJFQ09SRElOR19TRVJWSUNFLCAoKSA9PiBuZXcgUmVjb3JkaW5nU2VydmljZSgpKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW1NlcnZpY2VSZWdpc3RyeV0gUmVjb3JkaW5nU2VydmljZSDoqLvlhorlrozmiJAgKExlZ2FjeSknKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDoqLvlhoogVHJhbnNjcmlwdFNlcnZpY2VcbiAgICAgICAgICAgIHNlcnZpY2VDb250YWluZXIucmVnaXN0ZXJTaW5nbGV0b24oU0VSVklDRV9LRVlTLlRSQU5TQ1JJUFRfU0VSVklDRSwgKCkgPT4gbmV3IFRyYW5zY3JpcHRTZXJ2aWNlKCkpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtTZXJ2aWNlUmVnaXN0cnldIFRyYW5zY3JpcHRTZXJ2aWNlIOiou+WGiuWujOaIkCcpXG5cbiAgICAgICAgICAgIC8vIOiou+WGiiBSZWNvcmRpbmdGbG93U2VydmljZVxuICAgICAgICAgICAgc2VydmljZUNvbnRhaW5lci5yZWdpc3RlclNpbmdsZXRvbihTRVJWSUNFX0tFWVMuUkVDT1JESU5HX0ZMT1dfU0VSVklDRSwgKCkgPT4gbmV3IFJlY29yZGluZ0Zsb3dTZXJ2aWNlKCkpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtTZXJ2aWNlUmVnaXN0cnldIFJlY29yZGluZ0Zsb3dTZXJ2aWNlIOiou+WGiuWujOaIkCcpXG5cbiAgICAgICAgICAgIFNlcnZpY2VSZWdpc3RyeS5pc1JlZ2lzdGVyZWQgPSB0cnVlXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtTZXJ2aWNlUmVnaXN0cnldIOaJgOacieacjeWLmeiou+WGiuWujOaIkCcpXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbU2VydmljZVJlZ2lzdHJ5XSDmnI3li5noqLvlhorlpLHmlZc6JywgZXJyb3IpXG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Yid5aeL5YyW5omA5pyJ5pyN5YuZXG4gICAgICpcbiAgICAgKiDllZ/li5XmiYDmnInlt7LoqLvlhornmoTmnI3li5lcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgaW5pdGlhbGl6ZVNlcnZpY2VzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgW1NlcnZpY2VSZWdpc3RyeV0g6ZaL5aeL5Yid5aeL5YyW5pyN5YuZLi4uJylcblxuICAgICAgICAgICAgLy8g56K65L+d5pyN5YuZ5bey6Ki75YaKXG4gICAgICAgICAgICBhd2FpdCBTZXJ2aWNlUmVnaXN0cnkucmVnaXN0ZXJTZXJ2aWNlcygpXG5cbiAgICAgICAgICAgIC8vIOWIneWni+WMliBTZXNzaW9uU2VydmljZVxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblNlcnZpY2UgPSBzZXJ2aWNlQ29udGFpbmVyLnJlc29sdmU8U2Vzc2lvblNlcnZpY2U+KFNFUlZJQ0VfS0VZUy5TRVNTSU9OX1NFUlZJQ0UpXG4gICAgICAgICAgICBhd2FpdCBzZXNzaW9uU2VydmljZS5zdGFydCgpXG5cbiAgICAgICAgICAgIC8vIOWIneWni+WMliBSZWNvcmRpbmdTZXJ2aWNlXG4gICAgICAgICAgICBjb25zdCByZWNvcmRpbmdTZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPFJlY29yZGluZ1NlcnZpY2U+KFNFUlZJQ0VfS0VZUy5SRUNPUkRJTkdfU0VSVklDRSlcbiAgICAgICAgICAgIGF3YWl0IHJlY29yZGluZ1NlcnZpY2Uuc3RhcnQoKVxuXG4gICAgICAgICAgICAvLyDliJ3lp4vljJYgVHJhbnNjcmlwdFNlcnZpY2VcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zY3JpcHRTZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPFRyYW5zY3JpcHRTZXJ2aWNlPihTRVJWSUNFX0tFWVMuVFJBTlNDUklQVF9TRVJWSUNFKVxuICAgICAgICAgICAgYXdhaXQgdHJhbnNjcmlwdFNlcnZpY2Uuc3RhcnQoKVxuXG4gICAgICAgICAgICAvLyDliJ3lp4vljJYgUmVjb3JkaW5nRmxvd1NlcnZpY2VcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZGluZ0Zsb3dTZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPFJlY29yZGluZ0Zsb3dTZXJ2aWNlPihTRVJWSUNFX0tFWVMuUkVDT1JESU5HX0ZMT1dfU0VSVklDRSlcbiAgICAgICAgICAgIGF3YWl0IHJlY29yZGluZ0Zsb3dTZXJ2aWNlLnN0YXJ0KClcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbU2VydmljZVJlZ2lzdHJ5XSDmiYDmnInmnI3li5nliJ3lp4vljJblrozmiJAnKVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1NlcnZpY2VSZWdpc3RyeV0g5pyN5YuZ5Yid5aeL5YyW5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWBnOatouaJgOacieacjeWLmVxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBzdG9wU2VydmljZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+bkSBbU2VydmljZVJlZ2lzdHJ5XSDplovlp4vlgZzmraLmnI3li5kuLi4nKVxuXG4gICAgICAgICAgICBpZiAoIVNlcnZpY2VSZWdpc3RyeS5pc1JlZ2lzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4oS577iPIFtTZXJ2aWNlUmVnaXN0cnldIOacjeWLmeacquiou+WGiu+8jOeEoemcgOWBnOatoicpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIOaMieebuOWPjemghuW6j+WBnOatouacjeWLmVxuICAgICAgICAgICAgY29uc3QgcmVjb3JkaW5nRmxvd1NlcnZpY2UgPSBzZXJ2aWNlQ29udGFpbmVyLnJlc29sdmU8UmVjb3JkaW5nRmxvd1NlcnZpY2U+KFNFUlZJQ0VfS0VZUy5SRUNPUkRJTkdfRkxPV19TRVJWSUNFKVxuICAgICAgICAgICAgYXdhaXQgcmVjb3JkaW5nRmxvd1NlcnZpY2Uuc3RvcCgpXG5cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zY3JpcHRTZXJ2aWNlID0gc2VydmljZUNvbnRhaW5lci5yZXNvbHZlPFRyYW5zY3JpcHRTZXJ2aWNlPihTRVJWSUNFX0tFWVMuVFJBTlNDUklQVF9TRVJWSUNFKVxuICAgICAgICAgICAgYXdhaXQgdHJhbnNjcmlwdFNlcnZpY2Uuc3RvcCgpXG5cbiAgICAgICAgICAgIGNvbnN0IHJlY29yZGluZ1NlcnZpY2UgPSBzZXJ2aWNlQ29udGFpbmVyLnJlc29sdmU8UmVjb3JkaW5nU2VydmljZT4oU0VSVklDRV9LRVlTLlJFQ09SRElOR19TRVJWSUNFKVxuICAgICAgICAgICAgYXdhaXQgcmVjb3JkaW5nU2VydmljZS5zdG9wKClcblxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblNlcnZpY2UgPSBzZXJ2aWNlQ29udGFpbmVyLnJlc29sdmU8U2Vzc2lvblNlcnZpY2U+KFNFUlZJQ0VfS0VZUy5TRVNTSU9OX1NFUlZJQ0UpXG4gICAgICAgICAgICBhd2FpdCBzZXNzaW9uU2VydmljZS5zdG9wKClcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbU2VydmljZVJlZ2lzdHJ5XSDmiYDmnInmnI3li5nlgZzmraLlrozmiJAnKVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1NlcnZpY2VSZWdpc3RyeV0g5pyN5YuZ5YGc5q2i5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWPluW+l+acjeWLmeiou+WGiueLgOaFi1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXRSZWdpc3RyYXRpb25TdGF0dXMoKToge1xuICAgICAgICBpc1JlZ2lzdGVyZWQ6IGJvb2xlYW5cbiAgICAgICAgcmVnaXN0ZXJlZFNlcnZpY2VzOiBzdHJpbmdbXVxuICAgIH0ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNSZWdpc3RlcmVkOiBTZXJ2aWNlUmVnaXN0cnkuaXNSZWdpc3RlcmVkLFxuICAgICAgICAgICAgcmVnaXN0ZXJlZFNlcnZpY2VzOiBzZXJ2aWNlQ29udGFpbmVyLmdldFJlZ2lzdGVyZWRTZXJ2aWNlcygpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIOiHquWLleiou+WGiuacjeWLme+8iOWcqOaooee1hOi8ieWFpeaZgu+8iVxuU2VydmljZVJlZ2lzdHJ5LnJlZ2lzdGVyU2VydmljZXMoKS5jYXRjaChlcnJvciA9PiB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFtTZXJ2aWNlUmVnaXN0cnldIOiHquWLleiou+WGiuWkseaVlzonLCBlcnJvcilcbn0pXG4iXSwibmFtZXMiOlsic2VydmljZUNvbnRhaW5lciIsIlNlc3Npb25TZXJ2aWNlIiwiUmVjb3JkaW5nU2VydmljZSIsIlNpbXBsZVJlY29yZGluZ1NlcnZpY2UiLCJUcmFuc2NyaXB0U2VydmljZSIsIlJlY29yZGluZ0Zsb3dTZXJ2aWNlIiwiU0VSVklDRV9LRVlTIiwiaXNGZWF0dXJlRW5hYmxlZCIsIlNlcnZpY2VSZWdpc3RyeSIsImlzUmVnaXN0ZXJlZCIsInJlZ2lzdGVyU2VydmljZXMiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXJTaW5nbGV0b24iLCJTRVNTSU9OX1NFUlZJQ0UiLCJSRUNPUkRJTkdfU0VSVklDRSIsIlRSQU5TQ1JJUFRfU0VSVklDRSIsIlJFQ09SRElOR19GTE9XX1NFUlZJQ0UiLCJlcnJvciIsImluaXRpYWxpemVTZXJ2aWNlcyIsInNlc3Npb25TZXJ2aWNlIiwicmVzb2x2ZSIsInN0YXJ0IiwicmVjb3JkaW5nU2VydmljZSIsInRyYW5zY3JpcHRTZXJ2aWNlIiwicmVjb3JkaW5nRmxvd1NlcnZpY2UiLCJzdG9wU2VydmljZXMiLCJzdG9wIiwiZ2V0UmVnaXN0cmF0aW9uU3RhdHVzIiwicmVnaXN0ZXJlZFNlcnZpY2VzIiwiZ2V0UmVnaXN0ZXJlZFNlcnZpY2VzIiwiY2F0Y2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/service-registry.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/session-service.ts":
/*!*****************************************!*\
  !*** ./lib/services/session-service.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SessionService: () => (/* binding */ SessionService)\n/* harmony export */ });\n/* harmony import */ var _base_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-service */ \"(ssr)/./lib/services/base-service.ts\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api */ \"(ssr)/./lib/api.ts\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js\");\n/* __next_internal_client_entry_do_not_use__ SessionService auto */ \n\n\n/**\n * SessionService - 會話管理服務\n *\n * 重構現有的 sessionAPI 邏輯到服務層，提供：\n * - 會話創建（純筆記、錄音模式）\n * - 會話升級（純筆記 → 錄音模式）\n * - 會話狀態管理\n * - 統一錯誤處理和重試機制\n */ class SessionService extends _base_service__WEBPACK_IMPORTED_MODULE_0__.BaseService {\n    /**\n     * 服務初始化\n     * 重用現有的 sessionAPI 配置和攔截器\n     */ async initialize() {\n        this.logInfo('服務初始化開始');\n        // 檢查 sessionAPI 可用性\n        try {\n            // 簡單的健康檢查 - 嘗試獲取活躍會話\n            await this.checkActiveSession();\n            this.logSuccess('API 連接檢查', '後端 API 連接正常');\n        } catch (error) {\n            // 網路錯誤不影響初始化，記錄警告即可\n            if (axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isAxiosError(error) && error.code === 'ERR_NETWORK') {\n                this.logWarning('API 連接檢查失敗，但不影響服務初始化', error.message);\n            } else {\n                this.logWarning('初始化健康檢查失敗', error);\n            }\n        }\n        this.logSuccess('初始化完成');\n    }\n    /**\n     * 服務清理\n     */ async cleanup() {\n        this.logInfo('服務清理開始');\n        // SessionService 主要是無狀態的，無需特殊清理\n        this.logSuccess('清理完成');\n    }\n    /**\n     * 確保錄音會話存在 - 優雅處理會話衝突\n     *\n     * 策略：\n     * 1. 優先嘗試創建新的錄音會話\n     * 2. 若遇到 409 衝突，改為獲取現有活躍會話\n     * 3. 確保返回可用的錄音會話\n     */ async ensureRecordingSession(title, content) {\n        this.logInfo('確保錄音會話存在', {\n            title,\n            hasContent: !!content\n        });\n        try {\n            // 1. 嘗試直接創建新會話\n            return await this.createRecordingSession(title || `錄音筆記 ${new Date().toLocaleString()}`, content);\n        } catch (error) {\n            // 2. 處理 409 衝突錯誤 - 改為獲取現有會話\n            let originalError = error;\n            // 如果是 ServiceError，提取原始錯誤\n            if (error && typeof error === 'object' && 'originalError' in error) {\n                originalError = error.originalError;\n            }\n            if (axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isAxiosError(originalError) && originalError.response?.status === 409) {\n                this.logInfo('檢測到會話衝突，嘗試獲取現有活躍會話');\n                const existingSession = await this.checkActiveSession();\n                if (existingSession) {\n                    this.logSuccess('成功獲取現有活躍會話', {\n                        sessionId: existingSession.id,\n                        type: existingSession.type,\n                        status: existingSession.status\n                    });\n                    // 確保現有會話是錄音會話\n                    if (existingSession.type === 'recording') {\n                        return existingSession;\n                    } else {\n                        // 如果現有會話不是錄音會話，嘗試升級\n                        this.logInfo('現有會話非錄音會話，嘗試升級', {\n                            currentType: existingSession.type\n                        });\n                        return await this.upgradeToRecording(existingSession.id);\n                    }\n                } else {\n                    // 獲取不到現有會話，說明系統狀態異常\n                    this.handleError('確保錄音會話存在', new Error('會話衝突但無法獲取現有活躍會話，請重新整理頁面'));\n                }\n            }\n            // 3. 其他錯誤照丟\n            this.handleError('確保錄音會話存在', error);\n        }\n    }\n    /**\n     * 創建錄音會話\n     * 重用 sessionAPI.createSession 的重試機制和錯誤處理\n     */ async createRecordingSession(title, content) {\n        this.logInfo('創建錄音會話', {\n            title,\n            hasContent: !!content\n        });\n        try {\n            const sessionData = {\n                title,\n                type: 'recording',\n                content\n            };\n            const session = await _api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.createSession(sessionData);\n            this.logSuccess('錄音會話創建成功', {\n                sessionId: session.id,\n                type: session.type,\n                status: session.status\n            });\n            return session;\n        } catch (error) {\n            // 不在這裡處理 409 錯誤，交由 ensureRecordingSession 處理\n            this.handleError('創建錄音會話', error);\n        }\n    }\n    /**\n     * 創建純筆記會話\n     * 重用 sessionAPI.createSession 的重試機制和錯誤處理\n     */ async createNoteSession(title, content) {\n        this.logInfo('創建純筆記會話', {\n            title,\n            hasContent: !!content\n        });\n        try {\n            const sessionData = {\n                title,\n                type: 'note_only',\n                content\n            };\n            const session = await _api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.createSession(sessionData);\n            this.logSuccess('純筆記會話創建成功', {\n                sessionId: session.id,\n                type: session.type,\n                status: session.status\n            });\n            return session;\n        } catch (error) {\n            // 處理會話衝突錯誤（409）\n            if (axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isAxiosError(error) && error.response?.status === 409) {\n                const conflictMessage = '檢測到活躍會話衝突，請重新整理頁面後再試';\n                this.logWarning('會話衝突錯誤 (409)', {\n                    detail: error.response?.data?.detail,\n                    message: error.message\n                });\n                this.handleError('創建純筆記會話', new Error(conflictMessage));\n            }\n            this.handleError('創建純筆記會話', error);\n        }\n    }\n    /**\n     * 升級會話至錄音模式\n     * 重用 sessionAPI.upgradeToRecording 的重試機制和錯誤處理\n     */ async upgradeToRecording(sessionId) {\n        this.logInfo('升級會話至錄音模式', {\n            sessionId\n        });\n        try {\n            // 先檢查會話是否存在和狀態\n            const currentSession = await this.checkActiveSession();\n            if (!currentSession) {\n                this.handleError('升級會話至錄音模式', new Error('沒有活躍的會話可以升級'));\n            }\n            if (currentSession.id !== sessionId) {\n                this.handleError('升級會話至錄音模式', new Error(`會話 ID 不匹配：要求升級 ${sessionId}，但活躍會話為 ${currentSession.id}`));\n            }\n            if (currentSession.type === 'recording') {\n                this.logInfo('會話已經是錄音模式，返回現有會話', {\n                    sessionId\n                });\n                return currentSession;\n            }\n            const updatedSession = await _api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.upgradeToRecording(sessionId);\n            this.logSuccess('會話升級成功', {\n                sessionId: updatedSession.id,\n                oldType: currentSession.type,\n                newType: updatedSession.type,\n                status: updatedSession.status\n            });\n            return updatedSession;\n        } catch (error) {\n            this.handleError('升級會話至錄音模式', error);\n        }\n    }\n    /**\n     * 完成會話\n     * 重用 sessionAPI.finishSession 的重試機制和錯誤處理\n     */ async finishSession(sessionId) {\n        this.logInfo('完成會話', {\n            sessionId\n        });\n        try {\n            await _api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.finishSession(sessionId);\n            this.logSuccess('會話完成成功', {\n                sessionId\n            });\n        } catch (error) {\n            this.handleError('完成會話', error);\n        }\n    }\n    /**\n     * 檢查活躍會話\n     * 重用 sessionAPI.getActiveSession 的重試機制和錯誤處理\n     */ async checkActiveSession() {\n        this.logInfo('檢查活躍會話');\n        try {\n            const activeSession = await _api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.getActiveSession();\n            if (activeSession) {\n                this.logSuccess('活躍會話檢查', {\n                    sessionId: activeSession.id,\n                    type: activeSession.type,\n                    status: activeSession.status\n                });\n                return activeSession;\n            } else {\n                this.logInfo('沒有活躍會話');\n                return null;\n            }\n        } catch (error) {\n            // 網路錯誤不應該拋出，只記錄警告\n            if (axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isAxiosError(error) && error.code === 'ERR_NETWORK') {\n                this.logWarning('Backend API 連線暫時失敗，將在後續重試', error.message);\n                return null;\n            }\n            this.handleError('檢查活躍會話', error);\n        }\n    }\n    /**\n     * 等待會話在資料庫中完全可見\n     * 用於解決會話創建後立即查詢可能失敗的時序問題\n     */ async waitForSessionReady(sessionId, maxWaitTime = 5000) {\n        this.logInfo('等待會話準備就緒', {\n            sessionId,\n            maxWaitTime\n        });\n        const startTime = Date.now();\n        const checkInterval = 200 // 每 200ms 檢查一次\n        ;\n        while(Date.now() - startTime < maxWaitTime){\n            try {\n                const activeSession = await this.checkActiveSession();\n                if (activeSession && activeSession.id === sessionId) {\n                    // 進一步驗證會話狀態\n                    if (activeSession.status === 'active' && activeSession.type === 'recording') {\n                        this.logSuccess('會話已準備就緒', {\n                            sessionId,\n                            status: activeSession.status,\n                            type: activeSession.type,\n                            waitTime: Date.now() - startTime\n                        });\n                        return true;\n                    }\n                }\n            } catch (error) {\n                // 檢查失敗時繼續等待，不拋出錯誤\n                this.logWarning('會話狀態檢查失敗，繼續等待', {\n                    sessionId,\n                    error: error instanceof Error ? error.message : String(error)\n                });\n            }\n            // 等待下次檢查\n            await new Promise((resolve)=>setTimeout(resolve, checkInterval));\n        }\n        this.logWarning('等待會話準備就緒超時', {\n            sessionId,\n            maxWaitTime,\n            actualWaitTime: Date.now() - startTime\n        });\n        return false;\n    }\n    /**\n     * 刪除會話\n     * 重用 sessionAPI.deleteSession 的重試機制和錯誤處理\n     */ async deleteSession(sessionId) {\n        this.logInfo('刪除會話', {\n            sessionId\n        });\n        try {\n            const result = await _api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.deleteSession(sessionId);\n            this.logSuccess('會話刪除成功', {\n                sessionId,\n                result\n            });\n        } catch (error) {\n            this.handleError('刪除會話', error);\n        }\n    }\n    /**\n     * 獲取服務狀態摘要\n     * 擴展基礎狀態信息，包含 API 連接狀態\n     */ async getServiceStatus() {\n        const baseStatus = this.getStatus();\n        // 檢查 API 連接狀態\n        let apiConnected = false;\n        let lastApiCheck = null;\n        try {\n            await this.checkActiveSession();\n            apiConnected = true;\n            lastApiCheck = new Date().toISOString();\n        } catch  {\n            apiConnected = false;\n            lastApiCheck = new Date().toISOString();\n        }\n        return {\n            ...baseStatus,\n            apiConnected,\n            lastApiCheck\n        };\n    }\n    constructor(...args){\n        super(...args), this.serviceName = 'SessionService';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVBOzs7S0FHQyxHQUNELE1BQU1tRCxtQkFBa0Q7UUFDcEQsTUFBTUMsYUFBYSxJQUFJLENBQUNDLFNBQVM7UUFFakMsY0FBYztRQUNkLElBQUlDLGVBQWU7UUFDbkIsSUFBSUMsZUFBOEI7UUFFbEMsSUFBSTtZQUNBLE1BQU0sSUFBSSxDQUFDekQsa0JBQWtCO1lBQzdCd0QsZUFBZTtZQUNmQyxlQUFlLElBQUk1QyxPQUFPNkMsV0FBVztRQUN6QyxFQUFFLE9BQU07WUFDSkYsZUFBZTtZQUNmQyxlQUFlLElBQUk1QyxPQUFPNkMsV0FBVztRQUN6QztRQUVBLE9BQU87WUFDSCxHQUFHSixVQUFVO1lBQ2JFO1lBQ0FDO1FBQ0o7SUFDSjs7UUF0VkcscUJBQ2dCRSxjQUFjOztBQXNWckMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9zZXJ2aWNlcy9zZXNzaW9uLXNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgQmFzZVNlcnZpY2UgfSBmcm9tICcuL2Jhc2Utc2VydmljZSdcbmltcG9ydCB7IElTZXNzaW9uU2VydmljZSB9IGZyb20gJy4vaW50ZXJmYWNlcydcbmltcG9ydCB7IHNlc3Npb25BUEksIHR5cGUgU2Vzc2lvbkNyZWF0ZVJlcXVlc3QsIHR5cGUgU2Vzc2lvblJlc3BvbnNlIH0gZnJvbSAnLi4vYXBpJ1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuXG4vKipcbiAqIFNlc3Npb25TZXJ2aWNlIC0g5pyD6Kmx566h55CG5pyN5YuZXG4gKlxuICog6YeN5qeL54++5pyJ55qEIHNlc3Npb25BUEkg6YKP6Lyv5Yiw5pyN5YuZ5bGk77yM5o+Q5L6b77yaXG4gKiAtIOacg+ipseWJteW7uu+8iOe0lOethuiomOOAgemMhOmfs+aooeW8j++8iVxuICogLSDmnIPoqbHljYfntJrvvIjntJTnrYboqJgg4oaSIOmMhOmfs+aooeW8j++8iVxuICogLSDmnIPoqbHni4DmhYvnrqHnkIZcbiAqIC0g57Wx5LiA6Yyv6Kqk6JmV55CG5ZKM6YeN6Kmm5qmf5Yi2XG4gKi9cbmV4cG9ydCBjbGFzcyBTZXNzaW9uU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNlIGltcGxlbWVudHMgSVNlc3Npb25TZXJ2aWNlIHtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2VydmljZU5hbWUgPSAnU2Vzc2lvblNlcnZpY2UnXG5cbiAgICAvKipcbiAgICAgKiDmnI3li5nliJ3lp4vljJZcbiAgICAgKiDph43nlKjnj77mnInnmoQgc2Vzc2lvbkFQSSDphY3nva7lkozmlJTmiKrlmahcbiAgICAgKi9cbiAgICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ0luZm8oJ+acjeWLmeWIneWni+WMlumWi+WniycpXG5cbiAgICAgICAgLy8g5qqi5p+lIHNlc3Npb25BUEkg5Y+v55So5oCnXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyDnsKHllq7nmoTlgaXlurfmqqLmn6UgLSDlmJfoqabnjbLlj5bmtLvouo3mnIPoqbFcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tBY3RpdmVTZXNzaW9uKClcbiAgICAgICAgICAgIHRoaXMubG9nU3VjY2VzcygnQVBJIOmAo+aOpeaqouafpScsICflvoznq68gQVBJIOmAo+aOpeato+W4uCcpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyDntrLot6/pjK/oqqTkuI3lvbHpn7/liJ3lp4vljJbvvIzoqJjpjITorablkYrljbPlj69cbiAgICAgICAgICAgIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyb3IpICYmIGVycm9yLmNvZGUgPT09ICdFUlJfTkVUV09SSycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ1dhcm5pbmcoJ0FQSSDpgKPmjqXmqqLmn6XlpLHmlZfvvIzkvYbkuI3lvbHpn7/mnI3li5nliJ3lp4vljJYnLCBlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ1dhcm5pbmcoJ+WIneWni+WMluWBpeW6t+aqouafpeWkseaVlycsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2dTdWNjZXNzKCfliJ3lp4vljJblrozmiJAnKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOacjeWLmea4heeQhlxuICAgICAqL1xuICAgIGFzeW5jIGNsZWFudXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nSW5mbygn5pyN5YuZ5riF55CG6ZaL5aeLJylcbiAgICAgICAgLy8gU2Vzc2lvblNlcnZpY2Ug5Li76KaB5piv54Sh54uA5oWL55qE77yM54Sh6ZyA54m55q6K5riF55CGXG4gICAgICAgIHRoaXMubG9nU3VjY2Vzcygn5riF55CG5a6M5oiQJylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnorrkv53pjITpn7PmnIPoqbHlrZjlnKggLSDlhKrpm4XomZXnkIbmnIPoqbHooZ3nqoFcbiAgICAgKlxuICAgICAqIOetlueVpe+8mlxuICAgICAqIDEuIOWEquWFiOWYl+ippuWJteW7uuaWsOeahOmMhOmfs+acg+ipsVxuICAgICAqIDIuIOiLpemBh+WIsCA0MDkg6KGd56qB77yM5pS554K6542y5Y+W54++5pyJ5rS76LqN5pyD6KmxXG4gICAgICogMy4g56K65L+d6L+U5Zue5Y+v55So55qE6YyE6Z+z5pyD6KmxXG4gICAgICovXG4gICAgYXN5bmMgZW5zdXJlUmVjb3JkaW5nU2Vzc2lvbih0aXRsZT86IHN0cmluZywgY29udGVudD86IHN0cmluZyk6IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlPiB7XG4gICAgICAgIHRoaXMubG9nSW5mbygn56K65L+d6YyE6Z+z5pyD6Kmx5a2Y5ZyoJywgeyB0aXRsZSwgaGFzQ29udGVudDogISFjb250ZW50IH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIDEuIOWYl+ippuebtOaOpeWJteW7uuaWsOacg+ipsVxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbihcbiAgICAgICAgICAgICAgICB0aXRsZSB8fCBg6YyE6Z+z562G6KiYICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfWAsXG4gICAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gMi4g6JmV55CGIDQwOSDooZ3nqoHpjK/oqqQgLSDmlLnngrrnjbLlj5bnj77mnInmnIPoqbFcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbEVycm9yID0gZXJyb3JcblxuICAgICAgICAgICAgLy8g5aaC5p6c5pivIFNlcnZpY2VFcnJvcu+8jOaPkOWPluWOn+Wni+mMr+iqpFxuICAgICAgICAgICAgaWYgKGVycm9yICYmIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgJ29yaWdpbmFsRXJyb3InIGluIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvciA9IChlcnJvciBhcyBhbnkpLm9yaWdpbmFsRXJyb3JcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihvcmlnaW5hbEVycm9yKSAmJiBvcmlnaW5hbEVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nSW5mbygn5qqi5ris5Yiw5pyD6Kmx6KGd56qB77yM5ZiX6Kmm542y5Y+W54++5pyJ5rS76LqN5pyD6KmxJylcblxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2Vzc2lvbiA9IGF3YWl0IHRoaXMuY2hlY2tBY3RpdmVTZXNzaW9uKClcblxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1Nlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dTdWNjZXNzKCfmiJDlip/njbLlj5bnj77mnInmtLvouo3mnIPoqbEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IGV4aXN0aW5nU2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGV4aXN0aW5nU2Vzc2lvbi50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBleGlzdGluZ1Nlc3Npb24uc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgLy8g56K65L+d54++5pyJ5pyD6Kmx5piv6YyE6Z+z5pyD6KmxXG4gICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1Nlc3Npb24udHlwZSA9PT0gJ3JlY29yZGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleGlzdGluZ1Nlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOePvuacieacg+ipseS4jeaYr+mMhOmfs+acg+ipse+8jOWYl+ippuWNh+e0mlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dJbmZvKCfnj77mnInmnIPoqbHpnZ7pjITpn7PmnIPoqbHvvIzlmJfoqabljYfntJonLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFR5cGU6IGV4aXN0aW5nU2Vzc2lvbi50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudXBncmFkZVRvUmVjb3JkaW5nKGV4aXN0aW5nU2Vzc2lvbi5pZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOeNsuWPluS4jeWIsOePvuacieacg+ipse+8jOiqquaYjuezu+e1seeLgOaFi+eVsOW4uFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKCfnorrkv53pjITpn7PmnIPoqbHlrZjlnKgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yKCfmnIPoqbHooZ3nqoHkvYbnhKHms5XnjbLlj5bnj77mnInmtLvouo3mnIPoqbHvvIzoq4vph43mlrDmlbTnkIbpoIHpnaInKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDMuIOWFtuS7lumMr+iqpOeFp+S4n1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcign56K65L+d6YyE6Z+z5pyD6Kmx5a2Y5ZyoJywgZXJyb3IgYXMgRXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlibXlu7rpjITpn7PmnIPoqbFcbiAgICAgKiDph43nlKggc2Vzc2lvbkFQSS5jcmVhdGVTZXNzaW9uIOeahOmHjeippuapn+WItuWSjOmMr+iqpOiZleeQhlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZVJlY29yZGluZ1Nlc3Npb24odGl0bGU6IHN0cmluZywgY29udGVudD86IHN0cmluZyk6IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlPiB7XG4gICAgICAgIHRoaXMubG9nSW5mbygn5Ym15bu66YyE6Z+z5pyD6KmxJywgeyB0aXRsZSwgaGFzQ29udGVudDogISFjb250ZW50IH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRhOiBTZXNzaW9uQ3JlYXRlUmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVjb3JkaW5nJyxcbiAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgc2Vzc2lvbkFQSS5jcmVhdGVTZXNzaW9uKHNlc3Npb25EYXRhKVxuXG4gICAgICAgICAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+mMhOmfs+acg+ipseWJteW7uuaIkOWKnycsIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogc2Vzc2lvbi50eXBlLFxuICAgICAgICAgICAgICAgIHN0YXR1czogc2Vzc2lvbi5zdGF0dXNcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyDkuI3lnKjpgJnoo6HomZXnkIYgNDA5IOmMr+iqpO+8jOS6pOeUsSBlbnN1cmVSZWNvcmRpbmdTZXNzaW9uIOiZleeQhlxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcign5Ym15bu66YyE6Z+z5pyD6KmxJywgZXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlibXlu7rntJTnrYboqJjmnIPoqbFcbiAgICAgKiDph43nlKggc2Vzc2lvbkFQSS5jcmVhdGVTZXNzaW9uIOeahOmHjeippuapn+WItuWSjOmMr+iqpOiZleeQhlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZU5vdGVTZXNzaW9uKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZT4ge1xuICAgICAgICB0aGlzLmxvZ0luZm8oJ+WJteW7uue0lOethuiomOacg+ipsScsIHsgdGl0bGUsIGhhc0NvbnRlbnQ6ICEhY29udGVudCB9KVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YTogU2Vzc2lvbkNyZWF0ZVJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ25vdGVfb25seScsXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHNlc3Npb25BUEkuY3JlYXRlU2Vzc2lvbihzZXNzaW9uRGF0YSlcblxuICAgICAgICAgICAgdGhpcy5sb2dTdWNjZXNzKCfntJTnrYboqJjmnIPoqbHlibXlu7rmiJDlip8nLCB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHNlc3Npb24udHlwZSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHNlc3Npb24uc3RhdHVzXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8g6JmV55CG5pyD6Kmx6KGd56qB6Yyv6Kqk77yINDA577yJXG4gICAgICAgICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25mbGljdE1lc3NhZ2UgPSAn5qqi5ris5Yiw5rS76LqN5pyD6Kmx6KGd56qB77yM6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6KmmJ1xuICAgICAgICAgICAgICAgIHRoaXMubG9nV2FybmluZygn5pyD6Kmx6KGd56qB6Yyv6KqkICg0MDkpJywge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGVycm9yLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoJ+WJteW7uue0lOethuiomOacg+ipsScsIG5ldyBFcnJvcihjb25mbGljdE1lc3NhZ2UpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKCflibXlu7rntJTnrYboqJjmnIPoqbEnLCBlcnJvcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWNh+e0muacg+ipseiHs+mMhOmfs+aooeW8j1xuICAgICAqIOmHjeeUqCBzZXNzaW9uQVBJLnVwZ3JhZGVUb1JlY29yZGluZyDnmoTph43oqabmqZ/liLblkozpjK/oqqTomZXnkIZcbiAgICAgKi9cbiAgICBhc3luYyB1cGdyYWRlVG9SZWNvcmRpbmcoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZT4ge1xuICAgICAgICB0aGlzLmxvZ0luZm8oJ+WNh+e0muacg+ipseiHs+mMhOmfs+aooeW8jycsIHsgc2Vzc2lvbklkIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIOWFiOaqouafpeacg+ipseaYr+WQpuWtmOWcqOWSjOeLgOaFi1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlc3Npb24gPSBhd2FpdCB0aGlzLmNoZWNrQWN0aXZlU2Vzc2lvbigpXG5cbiAgICAgICAgICAgIGlmICghY3VycmVudFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKCfljYfntJrmnIPoqbHoh7PpjITpn7PmqKHlvI8nLCBuZXcgRXJyb3IoJ+aykuaciea0u+i6jeeahOacg+ipseWPr+S7peWNh+e0micpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFNlc3Npb24hLmlkICE9PSBzZXNzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKCfljYfntJrmnIPoqbHoh7PpjITpn7PmqKHlvI8nLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3IoYOacg+ipsSBJRCDkuI3ljLnphY3vvJropoHmsYLljYfntJogJHtzZXNzaW9uSWR977yM5L2G5rS76LqN5pyD6Kmx54K6ICR7Y3VycmVudFNlc3Npb24hLmlkfWApKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFNlc3Npb24hLnR5cGUgPT09ICdyZWNvcmRpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dJbmZvKCfmnIPoqbHlt7LntpPmmK/pjITpn7PmqKHlvI/vvIzov5Tlm57nj77mnInmnIPoqbEnLCB7IHNlc3Npb25JZCB9KVxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2Vzc2lvbiFcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFNlc3Npb24gPSBhd2FpdCBzZXNzaW9uQVBJLnVwZ3JhZGVUb1JlY29yZGluZyhzZXNzaW9uSWQpXG5cbiAgICAgICAgICAgIHRoaXMubG9nU3VjY2Vzcygn5pyD6Kmx5Y2H57Sa5oiQ5YqfJywge1xuICAgICAgICAgICAgICAgIHNlc3Npb25JZDogdXBkYXRlZFNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgb2xkVHlwZTogY3VycmVudFNlc3Npb24hLnR5cGUsXG4gICAgICAgICAgICAgICAgbmV3VHlwZTogdXBkYXRlZFNlc3Npb24udHlwZSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHVwZGF0ZWRTZXNzaW9uLnN0YXR1c1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRTZXNzaW9uXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKCfljYfntJrmnIPoqbHoh7PpjITpn7PmqKHlvI8nLCBlcnJvcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWujOaIkOacg+ipsVxuICAgICAqIOmHjeeUqCBzZXNzaW9uQVBJLmZpbmlzaFNlc3Npb24g55qE6YeN6Kmm5qmf5Yi25ZKM6Yyv6Kqk6JmV55CGXG4gICAgICovXG4gICAgYXN5bmMgZmluaXNoU2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ0luZm8oJ+WujOaIkOacg+ipsScsIHsgc2Vzc2lvbklkIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHNlc3Npb25BUEkuZmluaXNoU2Vzc2lvbihzZXNzaW9uSWQpXG5cbiAgICAgICAgICAgIHRoaXMubG9nU3VjY2Vzcygn5pyD6Kmx5a6M5oiQ5oiQ5YqfJywgeyBzZXNzaW9uSWQgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoJ+WujOaIkOacg+ipsScsIGVycm9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5qqi5p+l5rS76LqN5pyD6KmxXG4gICAgICog6YeN55SoIHNlc3Npb25BUEkuZ2V0QWN0aXZlU2Vzc2lvbiDnmoTph43oqabmqZ/liLblkozpjK/oqqTomZXnkIZcbiAgICAgKi9cbiAgICBhc3luYyBjaGVja0FjdGl2ZVNlc3Npb24oKTogUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPiB7XG4gICAgICAgIHRoaXMubG9nSW5mbygn5qqi5p+l5rS76LqN5pyD6KmxJylcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlU2Vzc2lvbiA9IGF3YWl0IHNlc3Npb25BUEkuZ2V0QWN0aXZlU2Vzc2lvbigpXG5cbiAgICAgICAgICAgIGlmIChhY3RpdmVTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dTdWNjZXNzKCfmtLvouo3mnIPoqbHmqqLmn6UnLCB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZDogYWN0aXZlU2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYWN0aXZlU2Vzc2lvbi50eXBlLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGFjdGl2ZVNlc3Npb24uc3RhdHVzXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2Vzc2lvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0luZm8oJ+aykuaciea0u+i6jeacg+ipsScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIOe2sui3r+mMr+iqpOS4jeaHieipsuaLi+WHuu+8jOWPquiomOmMhOitpuWRilxuICAgICAgICAgICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikgJiYgZXJyb3IuY29kZSA9PT0gJ0VSUl9ORVRXT1JLJykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nV2FybmluZygnQmFja2VuZCBBUEkg6YCj57ea5pqr5pmC5aSx5pWX77yM5bCH5Zyo5b6M57qM6YeN6KmmJywgZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKCfmqqLmn6XmtLvouo3mnIPoqbEnLCBlcnJvcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOetieW+heacg+ipseWcqOizh+aWmeW6q+S4reWujOWFqOWPr+imi1xuICAgICAqIOeUqOaWvOino+axuuacg+ipseWJteW7uuW+jOeri+WNs+afpeipouWPr+iDveWkseaVl+eahOaZguW6j+WVj+mhjFxuICAgICAqL1xuICAgIGFzeW5jIHdhaXRGb3JTZXNzaW9uUmVhZHkoc2Vzc2lvbklkOiBzdHJpbmcsIG1heFdhaXRUaW1lOiBudW1iZXIgPSA1MDAwKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRoaXMubG9nSW5mbygn562J5b6F5pyD6Kmx5rqW5YKZ5bCx57eSJywgeyBzZXNzaW9uSWQsIG1heFdhaXRUaW1lIH0pXG5cbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICAgICAgICBjb25zdCBjaGVja0ludGVydmFsID0gMjAwIC8vIOavjyAyMDBtcyDmqqLmn6XkuIDmrKFcblxuICAgICAgICB3aGlsZSAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heFdhaXRUaW1lKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVNlc3Npb24gPSBhd2FpdCB0aGlzLmNoZWNrQWN0aXZlU2Vzc2lvbigpXG5cbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlU2Vzc2lvbiAmJiBhY3RpdmVTZXNzaW9uLmlkID09PSBzZXNzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g6YCy5LiA5q2l6amX6K2J5pyD6Kmx54uA5oWLXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVTZXNzaW9uLnN0YXR1cyA9PT0gJ2FjdGl2ZScgJiYgYWN0aXZlU2Vzc2lvbi50eXBlID09PSAncmVjb3JkaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dTdWNjZXNzKCfmnIPoqbHlt7LmupblgpnlsLHnt5InLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogYWN0aXZlU2Vzc2lvbi5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogYWN0aXZlU2Vzc2lvbi50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRUaW1lOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8g5qqi5p+l5aSx5pWX5pmC57m857qM562J5b6F77yM5LiN5ouL5Ye66Yyv6KqkXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dXYXJuaW5nKCfmnIPoqbHni4DmhYvmqqLmn6XlpLHmlZfvvIznubznuoznrYnlvoUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIOetieW+heS4i+asoeaqouafpVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGNoZWNrSW50ZXJ2YWwpKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2dXYXJuaW5nKCfnrYnlvoXmnIPoqbHmupblgpnlsLHnt5LotoXmmYInLCB7XG4gICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICBtYXhXYWl0VGltZSxcbiAgICAgICAgICAgIGFjdHVhbFdhaXRUaW1lOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Yiq6Zmk5pyD6KmxXG4gICAgICog6YeN55SoIHNlc3Npb25BUEkuZGVsZXRlU2Vzc2lvbiDnmoTph43oqabmqZ/liLblkozpjK/oqqTomZXnkIZcbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGVTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nSW5mbygn5Yiq6Zmk5pyD6KmxJywgeyBzZXNzaW9uSWQgfSlcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2Vzc2lvbkFQSS5kZWxldGVTZXNzaW9uKHNlc3Npb25JZClcblxuICAgICAgICAgICAgdGhpcy5sb2dTdWNjZXNzKCfmnIPoqbHliKrpmaTmiJDlip8nLCB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoJ+WIqumZpOacg+ipsScsIGVycm9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog542y5Y+W5pyN5YuZ54uA5oWL5pGY6KaBXG4gICAgICog5pO05bGV5Z+656SO54uA5oWL5L+h5oGv77yM5YyF5ZCrIEFQSSDpgKPmjqXni4DmhYtcbiAgICAgKi9cbiAgICBhc3luYyBnZXRTZXJ2aWNlU3RhdHVzKCk6IFByb21pc2U8U2Vzc2lvblNlcnZpY2VTdGF0dXM+IHtcbiAgICAgICAgY29uc3QgYmFzZVN0YXR1cyA9IHRoaXMuZ2V0U3RhdHVzKClcblxuICAgICAgICAvLyDmqqLmn6UgQVBJIOmAo+aOpeeLgOaFi1xuICAgICAgICBsZXQgYXBpQ29ubmVjdGVkID0gZmFsc2VcbiAgICAgICAgbGV0IGxhc3RBcGlDaGVjazogc3RyaW5nIHwgbnVsbCA9IG51bGxcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGVja0FjdGl2ZVNlc3Npb24oKVxuICAgICAgICAgICAgYXBpQ29ubmVjdGVkID0gdHJ1ZVxuICAgICAgICAgICAgbGFzdEFwaUNoZWNrID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgYXBpQ29ubmVjdGVkID0gZmFsc2VcbiAgICAgICAgICAgIGxhc3RBcGlDaGVjayA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmJhc2VTdGF0dXMsXG4gICAgICAgICAgICBhcGlDb25uZWN0ZWQsXG4gICAgICAgICAgICBsYXN0QXBpQ2hlY2tcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBTZXNzaW9uU2VydmljZSDni4DmhYvku4vpnaJcbiAqIOaTtOWxleWfuuekjuacjeWLmeeLgOaFi++8jOWMheWQqyBBUEkg54m55a6a5L+h5oGvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblNlcnZpY2VTdGF0dXMge1xuICAgIHNlcnZpY2VOYW1lOiBzdHJpbmdcbiAgICBpc0luaXRpYWxpemVkOiBib29sZWFuXG4gICAgaXNSdW5uaW5nOiBib29sZWFuXG4gICAgdGltZXN0YW1wOiBzdHJpbmdcbiAgICBhcGlDb25uZWN0ZWQ6IGJvb2xlYW5cbiAgICBsYXN0QXBpQ2hlY2s6IHN0cmluZyB8IG51bGxcbn1cbiJdLCJuYW1lcyI6WyJCYXNlU2VydmljZSIsInNlc3Npb25BUEkiLCJheGlvcyIsIlNlc3Npb25TZXJ2aWNlIiwiaW5pdGlhbGl6ZSIsImxvZ0luZm8iLCJjaGVja0FjdGl2ZVNlc3Npb24iLCJsb2dTdWNjZXNzIiwiZXJyb3IiLCJpc0F4aW9zRXJyb3IiLCJjb2RlIiwibG9nV2FybmluZyIsIm1lc3NhZ2UiLCJjbGVhbnVwIiwiZW5zdXJlUmVjb3JkaW5nU2Vzc2lvbiIsInRpdGxlIiwiY29udGVudCIsImhhc0NvbnRlbnQiLCJjcmVhdGVSZWNvcmRpbmdTZXNzaW9uIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwib3JpZ2luYWxFcnJvciIsInJlc3BvbnNlIiwic3RhdHVzIiwiZXhpc3RpbmdTZXNzaW9uIiwic2Vzc2lvbklkIiwiaWQiLCJ0eXBlIiwiY3VycmVudFR5cGUiLCJ1cGdyYWRlVG9SZWNvcmRpbmciLCJoYW5kbGVFcnJvciIsIkVycm9yIiwic2Vzc2lvbkRhdGEiLCJzZXNzaW9uIiwiY3JlYXRlU2Vzc2lvbiIsImNyZWF0ZU5vdGVTZXNzaW9uIiwiY29uZmxpY3RNZXNzYWdlIiwiZGV0YWlsIiwiZGF0YSIsImN1cnJlbnRTZXNzaW9uIiwidXBkYXRlZFNlc3Npb24iLCJvbGRUeXBlIiwibmV3VHlwZSIsImZpbmlzaFNlc3Npb24iLCJhY3RpdmVTZXNzaW9uIiwiZ2V0QWN0aXZlU2Vzc2lvbiIsIndhaXRGb3JTZXNzaW9uUmVhZHkiLCJtYXhXYWl0VGltZSIsInN0YXJ0VGltZSIsIm5vdyIsImNoZWNrSW50ZXJ2YWwiLCJ3YWl0VGltZSIsIlN0cmluZyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImFjdHVhbFdhaXRUaW1lIiwiZGVsZXRlU2Vzc2lvbiIsInJlc3VsdCIsImdldFNlcnZpY2VTdGF0dXMiLCJiYXNlU3RhdHVzIiwiZ2V0U3RhdHVzIiwiYXBpQ29ubmVjdGVkIiwibGFzdEFwaUNoZWNrIiwidG9JU09TdHJpbmciLCJzZXJ2aWNlTmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/session-service.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/simple-recording-service.ts":
/*!**************************************************!*\
  !*** ./lib/services/simple-recording-service.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SimpleRecordingService: () => (/* binding */ SimpleRecordingService)\n/* harmony export */ });\n/* harmony import */ var _base_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-service */ \"(ssr)/./lib/services/base-service.ts\");\n/* harmony import */ var _simple_audio_recorder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../simple-audio-recorder */ \"(ssr)/./lib/simple-audio-recorder.ts\");\n/* harmony import */ var _rest_audio_uploader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rest-audio-uploader */ \"(ssr)/./lib/rest-audio-uploader.ts\");\n/* __next_internal_client_entry_do_not_use__ SimpleRecordingService auto */ \n\n\n/**\n * SimpleRecordingService - 簡化錄音管理服務\n *\n * Phase 2 重構：移除 WebSocket 和 ack/missing 複雜邏輯\n * 整合 SimpleAudioRecorder + RestAudioUploader\n *\n * 特點：\n * - 使用 SimpleAudioRecorder（標準 MediaRecorder + timeslice）\n * - 使用 RestAudioUploader（REST API 上傳）\n * - 移除 ack/missing 重傳機制\n * - 簡化錯誤處理和狀態管理\n * - 支援失敗檔案暫存到 IndexedDB\n */ class SimpleRecordingService extends _base_service__WEBPACK_IMPORTED_MODULE_0__.BaseService {\n    /**\n     * 服務初始化\n     */ async initialize() {\n        this.logInfo('服務初始化開始');\n        // 檢查瀏覽器支援度\n        const supportCheck = await (0,_simple_audio_recorder__WEBPACK_IMPORTED_MODULE_1__.checkSimpleAudioRecordingSupport)();\n        if (!supportCheck.isSupported) {\n            const errorMessage = `音頻錄製不支援: ${supportCheck.error || '未知錯誤'}`;\n            this.logWarning('瀏覽器支援度檢查失敗', supportCheck.error);\n            throw new Error(errorMessage);\n        }\n        this.logSuccess('瀏覽器支援度檢查通過');\n        this.logSuccess('初始化完成');\n    }\n    /**\n     * 服務清理\n     */ async cleanup() {\n        this.logInfo('服務清理開始');\n        // 如果正在錄音，先停止\n        if (this.recordingState.isRecording) {\n            await this.stopRecording();\n        }\n        // 清理音頻錄製器\n        if (this.audioRecorder) {\n            this.audioRecorder.cleanup();\n            this.audioRecorder = null;\n        }\n        // 清理上傳器\n        if (this.audioUploader) {\n            this.audioUploader.cleanup();\n            this.audioUploader = null;\n        }\n        // 清理計時器\n        this.clearRecordingTimer();\n        // 重置狀態\n        this.resetRecordingState();\n        this.logSuccess('清理完成');\n    }\n    /**\n     * 開始錄音\n     */ async startRecording(sessionId) {\n        this.logInfo('開始錄音', {\n            sessionId\n        });\n        try {\n            // 檢查是否已在錄音\n            if (this.recordingState.isRecording) {\n                this.logWarning('已在錄音中，跳過重複啟動');\n                return;\n            }\n            // 重置狀態\n            this.resetRecordingState();\n            this.recordingState.currentSessionId = sessionId;\n            // 步驟 1: 初始化音頻錄製器\n            this.logInfo('步驟 1: 初始化簡化音頻錄製器');\n            this.audioRecorder = new _simple_audio_recorder__WEBPACK_IMPORTED_MODULE_1__.SimpleAudioRecorder({\n                segmentDuration: 10000,\n                mimeType: 'audio/webm;codecs=opus',\n                audioBitsPerSecond: 128000 // 128 kbps\n            });\n            // 設定音頻錄製器事件處理\n            this.setupAudioRecorderEvents();\n            // 步驟 2: 初始化 REST 音頻上傳器\n            this.logInfo('步驟 2: 初始化 REST 音頻上傳器');\n            this.audioUploader = new _rest_audio_uploader__WEBPACK_IMPORTED_MODULE_2__.RestAudioUploader();\n            this.audioUploader.setSessionId(sessionId);\n            // 設定上傳器事件處理\n            this.setupUploaderEvents();\n            // 步驟 3: 開始錄音\n            this.logInfo('步驟 3: 開始音頻錄製');\n            await this.audioRecorder.start((segment)=>{\n                this.handleAudioSegment(segment);\n            });\n            // 步驟 4: 啟動錄音計時器\n            this.logInfo('步驟 4: 啟動錄音計時器');\n            this.startRecordingTimer();\n            // 更新錄音狀態\n            this.recordingState.isRecording = true;\n            this.recordingState.error = null;\n            this.logSuccess('錄音啟動成功', {\n                sessionId,\n                config: this.audioRecorder.currentConfig\n            });\n        } catch (error) {\n            // 錯誤時清理資源\n            await this.cleanupRecordingResources();\n            this.recordingState.error = error instanceof Error ? error.message : '開始錄音失敗';\n            this.handleError('開始錄音', error);\n        }\n    }\n    /**\n     * 停止錄音\n     */ async stopRecording() {\n        this.logInfo('停止錄音');\n        try {\n            // 更新狀態\n            this.recordingState.isRecording = false;\n            // 停止音頻錄製器\n            if (this.audioRecorder) {\n                this.audioRecorder.stop();\n                this.logInfo('音頻錄製器已停止');\n            }\n            // 停止計時器\n            this.clearRecordingTimer();\n            // 清理音頻錄製器\n            if (this.audioRecorder) {\n                this.audioRecorder.cleanup();\n                this.audioRecorder = null;\n            }\n            this.logSuccess('錄音停止成功', {\n                sessionId: this.recordingState.currentSessionId,\n                recordingTime: this.recordingState.recordingTime,\n                uploadedSegments: this.uploadedSegments.size,\n                failedSegments: this.failedSegments.size\n            });\n        } catch (error) {\n            this.recordingState.error = error instanceof Error ? error.message : '停止錄音失敗';\n            this.handleError('停止錄音', error);\n        }\n    }\n    /**\n     * 取得當前錄音狀態\n     */ getRecordingState() {\n        return {\n            ...this.recordingState\n        };\n    }\n    /**\n     * 檢查是否正在錄音\n     */ isRecording() {\n        return this.recordingState.isRecording;\n    }\n    /**\n     * 取得錄音時間（秒）\n     */ getRecordingTime() {\n        return this.recordingState.recordingTime;\n    }\n    /**\n     * 設定音頻錄製器事件處理\n     */ setupAudioRecorderEvents() {\n        if (!this.audioRecorder) return;\n        // 處理錄製錯誤\n        this.audioRecorder.onError((error)=>{\n            this.logWarning('音頻錄製器錯誤', error.message);\n            this.recordingState.error = error.message;\n        });\n    }\n    /**\n     * 設定上傳器事件處理\n     */ setupUploaderEvents() {\n        if (!this.audioUploader) return;\n        // 處理上傳成功\n        this.audioUploader.onUploadSuccess((seq, response)=>{\n            this.uploadedSegments.add(seq);\n            this.logInfo('音頻段落上傳成功', {\n                sequence: seq,\n                size: response.size,\n                totalUploaded: this.uploadedSegments.size\n            });\n        });\n        // 處理上傳錯誤\n        this.audioUploader.onUploadError((seq, error)=>{\n            this.failedSegments.add(seq);\n            this.logWarning('音頻段落上傳失敗', {\n                sequence: seq,\n                error,\n                totalFailed: this.failedSegments.size\n            });\n        });\n        // 處理暫存到本地\n        this.audioUploader.onCacheStored((seq)=>{\n            this.logInfo('音頻段落已暫存到本地', {\n                sequence: seq,\n                message: '可稍後重新上傳'\n            });\n        });\n    }\n    /**\n     * 處理音頻段落\n     */ async handleAudioSegment(segment) {\n        console.log('🎤 [SimpleRecordingService] 收到音頻段落', {\n            sequence: segment.sequence,\n            size: segment.blob.size,\n            duration: segment.duration,\n            timestamp: new Date().toISOString()\n        });\n        this.logInfo('收到音頻段落', {\n            sequence: segment.sequence,\n            size: segment.blob.size,\n            duration: segment.duration\n        });\n        // 使用 REST API 上傳\n        if (this.audioUploader) {\n            try {\n                await this.audioUploader.uploadSegment(segment.sequence, segment.blob);\n            } catch (error) {\n                // 錯誤已由 audioUploader 處理（重試或暫存）\n                console.log(`⚠️ [SimpleRecordingService] 段落 #${segment.sequence} 上傳處理中`);\n            }\n        } else {\n            this.logWarning('音頻上傳器未初始化', {\n                sequence: segment.sequence\n            });\n        }\n    }\n    /**\n     * 重新上傳暫存的失敗段落\n     */ async retryFailedUploads() {\n        this.logInfo('開始重新上傳暫存的失敗段落');\n        if (this.audioUploader) {\n            try {\n                await this.audioUploader.retryFailedSegments();\n                this.logSuccess('暫存段落重新上傳完成');\n            } catch (error) {\n                this.logWarning('重新上傳暫存段落失敗', error);\n            }\n        }\n    }\n    /**\n     * 取得暫存的失敗段落數量\n     */ async getCachedSegmentsCount() {\n        if (this.audioUploader) {\n            return await this.audioUploader.getCachedSegmentsCount();\n        }\n        return 0;\n    }\n    /**\n     * 啟動錄音計時器\n     */ startRecordingTimer() {\n        this.clearRecordingTimer();\n        this.recordingState.recordingTime = 0;\n        this.recordingTimer = setInterval(()=>{\n            this.recordingState.recordingTime += 1;\n            // 每 30 秒記錄一次錄音時間\n            if (this.recordingState.recordingTime % 30 === 0) {\n                this.logInfo('錄音進行中', {\n                    recordingTime: this.recordingState.recordingTime,\n                    minutes: Math.floor(this.recordingState.recordingTime / 60),\n                    uploadedSegments: this.uploadedSegments.size,\n                    failedSegments: this.failedSegments.size\n                });\n            }\n        }, 1000);\n    }\n    /**\n     * 清理錄音計時器\n     */ clearRecordingTimer() {\n        if (this.recordingTimer) {\n            clearInterval(this.recordingTimer);\n            this.recordingTimer = null;\n        }\n    }\n    /**\n     * 重置錄音狀態\n     */ resetRecordingState() {\n        this.recordingState = {\n            isRecording: false,\n            recordingTime: 0,\n            currentSessionId: null,\n            error: null\n        };\n        this.uploadedSegments.clear();\n        this.failedSegments.clear();\n    }\n    /**\n     * 清理錄音相關資源\n     */ async cleanupRecordingResources() {\n        try {\n            // 停止音頻錄製器\n            if (this.audioRecorder) {\n                this.audioRecorder.stop();\n                this.audioRecorder.cleanup();\n                this.audioRecorder = null;\n            }\n            // 清理上傳器\n            if (this.audioUploader) {\n                this.audioUploader.cleanup();\n                this.audioUploader = null;\n            }\n            // 清理計時器\n            this.clearRecordingTimer();\n            // 重置狀態\n            this.recordingState.isRecording = false;\n            this.logInfo('錄音資源清理完成');\n        } catch (error) {\n            this.logWarning('清理錄音資源時發生錯誤', error);\n        }\n    }\n    /**\n     * 獲取服務詳細狀態\n     */ async getDetailedStatus() {\n        const baseStatus = this.getStatus();\n        const supportCheck = await (0,_simple_audio_recorder__WEBPACK_IMPORTED_MODULE_1__.checkSimpleAudioRecordingSupport)();\n        const cachedCount = await this.getCachedSegmentsCount();\n        return {\n            ...baseStatus,\n            recordingState: this.getRecordingState(),\n            audioSupport: {\n                supported: supportCheck.isSupported,\n                errors: supportCheck.error ? [\n                    supportCheck.error\n                ] : []\n            },\n            audioRecorderState: this.audioRecorder?.recording ? 'recording' : 'idle',\n            uploadStats: {\n                uploaded: this.uploadedSegments.size,\n                failed: this.failedSegments.size,\n                cached: cachedCount\n            }\n        };\n    }\n    constructor(...args){\n        super(...args), this.serviceName = 'SimpleRecordingService', // 錄音器和上傳器引用\n        this.audioRecorder = null, this.audioUploader = null, // 錄音狀態\n        this.recordingState = {\n            isRecording: false,\n            recordingTime: 0,\n            currentSessionId: null,\n            error: null\n        }, // 計時器\n        this.recordingTimer = null, this.uploadedSegments = new Set(), this.failedSegments = new Set();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc2VydmljZXMvc2ltcGxlLXJlY29yZGluZy1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7NEVBRTRDO0FBRWtFO0FBQzdCO0FBRWpGOzs7Ozs7Ozs7Ozs7Q0FZQyxHQUNNLE1BQU1JLCtCQUErQkosc0RBQVdBO0lBb0JuRDs7S0FFQyxHQUNELE1BQU1LLGFBQTRCO1FBQzlCLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBRWIsV0FBVztRQUNYLE1BQU1DLGVBQWUsTUFBTUwsd0ZBQWdDQTtRQUMzRCxJQUFJLENBQUNLLGFBQWFDLFdBQVcsRUFBRTtZQUMzQixNQUFNQyxlQUFlLENBQUMsU0FBUyxFQUFFRixhQUFhRyxLQUFLLElBQUksUUFBUTtZQUMvRCxJQUFJLENBQUNDLFVBQVUsQ0FBQyxjQUFjSixhQUFhRyxLQUFLO1lBQ2hELE1BQU0sSUFBSUUsTUFBTUg7UUFDcEI7UUFFQSxJQUFJLENBQUNJLFVBQVUsQ0FBQztRQUNoQixJQUFJLENBQUNBLFVBQVUsQ0FBQztJQUNwQjtJQUVBOztLQUVDLEdBQ0QsTUFBTUMsVUFBeUI7UUFDM0IsSUFBSSxDQUFDUixPQUFPLENBQUM7UUFFYixhQUFhO1FBQ2IsSUFBSSxJQUFJLENBQUNTLGNBQWMsQ0FBQ0MsV0FBVyxFQUFFO1lBQ2pDLE1BQU0sSUFBSSxDQUFDQyxhQUFhO1FBQzVCO1FBRUEsVUFBVTtRQUNWLElBQUksSUFBSSxDQUFDQyxhQUFhLEVBQUU7WUFDcEIsSUFBSSxDQUFDQSxhQUFhLENBQUNKLE9BQU87WUFDMUIsSUFBSSxDQUFDSSxhQUFhLEdBQUc7UUFDekI7UUFFQSxRQUFRO1FBQ1IsSUFBSSxJQUFJLENBQUNDLGFBQWEsRUFBRTtZQUNwQixJQUFJLENBQUNBLGFBQWEsQ0FBQ0wsT0FBTztZQUMxQixJQUFJLENBQUNLLGFBQWEsR0FBRztRQUN6QjtRQUVBLFFBQVE7UUFDUixJQUFJLENBQUNDLG1CQUFtQjtRQUV4QixPQUFPO1FBQ1AsSUFBSSxDQUFDQyxtQkFBbUI7UUFFeEIs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LElBQUksQ0FBQzhCLGlCQUFpQjtZQUN0Q2tDLGNBQWM7Z0JBQ1ZDLFdBQVd6RSxhQUFhQyxXQUFXO2dCQUNuQ3lFLFFBQVExRSxhQUFhRyxLQUFLLEdBQUc7b0JBQUNILGFBQWFHLEtBQUs7aUJBQUMsR0FBRyxFQUFFO1lBQzFEO1lBQ0F3RSxvQkFBb0IsSUFBSSxDQUFDaEUsYUFBYSxFQUFFaUUsWUFBWSxjQUFjO1lBQ2xFQyxhQUFhO2dCQUNUQyxVQUFVLElBQUksQ0FBQzNDLGdCQUFnQixDQUFDQyxJQUFJO2dCQUNwQzJDLFFBQVEsSUFBSSxDQUFDMUMsY0FBYyxDQUFDRCxJQUFJO2dCQUNoQzRDLFFBQVFUO1lBQ1o7UUFDSjtJQUNKOztRQTFZRyxxQkFDZ0JVLGNBQWMsMEJBRWpDLFlBQVk7YUFDSnRFLGdCQUE0QyxXQUM1Q0MsZ0JBQTBDLE1BRWxELE9BQU87YUFDQ0osaUJBQWlDO1lBQ3JDQyxhQUFhO1lBQ2J5QixlQUFlO1lBQ2ZqQixrQkFBa0I7WUFDbEJkLE9BQU87UUFDWCxHQUVBLE1BQU07YUFDRTBELGlCQUF3RCxXQUN4RDFCLG1CQUFtQixJQUFJK0MsWUFDdkI3QyxpQkFBaUIsSUFBSTZDOztBQXlYakMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9zZXJ2aWNlcy9zaW1wbGUtcmVjb3JkaW5nLXNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgQmFzZVNlcnZpY2UgfSBmcm9tICcuL2Jhc2Utc2VydmljZSdcbmltcG9ydCB7IElSZWNvcmRpbmdTZXJ2aWNlLCBSZWNvcmRpbmdTdGF0ZSB9IGZyb20gJy4vaW50ZXJmYWNlcydcbmltcG9ydCB7IFNpbXBsZUF1ZGlvUmVjb3JkZXIsIEF1ZGlvU2VnbWVudCwgY2hlY2tTaW1wbGVBdWRpb1JlY29yZGluZ1N1cHBvcnQgfSBmcm9tICcuLi9zaW1wbGUtYXVkaW8tcmVjb3JkZXInXG5pbXBvcnQgeyBSZXN0QXVkaW9VcGxvYWRlciwgVXBsb2FkU2VnbWVudFJlc3BvbnNlIH0gZnJvbSAnLi4vcmVzdC1hdWRpby11cGxvYWRlcidcblxuLyoqXG4gKiBTaW1wbGVSZWNvcmRpbmdTZXJ2aWNlIC0g57Ch5YyW6YyE6Z+z566h55CG5pyN5YuZXG4gKlxuICogUGhhc2UgMiDph43mp4vvvJrnp7vpmaQgV2ViU29ja2V0IOWSjCBhY2svbWlzc2luZyDopIfpm5zpgo/ovK9cbiAqIOaVtOWQiCBTaW1wbGVBdWRpb1JlY29yZGVyICsgUmVzdEF1ZGlvVXBsb2FkZXJcbiAqXG4gKiDnibnpu57vvJpcbiAqIC0g5L2/55SoIFNpbXBsZUF1ZGlvUmVjb3JkZXLvvIjmqJnmupYgTWVkaWFSZWNvcmRlciArIHRpbWVzbGljZe+8iVxuICogLSDkvb/nlKggUmVzdEF1ZGlvVXBsb2FkZXLvvIhSRVNUIEFQSSDkuIrlgrPvvIlcbiAqIC0g56e76ZmkIGFjay9taXNzaW5nIOmHjeWCs+apn+WItlxuICogLSDnsKHljJbpjK/oqqTomZXnkIblkozni4DmhYvnrqHnkIZcbiAqIC0g5pSv5o+05aSx5pWX5qqU5qGI5pqr5a2Y5YiwIEluZGV4ZWREQlxuICovXG5leHBvcnQgY2xhc3MgU2ltcGxlUmVjb3JkaW5nU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNlIGltcGxlbWVudHMgSVJlY29yZGluZ1NlcnZpY2Uge1xuICAgIHByb3RlY3RlZCByZWFkb25seSBzZXJ2aWNlTmFtZSA9ICdTaW1wbGVSZWNvcmRpbmdTZXJ2aWNlJ1xuXG4gICAgLy8g6YyE6Z+z5Zmo5ZKM5LiK5YKz5Zmo5byV55SoXG4gICAgcHJpdmF0ZSBhdWRpb1JlY29yZGVyOiBTaW1wbGVBdWRpb1JlY29yZGVyIHwgbnVsbCA9IG51bGxcbiAgICBwcml2YXRlIGF1ZGlvVXBsb2FkZXI6IFJlc3RBdWRpb1VwbG9hZGVyIHwgbnVsbCA9IG51bGxcblxuICAgIC8vIOmMhOmfs+eLgOaFi1xuICAgIHByaXZhdGUgcmVjb3JkaW5nU3RhdGU6IFJlY29yZGluZ1N0YXRlID0ge1xuICAgICAgICBpc1JlY29yZGluZzogZmFsc2UsXG4gICAgICAgIHJlY29yZGluZ1RpbWU6IDAsXG4gICAgICAgIGN1cnJlbnRTZXNzaW9uSWQ6IG51bGwsXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgfVxuXG4gICAgLy8g6KiI5pmC5ZmoXG4gICAgcHJpdmF0ZSByZWNvcmRpbmdUaW1lcjogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0SW50ZXJ2YWw+IHwgbnVsbCA9IG51bGxcbiAgICBwcml2YXRlIHVwbG9hZGVkU2VnbWVudHMgPSBuZXcgU2V0PG51bWJlcj4oKVxuICAgIHByaXZhdGUgZmFpbGVkU2VnbWVudHMgPSBuZXcgU2V0PG51bWJlcj4oKVxuXG4gICAgLyoqXG4gICAgICog5pyN5YuZ5Yid5aeL5YyWXG4gICAgICovXG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dJbmZvKCfmnI3li5nliJ3lp4vljJbplovlp4snKVxuXG4gICAgICAgIC8vIOaqouafpeeAj+imveWZqOaUr+aPtOW6plxuICAgICAgICBjb25zdCBzdXBwb3J0Q2hlY2sgPSBhd2FpdCBjaGVja1NpbXBsZUF1ZGlvUmVjb3JkaW5nU3VwcG9ydCgpXG4gICAgICAgIGlmICghc3VwcG9ydENoZWNrLmlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBg6Z+z6aC76YyE6KO95LiN5pSv5o+0OiAke3N1cHBvcnRDaGVjay5lcnJvciB8fCAn5pyq55+l6Yyv6KqkJ31gXG4gICAgICAgICAgICB0aGlzLmxvZ1dhcm5pbmcoJ+eAj+imveWZqOaUr+aPtOW6puaqouafpeWkseaVlycsIHN1cHBvcnRDaGVjay5lcnJvcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+eAj+imveWZqOaUr+aPtOW6puaqouafpemAmumBjicpXG4gICAgICAgIHRoaXMubG9nU3VjY2Vzcygn5Yid5aeL5YyW5a6M5oiQJylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmnI3li5nmuIXnkIZcbiAgICAgKi9cbiAgICBhc3luYyBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ0luZm8oJ+acjeWLmea4heeQhumWi+WniycpXG5cbiAgICAgICAgLy8g5aaC5p6c5q2j5Zyo6YyE6Z+z77yM5YWI5YGc5q2iXG4gICAgICAgIGlmICh0aGlzLnJlY29yZGluZ1N0YXRlLmlzUmVjb3JkaW5nKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3BSZWNvcmRpbmcoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5riF55CG6Z+z6aC76YyE6KO95ZmoXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlci5jbGVhbnVwKClcbiAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlciA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOa4heeQhuS4iuWCs+WZqFxuICAgICAgICBpZiAodGhpcy5hdWRpb1VwbG9hZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvVXBsb2FkZXIuY2xlYW51cCgpXG4gICAgICAgICAgICB0aGlzLmF1ZGlvVXBsb2FkZXIgPSBudWxsXG4gICAgICAgIH1cblxuICAgICAgICAvLyDmuIXnkIboqIjmmYLlmahcbiAgICAgICAgdGhpcy5jbGVhclJlY29yZGluZ1RpbWVyKClcblxuICAgICAgICAvLyDph43nva7ni4DmhYtcbiAgICAgICAgdGhpcy5yZXNldFJlY29yZGluZ1N0YXRlKClcblxuICAgICAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+a4heeQhuWujOaIkCcpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6ZaL5aeL6YyE6Z+zXG4gICAgICovXG4gICAgYXN5bmMgc3RhcnRSZWNvcmRpbmcoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dJbmZvKCfplovlp4vpjITpn7MnLCB7IHNlc3Npb25JZCB9KVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyDmqqLmn6XmmK/lkKblt7LlnKjpjITpn7NcbiAgICAgICAgICAgIGlmICh0aGlzLnJlY29yZGluZ1N0YXRlLmlzUmVjb3JkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dXYXJuaW5nKCflt7LlnKjpjITpn7PkuK3vvIzot7PpgY7ph43opIfllZ/li5UnKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDph43nva7ni4DmhYtcbiAgICAgICAgICAgIHRoaXMucmVzZXRSZWNvcmRpbmdTdGF0ZSgpXG4gICAgICAgICAgICB0aGlzLnJlY29yZGluZ1N0YXRlLmN1cnJlbnRTZXNzaW9uSWQgPSBzZXNzaW9uSWRcblxuICAgICAgICAgICAgLy8g5q2l6amfIDE6IOWIneWni+WMlumfs+mgu+mMhOijveWZqFxuICAgICAgICAgICAgdGhpcy5sb2dJbmZvKCfmraXpqZ8gMTog5Yid5aeL5YyW57Ch5YyW6Z+z6aC76YyE6KO95ZmoJylcbiAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlciA9IG5ldyBTaW1wbGVBdWRpb1JlY29yZGVyKHtcbiAgICAgICAgICAgICAgICBzZWdtZW50RHVyYXRpb246IDEwMDAwLCAvLyAxMCDnp5LliIfniYdcbiAgICAgICAgICAgICAgICBtaW1lVHlwZTogJ2F1ZGlvL3dlYm07Y29kZWNzPW9wdXMnLFxuICAgICAgICAgICAgICAgIGF1ZGlvQml0c1BlclNlY29uZDogMTI4MDAwIC8vIDEyOCBrYnBzXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyDoqK3lrprpn7PpoLvpjIToo73lmajkuovku7bomZXnkIZcbiAgICAgICAgICAgIHRoaXMuc2V0dXBBdWRpb1JlY29yZGVyRXZlbnRzKClcblxuICAgICAgICAgICAgLy8g5q2l6amfIDI6IOWIneWni+WMliBSRVNUIOmfs+mgu+S4iuWCs+WZqFxuICAgICAgICAgICAgdGhpcy5sb2dJbmZvKCfmraXpqZ8gMjog5Yid5aeL5YyWIFJFU1Qg6Z+z6aC75LiK5YKz5ZmoJylcbiAgICAgICAgICAgIHRoaXMuYXVkaW9VcGxvYWRlciA9IG5ldyBSZXN0QXVkaW9VcGxvYWRlcigpXG4gICAgICAgICAgICB0aGlzLmF1ZGlvVXBsb2FkZXIuc2V0U2Vzc2lvbklkKHNlc3Npb25JZClcblxuICAgICAgICAgICAgLy8g6Kit5a6a5LiK5YKz5Zmo5LqL5Lu26JmV55CGXG4gICAgICAgICAgICB0aGlzLnNldHVwVXBsb2FkZXJFdmVudHMoKVxuXG4gICAgICAgICAgICAvLyDmraXpqZ8gMzog6ZaL5aeL6YyE6Z+zXG4gICAgICAgICAgICB0aGlzLmxvZ0luZm8oJ+atpempnyAzOiDplovlp4vpn7PpoLvpjIToo70nKVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hdWRpb1JlY29yZGVyLnN0YXJ0KChzZWdtZW50OiBBdWRpb1NlZ21lbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUF1ZGlvU2VnbWVudChzZWdtZW50KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLy8g5q2l6amfIDQ6IOWVn+WLlemMhOmfs+ioiOaZguWZqFxuICAgICAgICAgICAgdGhpcy5sb2dJbmZvKCfmraXpqZ8gNDog5ZWf5YuV6YyE6Z+z6KiI5pmC5ZmoJylcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSZWNvcmRpbmdUaW1lcigpXG5cbiAgICAgICAgICAgIC8vIOabtOaWsOmMhOmfs+eLgOaFi1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5pc1JlY29yZGluZyA9IHRydWVcbiAgICAgICAgICAgIHRoaXMucmVjb3JkaW5nU3RhdGUuZXJyb3IgPSBudWxsXG5cbiAgICAgICAgICAgIHRoaXMubG9nU3VjY2Vzcygn6YyE6Z+z5ZWf5YuV5oiQ5YqfJywge1xuICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICBjb25maWc6IHRoaXMuYXVkaW9SZWNvcmRlci5jdXJyZW50Q29uZmlnXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyDpjK/oqqTmmYLmuIXnkIbos4fmupBcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xlYW51cFJlY29yZGluZ1Jlc291cmNlcygpXG4gICAgICAgICAgICB0aGlzLnJlY29yZGluZ1N0YXRlLmVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn6ZaL5aeL6YyE6Z+z5aSx5pWXJ1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcign6ZaL5aeL6YyE6Z+zJywgZXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlgZzmraLpjITpn7NcbiAgICAgKi9cbiAgICBhc3luYyBzdG9wUmVjb3JkaW5nKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ0luZm8oJ+WBnOatoumMhOmfsycpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIOabtOaWsOeLgOaFi1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5pc1JlY29yZGluZyA9IGZhbHNlXG5cbiAgICAgICAgICAgIC8vIOWBnOatoumfs+mgu+mMhOijveWZqFxuICAgICAgICAgICAgaWYgKHRoaXMuYXVkaW9SZWNvcmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlci5zdG9wKClcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0luZm8oJ+mfs+mgu+mMhOijveWZqOW3suWBnOatoicpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIOWBnOatouioiOaZguWZqFxuICAgICAgICAgICAgdGhpcy5jbGVhclJlY29yZGluZ1RpbWVyKClcblxuICAgICAgICAgICAgLy8g5riF55CG6Z+z6aC76YyE6KO95ZmoXG4gICAgICAgICAgICBpZiAodGhpcy5hdWRpb1JlY29yZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1JlY29yZGVyLmNsZWFudXAoKVxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlciA9IG51bGxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2dTdWNjZXNzKCfpjITpn7PlgZzmraLmiJDlip8nLCB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnJlY29yZGluZ1N0YXRlLmN1cnJlbnRTZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgcmVjb3JkaW5nVGltZTogdGhpcy5yZWNvcmRpbmdTdGF0ZS5yZWNvcmRpbmdUaW1lLFxuICAgICAgICAgICAgICAgIHVwbG9hZGVkU2VnbWVudHM6IHRoaXMudXBsb2FkZWRTZWdtZW50cy5zaXplLFxuICAgICAgICAgICAgICAgIGZhaWxlZFNlZ21lbnRzOiB0aGlzLmZhaWxlZFNlZ21lbnRzLnNpemVcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkaW5nU3RhdGUuZXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICflgZzmraLpjITpn7PlpLHmlZcnXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKCflgZzmraLpjITpn7MnLCBlcnJvcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWPluW+l+eVtuWJjemMhOmfs+eLgOaFi1xuICAgICAqL1xuICAgIGdldFJlY29yZGluZ1N0YXRlKCk6IFJlY29yZGluZ1N0YXRlIHtcbiAgICAgICAgcmV0dXJuIHsgLi4udGhpcy5yZWNvcmRpbmdTdGF0ZSB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5qqi5p+l5piv5ZCm5q2j5Zyo6YyE6Z+zXG4gICAgICovXG4gICAgaXNSZWNvcmRpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlY29yZGluZ1N0YXRlLmlzUmVjb3JkaW5nXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Y+W5b6X6YyE6Z+z5pmC6ZaT77yI56eS77yJXG4gICAgICovXG4gICAgZ2V0UmVjb3JkaW5nVGltZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNvcmRpbmdTdGF0ZS5yZWNvcmRpbmdUaW1lXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6Kit5a6a6Z+z6aC76YyE6KO95Zmo5LqL5Lu26JmV55CGXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXR1cEF1ZGlvUmVjb3JkZXJFdmVudHMoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5hdWRpb1JlY29yZGVyKSByZXR1cm5cblxuICAgICAgICAvLyDomZXnkIbpjIToo73pjK/oqqRcbiAgICAgICAgdGhpcy5hdWRpb1JlY29yZGVyLm9uRXJyb3IoKGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dXYXJuaW5nKCfpn7PpoLvpjIToo73lmajpjK/oqqQnLCBlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5lcnJvciA9IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDoqK3lrprkuIrlgrPlmajkuovku7bomZXnkIZcbiAgICAgKi9cbiAgICBwcml2YXRlIHNldHVwVXBsb2FkZXJFdmVudHMoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5hdWRpb1VwbG9hZGVyKSByZXR1cm5cblxuICAgICAgICAvLyDomZXnkIbkuIrlgrPmiJDlip9cbiAgICAgICAgdGhpcy5hdWRpb1VwbG9hZGVyLm9uVXBsb2FkU3VjY2Vzcygoc2VxOiBudW1iZXIsIHJlc3BvbnNlOiBVcGxvYWRTZWdtZW50UmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkZWRTZWdtZW50cy5hZGQoc2VxKVxuICAgICAgICAgICAgdGhpcy5sb2dJbmZvKCfpn7PpoLvmrrXokL3kuIrlgrPmiJDlip8nLCB7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2U6IHNlcSxcbiAgICAgICAgICAgICAgICBzaXplOiByZXNwb25zZS5zaXplLFxuICAgICAgICAgICAgICAgIHRvdGFsVXBsb2FkZWQ6IHRoaXMudXBsb2FkZWRTZWdtZW50cy5zaXplXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOiZleeQhuS4iuWCs+mMr+iqpFxuICAgICAgICB0aGlzLmF1ZGlvVXBsb2FkZXIub25VcGxvYWRFcnJvcigoc2VxOiBudW1iZXIsIGVycm9yOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmFpbGVkU2VnbWVudHMuYWRkKHNlcSlcbiAgICAgICAgICAgIHRoaXMubG9nV2FybmluZygn6Z+z6aC75q616JC95LiK5YKz5aSx5pWXJywge1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlOiBzZXEsXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgdG90YWxGYWlsZWQ6IHRoaXMuZmFpbGVkU2VnbWVudHMuc2l6ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDomZXnkIbmmqvlrZjliLDmnKzlnLBcbiAgICAgICAgdGhpcy5hdWRpb1VwbG9hZGVyLm9uQ2FjaGVTdG9yZWQoKHNlcTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ0luZm8oJ+mfs+mgu+auteiQveW3suaaq+WtmOWIsOacrOWcsCcsIHtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZTogc2VxLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflj6/nqI3lvozph43mlrDkuIrlgrMnXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiZleeQhumfs+mgu+auteiQvVxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlQXVkaW9TZWdtZW50KHNlZ21lbnQ6IEF1ZGlvU2VnbWVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+OpCBbU2ltcGxlUmVjb3JkaW5nU2VydmljZV0g5pS25Yiw6Z+z6aC75q616JC9Jywge1xuICAgICAgICAgICAgc2VxdWVuY2U6IHNlZ21lbnQuc2VxdWVuY2UsXG4gICAgICAgICAgICBzaXplOiBzZWdtZW50LmJsb2Iuc2l6ZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBzZWdtZW50LmR1cmF0aW9uLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmxvZ0luZm8oJ+aUtuWIsOmfs+mgu+auteiQvScsIHtcbiAgICAgICAgICAgIHNlcXVlbmNlOiBzZWdtZW50LnNlcXVlbmNlLFxuICAgICAgICAgICAgc2l6ZTogc2VnbWVudC5ibG9iLnNpemUsXG4gICAgICAgICAgICBkdXJhdGlvbjogc2VnbWVudC5kdXJhdGlvblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOS9v+eUqCBSRVNUIEFQSSDkuIrlgrNcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9VcGxvYWRlcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmF1ZGlvVXBsb2FkZXIudXBsb2FkU2VnbWVudChzZWdtZW50LnNlcXVlbmNlLCBzZWdtZW50LmJsb2IpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIOmMr+iqpOW3sueUsSBhdWRpb1VwbG9hZGVyIOiZleeQhu+8iOmHjeippuaIluaaq+WtmO+8iVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDimqDvuI8gW1NpbXBsZVJlY29yZGluZ1NlcnZpY2VdIOauteiQvSAjJHtzZWdtZW50LnNlcXVlbmNlfSDkuIrlgrPomZXnkIbkuK1gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dXYXJuaW5nKCfpn7PpoLvkuIrlgrPlmajmnKrliJ3lp4vljJYnLCB7IHNlcXVlbmNlOiBzZWdtZW50LnNlcXVlbmNlIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDph43mlrDkuIrlgrPmmqvlrZjnmoTlpLHmlZfmrrXokL1cbiAgICAgKi9cbiAgICBhc3luYyByZXRyeUZhaWxlZFVwbG9hZHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMubG9nSW5mbygn6ZaL5aeL6YeN5paw5LiK5YKz5pqr5a2Y55qE5aSx5pWX5q616JC9JylcblxuICAgICAgICBpZiAodGhpcy5hdWRpb1VwbG9hZGVyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXVkaW9VcGxvYWRlci5yZXRyeUZhaWxlZFNlZ21lbnRzKClcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ1N1Y2Nlc3MoJ+aaq+WtmOauteiQvemHjeaWsOS4iuWCs+WujOaIkCcpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nV2FybmluZygn6YeN5paw5LiK5YKz5pqr5a2Y5q616JC95aSx5pWXJywgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlj5blvpfmmqvlrZjnmoTlpLHmlZfmrrXokL3mlbjph49cbiAgICAgKi9cbiAgICBhc3luYyBnZXRDYWNoZWRTZWdtZW50c0NvdW50KCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgICAgIGlmICh0aGlzLmF1ZGlvVXBsb2FkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmF1ZGlvVXBsb2FkZXIuZ2V0Q2FjaGVkU2VnbWVudHNDb3VudCgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDllZ/li5XpjITpn7PoqIjmmYLlmahcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXJ0UmVjb3JkaW5nVGltZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xlYXJSZWNvcmRpbmdUaW1lcigpXG4gICAgICAgIHRoaXMucmVjb3JkaW5nU3RhdGUucmVjb3JkaW5nVGltZSA9IDBcblxuICAgICAgICB0aGlzLnJlY29yZGluZ1RpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5yZWNvcmRpbmdUaW1lICs9IDFcblxuICAgICAgICAgICAgLy8g5q+PIDMwIOenkuiomOmMhOS4gOasoemMhOmfs+aZgumWk1xuICAgICAgICAgICAgaWYgKHRoaXMucmVjb3JkaW5nU3RhdGUucmVjb3JkaW5nVGltZSAlIDMwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dJbmZvKCfpjITpn7PpgLLooYzkuK0nLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZGluZ1RpbWU6IHRoaXMucmVjb3JkaW5nU3RhdGUucmVjb3JkaW5nVGltZSxcbiAgICAgICAgICAgICAgICAgICAgbWludXRlczogTWF0aC5mbG9vcih0aGlzLnJlY29yZGluZ1N0YXRlLnJlY29yZGluZ1RpbWUgLyA2MCksXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkU2VnbWVudHM6IHRoaXMudXBsb2FkZWRTZWdtZW50cy5zaXplLFxuICAgICAgICAgICAgICAgICAgICBmYWlsZWRTZWdtZW50czogdGhpcy5mYWlsZWRTZWdtZW50cy5zaXplXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmuIXnkIbpjITpn7PoqIjmmYLlmahcbiAgICAgKi9cbiAgICBwcml2YXRlIGNsZWFyUmVjb3JkaW5nVGltZXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnJlY29yZGluZ1RpbWVyKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb3JkaW5nVGltZXIpXG4gICAgICAgICAgICB0aGlzLnJlY29yZGluZ1RpbWVyID0gbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6YeN572u6YyE6Z+z54uA5oWLXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNldFJlY29yZGluZ1N0YXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlY29yZGluZ1N0YXRlID0ge1xuICAgICAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVjb3JkaW5nVGltZTogMCxcbiAgICAgICAgICAgIGN1cnJlbnRTZXNzaW9uSWQ6IG51bGwsXG4gICAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBsb2FkZWRTZWdtZW50cy5jbGVhcigpXG4gICAgICAgIHRoaXMuZmFpbGVkU2VnbWVudHMuY2xlYXIoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOa4heeQhumMhOmfs+ebuOmXnOizh+a6kFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgY2xlYW51cFJlY29yZGluZ1Jlc291cmNlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIOWBnOatoumfs+mgu+mMhOijveWZqFxuICAgICAgICAgICAgaWYgKHRoaXMuYXVkaW9SZWNvcmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlci5zdG9wKClcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUmVjb3JkZXIuY2xlYW51cCgpXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1JlY29yZGVyID0gbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDmuIXnkIbkuIrlgrPlmahcbiAgICAgICAgICAgIGlmICh0aGlzLmF1ZGlvVXBsb2FkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvVXBsb2FkZXIuY2xlYW51cCgpXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1VwbG9hZGVyID0gbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDmuIXnkIboqIjmmYLlmahcbiAgICAgICAgICAgIHRoaXMuY2xlYXJSZWNvcmRpbmdUaW1lcigpXG5cbiAgICAgICAgICAgIC8vIOmHjee9rueLgOaFi1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdTdGF0ZS5pc1JlY29yZGluZyA9IGZhbHNlXG5cbiAgICAgICAgICAgIHRoaXMubG9nSW5mbygn6YyE6Z+z6LOH5rqQ5riF55CG5a6M5oiQJylcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nV2FybmluZygn5riF55CG6YyE6Z+z6LOH5rqQ5pmC55m855Sf6Yyv6KqkJywgZXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnjbLlj5bmnI3li5noqbPntLDni4DmhYtcbiAgICAgKi9cbiAgICBhc3luYyBnZXREZXRhaWxlZFN0YXR1cygpOiBQcm9taXNlPFNpbXBsZVJlY29yZGluZ1NlcnZpY2VTdGF0dXM+IHtcbiAgICAgICAgY29uc3QgYmFzZVN0YXR1cyA9IHRoaXMuZ2V0U3RhdHVzKClcbiAgICAgICAgY29uc3Qgc3VwcG9ydENoZWNrID0gYXdhaXQgY2hlY2tTaW1wbGVBdWRpb1JlY29yZGluZ1N1cHBvcnQoKVxuICAgICAgICBjb25zdCBjYWNoZWRDb3VudCA9IGF3YWl0IHRoaXMuZ2V0Q2FjaGVkU2VnbWVudHNDb3VudCgpXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmJhc2VTdGF0dXMsXG4gICAgICAgICAgICByZWNvcmRpbmdTdGF0ZTogdGhpcy5nZXRSZWNvcmRpbmdTdGF0ZSgpLFxuICAgICAgICAgICAgYXVkaW9TdXBwb3J0OiB7XG4gICAgICAgICAgICAgICAgc3VwcG9ydGVkOiBzdXBwb3J0Q2hlY2suaXNTdXBwb3J0ZWQsXG4gICAgICAgICAgICAgICAgZXJyb3JzOiBzdXBwb3J0Q2hlY2suZXJyb3IgPyBbc3VwcG9ydENoZWNrLmVycm9yXSA6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXVkaW9SZWNvcmRlclN0YXRlOiB0aGlzLmF1ZGlvUmVjb3JkZXI/LnJlY29yZGluZyA/ICdyZWNvcmRpbmcnIDogJ2lkbGUnLFxuICAgICAgICAgICAgdXBsb2FkU3RhdHM6IHtcbiAgICAgICAgICAgICAgICB1cGxvYWRlZDogdGhpcy51cGxvYWRlZFNlZ21lbnRzLnNpemUsXG4gICAgICAgICAgICAgICAgZmFpbGVkOiB0aGlzLmZhaWxlZFNlZ21lbnRzLnNpemUsXG4gICAgICAgICAgICAgICAgY2FjaGVkOiBjYWNoZWRDb3VudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFNpbXBsZVJlY29yZGluZ1NlcnZpY2Ug6Kmz57Sw54uA5oWL5LuL6Z2iXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxlUmVjb3JkaW5nU2VydmljZVN0YXR1cyB7XG4gICAgc2VydmljZU5hbWU6IHN0cmluZ1xuICAgIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW5cbiAgICBpc1J1bm5pbmc6IGJvb2xlYW5cbiAgICB0aW1lc3RhbXA6IHN0cmluZ1xuICAgIHJlY29yZGluZ1N0YXRlOiBSZWNvcmRpbmdTdGF0ZVxuICAgIGF1ZGlvU3VwcG9ydDoge1xuICAgICAgICBzdXBwb3J0ZWQ6IGJvb2xlYW5cbiAgICAgICAgZXJyb3JzOiBzdHJpbmdbXVxuICAgIH1cbiAgICBhdWRpb1JlY29yZGVyU3RhdGU6IHN0cmluZ1xuICAgIHVwbG9hZFN0YXRzOiB7XG4gICAgICAgIHVwbG9hZGVkOiBudW1iZXJcbiAgICAgICAgZmFpbGVkOiBudW1iZXJcbiAgICAgICAgY2FjaGVkOiBudW1iZXJcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQmFzZVNlcnZpY2UiLCJTaW1wbGVBdWRpb1JlY29yZGVyIiwiY2hlY2tTaW1wbGVBdWRpb1JlY29yZGluZ1N1cHBvcnQiLCJSZXN0QXVkaW9VcGxvYWRlciIsIlNpbXBsZVJlY29yZGluZ1NlcnZpY2UiLCJpbml0aWFsaXplIiwibG9nSW5mbyIsInN1cHBvcnRDaGVjayIsImlzU3VwcG9ydGVkIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3IiLCJsb2dXYXJuaW5nIiwiRXJyb3IiLCJsb2dTdWNjZXNzIiwiY2xlYW51cCIsInJlY29yZGluZ1N0YXRlIiwiaXNSZWNvcmRpbmciLCJzdG9wUmVjb3JkaW5nIiwiYXVkaW9SZWNvcmRlciIsImF1ZGlvVXBsb2FkZXIiLCJjbGVhclJlY29yZGluZ1RpbWVyIiwicmVzZXRSZWNvcmRpbmdTdGF0ZSIsInN0YXJ0UmVjb3JkaW5nIiwic2Vzc2lvbklkIiwiY3VycmVudFNlc3Npb25JZCIsInNlZ21lbnREdXJhdGlvbiIsIm1pbWVUeXBlIiwiYXVkaW9CaXRzUGVyU2Vjb25kIiwic2V0dXBBdWRpb1JlY29yZGVyRXZlbnRzIiwic2V0U2Vzc2lvbklkIiwic2V0dXBVcGxvYWRlckV2ZW50cyIsInN0YXJ0Iiwic2VnbWVudCIsImhhbmRsZUF1ZGlvU2VnbWVudCIsInN0YXJ0UmVjb3JkaW5nVGltZXIiLCJjb25maWciLCJjdXJyZW50Q29uZmlnIiwiY2xlYW51cFJlY29yZGluZ1Jlc291cmNlcyIsIm1lc3NhZ2UiLCJoYW5kbGVFcnJvciIsInN0b3AiLCJyZWNvcmRpbmdUaW1lIiwidXBsb2FkZWRTZWdtZW50cyIsInNpemUiLCJmYWlsZWRTZWdtZW50cyIsImdldFJlY29yZGluZ1N0YXRlIiwiZ2V0UmVjb3JkaW5nVGltZSIsIm9uRXJyb3IiLCJvblVwbG9hZFN1Y2Nlc3MiLCJzZXEiLCJyZXNwb25zZSIsImFkZCIsInNlcXVlbmNlIiwidG90YWxVcGxvYWRlZCIsIm9uVXBsb2FkRXJyb3IiLCJ0b3RhbEZhaWxlZCIsIm9uQ2FjaGVTdG9yZWQiLCJjb25zb2xlIiwibG9nIiwiYmxvYiIsImR1cmF0aW9uIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBsb2FkU2VnbWVudCIsInJldHJ5RmFpbGVkVXBsb2FkcyIsInJldHJ5RmFpbGVkU2VnbWVudHMiLCJnZXRDYWNoZWRTZWdtZW50c0NvdW50IiwicmVjb3JkaW5nVGltZXIiLCJzZXRJbnRlcnZhbCIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJjbGVhckludGVydmFsIiwiY2xlYXIiLCJnZXREZXRhaWxlZFN0YXR1cyIsImJhc2VTdGF0dXMiLCJnZXRTdGF0dXMiLCJjYWNoZWRDb3VudCIsImF1ZGlvU3VwcG9ydCIsInN1cHBvcnRlZCIsImVycm9ycyIsImF1ZGlvUmVjb3JkZXJTdGF0ZSIsInJlY29yZGluZyIsInVwbG9hZFN0YXRzIiwidXBsb2FkZWQiLCJmYWlsZWQiLCJjYWNoZWQiLCJzZXJ2aWNlTmFtZSIsIlNldCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/simple-recording-service.ts\n");

/***/ }),

/***/ "(ssr)/./lib/services/transcript-service.ts":
/*!********************************************!*\
  !*** ./lib/services/transcript-service.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TranscriptService: () => (/* binding */ TranscriptService)\n/* harmony export */ });\n/* harmony import */ var _base_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-service */ \"(ssr)/./lib/services/base-service.ts\");\n/* harmony import */ var _transcript_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transcript-manager */ \"(ssr)/./lib/transcript-manager.ts\");\n/* __next_internal_client_entry_do_not_use__ TranscriptService auto */ \n\n/**\n * TranscriptService - 逐字稿服務\n *\n * 職責：\n * - 封裝 TranscriptManager 的 API 為服務層接口\n * - 提供統一的逐字稿連接和消息處理\n * - 保持 TranscriptManager 的獨立性和 WebSocket 重連機制\n * - 支持多會話的逐字稿管理\n */ class TranscriptService extends _base_service__WEBPACK_IMPORTED_MODULE_0__.BaseService {\n    /**\n     * 初始化服務\n     */ async initialize() {\n        this.logInfo('初始化逐字稿服務');\n    // TranscriptManager 是 Singleton，無需特別初始化\n    }\n    /**\n     * 清理服務資源\n     */ async cleanup() {\n        this.logInfo('清理逐字稿服務資源');\n        // 斷開所有連接\n        const sessionIds = Array.from(this.connectedSessions);\n        for (const sessionId of sessionIds){\n            await this.disconnect(sessionId);\n        }\n        this.connectedSessions.clear();\n        this.sessionListeners.clear();\n    }\n    /**\n     * 連接逐字稿服務\n     */ async connect(sessionId) {\n        if (!this.isRunning) {\n            throw new Error('TranscriptService 尚未啟動，請先調用 start()');\n        }\n        try {\n            this.logInfo(`連接逐字稿服務: ${sessionId}`);\n            // 使用 TranscriptManager 建立連接\n            await _transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.connect(sessionId);\n            // 記錄連接狀態\n            this.connectedSessions.add(sessionId);\n            this.logSuccess(`逐字稿服務連接成功: ${sessionId}`);\n        } catch (error) {\n            this.handleError(`逐字稿服務連接失敗: ${sessionId}`, error);\n        }\n    }\n    /**\n     * 斷開逐字稿服務\n     */ async disconnect(sessionId) {\n        try {\n            if (sessionId) {\n                this.logInfo(`斷開逐字稿服務: ${sessionId}`);\n                // 移除所有監聽器\n                const listeners = this.sessionListeners.get(sessionId);\n                if (listeners) {\n                    listeners.forEach((callback)=>{\n                        _transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(sessionId, callback);\n                    });\n                    this.sessionListeners.delete(sessionId);\n                }\n                // 斷開連接\n                await _transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.disconnect(sessionId);\n                this.connectedSessions.delete(sessionId);\n                this.logSuccess(`逐字稿服務斷開成功: ${sessionId}`);\n            } else {\n                // 斷開所有連接\n                this.logInfo('斷開所有逐字稿服務連接');\n                const sessionIds = Array.from(this.connectedSessions);\n                for (const id of sessionIds){\n                    await this.disconnect(id);\n                }\n            }\n        } catch (error) {\n            this.handleError(`斷開逐字稿服務失敗: ${sessionId || 'all'}`, error);\n        }\n    }\n    /**\n     * 添加逐字稿監聽器\n     */ addTranscriptListener(sessionId, callback) {\n        if (!this.isRunning) {\n            throw new Error('TranscriptService 尚未啟動，請先調用 start()');\n        }\n        this.logInfo(`添加逐字稿監聽器: ${sessionId}`);\n        // 記錄監聽器\n        if (!this.sessionListeners.has(sessionId)) {\n            this.sessionListeners.set(sessionId, new Set());\n        }\n        this.sessionListeners.get(sessionId).add(callback);\n        // 添加到 TranscriptManager\n        _transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.addListener(sessionId, callback);\n    }\n    /**\n     * 移除逐字稿監聽器\n     */ removeTranscriptListener(sessionId, callback) {\n        this.logInfo(`移除逐字稿監聽器: ${sessionId}`);\n        // 從記錄中移除\n        const listeners = this.sessionListeners.get(sessionId);\n        if (listeners) {\n            listeners.delete(callback);\n            if (listeners.size === 0) {\n                this.sessionListeners.delete(sessionId);\n            }\n        }\n        // 從 TranscriptManager 移除\n        _transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(sessionId, callback);\n    }\n    /**\n     * 檢查連接狀態\n     */ isConnected(sessionId) {\n        return _transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.isConnected(sessionId);\n    }\n    /**\n     * 清除逐字稿\n     *\n     * 注意：此方法不會清除 TranscriptManager 中的數據，\n     * 因為 TranscriptManager 是無狀態的，只負責 WebSocket 連接。\n     * 實際的逐字稿數據應該由狀態管理層處理。\n     */ clearTranscripts(sessionId) {\n        this.logInfo(`清除逐字稿: ${sessionId}`);\n    // TranscriptManager 不儲存逐字稿數據，這個方法主要用於觸發狀態清除\n    // 實際的清除邏輯應該在狀態管理層實現\n    }\n    /**\n     * 取得服務狀態資訊\n     */ getServiceInfo() {\n        return {\n            serviceName: this.serviceName,\n            isInitialized: this.isInitialized,\n            isRunning: this.isRunning,\n            connectedSessions: Array.from(this.connectedSessions),\n            activeListeners: Object.fromEntries(Array.from(this.sessionListeners.entries()).map(([sessionId, listeners])=>[\n                    sessionId,\n                    listeners.size\n                ])),\n            totalConnections: this.connectedSessions.size,\n            transcriptManagerConnections: _transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.getConnectionCount()\n        };\n    }\n    constructor(...args){\n        super(...args), this.serviceName = 'TranscriptService', this.connectedSessions = new Set(), this.sessionListeners = new Map();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc2VydmljZXMvdHJhbnNjcmlwdC1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozt1RUFFNEM7QUFFYTtBQWV6RDs7Ozs7Ozs7Q0FRQyxHQUNNLE1BQU1FLDBCQUEwQkYsc0RBQVdBO0lBTTlDOztLQUVDLEdBQ0QsTUFBTUcsYUFBNEI7UUFDOUIsSUFBSSxDQUFDQyxPQUFPLENBQUM7SUFDYix3Q0FBd0M7SUFDNUM7SUFFQTs7S0FFQyxHQUNELE1BQU1DLFVBQXlCO1FBQzNCLElBQUksQ0FBQ0QsT0FBTyxDQUFDO1FBRWIsU0FBUztRQUNULE1BQU1FLGFBQWFDLE1BQU1DLElBQUksQ0FBQyxJQUFJLENBQUNDLGlCQUFpQjtRQUNwRCxLQUFLLE1BQU1DLGFBQWFKLFdBQVk7WUFDaEMsTUFBTSxJQUFJLENBQUNLLFVBQVUsQ0FBQ0Q7UUFDMUI7UUFFQSxJQUFJLENBQUNELGlCQUFpQixDQUFDRyxLQUFLO1FBQzVCLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNELEtBQUs7SUFDL0I7SUFFQTs7S0FFQyxHQUNELE1BQU1FLFFBQVFKLFNBQWlCLEVBQWlCO1FBQzVDLElBQUksQ0FBQyxJQUFJLENBQUNLLFNBQVMsRUFBRTtZQUNqQixNQUFNLElBQUlDLE1BQU07UUFDcEI7UUFFQSxJQUFJO1lBQ0EsSUFBSSxDQUFDWixPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUVNLFdBQVc7WUFFcEMsNEJBQTRCO1lBQzVCLE1BQU1ULGtFQUFpQkEsQ0FBQ2EsT0FBTyxDQUFDSjtZQUVoQyxTQUFTO1lBQ1QsSUFBSSxDQUFDRCxpQkFBaUIsQ0FBQ1EsR0FBRyxDQUFDUDtZQUUzQixJQUFJLENBQUNRLFVBQVUsQ0FBQyxDQUFDLFdBQVcsRUFBRVIsV0FBVztRQUM3QyxFQUFFLE9BQU9TLE9BQU87WUFDWixJQUFJLENBQUNDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsRUFBRVYsV0FBVyxFQUFFUztRQUNoRDtJQUNKO0lBRUE7O0tBRUMsR0FDRCxNQUFNUixXQUFXRCxTQUFr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SSxDQUFDLElBQUksQ0FBQ0MsaUJBQWlCO1lBQ3BEK0IsaUJBQWlCQyxPQUFPQyxXQUFXLENBQy9CbkMsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQ0ssZ0JBQWdCLENBQUM4QixPQUFPLElBQUlDLEdBQUcsQ0FBQyxDQUFDLENBQUNsQyxXQUFXVyxVQUFVLEdBQUs7b0JBQ3hFWDtvQkFDQVcsVUFBVWEsSUFBSTtpQkFDakI7WUFFTFcsa0JBQWtCLElBQUksQ0FBQ3BDLGlCQUFpQixDQUFDeUIsSUFBSTtZQUM3Q1ksOEJBQThCN0Msa0VBQWlCQSxDQUFDOEMsa0JBQWtCO1FBQ3RFO0lBQ0o7O1FBcktHLHFCQUNnQlQsY0FBYywwQkFFekI3QixvQkFBaUMsSUFBSXNCLFlBQ3JDbEIsbUJBQTJFLElBQUltQzs7QUFrSzNGIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvc2VydmljZXMvdHJhbnNjcmlwdC1zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IEJhc2VTZXJ2aWNlIH0gZnJvbSAnLi9iYXNlLXNlcnZpY2UnXG5pbXBvcnQgeyBJVHJhbnNjcmlwdFNlcnZpY2UsIFRyYW5zY3JpcHRNZXNzYWdlIH0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IHsgdHJhbnNjcmlwdE1hbmFnZXIgfSBmcm9tICcuLi90cmFuc2NyaXB0LW1hbmFnZXInXG5cbi8qKlxuICog6YCQ5a2X56i/5pyN5YuZ6LOH6KiK5LuL6Z2iXG4gKi9cbmludGVyZmFjZSBUcmFuc2NyaXB0U2VydmljZUluZm8ge1xuICAgIHNlcnZpY2VOYW1lOiBzdHJpbmdcbiAgICBpc0luaXRpYWxpemVkOiBib29sZWFuXG4gICAgaXNSdW5uaW5nOiBib29sZWFuXG4gICAgY29ubmVjdGVkU2Vzc2lvbnM6IHN0cmluZ1tdXG4gICAgYWN0aXZlTGlzdGVuZXJzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+XG4gICAgdG90YWxDb25uZWN0aW9uczogbnVtYmVyXG4gICAgdHJhbnNjcmlwdE1hbmFnZXJDb25uZWN0aW9uczogbnVtYmVyXG59XG5cbi8qKlxuICogVHJhbnNjcmlwdFNlcnZpY2UgLSDpgJDlrZfnqL/mnI3li5lcbiAqXG4gKiDogbfosqzvvJpcbiAqIC0g5bCB6KOdIFRyYW5zY3JpcHRNYW5hZ2VyIOeahCBBUEkg54K65pyN5YuZ5bGk5o6l5Y+jXG4gKiAtIOaPkOS+m+e1seS4gOeahOmAkOWtl+eov+mAo+aOpeWSjOa2iOaBr+iZleeQhlxuICogLSDkv53mjIEgVHJhbnNjcmlwdE1hbmFnZXIg55qE542o56uL5oCn5ZKMIFdlYlNvY2tldCDph43pgKPmqZ/liLZcbiAqIC0g5pSv5oyB5aSa5pyD6Kmx55qE6YCQ5a2X56i/566h55CGXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0U2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNlIGltcGxlbWVudHMgSVRyYW5zY3JpcHRTZXJ2aWNlIHtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2VydmljZU5hbWUgPSAnVHJhbnNjcmlwdFNlcnZpY2UnXG5cbiAgICBwcml2YXRlIGNvbm5lY3RlZFNlc3Npb25zOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKVxuICAgIHByaXZhdGUgc2Vzc2lvbkxpc3RlbmVyczogTWFwPHN0cmluZywgU2V0PChtZXNzYWdlOiBUcmFuc2NyaXB0TWVzc2FnZSkgPT4gdm9pZD4+ID0gbmV3IE1hcCgpXG5cbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbmnI3li5lcbiAgICAgKi9cbiAgICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ0luZm8oJ+WIneWni+WMlumAkOWtl+eov+acjeWLmScpXG4gICAgICAgIC8vIFRyYW5zY3JpcHRNYW5hZ2VyIOaYryBTaW5nbGV0b27vvIznhKHpnIDnibnliKXliJ3lp4vljJZcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmuIXnkIbmnI3li5nos4fmupBcbiAgICAgKi9cbiAgICBhc3luYyBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ0luZm8oJ+a4heeQhumAkOWtl+eov+acjeWLmeizh+a6kCcpXG5cbiAgICAgICAgLy8g5pa36ZaL5omA5pyJ6YCj5o6lXG4gICAgICAgIGNvbnN0IHNlc3Npb25JZHMgPSBBcnJheS5mcm9tKHRoaXMuY29ubmVjdGVkU2Vzc2lvbnMpXG4gICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbklkIG9mIHNlc3Npb25JZHMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGlzY29ubmVjdChzZXNzaW9uSWQpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbm5lY3RlZFNlc3Npb25zLmNsZWFyKClcbiAgICAgICAgdGhpcy5zZXNzaW9uTGlzdGVuZXJzLmNsZWFyKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpgKPmjqXpgJDlrZfnqL/mnI3li5lcbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNjcmlwdFNlcnZpY2Ug5bCa5pyq5ZWf5YuV77yM6KuL5YWI6Kq/55SoIHN0YXJ0KCknKVxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubG9nSW5mbyhg6YCj5o6l6YCQ5a2X56i/5pyN5YuZOiAke3Nlc3Npb25JZH1gKVxuXG4gICAgICAgICAgICAvLyDkvb/nlKggVHJhbnNjcmlwdE1hbmFnZXIg5bu656uL6YCj5o6lXG4gICAgICAgICAgICBhd2FpdCB0cmFuc2NyaXB0TWFuYWdlci5jb25uZWN0KHNlc3Npb25JZClcblxuICAgICAgICAgICAgLy8g6KiY6YyE6YCj5o6l54uA5oWLXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZFNlc3Npb25zLmFkZChzZXNzaW9uSWQpXG5cbiAgICAgICAgICAgIHRoaXMubG9nU3VjY2Vzcyhg6YCQ5a2X56i/5pyN5YuZ6YCj5o6l5oiQ5YqfOiAke3Nlc3Npb25JZH1gKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihg6YCQ5a2X56i/5pyN5YuZ6YCj5o6l5aSx5pWXOiAke3Nlc3Npb25JZH1gLCBlcnJvcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaWt+mWi+mAkOWtl+eov+acjeWLmVxuICAgICAqL1xuICAgIGFzeW5jIGRpc2Nvbm5lY3Qoc2Vzc2lvbklkPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dJbmZvKGDmlrfplovpgJDlrZfnqL/mnI3li5k6ICR7c2Vzc2lvbklkfWApXG5cbiAgICAgICAgICAgICAgICAvLyDnp7vpmaTmiYDmnInnm6Pogb3lmahcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLnNlc3Npb25MaXN0ZW5lcnMuZ2V0KHNlc3Npb25JZClcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHNlc3Npb25JZCwgY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkxpc3RlbmVycy5kZWxldGUoc2Vzc2lvbklkKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIOaWt+mWi+mAo+aOpVxuICAgICAgICAgICAgICAgIGF3YWl0IHRyYW5zY3JpcHRNYW5hZ2VyLmRpc2Nvbm5lY3Qoc2Vzc2lvbklkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkU2Vzc2lvbnMuZGVsZXRlKHNlc3Npb25JZClcblxuICAgICAgICAgICAgICAgIHRoaXMubG9nU3VjY2Vzcyhg6YCQ5a2X56i/5pyN5YuZ5pa36ZaL5oiQ5YqfOiAke3Nlc3Npb25JZH1gKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyDmlrfplovmiYDmnInpgKPmjqVcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0luZm8oJ+aWt+mWi+aJgOaciemAkOWtl+eov+acjeWLmemAo+aOpScpXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbklkcyA9IEFycmF5LmZyb20odGhpcy5jb25uZWN0ZWRTZXNzaW9ucylcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHNlc3Npb25JZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kaXNjb25uZWN0KGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoYOaWt+mWi+mAkOWtl+eov+acjeWLmeWkseaVlzogJHtzZXNzaW9uSWQgfHwgJ2FsbCd9YCwgZXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmt7vliqDpgJDlrZfnqL/nm6Pogb3lmahcbiAgICAgKi9cbiAgICBhZGRUcmFuc2NyaXB0TGlzdGVuZXIoc2Vzc2lvbklkOiBzdHJpbmcsIGNhbGxiYWNrOiAobWVzc2FnZTogVHJhbnNjcmlwdE1lc3NhZ2UpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzUnVubmluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2NyaXB0U2VydmljZSDlsJrmnKrllZ/li5XvvIzoq4vlhYjoqr/nlKggc3RhcnQoKScpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ0luZm8oYOa3u+WKoOmAkOWtl+eov+ebo+iBveWZqDogJHtzZXNzaW9uSWR9YClcblxuICAgICAgICAvLyDoqJjpjITnm6Pogb3lmahcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25MaXN0ZW5lcnMuaGFzKHNlc3Npb25JZCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkxpc3RlbmVycy5zZXQoc2Vzc2lvbklkLCBuZXcgU2V0KCkpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9uTGlzdGVuZXJzLmdldChzZXNzaW9uSWQpIS5hZGQoY2FsbGJhY2spXG5cbiAgICAgICAgLy8g5re75Yqg5YiwIFRyYW5zY3JpcHRNYW5hZ2VyXG4gICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLmFkZExpc3RlbmVyKHNlc3Npb25JZCwgY2FsbGJhY2spXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog56e76Zmk6YCQ5a2X56i/55uj6IG95ZmoXG4gICAgICovXG4gICAgcmVtb3ZlVHJhbnNjcmlwdExpc3RlbmVyKHNlc3Npb25JZDogc3RyaW5nLCBjYWxsYmFjazogKG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nSW5mbyhg56e76Zmk6YCQ5a2X56i/55uj6IG95ZmoOiAke3Nlc3Npb25JZH1gKVxuXG4gICAgICAgIC8vIOW+nuiomOmMhOS4reenu+mZpFxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLnNlc3Npb25MaXN0ZW5lcnMuZ2V0KHNlc3Npb25JZClcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmRlbGV0ZShjYWxsYmFjaylcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkxpc3RlbmVycy5kZWxldGUoc2Vzc2lvbklkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5b6eIFRyYW5zY3JpcHRNYW5hZ2VyIOenu+mZpFxuICAgICAgICB0cmFuc2NyaXB0TWFuYWdlci5yZW1vdmVMaXN0ZW5lcihzZXNzaW9uSWQsIGNhbGxiYWNrKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaqouafpemAo+aOpeeLgOaFi1xuICAgICAqL1xuICAgIGlzQ29ubmVjdGVkKHNlc3Npb25JZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cmFuc2NyaXB0TWFuYWdlci5pc0Nvbm5lY3RlZChzZXNzaW9uSWQpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5riF6Zmk6YCQ5a2X56i/XG4gICAgICpcbiAgICAgKiDms6jmhI/vvJrmraTmlrnms5XkuI3mnIPmuIXpmaQgVHJhbnNjcmlwdE1hbmFnZXIg5Lit55qE5pW45pOa77yMXG4gICAgICog5Zug54K6IFRyYW5zY3JpcHRNYW5hZ2VyIOaYr+eEoeeLgOaFi+eahO+8jOWPquiyoOiyrCBXZWJTb2NrZXQg6YCj5o6l44CCXG4gICAgICog5a+m6Zqb55qE6YCQ5a2X56i/5pW45pOa5oeJ6Kmy55Sx54uA5oWL566h55CG5bGk6JmV55CG44CCXG4gICAgICovXG4gICAgY2xlYXJUcmFuc2NyaXB0cyhzZXNzaW9uSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ0luZm8oYOa4hemZpOmAkOWtl+eovzogJHtzZXNzaW9uSWR9YClcbiAgICAgICAgLy8gVHJhbnNjcmlwdE1hbmFnZXIg5LiN5YSy5a2Y6YCQ5a2X56i/5pW45pOa77yM6YCZ5YCL5pa55rOV5Li76KaB55So5pa86Ke455m854uA5oWL5riF6ZmkXG4gICAgICAgIC8vIOWvpumam+eahOa4hemZpOmCj+i8r+aHieipsuWcqOeLgOaFi+euoeeQhuWxpOWvpuePvlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWPluW+l+acjeWLmeeLgOaFi+izh+ioilxuICAgICAqL1xuICAgIGdldFNlcnZpY2VJbmZvKCk6IFRyYW5zY3JpcHRTZXJ2aWNlSW5mbyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZXJ2aWNlTmFtZTogdGhpcy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgIGlzSW5pdGlhbGl6ZWQ6IHRoaXMuaXNJbml0aWFsaXplZCxcbiAgICAgICAgICAgIGlzUnVubmluZzogdGhpcy5pc1J1bm5pbmcsXG4gICAgICAgICAgICBjb25uZWN0ZWRTZXNzaW9uczogQXJyYXkuZnJvbSh0aGlzLmNvbm5lY3RlZFNlc3Npb25zKSxcbiAgICAgICAgICAgIGFjdGl2ZUxpc3RlbmVyczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgICAgIEFycmF5LmZyb20odGhpcy5zZXNzaW9uTGlzdGVuZXJzLmVudHJpZXMoKSkubWFwKChbc2Vzc2lvbklkLCBsaXN0ZW5lcnNdKSA9PiBbXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNpemVcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRvdGFsQ29ubmVjdGlvbnM6IHRoaXMuY29ubmVjdGVkU2Vzc2lvbnMuc2l6ZSxcbiAgICAgICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyQ29ubmVjdGlvbnM6IHRyYW5zY3JpcHRNYW5hZ2VyLmdldENvbm5lY3Rpb25Db3VudCgpXG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQmFzZVNlcnZpY2UiLCJ0cmFuc2NyaXB0TWFuYWdlciIsIlRyYW5zY3JpcHRTZXJ2aWNlIiwiaW5pdGlhbGl6ZSIsImxvZ0luZm8iLCJjbGVhbnVwIiwic2Vzc2lvbklkcyIsIkFycmF5IiwiZnJvbSIsImNvbm5lY3RlZFNlc3Npb25zIiwic2Vzc2lvbklkIiwiZGlzY29ubmVjdCIsImNsZWFyIiwic2Vzc2lvbkxpc3RlbmVycyIsImNvbm5lY3QiLCJpc1J1bm5pbmciLCJFcnJvciIsImFkZCIsImxvZ1N1Y2Nlc3MiLCJlcnJvciIsImhhbmRsZUVycm9yIiwibGlzdGVuZXJzIiwiZ2V0IiwiZm9yRWFjaCIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiLCJkZWxldGUiLCJpZCIsImFkZFRyYW5zY3JpcHRMaXN0ZW5lciIsImhhcyIsInNldCIsIlNldCIsImFkZExpc3RlbmVyIiwicmVtb3ZlVHJhbnNjcmlwdExpc3RlbmVyIiwic2l6ZSIsImlzQ29ubmVjdGVkIiwiY2xlYXJUcmFuc2NyaXB0cyIsImdldFNlcnZpY2VJbmZvIiwic2VydmljZU5hbWUiLCJpc0luaXRpYWxpemVkIiwiYWN0aXZlTGlzdGVuZXJzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwidG90YWxDb25uZWN0aW9ucyIsInRyYW5zY3JpcHRNYW5hZ2VyQ29ubmVjdGlvbnMiLCJnZXRDb25uZWN0aW9uQ291bnQiLCJNYXAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/services/transcript-service.ts\n");

/***/ }),

/***/ "(ssr)/./lib/simple-audio-recorder.ts":
/*!**************************************!*\
  !*** ./lib/simple-audio-recorder.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SimpleAudioRecorder: () => (/* binding */ SimpleAudioRecorder),\n/* harmony export */   checkSimpleAudioRecordingSupport: () => (/* binding */ checkSimpleAudioRecordingSupport),\n/* harmony export */   createSimpleAudioRecorder: () => (/* binding */ createSimpleAudioRecorder)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ SimpleAudioRecorder,createSimpleAudioRecorder,checkSimpleAudioRecordingSupport auto */ const DEFAULT_CONFIG = {\n    segmentDuration: 10000,\n    mimeType: 'audio/webm;codecs=opus',\n    audioBitsPerSecond: 128000\n};\nclass SimpleAudioRecorder {\n    constructor(config = {}){\n        this.stream = null;\n        this.mediaRecorder = null;\n        this.sequence = 0;\n        this.isRecording = false;\n        this.config = {\n            ...DEFAULT_CONFIG,\n            ...config\n        };\n    }\n    /**\n     * 初始化錄音器 - 獲取音訊權限\n     */ async initialize() {\n        if (this.stream) {\n            return; // 已初始化\n        }\n        try {\n            this.stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            console.log('🎤 [SimpleAudioRecorder] 音訊權限獲取成功');\n        } catch (error) {\n            const errorMsg = error instanceof Error ? error.message : '獲取音訊權限失敗';\n            this.handleError(new Error(errorMsg));\n            throw error;\n        }\n    }\n    /**\n     * 開始錄音 - 使用標準 MediaRecorder + timeslice\n     */ async start(onSegmentAvailable) {\n        if (this.isRecording) {\n            throw new Error('錄製已在進行中');\n        }\n        if (!this.stream) {\n            await this.initialize();\n        }\n        this.onSegmentCallback = onSegmentAvailable;\n        this.sequence = 0;\n        this.isRecording = true;\n        console.log('🎬 [SimpleAudioRecorder] 開始錄音', {\n            segmentDuration: this.config.segmentDuration,\n            mimeType: this.config.mimeType,\n            audioBitsPerSecond: this.config.audioBitsPerSecond\n        });\n        // 建立 MediaRecorder 實例\n        this.mediaRecorder = new MediaRecorder(this.stream, {\n            mimeType: this.config.mimeType,\n            audioBitsPerSecond: this.config.audioBitsPerSecond\n        });\n        // 設定資料接收處理\n        this.mediaRecorder.ondataavailable = (event)=>{\n            if (event.data.size > 0 && this.isRecording) {\n                console.log(`📦 [SimpleAudioRecorder] 段落 #${this.sequence} 完成`, {\n                    size: event.data.size,\n                    mimeType: this.config.mimeType\n                });\n                const segment = {\n                    blob: event.data,\n                    timestamp: Date.now(),\n                    duration: this.config.segmentDuration,\n                    sequence: this.sequence++\n                };\n                // 回調通知有新段落可用\n                this.onSegmentCallback?.(segment);\n            }\n        };\n        // 錯誤處理\n        this.mediaRecorder.onerror = (event)=>{\n            console.error('❌ [SimpleAudioRecorder] MediaRecorder 錯誤:', event);\n            this.handleError(new Error(`MediaRecorder 錯誤: ${event}`));\n        };\n        // 開始錄製，使用 timeslice 自動切片\n        this.mediaRecorder.start(this.config.segmentDuration);\n        console.log('✅ [SimpleAudioRecorder] MediaRecorder 已啟動，自動 10 秒切片');\n    }\n    /**\n     * 停止錄音\n     */ stop() {\n        console.log('⏹️ [SimpleAudioRecorder] 停止錄音');\n        this.isRecording = false;\n        if (this.mediaRecorder && this.mediaRecorder.state !== 'inactive') {\n            this.mediaRecorder.stop();\n        }\n    }\n    /**\n     * 清理資源\n     */ cleanup() {\n        this.stop();\n        if (this.stream) {\n            this.stream.getTracks().forEach((track)=>track.stop());\n            this.stream = null;\n        }\n        this.mediaRecorder = null;\n        this.sequence = 0;\n        console.log('🧹 [SimpleAudioRecorder] 已清理');\n    }\n    /**\n     * 檢查是否正在錄音\n     */ get recording() {\n        return this.isRecording;\n    }\n    /**\n     * 獲取當前序號\n     */ get currentSequence() {\n        return this.sequence;\n    }\n    /**\n     * 獲取當前配置\n     */ get currentConfig() {\n        return {\n            ...this.config\n        };\n    }\n    // 錯誤處理\n    handleError(error) {\n        console.error('❌ [SimpleAudioRecorder] 錯誤:', error);\n        this.isRecording = false;\n        this.onErrorCallback?.(error);\n    }\n    // 事件回調設定\n    onSegment(callback) {\n        this.onSegmentCallback = callback;\n    }\n    onError(callback) {\n        this.onErrorCallback = callback;\n    }\n}\n// 工廠函數\nconst createSimpleAudioRecorder = (config)=>{\n    return new SimpleAudioRecorder(config);\n};\n/**\n * 檢查瀏覽器音訊錄製支援\n */ async function checkSimpleAudioRecordingSupport() {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        return {\n            isSupported: false,\n            error: '瀏覽器不支援 MediaDevices API'\n        };\n    }\n    if (!window.MediaRecorder) {\n        return {\n            isSupported: false,\n            error: '瀏覽器不支援 MediaRecorder API'\n        };\n    }\n    // 檢查 MIME 類型支援\n    if (!MediaRecorder.isTypeSupported(DEFAULT_CONFIG.mimeType)) {\n        return {\n            isSupported: false,\n            error: `不支援音訊格式: ${DEFAULT_CONFIG.mimeType}`\n        };\n    }\n    try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n            audio: true\n        });\n        // 立即停止串流以釋放資源\n        stream.getTracks().forEach((track)=>track.stop());\n        return {\n            isSupported: true\n        };\n    } catch (error) {\n        return {\n            isSupported: false,\n            error: `無法獲取麥克風權限: ${error}`\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9zaW1wbGUtYXVkaW8tcmVjb3JkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuLyoqXG4gKiBTaW1wbGVBdWRpb1JlY29yZGVyIC0g57Ch5YyW6Z+z6KiK6YyE6KO95ZmoXG4gKlxuICogUGhhc2UgMiDph43mp4vvvJrnp7vpmaTopIfpm5znmoQgU2VnbWVudGVkQXVkaW9SZWNvcmRlciDpgo/ovK9cbiAqIOaUueeUqOaomea6liBNZWRpYVJlY29yZGVyICsgdGltZXNsaWNlPTEwMDAwIOaooeW8j1xuICpcbiAqIOeJuem7nu+8mlxuICogLSDkvb/nlKggTWVkaWFSZWNvcmRlci5zdGFydCgxMDAwMCkg6Ieq5YuV5YiH54mHXG4gKiAtIOavj+WAi+auteiQveWMheWQq+WujOaVtCBXZWJNIEhlYWRlclxuICogLSDnsKHljJbpjK/oqqTomZXnkIZcbiAqIC0g56e76Zmk6YGe5q245ZWf5YuVL+WBnOatouikh+mbnOaAp1xuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9TZWdtZW50IHtcbiAgICBibG9iOiBCbG9iXG4gICAgdGltZXN0YW1wOiBudW1iZXJcbiAgICBkdXJhdGlvbjogbnVtYmVyXG4gICAgc2VxdWVuY2U6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpbXBsZUF1ZGlvUmVjb3JkZXJDb25maWcge1xuICAgIHNlZ21lbnREdXJhdGlvbjogbnVtYmVyIC8vIOauteiQveaZgumVt++8iOavq+enku+8iVxuICAgIG1pbWVUeXBlOiBzdHJpbmdcbiAgICBhdWRpb0JpdHNQZXJTZWNvbmQ6IG51bWJlclxufVxuXG5jb25zdCBERUZBVUxUX0NPTkZJRzogU2ltcGxlQXVkaW9SZWNvcmRlckNvbmZpZyA9IHtcbiAgICBzZWdtZW50RHVyYXRpb246IDEwMDAwLCAvLyAxMCDnp5LliIfniYdcbiAgICBtaW1lVHlwZTogJ2F1ZGlvL3dlYm07Y29kZWNzPW9wdXMnLFxuICAgIGF1ZGlvQml0c1BlclNlY29uZDogMTI4MDAwLCAvLyAxMjgga2JwcyBmb3IgMTBzIGNodW5rc1xufVxuXG5leHBvcnQgY2xhc3MgU2ltcGxlQXVkaW9SZWNvcmRlciB7XG4gICAgcHJpdmF0ZSBzdHJlYW06IE1lZGlhU3RyZWFtIHwgbnVsbCA9IG51bGxcbiAgICBwcml2YXRlIG1lZGlhUmVjb3JkZXI6IE1lZGlhUmVjb3JkZXIgfCBudWxsID0gbnVsbFxuICAgIHByaXZhdGUgY29uZmlnOiBTaW1wbGVBdWRpb1JlY29yZGVyQ29uZmlnXG4gICAgcHJpdmF0ZSBzZXF1ZW5jZTogbnVtYmVyID0gMFxuICAgIHByaXZhdGUgaXNSZWNvcmRpbmc6IGJvb2xlYW4gPSBmYWxzZVxuXG4gICAgLy8g5LqL5Lu25Zue6Kq/XG4gICAgcHJpdmF0ZSBvblNlZ21lbnRDYWxsYmFjaz86IChzZWdtZW50OiBBdWRpb1NlZ21lbnQpID0+IHZvaWRcbiAgICBwcml2YXRlIG9uRXJyb3JDYWxsYmFjaz86IChlcnJvcjogRXJyb3IpID0+IHZvaWRcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogUGFydGlhbDxTaW1wbGVBdWRpb1JlY29yZGVyQ29uZmlnPiA9IHt9KSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0geyAuLi5ERUZBVUxUX0NPTkZJRywgLi4uY29uZmlnIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbpjITpn7PlmaggLSDnjbLlj5bpn7PoqIrmrIrpmZBcbiAgICAgKi9cbiAgICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIHJldHVybiAvLyDlt7LliJ3lp4vljJZcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46kIFtTaW1wbGVBdWRpb1JlY29yZGVyXSDpn7PoqIrmrIrpmZDnjbLlj5bmiJDlip8nKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfnjbLlj5bpn7PoqIrmrIrpmZDlpLHmlZcnXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKG5ldyBFcnJvcihlcnJvck1zZykpXG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6ZaL5aeL6YyE6Z+zIC0g5L2/55So5qiZ5rqWIE1lZGlhUmVjb3JkZXIgKyB0aW1lc2xpY2VcbiAgICAgKi9cbiAgICBhc3luYyBzdGFydChvblNlZ21lbnRBdmFpbGFibGU6IChzZWdtZW50OiBBdWRpb1NlZ21lbnQpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign6YyE6KO95bey5Zyo6YCy6KGM5LitJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uU2VnbWVudENhbGxiYWNrID0gb25TZWdtZW50QXZhaWxhYmxlXG4gICAgICAgIHRoaXMuc2VxdWVuY2UgPSAwXG4gICAgICAgIHRoaXMuaXNSZWNvcmRpbmcgPSB0cnVlXG5cbiAgICAgICAgY29uc29sZS5sb2coJ/CfjqwgW1NpbXBsZUF1ZGlvUmVjb3JkZXJdIOmWi+Wni+mMhOmfsycsIHtcbiAgICAgICAgICAgIHNlZ21lbnREdXJhdGlvbjogdGhpcy5jb25maWcuc2VnbWVudER1cmF0aW9uLFxuICAgICAgICAgICAgbWltZVR5cGU6IHRoaXMuY29uZmlnLm1pbWVUeXBlLFxuICAgICAgICAgICAgYXVkaW9CaXRzUGVyU2Vjb25kOiB0aGlzLmNvbmZpZy5hdWRpb0JpdHNQZXJTZWNvbmRcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDlu7rnq4sgTWVkaWFSZWNvcmRlciDlr6bkvotcbiAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIodGhpcy5zdHJlYW0hLCB7XG4gICAgICAgICAgICBtaW1lVHlwZTogdGhpcy5jb25maWcubWltZVR5cGUsXG4gICAgICAgICAgICBhdWRpb0JpdHNQZXJTZWNvbmQ6IHRoaXMuY29uZmlnLmF1ZGlvQml0c1BlclNlY29uZCxcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDoqK3lrpros4fmlpnmjqXmlLbomZXnkIZcbiAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uZGF0YWF2YWlsYWJsZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuc2l6ZSA+IDAgJiYgdGhpcy5pc1JlY29yZGluZykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OmIFtTaW1wbGVBdWRpb1JlY29yZGVyXSDmrrXokL0gIyR7dGhpcy5zZXF1ZW5jZX0g5a6M5oiQYCwge1xuICAgICAgICAgICAgICAgICAgICBzaXplOiBldmVudC5kYXRhLnNpemUsXG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiB0aGlzLmNvbmZpZy5taW1lVHlwZSxcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudDogQXVkaW9TZWdtZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBibG9iOiBldmVudC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmNvbmZpZy5zZWdtZW50RHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlOiB0aGlzLnNlcXVlbmNlKyssXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8g5Zue6Kq/6YCa55+l5pyJ5paw5q616JC95Y+v55SoXG4gICAgICAgICAgICAgICAgdGhpcy5vblNlZ21lbnRDYWxsYmFjaz8uKHNlZ21lbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDpjK/oqqTomZXnkIZcbiAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbU2ltcGxlQXVkaW9SZWNvcmRlcl0gTWVkaWFSZWNvcmRlciDpjK/oqqQ6JywgZXZlbnQpXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKG5ldyBFcnJvcihgTWVkaWFSZWNvcmRlciDpjK/oqqQ6ICR7ZXZlbnR9YCkpXG4gICAgICAgIH1cblxuICAgICAgICAvLyDplovlp4vpjIToo73vvIzkvb/nlKggdGltZXNsaWNlIOiHquWLleWIh+eJh1xuICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQodGhpcy5jb25maWcuc2VnbWVudER1cmF0aW9uKVxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtTaW1wbGVBdWRpb1JlY29yZGVyXSBNZWRpYVJlY29yZGVyIOW3suWVn+WLle+8jOiHquWLlSAxMCDnp5LliIfniYcnKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWBnOatoumMhOmfs1xuICAgICAqL1xuICAgIHN0b3AoKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfij7nvuI8gW1NpbXBsZUF1ZGlvUmVjb3JkZXJdIOWBnOatoumMhOmfsycpXG5cbiAgICAgICAgdGhpcy5pc1JlY29yZGluZyA9IGZhbHNlXG5cbiAgICAgICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlciAmJiB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhdGUgIT09ICdpbmFjdGl2ZScpIHtcbiAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5zdG9wKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOa4heeQhuizh+a6kFxuICAgICAqL1xuICAgIGNsZWFudXAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RvcCgpXG5cbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSlcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbnVsbFxuICAgICAgICB0aGlzLnNlcXVlbmNlID0gMFxuICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBbU2ltcGxlQXVkaW9SZWNvcmRlcl0g5bey5riF55CGJylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmqqLmn6XmmK/lkKbmraPlnKjpjITpn7NcbiAgICAgKi9cbiAgICBnZXQgcmVjb3JkaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1JlY29yZGluZ1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeNsuWPlueVtuWJjeW6j+iZn1xuICAgICAqL1xuICAgIGdldCBjdXJyZW50U2VxdWVuY2UoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VxdWVuY2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnjbLlj5bnlbbliY3phY3nva5cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudENvbmZpZygpOiBTaW1wbGVBdWRpb1JlY29yZGVyQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHsgLi4udGhpcy5jb25maWcgfVxuICAgIH1cblxuICAgIC8vIOmMr+iqpOiZleeQhlxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IEVycm9yKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbU2ltcGxlQXVkaW9SZWNvcmRlcl0g6Yyv6KqkOicsIGVycm9yKVxuICAgICAgICB0aGlzLmlzUmVjb3JkaW5nID0gZmFsc2VcbiAgICAgICAgdGhpcy5vbkVycm9yQ2FsbGJhY2s/LihlcnJvcilcbiAgICB9XG5cbiAgICAvLyDkuovku7blm57oqr/oqK3lrppcbiAgICBvblNlZ21lbnQoY2FsbGJhY2s6IChzZWdtZW50OiBBdWRpb1NlZ21lbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vblNlZ21lbnRDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxuXG4gICAgb25FcnJvcihjYWxsYmFjazogKGVycm9yOiBFcnJvcikgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICB0aGlzLm9uRXJyb3JDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxufVxuXG4vLyDlt6Xlu6Dlh73mlbhcbmV4cG9ydCBjb25zdCBjcmVhdGVTaW1wbGVBdWRpb1JlY29yZGVyID0gKGNvbmZpZz86IFBhcnRpYWw8U2ltcGxlQXVkaW9SZWNvcmRlckNvbmZpZz4pOiBTaW1wbGVBdWRpb1JlY29yZGVyID0+IHtcbiAgICByZXR1cm4gbmV3IFNpbXBsZUF1ZGlvUmVjb3JkZXIoY29uZmlnKVxufVxuXG4vKipcbiAqIOaqouafpeeAj+imveWZqOmfs+ioiumMhOijveaUr+aPtFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tTaW1wbGVBdWRpb1JlY29yZGluZ1N1cHBvcnQoKTogUHJvbWlzZTx7IGlzU3VwcG9ydGVkOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIHx8ICFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSkge1xuICAgICAgICByZXR1cm4geyBpc1N1cHBvcnRlZDogZmFsc2UsIGVycm9yOiAn54CP6Ka95Zmo5LiN5pSv5o+0IE1lZGlhRGV2aWNlcyBBUEknIH1cbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5NZWRpYVJlY29yZGVyKSB7XG4gICAgICAgIHJldHVybiB7IGlzU3VwcG9ydGVkOiBmYWxzZSwgZXJyb3I6ICfngI/opr3lmajkuI3mlK/mj7QgTWVkaWFSZWNvcmRlciBBUEknIH1cbiAgICB9XG5cbiAgICAvLyDmqqLmn6UgTUlNRSDpoZ7lnovmlK/mj7RcbiAgICBpZiAoIU1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKERFRkFVTFRfQ09ORklHLm1pbWVUeXBlKSkge1xuICAgICAgICByZXR1cm4geyBpc1N1cHBvcnRlZDogZmFsc2UsIGVycm9yOiBg5LiN5pSv5o+06Z+z6KiK5qC85byPOiAke0RFRkFVTFRfQ09ORklHLm1pbWVUeXBlfWAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSlcbiAgICAgICAgLy8g56uL5Y2z5YGc5q2i5Liy5rWB5Lul6YeL5pS+6LOH5rqQXG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSlcbiAgICAgICAgcmV0dXJuIHsgaXNTdXBwb3J0ZWQ6IHRydWUgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7IGlzU3VwcG9ydGVkOiBmYWxzZSwgZXJyb3I6IGDnhKHms5XnjbLlj5bpuqXlhYvpoqjmrIrpmZA6ICR7ZXJyb3J9YCB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkRFRkFVTFRfQ09ORklHIiwic2VnbWVudER1cmF0aW9uIiwibWltZVR5cGUiLCJhdWRpb0JpdHNQZXJTZWNvbmQiLCJTaW1wbGVBdWRpb1JlY29yZGVyIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJzdHJlYW0iLCJtZWRpYVJlY29yZGVyIiwic2VxdWVuY2UiLCJpc1JlY29yZGluZyIsImluaXRpYWxpemUiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJhdWRpbyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImVycm9yTXNnIiwiRXJyb3IiLCJtZXNzYWdlIiwiaGFuZGxlRXJyb3IiLCJzdGFydCIsIm9uU2VnbWVudEF2YWlsYWJsZSIsIm9uU2VnbWVudENhbGxiYWNrIiwiTWVkaWFSZWNvcmRlciIsIm9uZGF0YWF2YWlsYWJsZSIsImV2ZW50IiwiZGF0YSIsInNpemUiLCJzZWdtZW50IiwiYmxvYiIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJkdXJhdGlvbiIsIm9uZXJyb3IiLCJzdG9wIiwic3RhdGUiLCJjbGVhbnVwIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwicmVjb3JkaW5nIiwiY3VycmVudFNlcXVlbmNlIiwiY3VycmVudENvbmZpZyIsIm9uRXJyb3JDYWxsYmFjayIsIm9uU2VnbWVudCIsImNhbGxiYWNrIiwib25FcnJvciIsImNyZWF0ZVNpbXBsZUF1ZGlvUmVjb3JkZXIiLCJjaGVja1NpbXBsZUF1ZGlvUmVjb3JkaW5nU3VwcG9ydCIsImlzU3VwcG9ydGVkIiwid2luZG93IiwiaXNUeXBlU3VwcG9ydGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/simple-audio-recorder.ts\n");

/***/ }),

/***/ "(ssr)/./lib/state-machine.ts":
/*!******************************!*\
  !*** ./lib/state-machine.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StateMachine: () => (/* binding */ StateMachine),\n/* harmony export */   StateMachineManager: () => (/* binding */ StateMachineManager),\n/* harmony export */   createStateMachine: () => (/* binding */ createStateMachine)\n/* harmony export */ });\n/* harmony import */ var _types_state_transitions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/state-transitions */ \"(ssr)/./types/state-transitions.ts\");\n/* __next_internal_client_entry_do_not_use__ StateMachine,StateMachineManager,createStateMachine auto */ \n// 狀態機類別\nclass StateMachine {\n    constructor(initialContext){\n        this.currentState = \"default\";\n        this.listeners = new Set();\n        this.context = initialContext;\n        this.currentState = initialContext.currentState;\n        this.exposeToWindow();\n    }\n    // 更新上下文\n    updateContext(newContext) {\n        this.context = {\n            ...this.context,\n            ...newContext\n        };\n        console.log('🔄 [StateMachine] 上下文已更新:', this.context);\n    }\n    // 嘗試狀態轉換\n    transition(trigger) {\n        const transitionKey = `${this.currentState}->${trigger}`;\n        console.log(`🔄 [StateMachine] 嘗試狀態轉換: ${transitionKey}`);\n        // 尋找符合的轉換規則\n        const matchingRules = this.findMatchingRules(trigger);\n        if (matchingRules.length === 0) {\n            const error = `沒有找到符合的轉換規則: ${transitionKey}`;\n            console.warn(`⚠️ [StateMachine] ${error}`);\n            return {\n                success: false,\n                newState: this.currentState,\n                error\n            };\n        }\n        // 驗證轉換條件\n        const validRule = this.validateTransitionRules(matchingRules);\n        if (!validRule) {\n            const error = `轉換條件不符合: ${transitionKey}`;\n            console.warn(`⚠️ [StateMachine] ${error}`);\n            return {\n                success: false,\n                newState: this.currentState,\n                error\n            };\n        }\n        // 執行狀態轉換\n        const result = this.executeTransition(validRule, trigger);\n        if (result.success) {\n            this.currentState = result.newState;\n            console.log(`✅ [StateMachine] 狀態轉換成功: ${this.context.currentState} -> ${result.newState}`);\n            // 更新上下文中的當前狀態\n            this.context.currentState = result.newState;\n            // 通知監聽器\n            this.notifyListeners(result.newState, result.sideEffects || []);\n        }\n        return result;\n    }\n    // 尋找匹配的轉換規則\n    findMatchingRules(trigger) {\n        return _types_state_transitions__WEBPACK_IMPORTED_MODULE_0__.STATE_TRANSITION_RULES.filter((rule)=>rule.currentState === this.currentState && rule.trigger === trigger);\n    }\n    // 驗證轉換規則\n    validateTransitionRules(rules) {\n        for (const rule of rules){\n            if (this.isRuleValid(rule)) {\n                return rule;\n            }\n        }\n        return null;\n    }\n    // 檢查單一規則是否有效\n    isRuleValid(rule) {\n        const context = this.context;\n        // 檢查 session 存在性\n        if (rule.sessionExists !== undefined) {\n            const hasSession = context.session !== null;\n            if (rule.sessionExists !== hasSession) {\n                console.log(`🔍 [StateMachine] Session 存在性檢查失敗: 期望 ${rule.sessionExists}, 實際 ${hasSession}`);\n                return false;\n            }\n        }\n        // 檢查 session 狀態\n        if (rule.sessionStatus !== undefined) {\n            if (!context.session || context.session.status !== rule.sessionStatus) {\n                console.log(`🔍 [StateMachine] Session 狀態檢查失敗: 期望 ${rule.sessionStatus}, 實際 ${context.session?.status}`);\n                return false;\n            }\n        }\n        // 檢查 session 類型\n        if (rule.sessionType !== undefined) {\n            if (!context.session || context.session.type !== rule.sessionType) {\n                console.log(`🔍 [StateMachine] Session 類型檢查失敗: 期望 ${rule.sessionType}, 實際 ${context.session?.type}`);\n                return false;\n            }\n        }\n        // 檢查錄音狀態\n        if (rule.isRecording !== undefined) {\n            if (context.isRecording !== rule.isRecording) {\n                console.log(`🔍 [StateMachine] 錄音狀態檢查失敗: 期望 ${rule.isRecording}, 實際 ${context.isRecording}`);\n                return false;\n            }\n        }\n        // 檢查逐字稿存在性\n        if (rule.hasTranscripts !== undefined) {\n            const hasTranscripts = context.transcriptCount > 0;\n            if (rule.hasTranscripts !== hasTranscripts) {\n                console.log(`🔍 [StateMachine] 逐字稿存在性檢查失敗: 期望 ${rule.hasTranscripts}, 實際 ${hasTranscripts}`);\n                return false;\n            }\n        }\n        // 執行自定義驗證\n        if (rule.customValidator) {\n            const isValid = rule.customValidator(context);\n            if (!isValid) {\n                console.log(`🔍 [StateMachine] 自定義驗證失敗`);\n                return false;\n            }\n        }\n        console.log(`✅ [StateMachine] 規則驗證通過: ${rule.currentState} -> ${rule.targetState}`);\n        return true;\n    }\n    // 執行狀態轉換\n    executeTransition(rule, trigger) {\n        const sideEffectKey = `${rule.currentState}->${rule.targetState}->${trigger}`;\n        const sideEffects = _types_state_transitions__WEBPACK_IMPORTED_MODULE_0__.STATE_TRANSITION_SIDE_EFFECTS[sideEffectKey] || [];\n        console.log(`🔄 [StateMachine] 執行轉換: ${sideEffectKey}`);\n        console.log(`🔄 [StateMachine] 副作用:`, sideEffects);\n        return {\n            success: true,\n            newState: rule.targetState,\n            sideEffects\n        };\n    }\n    // 添加狀態變更監聽器\n    addListener(listener) {\n        this.listeners.add(listener);\n    }\n    // 移除狀態變更監聽器\n    removeListener(listener) {\n        this.listeners.delete(listener);\n    }\n    // 通知所有監聽器\n    notifyListeners(newState, sideEffects) {\n        this.listeners.forEach((listener)=>{\n            try {\n                listener(newState, sideEffects);\n            } catch (error) {\n                console.error('🔄 [StateMachine] 監聽器執行失敗:', error);\n            }\n        });\n    }\n    // 取得當前狀態\n    getCurrentState() {\n        return this.currentState;\n    }\n    // 取得當前上下文\n    getContext() {\n        return {\n            ...this.context\n        };\n    }\n    // 檢查是否可以執行特定轉換\n    canTransition(trigger) {\n        const matchingRules = this.findMatchingRules(trigger);\n        return matchingRules.some((rule)=>this.isRuleValid(rule));\n    }\n    // 取得可用的轉換\n    getAvailableTransitions() {\n        const availableTransitions = [];\n        // 檢查所有可能的觸發器\n        const allTriggers = [\n            \"USER_START_RECORDING\",\n            \"USER_STOP_RECORDING\",\n            \"FIRST_TRANSCRIPT_RECEIVED\",\n            \"SESSION_CREATED\",\n            \"SESSION_UPGRADED\",\n            \"PROCESSING_STARTED\",\n            \"PROCESSING_COMPLETED\",\n            \"ERROR_OCCURRED\",\n            \"USER_NEW_NOTE\",\n            \"TRANSCRIPT_COMPLETED\"\n        ];\n        for (const trigger of allTriggers){\n            if (this.canTransition(trigger)) {\n                availableTransitions.push(trigger);\n            }\n        }\n        return availableTransitions;\n    }\n    // 重置狀態機\n    reset(newContext) {\n        this.currentState = \"default\";\n        if (newContext) {\n            this.context = newContext;\n        } else {\n            this.context = {\n                currentState: \"default\",\n                isRecording: false,\n                transcriptCount: 0,\n                session: null,\n                error: null\n            };\n        }\n        console.log('🔄 [StateMachine] 狀態機已重置');\n    }\n    // 暴露到 window 供調試使用\n    exposeToWindow() {\n        if (false) {}\n    }\n}\n// 狀態機管理器\nclass StateMachineManager {\n    constructor(initialContext){\n        this.sideEffectHandlers = new Map();\n        this.stateMachine = new StateMachine(initialContext);\n        // 監聽狀態變更並處理副作用\n        this.stateMachine.addListener((newState, sideEffects)=>{\n            this.handleSideEffects(sideEffects);\n        });\n    }\n    // 註冊副作用處理器\n    registerSideEffectHandler(effectType, handler) {\n        this.sideEffectHandlers.set(effectType, handler);\n        console.log(`🔄 [StateMachineManager] 副作用處理器已註冊: ${effectType}`);\n    }\n    // 處理副作用\n    async handleSideEffects(sideEffects) {\n        for (const effect of sideEffects){\n            const handler = this.sideEffectHandlers.get(effect.type);\n            if (handler) {\n                try {\n                    await handler.handleSideEffect(effect);\n                    console.log(`✅ [StateMachineManager] 副作用處理完成: ${effect.type}`);\n                } catch (error) {\n                    console.error(`❌ [StateMachineManager] 副作用處理失敗: ${effect.type}`, error);\n                }\n            } else {\n                console.warn(`⚠️ [StateMachineManager] 未找到副作用處理器: ${effect.type}`);\n            }\n        }\n    }\n    // 取得狀態機實例\n    getStateMachine() {\n        return this.stateMachine;\n    }\n    // 更新上下文並觸發自動轉換\n    updateContextAndTransition(newContext, autoTrigger) {\n        this.stateMachine.updateContext(newContext);\n        if (autoTrigger && this.stateMachine.canTransition(autoTrigger)) {\n            return this.stateMachine.transition(autoTrigger);\n        }\n        return null;\n    }\n}\n// 便利函數：建立狀態機實例\nfunction createStateMachine(initialContext) {\n    return new StateMachineManager(initialContext);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDckU7WUFDSixPQUFPO2dCQUNIUixRQUFRUyxJQUFJLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRTBELE9BQU90QyxJQUFJLEVBQUU7WUFDckU7UUFDSjtJQUNKO0lBRUEsVUFBVTtJQUNWeUMsa0JBQWdDO1FBQzVCLE9BQU8sSUFBSSxDQUFDakIsWUFBWTtJQUM1QjtJQUVBLGVBQWU7SUFDZmtCLDJCQUNJeEUsVUFBMkMsRUFDM0N5RSxXQUFvQyxFQUNSO1FBQzVCLElBQUksQ0FBQ25CLFlBQVksQ0FBQ3ZELGFBQWEsQ0FBQ0M7UUFFaEMsSUFBSXlFLGVBQWUsSUFBSSxDQUFDbkIsWUFBWSxDQUFDUixhQUFhLENBQUMyQixjQUFjO1lBQzdELE9BQU8sSUFBSSxDQUFDbkIsWUFBWSxDQUFDbkQsVUFBVSxDQUFDc0U7UUFDeEM7UUFFQSxPQUFPO0lBQ1g7QUFDSjtBQUVBLGVBQWU7QUFDUixTQUFTQyxtQkFBbUJqRixjQUFzQztJQUNyRSxPQUFPLElBQUltRSxvQkFBb0JuRTtBQUNuQyIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL3N0YXRlLW1hY2hpbmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tIFwiLi4vdHlwZXMvYXBwLXN0YXRlXCJcbmltcG9ydCB7XG4gICAgU3RhdGVUcmFuc2l0aW9uVHJpZ2dlcixcbiAgICBTdGF0ZVRyYW5zaXRpb25Db25kaXRpb24sXG4gICAgU3RhdGVUcmFuc2l0aW9uQ29udGV4dCxcbiAgICBTdGF0ZVRyYW5zaXRpb25SZXN1bHQsXG4gICAgU3RhdGVUcmFuc2l0aW9uU2lkZUVmZmVjdCxcbiAgICBTVEFURV9UUkFOU0lUSU9OX1JVTEVTLFxuICAgIFNUQVRFX1RSQU5TSVRJT05fU0lERV9FRkZFQ1RTXG59IGZyb20gXCIuLi90eXBlcy9zdGF0ZS10cmFuc2l0aW9uc1wiXG5cbi8vIOeLgOaFi+apn+mhnuWIpVxuZXhwb3J0IGNsYXNzIFN0YXRlTWFjaGluZSB7XG4gICAgcHJpdmF0ZSBjdXJyZW50U3RhdGU6IEFwcFN0YXRlID0gXCJkZWZhdWx0XCJcbiAgICBwcml2YXRlIGNvbnRleHQ6IFN0YXRlVHJhbnNpdGlvbkNvbnRleHRcbiAgICBwcml2YXRlIGxpc3RlbmVyczogU2V0PChuZXdTdGF0ZTogQXBwU3RhdGUsIHNpZGVFZmZlY3RzOiBTdGF0ZVRyYW5zaXRpb25TaWRlRWZmZWN0W10pID0+IHZvaWQ+ID0gbmV3IFNldCgpXG5cbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsQ29udGV4dDogU3RhdGVUcmFuc2l0aW9uQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBpbml0aWFsQ29udGV4dFxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGluaXRpYWxDb250ZXh0LmN1cnJlbnRTdGF0ZVxuICAgICAgICB0aGlzLmV4cG9zZVRvV2luZG93KClcbiAgICB9XG5cbiAgICAvLyDmm7TmlrDkuIrkuIvmlodcbiAgICB1cGRhdGVDb250ZXh0KG5ld0NvbnRleHQ6IFBhcnRpYWw8U3RhdGVUcmFuc2l0aW9uQ29udGV4dD4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0geyAuLi50aGlzLmNvbnRleHQsIC4uLm5ld0NvbnRleHQgfVxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbU3RhdGVNYWNoaW5lXSDkuIrkuIvmloflt7Lmm7TmlrA6JywgdGhpcy5jb250ZXh0KVxuICAgIH1cblxuICAgIC8vIOWYl+ippueLgOaFi+i9ieaPm1xuICAgIHRyYW5zaXRpb24odHJpZ2dlcjogU3RhdGVUcmFuc2l0aW9uVHJpZ2dlcik6IFN0YXRlVHJhbnNpdGlvblJlc3VsdCB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25LZXkgPSBgJHt0aGlzLmN1cnJlbnRTdGF0ZX0tPiR7dHJpZ2dlcn1gXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFtTdGF0ZU1hY2hpbmVdIOWYl+ippueLgOaFi+i9ieaPmzogJHt0cmFuc2l0aW9uS2V5fWApXG5cbiAgICAgICAgLy8g5bCL5om+56ym5ZCI55qE6L2J5o+b6KaP5YmHXG4gICAgICAgIGNvbnN0IG1hdGNoaW5nUnVsZXMgPSB0aGlzLmZpbmRNYXRjaGluZ1J1bGVzKHRyaWdnZXIpXG5cbiAgICAgICAgaWYgKG1hdGNoaW5nUnVsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGDmspLmnInmib7liLDnrKblkIjnmoTovYnmj5vopo/liYc6ICR7dHJhbnNpdGlvbktleX1gXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBbU3RhdGVNYWNoaW5lXSAke2Vycm9yfWApXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5ld1N0YXRlOiB0aGlzLmN1cnJlbnRTdGF0ZSxcbiAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g6amX6K2J6L2J5o+b5qKd5Lu2XG4gICAgICAgIGNvbnN0IHZhbGlkUnVsZSA9IHRoaXMudmFsaWRhdGVUcmFuc2l0aW9uUnVsZXMobWF0Y2hpbmdSdWxlcylcblxuICAgICAgICBpZiAoIXZhbGlkUnVsZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBg6L2J5o+b5qKd5Lu25LiN56ym5ZCIOiAke3RyYW5zaXRpb25LZXl9YFxuICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gW1N0YXRlTWFjaGluZV0gJHtlcnJvcn1gKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZTogdGhpcy5jdXJyZW50U3RhdGUsXG4gICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWft+ihjOeLgOaFi+i9ieaPm1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmV4ZWN1dGVUcmFuc2l0aW9uKHZhbGlkUnVsZSwgdHJpZ2dlcilcblxuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gcmVzdWx0Lm5ld1N0YXRlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFtTdGF0ZU1hY2hpbmVdIOeLgOaFi+i9ieaPm+aIkOWKnzogJHt0aGlzLmNvbnRleHQuY3VycmVudFN0YXRlfSAtPiAke3Jlc3VsdC5uZXdTdGF0ZX1gKVxuXG4gICAgICAgICAgICAvLyDmm7TmlrDkuIrkuIvmlofkuK3nmoTnlbbliY3ni4DmhYtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jdXJyZW50U3RhdGUgPSByZXN1bHQubmV3U3RhdGVcblxuICAgICAgICAgICAgLy8g6YCa55+l55uj6IG95ZmoXG4gICAgICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhyZXN1bHQubmV3U3RhdGUsIHJlc3VsdC5zaWRlRWZmZWN0cyB8fCBbXSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvLyDlsIvmib7ljLnphY3nmoTovYnmj5vopo/liYdcbiAgICBwcml2YXRlIGZpbmRNYXRjaGluZ1J1bGVzKHRyaWdnZXI6IFN0YXRlVHJhbnNpdGlvblRyaWdnZXIpOiBTdGF0ZVRyYW5zaXRpb25Db25kaXRpb25bXSB7XG4gICAgICAgIHJldHVybiBTVEFURV9UUkFOU0lUSU9OX1JVTEVTLmZpbHRlcihydWxlID0+XG4gICAgICAgICAgICBydWxlLmN1cnJlbnRTdGF0ZSA9PT0gdGhpcy5jdXJyZW50U3RhdGUgJiYgcnVsZS50cmlnZ2VyID09PSB0cmlnZ2VyXG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvLyDpqZforYnovYnmj5vopo/liYdcbiAgICBwcml2YXRlIHZhbGlkYXRlVHJhbnNpdGlvblJ1bGVzKHJ1bGVzOiBTdGF0ZVRyYW5zaXRpb25Db25kaXRpb25bXSk6IFN0YXRlVHJhbnNpdGlvbkNvbmRpdGlvbiB8IG51bGwge1xuICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUnVsZVZhbGlkKHJ1bGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ1bGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIC8vIOaqouafpeWWruS4gOimj+WJh+aYr+WQpuacieaViFxuICAgIHByaXZhdGUgaXNSdWxlVmFsaWQocnVsZTogU3RhdGVUcmFuc2l0aW9uQ29uZGl0aW9uKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRcblxuICAgICAgICAvLyDmqqLmn6Ugc2Vzc2lvbiDlrZjlnKjmgKdcbiAgICAgICAgaWYgKHJ1bGUuc2Vzc2lvbkV4aXN0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBoYXNTZXNzaW9uID0gY29udGV4dC5zZXNzaW9uICE9PSBudWxsXG4gICAgICAgICAgICBpZiAocnVsZS5zZXNzaW9uRXhpc3RzICE9PSBoYXNTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0gW1N0YXRlTWFjaGluZV0gU2Vzc2lvbiDlrZjlnKjmgKfmqqLmn6XlpLHmlZc6IOacn+acmyAke3J1bGUuc2Vzc2lvbkV4aXN0c30sIOWvpumamyAke2hhc1Nlc3Npb259YClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaqouafpSBzZXNzaW9uIOeLgOaFi1xuICAgICAgICBpZiAocnVsZS5zZXNzaW9uU3RhdHVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghY29udGV4dC5zZXNzaW9uIHx8IGNvbnRleHQuc2Vzc2lvbi5zdGF0dXMgIT09IHJ1bGUuc2Vzc2lvblN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIFtTdGF0ZU1hY2hpbmVdIFNlc3Npb24g54uA5oWL5qqi5p+l5aSx5pWXOiDmnJ/mnJsgJHtydWxlLnNlc3Npb25TdGF0dXN9LCDlr6bpmpsgJHtjb250ZXh0LnNlc3Npb24/LnN0YXR1c31gKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5qqi5p+lIHNlc3Npb24g6aGe5Z6LXG4gICAgICAgIGlmIChydWxlLnNlc3Npb25UeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghY29udGV4dC5zZXNzaW9uIHx8IGNvbnRleHQuc2Vzc2lvbi50eXBlICE9PSBydWxlLnNlc3Npb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0gW1N0YXRlTWFjaGluZV0gU2Vzc2lvbiDpoZ7lnovmqqLmn6XlpLHmlZc6IOacn+acmyAke3J1bGUuc2Vzc2lvblR5cGV9LCDlr6bpmpsgJHtjb250ZXh0LnNlc3Npb24/LnR5cGV9YClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaqouafpemMhOmfs+eLgOaFi1xuICAgICAgICBpZiAocnVsZS5pc1JlY29yZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5pc1JlY29yZGluZyAhPT0gcnVsZS5pc1JlY29yZGluZykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIFtTdGF0ZU1hY2hpbmVdIOmMhOmfs+eLgOaFi+aqouafpeWkseaVlzog5pyf5pybICR7cnVsZS5pc1JlY29yZGluZ30sIOWvpumamyAke2NvbnRleHQuaXNSZWNvcmRpbmd9YClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaqouafpemAkOWtl+eov+WtmOWcqOaAp1xuICAgICAgICBpZiAocnVsZS5oYXNUcmFuc2NyaXB0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBoYXNUcmFuc2NyaXB0cyA9IGNvbnRleHQudHJhbnNjcmlwdENvdW50ID4gMFxuICAgICAgICAgICAgaWYgKHJ1bGUuaGFzVHJhbnNjcmlwdHMgIT09IGhhc1RyYW5zY3JpcHRzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0gW1N0YXRlTWFjaGluZV0g6YCQ5a2X56i/5a2Y5Zyo5oCn5qqi5p+l5aSx5pWXOiDmnJ/mnJsgJHtydWxlLmhhc1RyYW5zY3JpcHRzfSwg5a+m6ZqbICR7aGFzVHJhbnNjcmlwdHN9YClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWft+ihjOiHquWumue+qempl+itiVxuICAgICAgICBpZiAocnVsZS5jdXN0b21WYWxpZGF0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBydWxlLmN1c3RvbVZhbGlkYXRvcihjb250ZXh0KVxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0gW1N0YXRlTWFjaGluZV0g6Ieq5a6a576p6amX6K2J5aSx5pWXYClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1N0YXRlTWFjaGluZV0g6KaP5YmH6amX6K2J6YCa6YGOOiAke3J1bGUuY3VycmVudFN0YXRlfSAtPiAke3J1bGUudGFyZ2V0U3RhdGV9YClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICAvLyDln7fooYzni4DmhYvovYnmj5tcbiAgICBwcml2YXRlIGV4ZWN1dGVUcmFuc2l0aW9uKHJ1bGU6IFN0YXRlVHJhbnNpdGlvbkNvbmRpdGlvbiwgdHJpZ2dlcjogU3RhdGVUcmFuc2l0aW9uVHJpZ2dlcik6IFN0YXRlVHJhbnNpdGlvblJlc3VsdCB7XG4gICAgICAgIGNvbnN0IHNpZGVFZmZlY3RLZXkgPSBgJHtydWxlLmN1cnJlbnRTdGF0ZX0tPiR7cnVsZS50YXJnZXRTdGF0ZX0tPiR7dHJpZ2dlcn1gXG4gICAgICAgIGNvbnN0IHNpZGVFZmZlY3RzID0gU1RBVEVfVFJBTlNJVElPTl9TSURFX0VGRkVDVFNbc2lkZUVmZmVjdEtleV0gfHwgW11cblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBbU3RhdGVNYWNoaW5lXSDln7fooYzovYnmj5s6ICR7c2lkZUVmZmVjdEtleX1gKVxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBbU3RhdGVNYWNoaW5lXSDlia/kvZznlKg6YCwgc2lkZUVmZmVjdHMpXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBuZXdTdGF0ZTogcnVsZS50YXJnZXRTdGF0ZSxcbiAgICAgICAgICAgIHNpZGVFZmZlY3RzXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmt7vliqDni4DmhYvorormm7Tnm6Pogb3lmahcbiAgICBhZGRMaXN0ZW5lcihsaXN0ZW5lcjogKG5ld1N0YXRlOiBBcHBTdGF0ZSwgc2lkZUVmZmVjdHM6IFN0YXRlVHJhbnNpdGlvblNpZGVFZmZlY3RbXSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpXG4gICAgfVxuXG4gICAgLy8g56e76Zmk54uA5oWL6K6K5pu055uj6IG95ZmoXG4gICAgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IChuZXdTdGF0ZTogQXBwU3RhdGUsIHNpZGVFZmZlY3RzOiBTdGF0ZVRyYW5zaXRpb25TaWRlRWZmZWN0W10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKVxuICAgIH1cblxuICAgIC8vIOmAmuefpeaJgOacieebo+iBveWZqFxuICAgIHByaXZhdGUgbm90aWZ5TGlzdGVuZXJzKG5ld1N0YXRlOiBBcHBTdGF0ZSwgc2lkZUVmZmVjdHM6IFN0YXRlVHJhbnNpdGlvblNpZGVFZmZlY3RbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIobmV3U3RhdGUsIHNpZGVFZmZlY3RzKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5SEIFtTdGF0ZU1hY2hpbmVdIOebo+iBveWZqOWft+ihjOWkseaVlzonLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyDlj5blvpfnlbbliY3ni4DmhYtcbiAgICBnZXRDdXJyZW50U3RhdGUoKTogQXBwU3RhdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdGVcbiAgICB9XG5cbiAgICAvLyDlj5blvpfnlbbliY3kuIrkuIvmlodcbiAgICBnZXRDb250ZXh0KCk6IFN0YXRlVHJhbnNpdGlvbkNvbnRleHQge1xuICAgICAgICByZXR1cm4geyAuLi50aGlzLmNvbnRleHQgfVxuICAgIH1cblxuICAgIC8vIOaqouafpeaYr+WQpuWPr+S7peWft+ihjOeJueWumui9ieaPm1xuICAgIGNhblRyYW5zaXRpb24odHJpZ2dlcjogU3RhdGVUcmFuc2l0aW9uVHJpZ2dlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBtYXRjaGluZ1J1bGVzID0gdGhpcy5maW5kTWF0Y2hpbmdSdWxlcyh0cmlnZ2VyKVxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdSdWxlcy5zb21lKHJ1bGUgPT4gdGhpcy5pc1J1bGVWYWxpZChydWxlKSlcbiAgICB9XG5cbiAgICAvLyDlj5blvpflj6/nlKjnmoTovYnmj5tcbiAgICBnZXRBdmFpbGFibGVUcmFuc2l0aW9ucygpOiBTdGF0ZVRyYW5zaXRpb25UcmlnZ2VyW10ge1xuICAgICAgICBjb25zdCBhdmFpbGFibGVUcmFuc2l0aW9uczogU3RhdGVUcmFuc2l0aW9uVHJpZ2dlcltdID0gW11cblxuICAgICAgICAvLyDmqqLmn6XmiYDmnInlj6/og73nmoTop7jnmbzlmahcbiAgICAgICAgY29uc3QgYWxsVHJpZ2dlcnM6IFN0YXRlVHJhbnNpdGlvblRyaWdnZXJbXSA9IFtcbiAgICAgICAgICAgIFwiVVNFUl9TVEFSVF9SRUNPUkRJTkdcIixcbiAgICAgICAgICAgIFwiVVNFUl9TVE9QX1JFQ09SRElOR1wiLFxuICAgICAgICAgICAgXCJGSVJTVF9UUkFOU0NSSVBUX1JFQ0VJVkVEXCIsXG4gICAgICAgICAgICBcIlNFU1NJT05fQ1JFQVRFRFwiLFxuICAgICAgICAgICAgXCJTRVNTSU9OX1VQR1JBREVEXCIsXG4gICAgICAgICAgICBcIlBST0NFU1NJTkdfU1RBUlRFRFwiLFxuICAgICAgICAgICAgXCJQUk9DRVNTSU5HX0NPTVBMRVRFRFwiLFxuICAgICAgICAgICAgXCJFUlJPUl9PQ0NVUlJFRFwiLFxuICAgICAgICAgICAgXCJVU0VSX05FV19OT1RFXCIsXG4gICAgICAgICAgICBcIlRSQU5TQ1JJUFRfQ09NUExFVEVEXCJcbiAgICAgICAgXVxuXG4gICAgICAgIGZvciAoY29uc3QgdHJpZ2dlciBvZiBhbGxUcmlnZ2Vycykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FuVHJhbnNpdGlvbih0cmlnZ2VyKSkge1xuICAgICAgICAgICAgICAgIGF2YWlsYWJsZVRyYW5zaXRpb25zLnB1c2godHJpZ2dlcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdmFpbGFibGVUcmFuc2l0aW9uc1xuICAgIH1cblxuICAgIC8vIOmHjee9rueLgOaFi+apn1xuICAgIHJlc2V0KG5ld0NvbnRleHQ/OiBTdGF0ZVRyYW5zaXRpb25Db250ZXh0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gXCJkZWZhdWx0XCJcbiAgICAgICAgaWYgKG5ld0NvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IG5ld0NvbnRleHRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGU6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgIGlzUmVjb3JkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFtTdGF0ZU1hY2hpbmVdIOeLgOaFi+apn+W3sumHjee9ricpXG4gICAgfVxuXG4gICAgLy8g5pq06Zyy5YiwIHdpbmRvdyDkvpvoqr/oqabkvb/nlKhcbiAgICBwcml2YXRlIGV4cG9zZVRvV2luZG93KCk6IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5zdGF0ZU1hY2hpbmUgPSB7XG4gICAgICAgICAgICAgICAgZ2V0Q3VycmVudFN0YXRlOiAoKSA9PiB0aGlzLmdldEN1cnJlbnRTdGF0ZSgpLFxuICAgICAgICAgICAgICAgIGdldENvbnRleHQ6ICgpID0+IHRoaXMuZ2V0Q29udGV4dCgpLFxuICAgICAgICAgICAgICAgIGNhblRyYW5zaXRpb246ICh0cmlnZ2VyOiBTdGF0ZVRyYW5zaXRpb25UcmlnZ2VyKSA9PiB0aGlzLmNhblRyYW5zaXRpb24odHJpZ2dlciksXG4gICAgICAgICAgICAgICAgZ2V0QXZhaWxhYmxlVHJhbnNpdGlvbnM6ICgpID0+IHRoaXMuZ2V0QXZhaWxhYmxlVHJhbnNpdGlvbnMoKSxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAodHJpZ2dlcjogU3RhdGVUcmFuc2l0aW9uVHJpZ2dlcikgPT4gdGhpcy50cmFuc2l0aW9uKHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgIHJlc2V0OiAoKSA9PiB0aGlzLnJlc2V0KCksXG5cbiAgICAgICAgICAgICAgICAvLyDkvr/liKnmlrnms5VcbiAgICAgICAgICAgICAgICBzdGFydFJlY29yZGluZzogKCkgPT4gdGhpcy50cmFuc2l0aW9uKFwiVVNFUl9TVEFSVF9SRUNPUkRJTkdcIiksXG4gICAgICAgICAgICAgICAgc3RvcFJlY29yZGluZzogKCkgPT4gdGhpcy50cmFuc2l0aW9uKFwiVVNFUl9TVE9QX1JFQ09SRElOR1wiKSxcbiAgICAgICAgICAgICAgICBuZXdOb3RlOiAoKSA9PiB0aGlzLnRyYW5zaXRpb24oXCJVU0VSX05FV19OT1RFXCIpLFxuICAgICAgICAgICAgICAgIGZpcnN0VHJhbnNjcmlwdDogKCkgPT4gdGhpcy50cmFuc2l0aW9uKFwiRklSU1RfVFJBTlNDUklQVF9SRUNFSVZFRFwiKSxcbiAgICAgICAgICAgICAgICBwcm9jZXNzaW5nQ29tcGxldGU6ICgpID0+IHRoaXMudHJhbnNpdGlvbihcIlBST0NFU1NJTkdfQ09NUExFVEVEXCIpLFxuICAgICAgICAgICAgICAgIGVycm9yOiAoKSA9PiB0aGlzLnRyYW5zaXRpb24oXCJFUlJPUl9PQ0NVUlJFRFwiKSxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW1N0YXRlTWFjaGluZV0g6Kq/6Kmm5LuL6Z2i5bey5pq06Zyy5YiwIHdpbmRvdy5zdGF0ZU1hY2hpbmUnKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJyAgIOS9v+eUqOaWueazlTogd2luZG93LnN0YXRlTWFjaGluZS5zdGFydFJlY29yZGluZygpJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgICDmn6XnnIvni4DmhYs6IHdpbmRvdy5zdGF0ZU1hY2hpbmUuZ2V0Q3VycmVudFN0YXRlKCknKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJyAgIOWPr+eUqOi9ieaPmzogd2luZG93LnN0YXRlTWFjaGluZS5nZXRBdmFpbGFibGVUcmFuc2l0aW9ucygpJylcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8g5Ymv5L2c55So6JmV55CG5Zmo5LuL6Z2iXG5leHBvcnQgaW50ZXJmYWNlIFNpZGVFZmZlY3RIYW5kbGVyIHtcbiAgICBoYW5kbGVTaWRlRWZmZWN0KGVmZmVjdDogU3RhdGVUcmFuc2l0aW9uU2lkZUVmZmVjdCk6IFByb21pc2U8dm9pZD4gfCB2b2lkXG59XG5cbi8vIOeLgOaFi+apn+euoeeQhuWZqFxuZXhwb3J0IGNsYXNzIFN0YXRlTWFjaGluZU1hbmFnZXIge1xuICAgIHByaXZhdGUgc3RhdGVNYWNoaW5lOiBTdGF0ZU1hY2hpbmVcbiAgICBwcml2YXRlIHNpZGVFZmZlY3RIYW5kbGVyczogTWFwPHN0cmluZywgU2lkZUVmZmVjdEhhbmRsZXI+ID0gbmV3IE1hcCgpXG5cbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsQ29udGV4dDogU3RhdGVUcmFuc2l0aW9uQ29udGV4dCkge1xuICAgICAgICB0aGlzLnN0YXRlTWFjaGluZSA9IG5ldyBTdGF0ZU1hY2hpbmUoaW5pdGlhbENvbnRleHQpXG5cbiAgICAgICAgLy8g55uj6IG954uA5oWL6K6K5pu05Lim6JmV55CG5Ymv5L2c55SoXG4gICAgICAgIHRoaXMuc3RhdGVNYWNoaW5lLmFkZExpc3RlbmVyKChuZXdTdGF0ZSwgc2lkZUVmZmVjdHMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2lkZUVmZmVjdHMoc2lkZUVmZmVjdHMpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8g6Ki75YaK5Ymv5L2c55So6JmV55CG5ZmoXG4gICAgcmVnaXN0ZXJTaWRlRWZmZWN0SGFuZGxlcihlZmZlY3RUeXBlOiBzdHJpbmcsIGhhbmRsZXI6IFNpZGVFZmZlY3RIYW5kbGVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2lkZUVmZmVjdEhhbmRsZXJzLnNldChlZmZlY3RUeXBlLCBoYW5kbGVyKVxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBbU3RhdGVNYWNoaW5lTWFuYWdlcl0g5Ymv5L2c55So6JmV55CG5Zmo5bey6Ki75YaKOiAke2VmZmVjdFR5cGV9YClcbiAgICB9XG5cbiAgICAvLyDomZXnkIblia/kvZznlKhcbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZVNpZGVFZmZlY3RzKHNpZGVFZmZlY3RzOiBTdGF0ZVRyYW5zaXRpb25TaWRlRWZmZWN0W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgZm9yIChjb25zdCBlZmZlY3Qgb2Ygc2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLnNpZGVFZmZlY3RIYW5kbGVycy5nZXQoZWZmZWN0LnR5cGUpXG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlU2lkZUVmZmVjdChlZmZlY3QpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1N0YXRlTWFjaGluZU1hbmFnZXJdIOWJr+S9nOeUqOiZleeQhuWujOaIkDogJHtlZmZlY3QudHlwZX1gKVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBbU3RhdGVNYWNoaW5lTWFuYWdlcl0g5Ymv5L2c55So6JmV55CG5aSx5pWXOiAke2VmZmVjdC50eXBlfWAsIGVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gW1N0YXRlTWFjaGluZU1hbmFnZXJdIOacquaJvuWIsOWJr+S9nOeUqOiZleeQhuWZqDogJHtlZmZlY3QudHlwZX1gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5Y+W5b6X54uA5oWL5qmf5a+m5L6LXG4gICAgZ2V0U3RhdGVNYWNoaW5lKCk6IFN0YXRlTWFjaGluZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlTWFjaGluZVxuICAgIH1cblxuICAgIC8vIOabtOaWsOS4iuS4i+aWh+S4puinuOeZvOiHquWLlei9ieaPm1xuICAgIHVwZGF0ZUNvbnRleHRBbmRUcmFuc2l0aW9uKFxuICAgICAgICBuZXdDb250ZXh0OiBQYXJ0aWFsPFN0YXRlVHJhbnNpdGlvbkNvbnRleHQ+LFxuICAgICAgICBhdXRvVHJpZ2dlcj86IFN0YXRlVHJhbnNpdGlvblRyaWdnZXJcbiAgICApOiBTdGF0ZVRyYW5zaXRpb25SZXN1bHQgfCBudWxsIHtcbiAgICAgICAgdGhpcy5zdGF0ZU1hY2hpbmUudXBkYXRlQ29udGV4dChuZXdDb250ZXh0KVxuXG4gICAgICAgIGlmIChhdXRvVHJpZ2dlciAmJiB0aGlzLnN0YXRlTWFjaGluZS5jYW5UcmFuc2l0aW9uKGF1dG9UcmlnZ2VyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVNYWNoaW5lLnRyYW5zaXRpb24oYXV0b1RyaWdnZXIpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbn1cblxuLy8g5L6/5Yip5Ye95pW477ya5bu656uL54uA5oWL5qmf5a+m5L6LXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RhdGVNYWNoaW5lKGluaXRpYWxDb250ZXh0OiBTdGF0ZVRyYW5zaXRpb25Db250ZXh0KTogU3RhdGVNYWNoaW5lTWFuYWdlciB7XG4gICAgcmV0dXJuIG5ldyBTdGF0ZU1hY2hpbmVNYW5hZ2VyKGluaXRpYWxDb250ZXh0KVxufVxuIl0sIm5hbWVzIjpbIlNUQVRFX1RSQU5TSVRJT05fUlVMRVMiLCJTVEFURV9UUkFOU0lUSU9OX1NJREVfRUZGRUNUUyIsIlN0YXRlTWFjaGluZSIsImNvbnN0cnVjdG9yIiwiaW5pdGlhbENvbnRleHQiLCJjdXJyZW50U3RhdGUiLCJsaXN0ZW5lcnMiLCJTZXQiLCJjb250ZXh0IiwiZXhwb3NlVG9XaW5kb3ciLCJ1cGRhdGVDb250ZXh0IiwibmV3Q29udGV4dCIsImNvbnNvbGUiLCJsb2ciLCJ0cmFuc2l0aW9uIiwidHJpZ2dlciIsInRyYW5zaXRpb25LZXkiLCJtYXRjaGluZ1J1bGVzIiwiZmluZE1hdGNoaW5nUnVsZXMiLCJsZW5ndGgiLCJlcnJvciIsIndhcm4iLCJzdWNjZXNzIiwibmV3U3RhdGUiLCJ2YWxpZFJ1bGUiLCJ2YWxpZGF0ZVRyYW5zaXRpb25SdWxlcyIsInJlc3VsdCIsImV4ZWN1dGVUcmFuc2l0aW9uIiwibm90aWZ5TGlzdGVuZXJzIiwic2lkZUVmZmVjdHMiLCJmaWx0ZXIiLCJydWxlIiwicnVsZXMiLCJpc1J1bGVWYWxpZCIsInNlc3Npb25FeGlzdHMiLCJ1bmRlZmluZWQiLCJoYXNTZXNzaW9uIiwic2Vzc2lvbiIsInNlc3Npb25TdGF0dXMiLCJzdGF0dXMiLCJzZXNzaW9uVHlwZSIsInR5cGUiLCJpc1JlY29yZGluZyIsImhhc1RyYW5zY3JpcHRzIiwidHJhbnNjcmlwdENvdW50IiwiY3VzdG9tVmFsaWRhdG9yIiwiaXNWYWxpZCIsInRhcmdldFN0YXRlIiwic2lkZUVmZmVjdEtleSIsImFkZExpc3RlbmVyIiwibGlzdGVuZXIiLCJhZGQiLCJyZW1vdmVMaXN0ZW5lciIsImRlbGV0ZSIsImZvckVhY2giLCJnZXRDdXJyZW50U3RhdGUiLCJnZXRDb250ZXh0IiwiY2FuVHJhbnNpdGlvbiIsInNvbWUiLCJnZXRBdmFpbGFibGVUcmFuc2l0aW9ucyIsImF2YWlsYWJsZVRyYW5zaXRpb25zIiwiYWxsVHJpZ2dlcnMiLCJwdXNoIiwicmVzZXQiLCJ3aW5kb3ciLCJzdGF0ZU1hY2hpbmUiLCJzdGFydFJlY29yZGluZyIsInN0b3BSZWNvcmRpbmciLCJuZXdOb3RlIiwiZmlyc3RUcmFuc2NyaXB0IiwicHJvY2Vzc2luZ0NvbXBsZXRlIiwiU3RhdGVNYWNoaW5lTWFuYWdlciIsInNpZGVFZmZlY3RIYW5kbGVycyIsIk1hcCIsImhhbmRsZVNpZGVFZmZlY3RzIiwicmVnaXN0ZXJTaWRlRWZmZWN0SGFuZGxlciIsImVmZmVjdFR5cGUiLCJoYW5kbGVyIiwic2V0IiwiZWZmZWN0IiwiZ2V0IiwiaGFuZGxlU2lkZUVmZmVjdCIsImdldFN0YXRlTWFjaGluZSIsInVwZGF0ZUNvbnRleHRBbmRUcmFuc2l0aW9uIiwiYXV0b1RyaWdnZXIiLCJjcmVhdGVTdGF0ZU1hY2hpbmUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/state-machine.ts\n");

/***/ }),

/***/ "(ssr)/./lib/transcript-manager.ts":
/*!***********************************!*\
  !*** ./lib/transcript-manager.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TranscriptManager: () => (/* binding */ TranscriptManager),\n/* harmony export */   transcriptManager: () => (/* binding */ transcriptManager)\n/* harmony export */ });\n/* harmony import */ var _websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./websocket */ \"(ssr)/./lib/websocket.ts\");\n/* harmony import */ var _app_store_zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app-store-zustand */ \"(ssr)/./lib/app-store-zustand.ts\");\n/* __next_internal_client_entry_do_not_use__ TranscriptManager,transcriptManager auto */ \n\n/**\n * TranscriptManager - 統一管理 transcript WebSocket 連接的 Singleton\n *\n * 功能：\n * - 確保每個 session 只有一個 transcript 連接\n * - 統一管理連接狀態、心跳、重連\n * - 提供簡潔的 API 給其他組件使用\n */ class TranscriptManager {\n    static{\n        this.instance = null;\n    }\n    constructor(){\n        this.connections = new Map();\n        this.listeners = new Map();\n        this.connectionStates = new Map();\n        this.heartbeatIntervals = new Map();\n        this.reconnectAttempts = new Map();\n        this.maxReconnectAttempts = 5;\n        this.heartbeatInterval = 10000 // 10秒，避免伺服器過早判定逾時\n        ;\n        this.reconnectDelay = 2000 // 2秒\n        ;\n        // Singleton pattern - 私有建構子\n        // 開發模式下將實例掛到全域以利除錯\n        if (false) {}\n    }\n    /**\n   * 取得 TranscriptManager 實例\n   */ static getInstance() {\n        if (!TranscriptManager.instance) {\n            TranscriptManager.instance = new TranscriptManager();\n        }\n        return TranscriptManager.instance;\n    }\n    /**\n   * 連接到指定 session 的 transcript feed\n   */ async connect(sessionId) {\n        // 如果已經有連接，直接返回\n        if (this.connections.has(sessionId) && this.connectionStates.get(sessionId)) {\n            console.log(`📱 [TranscriptManager] Session ${sessionId} 已連接，跳過重複連接`);\n            return;\n        }\n        try {\n            console.log(`📱 [TranscriptManager] 開始連接 session ${sessionId}`);\n            // 清理舊連接（如果存在）\n            await this.disconnect(sessionId);\n            // 重置重連計數\n            this.reconnectAttempts.set(sessionId, 0);\n            // 建立新連接\n            await this.establishConnection(sessionId);\n            // 等待連線完全就緒\n            await this.waitForConnectionReady(sessionId);\n            console.log(`✅ [TranscriptManager] Session ${sessionId} 連接並就緒`);\n        } catch (error) {\n            console.error(`❌ [TranscriptManager] Session ${sessionId} 連接失敗:`, error);\n            this.connectionStates.set(sessionId, false);\n            // 嘗試重連\n            this.scheduleReconnect(sessionId);\n            throw error;\n        }\n    }\n    /**\n   * 等待連線完全就緒\n   */ async waitForConnectionReady(sessionId, timeout = 5000) {\n        return new Promise((resolve, reject)=>{\n            const startTime = Date.now();\n            const checkReady = ()=>{\n                const ws = this.connections.get(sessionId);\n                const isConnected = this.connectionStates.get(sessionId);\n                console.log(`🔍 [TranscriptManager] 檢查連線就緒狀態:`, {\n                    sessionId,\n                    hasWebSocket: !!ws,\n                    isConnected: !!isConnected,\n                    wsReadyState: ws?.readyState,\n                    wsIsConnected: ws?.isConnected || false,\n                    elapsedTime: Date.now() - startTime\n                });\n                // 優化：更可靠的 WebSocket 就緒狀態檢測\n                const wsReady = ws && (ws.isConnected || ws.readyState === WebSocket.OPEN ||  false && 0 // 測試環境兼容\n                );\n                // 即時同步狀態，確保一致性\n                if (ws && wsReady) {\n                    const actualConnected = true;\n                    if (this.connectionStates.get(sessionId) !== actualConnected) {\n                        console.log(`🔄 [TranscriptManager] 即時同步連接狀態: ${sessionId} → ${actualConnected}`);\n                        this.connectionStates.set(sessionId, actualConnected);\n                    }\n                    console.log(`✅ [TranscriptManager] Session ${sessionId} 連線就緒`);\n                    resolve();\n                    return;\n                } else if (ws && !wsReady) {\n                    // WebSocket 存在但未就緒，同步狀態為 false\n                    const actualConnected = false;\n                    if (this.connectionStates.get(sessionId) !== actualConnected) {\n                        console.log(`🔄 [TranscriptManager] 即時同步連接狀態: ${sessionId} → ${actualConnected}`);\n                        this.connectionStates.set(sessionId, actualConnected);\n                    }\n                }\n                // 檢查超時\n                if (Date.now() - startTime > timeout) {\n                    console.error(`⏰ [TranscriptManager] Session ${sessionId} 連線就緒等待超時`);\n                    console.error(`   最終狀態: ws=${!!ws}, isConnected=${!!isConnected}, wsReady=${!!wsReady}`);\n                    reject(new Error(`連線就緒等待超時 (${timeout}ms)`));\n                    return;\n                }\n                // 繼續等待\n                setTimeout(checkReady, 100);\n            };\n            checkReady();\n        });\n    }\n    /**\n   * 建立 WebSocket 連接\n   */ async establishConnection(sessionId) {\n        const ws = new _websocket__WEBPACK_IMPORTED_MODULE_0__.TranscriptWebSocket(sessionId);\n        // 🧪 測試：跳過 TranscriptWebSocket 抽象層，直接使用 WebSocketManager 的 onMessage\n        // 註釋原來的設定，使用直接的原生 WebSocket 處理\n        // ws.onMessage((message) => {\n        //   this.handleMessage(sessionId, message)\n        // })\n        // 設定連接關閉處理\n        this.setupConnectionHandlers(ws, sessionId);\n        // 連接 WebSocket\n        await ws.connect();\n        // 直接使用 WebSocketManager 的 onMessage 來設置原生 onmessage\n        _websocket__WEBPACK_IMPORTED_MODULE_0__.WebSocketManager.prototype.onMessage.call(ws, (evt)=>{\n            console.log('[WS] raw frame', evt.data?.slice?.(0, 100));\n            try {\n                const message = JSON.parse(evt.data);\n                console.log('[WS] parsed', message.type, message.text?.slice?.(0, 20));\n                this.handleMessage(sessionId, message);\n            } catch (error) {\n                console.error('[WS] parse error', error);\n            }\n        });\n        // 儲存連接\n        this.connections.set(sessionId, ws);\n        this.connectionStates.set(sessionId, true);\n        // 發送初始 ping 啟動後端處理循環\n        this.sendPing(sessionId);\n        // 啟動心跳\n        this.startHeartbeat(sessionId);\n        console.log(`✅ TranscriptManager: Session ${sessionId} 連接成功`);\n    }\n    /**\n* 設定連接處理器\n*/ setupConnectionHandlers(ws, sessionId) {\n        // 監聽 WebSocket 關閉事件\n        ws.onClose((event)=>{\n            console.log(`🔌 TranscriptManager: Session ${sessionId} 連接關閉:`, event.code, event.reason);\n            // 更新狀態\n            this.connectionStates.set(sessionId, false);\n            this.stopHeartbeat(sessionId);\n            // 如果不是手動關閉，嘗試重連\n            if (event.code !== 1000) {\n                this.scheduleReconnect(sessionId);\n            }\n        });\n    }\n    /**\n   * 處理收到的訊息\n   */ handleMessage(sessionId, message) {\n        console.log('[T] raw', message.type, message.text?.slice(0, 20));\n        console.log('🚨 [TranscriptManager] handleMessage 被調用!', {\n            sessionId,\n            rawMessage: message,\n            messageType: typeof message,\n            messageKeys: Object.keys(message || {}),\n            timestamp: new Date().toISOString()\n        });\n        console.log('📨 [TranscriptManager] 收到訊息:', {\n            sessionId,\n            type: message.type,\n            message: message,\n            timestamp: new Date().toISOString(),\n            listenerCount: this.listeners.get(sessionId)?.size || 0\n        });\n        // 處理不同類型的訊息\n        if (message.type === 'transcript_entry') {\n            console.log('📝 [TranscriptManager] 收到逐字稿條目:', {\n                sessionId,\n                payload: message.payload,\n                timestamp: new Date().toISOString()\n            });\n            // 推送到 Zustand store\n            const entry = message.payload;\n            if (entry && entry.time && entry.text) {\n                _app_store_zustand__WEBPACK_IMPORTED_MODULE_1__.useAppStore.getState().addTranscriptEntry(entry);\n                console.log('✅ [TranscriptManager] 已推送到 store:', entry);\n            } else {\n                console.warn('⚠️ [TranscriptManager] 無效的逐字稿條目:', entry);\n            }\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'transcript_segment') {\n            console.log('📝 [TranscriptManager] 逐字稿片段詳情:', {\n                sessionId,\n                text: message.text,\n                textLength: message.text?.length || 0,\n                textPreview: message.text?.substring(0, 50) + (message.text?.length > 50 ? '...' : ''),\n                start_time: message.start_time,\n                end_time: message.end_time,\n                confidence: message.confidence\n            });\n            // 🎯 轉換 transcript_segment 為 TranscriptEntry 格式並推送到 store\n            if (message.text) {\n                try {\n                    // 使用當前時間作為 fallback，確保時間格式正確\n                    const timestamp = message.timestamp ? new Date(message.timestamp) : new Date();\n                    const entry = {\n                        time: timestamp.toLocaleTimeString('zh-TW', {\n                            hour12: false,\n                            hour: '2-digit',\n                            minute: '2-digit',\n                            second: '2-digit'\n                        }),\n                        text: message.text\n                    };\n                    console.log('🎯 [TranscriptManager] 準備推送 transcript_segment 到 store:', {\n                        originalTimestamp: message.timestamp,\n                        formattedTime: entry.time,\n                        text: entry.text.substring(0, 50) + '...'\n                    });\n                    console.log('[T] before push', _app_store_zustand__WEBPACK_IMPORTED_MODULE_1__.useAppStore.getState().appState);\n                    _app_store_zustand__WEBPACK_IMPORTED_MODULE_1__.useAppStore.getState().addTranscriptEntry(entry);\n                    console.log('✅ [TranscriptManager] transcript_segment 已推送到 store:', entry);\n                    // 檢查狀態是否有變化\n                    const currentState = _app_store_zustand__WEBPACK_IMPORTED_MODULE_1__.useAppStore.getState();\n                    console.log('📊 [TranscriptManager] Store 狀態檢查:', {\n                        appState: currentState.appState,\n                        transcriptCount: currentState.transcriptEntries.length,\n                        latestEntry: currentState.transcriptEntries[currentState.transcriptEntries.length - 1]\n                    });\n                } catch (error) {\n                    console.error('❌ [TranscriptManager] 處理 transcript_segment 時發生錯誤:', error);\n                }\n            }\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'connection_established') {\n            console.log('✅ [TranscriptManager] 連接已建立:', {\n                sessionId,\n                message: message.message,\n                timestamp: message.timestamp\n            });\n        } else if (message.type === 'transcript_complete') {\n            console.log('🎯 [TranscriptManager] 轉錄完成:', {\n                sessionId,\n                message: message.message,\n                timestamp: message.timestamp\n            });\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'heartbeat_ack') {\n            console.log('💓 [TranscriptManager] 心跳回應:', {\n                sessionId,\n                timestamp: message.timestamp\n            });\n        } else if (message.type === 'pong') {\n            console.log('🏓 [TranscriptManager] Pong 回應:', {\n                sessionId,\n                timestamp: message.timestamp\n            });\n        } else if (message.phase === 'waiting') {\n            console.log('⏳ [TranscriptManager] 收到 waiting phase:', {\n                sessionId,\n                phase: message.phase,\n                timestamp: new Date().toISOString()\n            });\n        } else if (message.phase === 'active') {\n            console.log('✅ [TranscriptManager] 收到 active phase，轉錄已開始:', {\n                sessionId,\n                phase: message.phase,\n                timestamp: new Date().toISOString()\n            });\n            // 廣播 active phase 訊息給監聽器\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'error' || message.type === 'transcription_error') {\n            console.error('🚨 [TranscriptManager] 收到轉錄錯誤:', {\n                sessionId,\n                type: message.type,\n                error_type: message.error_type,\n                error_message: message.error_message,\n                details: message.details,\n                timestamp: new Date().toISOString()\n            });\n            // 廣播錯誤訊息給監聽器\n            this.broadcastToListeners(sessionId, message);\n        } else {\n            console.log('📨 [TranscriptManager] 未知訊息類型:', {\n                sessionId,\n                type: message.type,\n                fullMessage: message\n            });\n        }\n    }\n    /**\n   * 廣播訊息給所有監聽器\n   */ broadcastToListeners(sessionId, message) {\n        const sessionListeners = this.listeners.get(sessionId);\n        console.log('📡 [TranscriptManager] 廣播訊息給監聽器:', {\n            sessionId,\n            messageType: message.type,\n            listenerCount: sessionListeners?.size || 0,\n            hasListeners: !!sessionListeners\n        });\n        if (sessionListeners) {\n            let successCount = 0;\n            let errorCount = 0;\n            sessionListeners.forEach((callback)=>{\n                try {\n                    callback(message);\n                    successCount++;\n                    console.log(`✅ [TranscriptManager] 監聽器回調成功 (${successCount}/${sessionListeners.size})`);\n                } catch (error) {\n                    errorCount++;\n                    console.error(`❌ [TranscriptManager] 監聽器回調錯誤 (${errorCount}/${sessionListeners.size}):`, error);\n                }\n            });\n            console.log(`📡 [TranscriptManager] 廣播完成: ${successCount} 成功, ${errorCount} 失敗`);\n        } else {\n            console.warn(`⚠️ [TranscriptManager] 沒有找到 session ${sessionId} 的監聽器`);\n        }\n    }\n    /**\n   * 發送 ping\n   */ sendPing(sessionId) {\n        const ws = this.connections.get(sessionId);\n        if (ws && ws.isConnected) {\n            ws.sendJson({\n                type: 'ping'\n            });\n            console.log(`🏓 TranscriptManager: 向 session ${sessionId} 發送 ping`);\n        }\n    }\n    /**\n   * 發送心跳 - 增強狀態同步\n   */ sendHeartbeat(sessionId) {\n        // 先同步狀態\n        const isActuallyConnected = this.syncConnectionState(sessionId);\n        const ws = this.connections.get(sessionId);\n        if (ws && isActuallyConnected) {\n            try {\n                ws.sendJson({\n                    type: 'heartbeat',\n                    timestamp: Date.now()\n                });\n                console.log(`💓 TranscriptManager: 向 session ${sessionId} 發送心跳`);\n            } catch (error) {\n                console.error(`❌ TranscriptManager: 發送心跳失敗 ${sessionId}:`, error);\n                // 心跳發送失敗，可能連接已斷開\n                this.connectionStates.set(sessionId, false);\n                this.scheduleReconnect(sessionId);\n            }\n        } else {\n            // 連接已斷開，停止心跳並嘗試重連\n            console.warn(`⚠️ TranscriptManager: 心跳檢測到連接斷開 ${sessionId}`);\n            this.stopHeartbeat(sessionId);\n            this.connectionStates.set(sessionId, false);\n            this.scheduleReconnect(sessionId);\n        }\n    }\n    /**\n   * 啟動心跳機制\n   */ startHeartbeat(sessionId) {\n        this.stopHeartbeat(sessionId);\n        const interval = setInterval(()=>{\n            this.sendHeartbeat(sessionId);\n        }, this.heartbeatInterval);\n        this.heartbeatIntervals.set(sessionId, interval);\n        console.log(`💓 TranscriptManager: 為 session ${sessionId} 啟動心跳`);\n    }\n    /**\n   * 停止心跳機制\n   */ stopHeartbeat(sessionId) {\n        const interval = this.heartbeatIntervals.get(sessionId);\n        if (interval) {\n            clearInterval(interval);\n            this.heartbeatIntervals.delete(sessionId);\n            console.log(`💓 TranscriptManager: 為 session ${sessionId} 停止心跳`);\n        }\n    }\n    /**\n   * 安排重連\n   */ scheduleReconnect(sessionId) {\n        const attempts = this.reconnectAttempts.get(sessionId) ?? 0;\n        if (attempts >= this.maxReconnectAttempts) {\n            console.error(`❌ TranscriptManager: Session ${sessionId} 重連次數已達上限`);\n            return;\n        }\n        this.reconnectAttempts.set(sessionId, attempts + 1);\n        const delay = this.reconnectDelay * Math.pow(2, attempts) // 指數退避\n        ;\n        console.log(`🔄 TranscriptManager: Session ${sessionId} 將在 ${delay}ms 後重連 (第 ${attempts + 1} 次)`);\n        setTimeout(async ()=>{\n            try {\n                await this.establishConnection(sessionId);\n                this.reconnectAttempts.set(sessionId, 0) // 重連成功，重置計數\n                ;\n            } catch (error) {\n                console.error(`❌ TranscriptManager: Session ${sessionId} 重連失敗:`, error);\n            }\n        }, delay);\n    }\n    /**\n   * 斷開指定 session 的連接\n   */ async disconnect(sessionId) {\n        console.log(`📱 TranscriptManager: 斷開 session ${sessionId}`);\n        // 停止心跳\n        this.stopHeartbeat(sessionId);\n        // 斷開 WebSocket\n        const ws = this.connections.get(sessionId);\n        if (ws) {\n            ws.disconnect();\n            this.connections.delete(sessionId);\n        }\n        // 更新狀態\n        this.connectionStates.set(sessionId, false);\n        // 清理監聽器\n        this.listeners.delete(sessionId);\n        // 清理重連計數\n        this.reconnectAttempts.delete(sessionId);\n    }\n    /**\n   * 添加訊息監聽器\n   */ addListener(sessionId, callback) {\n        if (!this.listeners.has(sessionId)) {\n            this.listeners.set(sessionId, new Set());\n        }\n        this.listeners.get(sessionId).add(callback);\n        console.log(`📱 TranscriptManager: 為 session ${sessionId} 添加監聽器`);\n    }\n    /**\n   * 移除訊息監聽器\n   */ removeListener(sessionId, callback) {\n        const sessionListeners = this.listeners.get(sessionId);\n        if (sessionListeners) {\n            sessionListeners.delete(callback);\n            if (sessionListeners.size === 0) {\n                this.listeners.delete(sessionId);\n            }\n        }\n        console.log(`📱 TranscriptManager: 為 session ${sessionId} 移除監聽器`);\n    }\n    /**\n   * 檢查連接狀態 - 優化版，確保即時狀態同步\n   */ isConnected(sessionId) {\n        const ws = this.connections.get(sessionId);\n        const stateConnected = this.connectionStates.get(sessionId) ?? false;\n        // 實作更可靠的即時狀態檢測\n        let actualConnected = false;\n        if (ws) {\n            // 多重檢查確保準確性\n            actualConnected = ws.isConnected && (ws.readyState === WebSocket.OPEN ||  false && 0);\n        }\n        console.log(`🔍 [TranscriptManager] 連接狀態檢查:`, {\n            sessionId,\n            hasWebSocket: !!ws,\n            wsReadyState: ws?.readyState,\n            wsIsConnected: ws?.isConnected ?? false,\n            stateConnected,\n            actualConnected,\n            needsSync: stateConnected !== actualConnected,\n            timestamp: Date.now()\n        });\n        // 即時同步狀態，確保 connectionStates 與實際 WebSocket 狀態一致\n        if (stateConnected !== actualConnected) {\n            console.log(`🔄 [TranscriptManager] 狀態不一致，即時同步: ${sessionId} ${stateConnected} → ${actualConnected}`, {\n                previousState: stateConnected,\n                newState: actualConnected,\n                wsDetails: {\n                    isConnected: ws?.isConnected,\n                    readyState: ws?.readyState\n                }\n            });\n            this.connectionStates.set(sessionId, actualConnected);\n            // 如果連接斷開但狀態顯示連接，觸發重連\n            if (stateConnected && !actualConnected) {\n                console.warn(`⚠️ [TranscriptManager] 檢測到連接斷開，將觸發重連: ${sessionId}`);\n                this.scheduleReconnect(sessionId);\n            }\n        }\n        return actualConnected;\n    }\n    /**\n   * 強化的連接狀態一致性檢查\n   */ syncConnectionState(sessionId) {\n        const ws = this.connections.get(sessionId);\n        const currentState = this.connectionStates.get(sessionId) ?? false;\n        if (!ws) {\n            // 沒有 WebSocket，狀態應該是 false\n            if (currentState !== false) {\n                console.log(`🔄 [TranscriptManager] 同步狀態 (無WebSocket): ${sessionId} → false`);\n                this.connectionStates.set(sessionId, false);\n            }\n            return false;\n        }\n        // 有 WebSocket，檢查實際連接狀態\n        const actualConnected = ws.isConnected && (ws.readyState === WebSocket.OPEN ||  false && 0);\n        if (currentState !== actualConnected) {\n            console.log(`🔄 [TranscriptManager] 同步狀態: ${sessionId} ${currentState} → ${actualConnected}`);\n            this.connectionStates.set(sessionId, actualConnected);\n        }\n        return actualConnected;\n    }\n    /**\n   * 取得連接數量\n   */ getConnectionCount() {\n        return Array.from(this.connections.values()).filter((ws)=>ws.isConnected).length;\n    }\n    /**\n   * 清理所有連接\n   */ async disconnectAll() {\n        console.log('📱 TranscriptManager: 清理所有連接');\n        const sessionIds = Array.from(this.connections.keys());\n        await Promise.all(sessionIds.map((sessionId)=>this.disconnect(sessionId)));\n    }\n}\n// 匯出 Singleton 實例\nconst transcriptManager = TranscriptManager.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxJQUFJLENBQUMsSUFBSSxDQUFDdEksV0FBVyxDQUFDdUksTUFBTSxJQUFJQyxNQUFNLENBQUN4RyxDQUFBQSxLQUFNQSxHQUFHQyxXQUFXLEVBQUVpRCxNQUFNO0lBQ2xGO0lBRUE7O0dBRUMsR0FDRCxNQUFNdUQsZ0JBQStCO1FBQ25DekgsUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTXlILGFBQWFMLE1BQU1DLElBQUksQ0FBQyxJQUFJLENBQUN0SSxXQUFXLENBQUNxRSxJQUFJO1FBQ25ELE1BQU01QyxRQUFRa0gsR0FBRyxDQUFDRCxXQUFXRSxHQUFHLENBQUMvSCxDQUFBQSxZQUFhLElBQUksQ0FBQ0ssVUFBVSxDQUFDTDtJQUNoRTtBQUNGO0FBRUEsa0JBQWtCO0FBQ1gsTUFBTUgsb0JBQW9CWixrQkFBa0JhLFdBQVcsR0FBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL3RyYW5zY3JpcHQtbWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBUcmFuc2NyaXB0V2ViU29ja2V0LCBUcmFuc2NyaXB0TWVzc2FnZSwgV2ViU29ja2V0TWFuYWdlciB9IGZyb20gJy4vd2Vic29ja2V0J1xuaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tICcuL2FwcC1zdG9yZS16dXN0YW5kJ1xuaW1wb3J0IHR5cGUgeyBUcmFuc2NyaXB0RW50cnkgfSBmcm9tICcuLi90eXBlcy9hcHAtc3RhdGUnXG5cbi8qKlxuICogVHJhbnNjcmlwdE1hbmFnZXIgLSDntbHkuIDnrqHnkIYgdHJhbnNjcmlwdCBXZWJTb2NrZXQg6YCj5o6l55qEIFNpbmdsZXRvblxuICpcbiAqIOWKn+iDve+8mlxuICogLSDnorrkv53mr4/lgIsgc2Vzc2lvbiDlj6rmnInkuIDlgIsgdHJhbnNjcmlwdCDpgKPmjqVcbiAqIC0g57Wx5LiA566h55CG6YCj5o6l54uA5oWL44CB5b+D6Lez44CB6YeN6YCjXG4gKiAtIOaPkOS+m+ewoea9lOeahCBBUEkg57Wm5YW25LuW57WE5Lu25L2/55SoXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0TWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBUcmFuc2NyaXB0TWFuYWdlciB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgY29ubmVjdGlvbnM6IE1hcDxzdHJpbmcsIFRyYW5zY3JpcHRXZWJTb2NrZXQ+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgbGlzdGVuZXJzOiBNYXA8c3RyaW5nLCBTZXQ8KG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB2b2lkPj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBjb25uZWN0aW9uU3RhdGVzOiBNYXA8c3RyaW5nLCBib29sZWFuPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGhlYXJ0YmVhdEludGVydmFsczogTWFwPHN0cmluZywgTm9kZUpTLlRpbWVvdXQ+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgcmVjb25uZWN0QXR0ZW1wdHM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBtYXhSZWNvbm5lY3RBdHRlbXB0cyA9IDVcbiAgcHJpdmF0ZSBoZWFydGJlYXRJbnRlcnZhbCA9IDEwMDAwIC8vIDEw56eS77yM6YG/5YWN5Ly65pyN5Zmo6YGO5pep5Yik5a6a6YC+5pmCXG4gIHByaXZhdGUgcmVjb25uZWN0RGVsYXkgPSAyMDAwIC8vIDLnp5JcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIFNpbmdsZXRvbiBwYXR0ZXJuIC0g56eB5pyJ5bu65qeL5a2QXG5cbiAgICAvLyDplovnmbzmqKHlvI/kuIvlsIflr6bkvovmjpvliLDlhajln5/ku6XliKnpmaTpjK9cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIDsgKHdpbmRvdyBhcyBhbnkpLnRyYW5zY3JpcHRNYW5hZ2VyID0gdGhpc1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlj5blvpcgVHJhbnNjcmlwdE1hbmFnZXIg5a+m5L6LXG4gICAqL1xuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogVHJhbnNjcmlwdE1hbmFnZXIge1xuICAgIGlmICghVHJhbnNjcmlwdE1hbmFnZXIuaW5zdGFuY2UpIHtcbiAgICAgIFRyYW5zY3JpcHRNYW5hZ2VyLmluc3RhbmNlID0gbmV3IFRyYW5zY3JpcHRNYW5hZ2VyKClcbiAgICB9XG4gICAgcmV0dXJuIFRyYW5zY3JpcHRNYW5hZ2VyLmluc3RhbmNlXG4gIH1cblxuICAvKipcbiAgICog6YCj5o6l5Yiw5oyH5a6aIHNlc3Npb24g55qEIHRyYW5zY3JpcHQgZmVlZFxuICAgKi9cbiAgYXN5bmMgY29ubmVjdChzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIOWmguaenOW3sue2k+aciemAo+aOpe+8jOebtOaOpei/lOWbnlxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25zLmhhcyhzZXNzaW9uSWQpICYmIHRoaXMuY29ubmVjdGlvblN0YXRlcy5nZXQoc2Vzc2lvbklkKSkge1xuICAgICAgY29uc29sZS5sb2coYPCfk7EgW1RyYW5zY3JpcHRNYW5hZ2VyXSBTZXNzaW9uICR7c2Vzc2lvbklkfSDlt7LpgKPmjqXvvIzot7PpgY7ph43opIfpgKPmjqVgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OxIFtUcmFuc2NyaXB0TWFuYWdlcl0g6ZaL5aeL6YCj5o6lIHNlc3Npb24gJHtzZXNzaW9uSWR9YClcblxuICAgICAgLy8g5riF55CG6IiK6YCj5o6l77yI5aaC5p6c5a2Y5Zyo77yJXG4gICAgICBhd2FpdCB0aGlzLmRpc2Nvbm5lY3Qoc2Vzc2lvbklkKVxuXG4gICAgICAvLyDph43nva7ph43pgKPoqIjmlbhcbiAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuc2V0KHNlc3Npb25JZCwgMClcblxuICAgICAgLy8g5bu656uL5paw6YCj5o6lXG4gICAgICBhd2FpdCB0aGlzLmVzdGFibGlzaENvbm5lY3Rpb24oc2Vzc2lvbklkKVxuXG4gICAgICAvLyDnrYnlvoXpgKPnt5rlrozlhajlsLHnt5JcbiAgICAgIGF3YWl0IHRoaXMud2FpdEZvckNvbm5lY3Rpb25SZWFkeShzZXNzaW9uSWQpXG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgW1RyYW5zY3JpcHRNYW5hZ2VyXSBTZXNzaW9uICR7c2Vzc2lvbklkfSDpgKPmjqXkuKblsLHnt5JgKVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBbVHJhbnNjcmlwdE1hbmFnZXJdIFNlc3Npb24gJHtzZXNzaW9uSWR9IOmAo+aOpeWkseaVlzpgLCBlcnJvcilcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBmYWxzZSlcblxuICAgICAgLy8g5ZiX6Kmm6YeN6YCjXG4gICAgICB0aGlzLnNjaGVkdWxlUmVjb25uZWN0KHNlc3Npb25JZClcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOetieW+hemAo+e3muWujOWFqOWwsee3klxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyB3YWl0Rm9yQ29ubmVjdGlvblJlYWR5KHNlc3Npb25JZDogc3RyaW5nLCB0aW1lb3V0OiBudW1iZXIgPSA1MDAwKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcblxuICAgICAgY29uc3QgY2hlY2tSZWFkeSA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgd3MgPSB0aGlzLmNvbm5lY3Rpb25zLmdldChzZXNzaW9uSWQpXG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gdGhpcy5jb25uZWN0aW9uU3RhdGVzLmdldChzZXNzaW9uSWQpXG5cbiAgICAgICAgY29uc29sZS5sb2coYPCflI0gW1RyYW5zY3JpcHRNYW5hZ2VyXSDmqqLmn6XpgKPnt5rlsLHnt5Lni4DmhYs6YCwge1xuICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICBoYXNXZWJTb2NrZXQ6ICEhd3MsXG4gICAgICAgICAgaXNDb25uZWN0ZWQ6ICEhaXNDb25uZWN0ZWQsXG4gICAgICAgICAgd3NSZWFkeVN0YXRlOiB3cz8ucmVhZHlTdGF0ZSxcbiAgICAgICAgICB3c0lzQ29ubmVjdGVkOiB3cz8uaXNDb25uZWN0ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgZWxhcHNlZFRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDlhKrljJbvvJrmm7Tlj6/pnaDnmoQgV2ViU29ja2V0IOWwsee3kueLgOaFi+aqoua4rFxuICAgICAgICBjb25zdCB3c1JlYWR5ID0gd3MgJiYgKFxuICAgICAgICAgIHdzLmlzQ29ubmVjdGVkIHx8XG4gICAgICAgICAgd3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHxcbiAgICAgICAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LldlYlNvY2tldCAmJiB3cy5yZWFkeVN0YXRlID09PSAxKSAvLyDmuKzoqabnkrDlooPlhbzlrrlcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIOWNs+aZguWQjOatpeeLgOaFi++8jOeiuuS/neS4gOiHtOaAp1xuICAgICAgICBpZiAod3MgJiYgd3NSZWFkeSkge1xuICAgICAgICAgIGNvbnN0IGFjdHVhbENvbm5lY3RlZCA9IHRydWVcbiAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uU3RhdGVzLmdldChzZXNzaW9uSWQpICE9PSBhY3R1YWxDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFtUcmFuc2NyaXB0TWFuYWdlcl0g5Y2z5pmC5ZCM5q2l6YCj5o6l54uA5oWLOiAke3Nlc3Npb25JZH0g4oaSICR7YWN0dWFsQ29ubmVjdGVkfWApXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuc2V0KHNlc3Npb25JZCwgYWN0dWFsQ29ubmVjdGVkKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1RyYW5zY3JpcHRNYW5hZ2VyXSBTZXNzaW9uICR7c2Vzc2lvbklkfSDpgKPnt5rlsLHnt5JgKVxuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9IGVsc2UgaWYgKHdzICYmICF3c1JlYWR5KSB7XG4gICAgICAgICAgLy8gV2ViU29ja2V0IOWtmOWcqOS9huacquWwsee3ku+8jOWQjOatpeeLgOaFi+eCuiBmYWxzZVxuICAgICAgICAgIGNvbnN0IGFjdHVhbENvbm5lY3RlZCA9IGZhbHNlXG4gICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXRlcy5nZXQoc2Vzc2lvbklkKSAhPT0gYWN0dWFsQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBbVHJhbnNjcmlwdE1hbmFnZXJdIOWNs+aZguWQjOatpemAo+aOpeeLgOaFizogJHtzZXNzaW9uSWR9IOKGkiAke2FjdHVhbENvbm5lY3RlZH1gKVxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIGFjdHVhbENvbm5lY3RlZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDmqqLmn6XotoXmmYJcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4o+wIFtUcmFuc2NyaXB0TWFuYWdlcl0gU2Vzc2lvbiAke3Nlc3Npb25JZH0g6YCj57ea5bCx57eS562J5b6F6LaF5pmCYClcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGAgICDmnIDntYLni4DmhYs6IHdzPSR7ISF3c30sIGlzQ29ubmVjdGVkPSR7ISFpc0Nvbm5lY3RlZH0sIHdzUmVhZHk9JHshIXdzUmVhZHl9YClcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGDpgKPnt5rlsLHnt5LnrYnlvoXotoXmmYIgKCR7dGltZW91dH1tcylgKSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOe5vOe6jOetieW+hVxuICAgICAgICBzZXRUaW1lb3V0KGNoZWNrUmVhZHksIDEwMClcbiAgICAgIH1cblxuICAgICAgY2hlY2tSZWFkeSgpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiDlu7rnq4sgV2ViU29ja2V0IOmAo+aOpVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBlc3RhYmxpc2hDb25uZWN0aW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgd3MgPSBuZXcgVHJhbnNjcmlwdFdlYlNvY2tldChzZXNzaW9uSWQpXG5cbiAgICAvLyDwn6eqIOa4rOippu+8mui3s+mBjiBUcmFuc2NyaXB0V2ViU29ja2V0IOaKveixoeWxpO+8jOebtOaOpeS9v+eUqCBXZWJTb2NrZXRNYW5hZ2VyIOeahCBvbk1lc3NhZ2VcbiAgICAvLyDoqLvph4vljp/kvobnmoToqK3lrprvvIzkvb/nlKjnm7TmjqXnmoTljp/nlJ8gV2ViU29ja2V0IOiZleeQhlxuICAgIC8vIHdzLm9uTWVzc2FnZSgobWVzc2FnZSkgPT4ge1xuICAgIC8vICAgdGhpcy5oYW5kbGVNZXNzYWdlKHNlc3Npb25JZCwgbWVzc2FnZSlcbiAgICAvLyB9KVxuXG4gICAgLy8g6Kit5a6a6YCj5o6l6Zec6ZaJ6JmV55CGXG4gICAgdGhpcy5zZXR1cENvbm5lY3Rpb25IYW5kbGVycyh3cywgc2Vzc2lvbklkKVxuXG4gICAgLy8g6YCj5o6lIFdlYlNvY2tldFxuICAgIGF3YWl0IHdzLmNvbm5lY3QoKVxuXG4gICAgLy8g55u05o6l5L2/55SoIFdlYlNvY2tldE1hbmFnZXIg55qEIG9uTWVzc2FnZSDkvoboqK3nva7ljp/nlJ8gb25tZXNzYWdlXG4gICAgV2ViU29ja2V0TWFuYWdlci5wcm90b3R5cGUub25NZXNzYWdlLmNhbGwod3MsIChldnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1tXU10gcmF3IGZyYW1lJywgZXZ0LmRhdGE/LnNsaWNlPy4oMCwgMTAwKSlcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2dC5kYXRhKVxuICAgICAgICBjb25zb2xlLmxvZygnW1dTXSBwYXJzZWQnLCBtZXNzYWdlLnR5cGUsIG1lc3NhZ2UudGV4dD8uc2xpY2U/LigwLCAyMCkpXG4gICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZShzZXNzaW9uSWQsIG1lc3NhZ2UpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbV1NdIHBhcnNlIGVycm9yJywgZXJyb3IpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIOWEsuWtmOmAo+aOpVxuICAgIHRoaXMuY29ubmVjdGlvbnMuc2V0KHNlc3Npb25JZCwgd3MpXG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIHRydWUpXG5cbiAgICAvLyDnmbzpgIHliJ3lp4sgcGluZyDllZ/li5Xlvoznq6/omZXnkIblvqrnkrBcbiAgICB0aGlzLnNlbmRQaW5nKHNlc3Npb25JZClcblxuICAgIC8vIOWVn+WLleW/g+i3s1xuICAgIHRoaXMuc3RhcnRIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgY29uc29sZS5sb2coYOKchSBUcmFuc2NyaXB0TWFuYWdlcjogU2Vzc2lvbiAke3Nlc3Npb25JZH0g6YCj5o6l5oiQ5YqfYClcbiAgfVxuXG4gIC8qKlxuKiDoqK3lrprpgKPmjqXomZXnkIblmahcbiovXG4gIHByaXZhdGUgc2V0dXBDb25uZWN0aW9uSGFuZGxlcnMod3M6IFRyYW5zY3JpcHRXZWJTb2NrZXQsIHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgLy8g55uj6IG9IFdlYlNvY2tldCDpl5zplonkuovku7ZcbiAgICB3cy5vbkNsb3NlKChldmVudCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYPCflIwgVHJhbnNjcmlwdE1hbmFnZXI6IFNlc3Npb24gJHtzZXNzaW9uSWR9IOmAo+aOpemXnOmWiTpgLCBldmVudC5jb2RlLCBldmVudC5yZWFzb24pXG5cbiAgICAgIC8vIOabtOaWsOeLgOaFi1xuICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIGZhbHNlKVxuICAgICAgdGhpcy5zdG9wSGVhcnRiZWF0KHNlc3Npb25JZClcblxuICAgICAgLy8g5aaC5p6c5LiN5piv5omL5YuV6Zec6ZaJ77yM5ZiX6Kmm6YeN6YCjXG4gICAgICBpZiAoZXZlbnQuY29kZSAhPT0gMTAwMCkgeyAvLyAxMDAwID0g5q2j5bi46Zec6ZaJXG4gICAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICog6JmV55CG5pS25Yiw55qE6KiK5oGvXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZU1lc3NhZ2Uoc2Vzc2lvbklkOiBzdHJpbmcsIG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKCdbVF0gcmF3JywgbWVzc2FnZS50eXBlLCBtZXNzYWdlLnRleHQ/LnNsaWNlKDAsIDIwKSlcblxuICAgIGNvbnNvbGUubG9nKCfwn5qoIFtUcmFuc2NyaXB0TWFuYWdlcl0gaGFuZGxlTWVzc2FnZSDooqvoqr/nlKghJywge1xuICAgICAgc2Vzc2lvbklkLFxuICAgICAgcmF3TWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIG1lc3NhZ2VUeXBlOiB0eXBlb2YgbWVzc2FnZSxcbiAgICAgIG1lc3NhZ2VLZXlzOiBPYmplY3Qua2V5cyhtZXNzYWdlIHx8IHt9KSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKCfwn5OoIFtUcmFuc2NyaXB0TWFuYWdlcl0g5pS25Yiw6KiK5oGvOicsIHtcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGxpc3RlbmVyQ291bnQ6IHRoaXMubGlzdGVuZXJzLmdldChzZXNzaW9uSWQpPy5zaXplIHx8IDBcbiAgICB9KVxuXG4gICAgLy8g6JmV55CG5LiN5ZCM6aGe5Z6L55qE6KiK5oGvXG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3RyYW5zY3JpcHRfZW50cnknKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+TnSBbVHJhbnNjcmlwdE1hbmFnZXJdIOaUtuWIsOmAkOWtl+eov+aineebrjonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgcGF5bG9hZDogbWVzc2FnZS5wYXlsb2FkLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSlcblxuICAgICAgLy8g5o6o6YCB5YiwIFp1c3RhbmQgc3RvcmVcbiAgICAgIGNvbnN0IGVudHJ5ID0gbWVzc2FnZS5wYXlsb2FkXG4gICAgICBpZiAoZW50cnkgJiYgZW50cnkudGltZSAmJiBlbnRyeS50ZXh0KSB7XG4gICAgICAgIHVzZUFwcFN0b3JlLmdldFN0YXRlKCkuYWRkVHJhbnNjcmlwdEVudHJ5KGVudHJ5KVxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtUcmFuc2NyaXB0TWFuYWdlcl0g5bey5o6o6YCB5YiwIHN0b3JlOicsIGVudHJ5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW1RyYW5zY3JpcHRNYW5hZ2VyXSDnhKHmlYjnmoTpgJDlrZfnqL/mop3nm646JywgZW50cnkpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuYnJvYWRjYXN0VG9MaXN0ZW5lcnMoc2Vzc2lvbklkLCBtZXNzYWdlKVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAndHJhbnNjcmlwdF9zZWdtZW50Jykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk50gW1RyYW5zY3JpcHRNYW5hZ2VyXSDpgJDlrZfnqL/niYfmrrXoqbPmg4U6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHRleHQ6IG1lc3NhZ2UudGV4dCxcbiAgICAgICAgdGV4dExlbmd0aDogbWVzc2FnZS50ZXh0Py5sZW5ndGggfHwgMCxcbiAgICAgICAgdGV4dFByZXZpZXc6IG1lc3NhZ2UudGV4dD8uc3Vic3RyaW5nKDAsIDUwKSArIChtZXNzYWdlLnRleHQ/Lmxlbmd0aCA+IDUwID8gJy4uLicgOiAnJyksXG4gICAgICAgIHN0YXJ0X3RpbWU6IG1lc3NhZ2Uuc3RhcnRfdGltZSxcbiAgICAgICAgZW5kX3RpbWU6IG1lc3NhZ2UuZW5kX3RpbWUsXG4gICAgICAgIGNvbmZpZGVuY2U6IG1lc3NhZ2UuY29uZmlkZW5jZVxuICAgICAgfSlcblxuICAgICAgLy8g8J+OryDovYnmj5sgdHJhbnNjcmlwdF9zZWdtZW50IOeCuiBUcmFuc2NyaXB0RW50cnkg5qC85byP5Lim5o6o6YCB5YiwIHN0b3JlXG4gICAgICBpZiAobWVzc2FnZS50ZXh0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8g5L2/55So55W25YmN5pmC6ZaT5L2c54K6IGZhbGxiYWNr77yM56K65L+d5pmC6ZaT5qC85byP5q2j56K6XG4gICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbWVzc2FnZS50aW1lc3RhbXAgPyBuZXcgRGF0ZShtZXNzYWdlLnRpbWVzdGFtcCkgOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgY29uc3QgZW50cnkgPSB7XG4gICAgICAgICAgICB0aW1lOiB0aW1lc3RhbXAudG9Mb2NhbGVUaW1lU3RyaW5nKCd6aC1UVycsIHtcbiAgICAgICAgICAgICAgaG91cjEyOiBmYWxzZSxcbiAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCdcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdGV4dDogbWVzc2FnZS50ZXh0XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gW1RyYW5zY3JpcHRNYW5hZ2VyXSDmupblgpnmjqjpgIEgdHJhbnNjcmlwdF9zZWdtZW50IOWIsCBzdG9yZTonLCB7XG4gICAgICAgICAgICBvcmlnaW5hbFRpbWVzdGFtcDogbWVzc2FnZS50aW1lc3RhbXAsXG4gICAgICAgICAgICBmb3JtYXR0ZWRUaW1lOiBlbnRyeS50aW1lLFxuICAgICAgICAgICAgdGV4dDogZW50cnkudGV4dC5zdWJzdHJpbmcoMCwgNTApICsgJy4uLidcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tUXSBiZWZvcmUgcHVzaCcsIHVzZUFwcFN0b3JlLmdldFN0YXRlKCkuYXBwU3RhdGUpXG4gICAgICAgICAgdXNlQXBwU3RvcmUuZ2V0U3RhdGUoKS5hZGRUcmFuc2NyaXB0RW50cnkoZW50cnkpXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbVHJhbnNjcmlwdE1hbmFnZXJdIHRyYW5zY3JpcHRfc2VnbWVudCDlt7LmjqjpgIHliLAgc3RvcmU6JywgZW50cnkpXG5cbiAgICAgICAgICAvLyDmqqLmn6Xni4DmhYvmmK/lkKbmnInororljJZcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB1c2VBcHBTdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW1RyYW5zY3JpcHRNYW5hZ2VyXSBTdG9yZSDni4DmhYvmqqLmn6U6Jywge1xuICAgICAgICAgICAgYXBwU3RhdGU6IGN1cnJlbnRTdGF0ZS5hcHBTdGF0ZSxcbiAgICAgICAgICAgIHRyYW5zY3JpcHRDb3VudDogY3VycmVudFN0YXRlLnRyYW5zY3JpcHRFbnRyaWVzLmxlbmd0aCxcbiAgICAgICAgICAgIGxhdGVzdEVudHJ5OiBjdXJyZW50U3RhdGUudHJhbnNjcmlwdEVudHJpZXNbY3VycmVudFN0YXRlLnRyYW5zY3JpcHRFbnRyaWVzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgfSlcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbVHJhbnNjcmlwdE1hbmFnZXJdIOiZleeQhiB0cmFuc2NyaXB0X3NlZ21lbnQg5pmC55m855Sf6Yyv6KqkOicsIGVycm9yKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYnJvYWRjYXN0VG9MaXN0ZW5lcnMoc2Vzc2lvbklkLCBtZXNzYWdlKVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnY29ubmVjdGlvbl9lc3RhYmxpc2hlZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgW1RyYW5zY3JpcHRNYW5hZ2VyXSDpgKPmjqXlt7Llu7rnq4s6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UubWVzc2FnZSxcbiAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlLnRpbWVzdGFtcFxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3RyYW5zY3JpcHRfY29tcGxldGUnKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+OryBbVHJhbnNjcmlwdE1hbmFnZXJdIOi9iemMhOWujOaIkDonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZS5tZXNzYWdlLFxuICAgICAgICB0aW1lc3RhbXA6IG1lc3NhZ2UudGltZXN0YW1wXG4gICAgICB9KVxuICAgICAgdGhpcy5icm9hZGNhc3RUb0xpc3RlbmVycyhzZXNzaW9uSWQsIG1lc3NhZ2UpXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdoZWFydGJlYXRfYWNrJykge1xuICAgICAgY29uc29sZS5sb2coJ/CfkpMgW1RyYW5zY3JpcHRNYW5hZ2VyXSDlv4Pot7Plm57mh4k6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHRpbWVzdGFtcDogbWVzc2FnZS50aW1lc3RhbXBcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdwb25nJykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfj5MgW1RyYW5zY3JpcHRNYW5hZ2VyXSBQb25nIOWbnuaHiTonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlLnRpbWVzdGFtcFxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UucGhhc2UgPT09ICd3YWl0aW5nJykge1xuICAgICAgY29uc29sZS5sb2coJ+KPsyBbVHJhbnNjcmlwdE1hbmFnZXJdIOaUtuWIsCB3YWl0aW5nIHBoYXNlOicsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICBwaGFzZTogbWVzc2FnZS5waGFzZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnBoYXNlID09PSAnYWN0aXZlJykge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBbVHJhbnNjcmlwdE1hbmFnZXJdIOaUtuWIsCBhY3RpdmUgcGhhc2XvvIzovYnpjITlt7Lplovlp4s6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHBoYXNlOiBtZXNzYWdlLnBoYXNlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSlcbiAgICAgIC8vIOW7o+aSrSBhY3RpdmUgcGhhc2Ug6KiK5oGv57Wm55uj6IG95ZmoXG4gICAgICB0aGlzLmJyb2FkY2FzdFRvTGlzdGVuZXJzKHNlc3Npb25JZCwgbWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ2Vycm9yJyB8fCBtZXNzYWdlLnR5cGUgPT09ICd0cmFuc2NyaXB0aW9uX2Vycm9yJykge1xuICAgICAgY29uc29sZS5lcnJvcign8J+aqCBbVHJhbnNjcmlwdE1hbmFnZXJdIOaUtuWIsOi9iemMhOmMr+iqpDonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgdHlwZTogbWVzc2FnZS50eXBlLFxuICAgICAgICBlcnJvcl90eXBlOiBtZXNzYWdlLmVycm9yX3R5cGUsXG4gICAgICAgIGVycm9yX21lc3NhZ2U6IG1lc3NhZ2UuZXJyb3JfbWVzc2FnZSxcbiAgICAgICAgZGV0YWlsczogbWVzc2FnZS5kZXRhaWxzLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSlcbiAgICAgIC8vIOW7o+aSremMr+iqpOioiuaBr+e1puebo+iBveWZqFxuICAgICAgdGhpcy5icm9hZGNhc3RUb0xpc3RlbmVycyhzZXNzaW9uSWQsIG1lc3NhZ2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OoIFtUcmFuc2NyaXB0TWFuYWdlcl0g5pyq55+l6KiK5oGv6aGe5Z6LOicsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB0eXBlOiBtZXNzYWdlLnR5cGUsXG4gICAgICAgIGZ1bGxNZXNzYWdlOiBtZXNzYWdlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlu6Pmkq3oqIrmga/ntabmiYDmnInnm6Pogb3lmahcbiAgICovXG4gIHByaXZhdGUgYnJvYWRjYXN0VG9MaXN0ZW5lcnMoc2Vzc2lvbklkOiBzdHJpbmcsIG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKTogdm9pZCB7XG4gICAgY29uc3Qgc2Vzc2lvbkxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChzZXNzaW9uSWQpXG4gICAgY29uc29sZS5sb2coJ/Cfk6EgW1RyYW5zY3JpcHRNYW5hZ2VyXSDlu6Pmkq3oqIrmga/ntabnm6Pogb3lmag6Jywge1xuICAgICAgc2Vzc2lvbklkLFxuICAgICAgbWVzc2FnZVR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgIGxpc3RlbmVyQ291bnQ6IHNlc3Npb25MaXN0ZW5lcnM/LnNpemUgfHwgMCxcbiAgICAgIGhhc0xpc3RlbmVyczogISFzZXNzaW9uTGlzdGVuZXJzXG4gICAgfSlcblxuICAgIGlmIChzZXNzaW9uTGlzdGVuZXJzKSB7XG4gICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMFxuICAgICAgbGV0IGVycm9yQ291bnQgPSAwXG5cbiAgICAgIHNlc3Npb25MaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2FsbGJhY2sobWVzc2FnZSlcbiAgICAgICAgICBzdWNjZXNzQ291bnQrK1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1RyYW5zY3JpcHRNYW5hZ2VyXSDnm6Pogb3lmajlm57oqr/miJDlip8gKCR7c3VjY2Vzc0NvdW50fS8ke3Nlc3Npb25MaXN0ZW5lcnMuc2l6ZX0pYClcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlcnJvckNvdW50KytcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgW1RyYW5zY3JpcHRNYW5hZ2VyXSDnm6Pogb3lmajlm57oqr/pjK/oqqQgKCR7ZXJyb3JDb3VudH0vJHtzZXNzaW9uTGlzdGVuZXJzLnNpemV9KTpgLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coYPCfk6EgW1RyYW5zY3JpcHRNYW5hZ2VyXSDlu6Pmkq3lrozmiJA6ICR7c3VjY2Vzc0NvdW50fSDmiJDlip8sICR7ZXJyb3JDb3VudH0g5aSx5pWXYClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gW1RyYW5zY3JpcHRNYW5hZ2VyXSDmspLmnInmib7liLAgc2Vzc2lvbiAke3Nlc3Npb25JZH0g55qE55uj6IG95ZmoYClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog55m86YCBIHBpbmdcbiAgICovXG4gIHByaXZhdGUgc2VuZFBpbmcoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCB3cyA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KHNlc3Npb25JZClcbiAgICBpZiAod3MgJiYgd3MuaXNDb25uZWN0ZWQpIHtcbiAgICAgIHdzLnNlbmRKc29uKHsgdHlwZTogJ3BpbmcnIH0pXG4gICAgICBjb25zb2xlLmxvZyhg8J+PkyBUcmFuc2NyaXB0TWFuYWdlcjog5ZCRIHNlc3Npb24gJHtzZXNzaW9uSWR9IOeZvOmAgSBwaW5nYClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog55m86YCB5b+D6LezIC0g5aKe5by354uA5oWL5ZCM5q2lXG4gICAqL1xuICBwcml2YXRlIHNlbmRIZWFydGJlYXQoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyDlhYjlkIzmraXni4DmhYtcbiAgICBjb25zdCBpc0FjdHVhbGx5Q29ubmVjdGVkID0gdGhpcy5zeW5jQ29ubmVjdGlvblN0YXRlKHNlc3Npb25JZClcblxuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGlmICh3cyAmJiBpc0FjdHVhbGx5Q29ubmVjdGVkKSB7XG4gICAgICB0cnkge1xuICAgICAgICB3cy5zZW5kSnNvbih7XG4gICAgICAgICAgdHlwZTogJ2hlYXJ0YmVhdCcsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5KTIFRyYW5zY3JpcHRNYW5hZ2VyOiDlkJEgc2Vzc2lvbiAke3Nlc3Npb25JZH0g55m86YCB5b+D6LezYClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBUcmFuc2NyaXB0TWFuYWdlcjog55m86YCB5b+D6Lez5aSx5pWXICR7c2Vzc2lvbklkfTpgLCBlcnJvcilcbiAgICAgICAgLy8g5b+D6Lez55m86YCB5aSx5pWX77yM5Y+v6IO96YCj5o6l5bey5pa36ZaLXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBmYWxzZSlcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdChzZXNzaW9uSWQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOmAo+aOpeW3suaWt+mWi++8jOWBnOatouW/g+i3s+S4puWYl+ippumHjemAo1xuICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gVHJhbnNjcmlwdE1hbmFnZXI6IOW/g+i3s+aqoua4rOWIsOmAo+aOpeaWt+mWiyAke3Nlc3Npb25JZH1gKVxuICAgICAgdGhpcy5zdG9wSGVhcnRiZWF0KHNlc3Npb25JZClcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBmYWxzZSlcbiAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDllZ/li5Xlv4Pot7PmqZ/liLZcbiAgICovXG4gIHByaXZhdGUgc3RhcnRIZWFydGJlYXQoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnNlbmRIZWFydGJlYXQoc2Vzc2lvbklkKVxuICAgIH0sIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwpXG5cbiAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFscy5zZXQoc2Vzc2lvbklkLCBpbnRlcnZhbClcbiAgICBjb25zb2xlLmxvZyhg8J+SkyBUcmFuc2NyaXB0TWFuYWdlcjog54K6IHNlc3Npb24gJHtzZXNzaW9uSWR9IOWVn+WLleW/g+i3s2ApXG4gIH1cblxuICAvKipcbiAgICog5YGc5q2i5b+D6Lez5qmf5Yi2XG4gICAqL1xuICBwcml2YXRlIHN0b3BIZWFydGJlYXQoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxzLmdldChzZXNzaW9uSWQpXG4gICAgaWYgKGludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKVxuICAgICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbHMuZGVsZXRlKHNlc3Npb25JZClcbiAgICAgIGNvbnNvbGUubG9nKGDwn5KTIFRyYW5zY3JpcHRNYW5hZ2VyOiDngrogc2Vzc2lvbiAke3Nlc3Npb25JZH0g5YGc5q2i5b+D6LezYClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5a6J5o6S6YeN6YCjXG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlUmVjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYXR0ZW1wdHMgPSB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLmdldChzZXNzaW9uSWQpID8/IDBcblxuICAgIGlmIChhdHRlbXB0cyA+PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgVHJhbnNjcmlwdE1hbmFnZXI6IFNlc3Npb24gJHtzZXNzaW9uSWR9IOmHjemAo+asoeaVuOW3sumBlOS4iumZkGApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldChzZXNzaW9uSWQsIGF0dGVtcHRzICsgMSlcblxuICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5yZWNvbm5lY3REZWxheSAqIE1hdGgucG93KDIsIGF0dGVtcHRzKSAvLyDmjIfmlbjpgIDpgb9cbiAgICBjb25zb2xlLmxvZyhg8J+UhCBUcmFuc2NyaXB0TWFuYWdlcjogU2Vzc2lvbiAke3Nlc3Npb25JZH0g5bCH5ZyoICR7ZGVsYXl9bXMg5b6M6YeN6YCjICjnrKwgJHthdHRlbXB0cyArIDF9IOasoSlgKVxuXG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmVzdGFibGlzaENvbm5lY3Rpb24oc2Vzc2lvbklkKVxuICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldChzZXNzaW9uSWQsIDApIC8vIOmHjemAo+aIkOWKn++8jOmHjee9ruioiOaVuFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFRyYW5zY3JpcHRNYW5hZ2VyOiBTZXNzaW9uICR7c2Vzc2lvbklkfSDph43pgKPlpLHmlZc6YCwgZXJyb3IpXG4gICAgICB9XG4gICAgfSwgZGVsYXkpXG4gIH1cblxuICAvKipcbiAgICog5pa36ZaL5oyH5a6aIHNlc3Npb24g55qE6YCj5o6lXG4gICAqL1xuICBhc3luYyBkaXNjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS5sb2coYPCfk7EgVHJhbnNjcmlwdE1hbmFnZXI6IOaWt+mWiyBzZXNzaW9uICR7c2Vzc2lvbklkfWApXG5cbiAgICAvLyDlgZzmraLlv4Pot7NcbiAgICB0aGlzLnN0b3BIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgLy8g5pa36ZaLIFdlYlNvY2tldFxuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGlmICh3cykge1xuICAgICAgd3MuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLmNvbm5lY3Rpb25zLmRlbGV0ZShzZXNzaW9uSWQpXG4gICAgfVxuXG4gICAgLy8g5pu05paw54uA5oWLXG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIGZhbHNlKVxuXG4gICAgLy8g5riF55CG55uj6IG95ZmoXG4gICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKHNlc3Npb25JZClcblxuICAgIC8vIOa4heeQhumHjemAo+ioiOaVuFxuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuZGVsZXRlKHNlc3Npb25JZClcbiAgfVxuXG4gIC8qKlxuICAgKiDmt7vliqDoqIrmga/nm6Pogb3lmahcbiAgICovXG4gIGFkZExpc3RlbmVyKHNlc3Npb25JZDogc3RyaW5nLCBjYWxsYmFjazogKG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVycy5oYXMoc2Vzc2lvbklkKSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHNlc3Npb25JZCwgbmV3IFNldCgpKVxuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycy5nZXQoc2Vzc2lvbklkKSEuYWRkKGNhbGxiYWNrKVxuICAgIGNvbnNvbGUubG9nKGDwn5OxIFRyYW5zY3JpcHRNYW5hZ2VyOiDngrogc2Vzc2lvbiAke3Nlc3Npb25JZH0g5re75Yqg55uj6IG95ZmoYClcbiAgfVxuXG4gIC8qKlxuICAgKiDnp7vpmaToqIrmga/nm6Pogb3lmahcbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKHNlc3Npb25JZDogc3RyaW5nLCBjYWxsYmFjazogKG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3Qgc2Vzc2lvbkxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChzZXNzaW9uSWQpXG4gICAgaWYgKHNlc3Npb25MaXN0ZW5lcnMpIHtcbiAgICAgIHNlc3Npb25MaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKVxuICAgICAgaWYgKHNlc3Npb25MaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoc2Vzc2lvbklkKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhg8J+TsSBUcmFuc2NyaXB0TWFuYWdlcjog54K6IHNlc3Npb24gJHtzZXNzaW9uSWR9IOenu+mZpOebo+iBveWZqGApXG4gIH1cblxuICAvKipcbiAgICog5qqi5p+l6YCj5o6l54uA5oWLIC0g5YSq5YyW54mI77yM56K65L+d5Y2z5pmC54uA5oWL5ZCM5q2lXG4gICAqL1xuICBpc0Nvbm5lY3RlZChzZXNzaW9uSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGNvbnN0IHN0YXRlQ29ubmVjdGVkID0gdGhpcy5jb25uZWN0aW9uU3RhdGVzLmdldChzZXNzaW9uSWQpID8/IGZhbHNlXG5cbiAgICAvLyDlr6bkvZzmm7Tlj6/pnaDnmoTljbPmmYLni4DmhYvmqqLmuKxcbiAgICBsZXQgYWN0dWFsQ29ubmVjdGVkID0gZmFsc2VcblxuICAgIGlmICh3cykge1xuICAgICAgLy8g5aSa6YeN5qqi5p+l56K65L+d5rqW56K65oCnXG4gICAgICBhY3R1YWxDb25uZWN0ZWQgPSB3cy5pc0Nvbm5lY3RlZCAmJiAoXG4gICAgICAgIHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOIHx8XG4gICAgICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuV2ViU29ja2V0ICYmIHdzLnJlYWR5U3RhdGUgPT09IDEpXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCflI0gW1RyYW5zY3JpcHRNYW5hZ2VyXSDpgKPmjqXni4DmhYvmqqLmn6U6YCwge1xuICAgICAgc2Vzc2lvbklkLFxuICAgICAgaGFzV2ViU29ja2V0OiAhIXdzLFxuICAgICAgd3NSZWFkeVN0YXRlOiB3cz8ucmVhZHlTdGF0ZSxcbiAgICAgIHdzSXNDb25uZWN0ZWQ6IHdzPy5pc0Nvbm5lY3RlZCA/PyBmYWxzZSxcbiAgICAgIHN0YXRlQ29ubmVjdGVkLFxuICAgICAgYWN0dWFsQ29ubmVjdGVkLFxuICAgICAgbmVlZHNTeW5jOiBzdGF0ZUNvbm5lY3RlZCAhPT0gYWN0dWFsQ29ubmVjdGVkLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfSlcblxuICAgIC8vIOWNs+aZguWQjOatpeeLgOaFi++8jOeiuuS/nSBjb25uZWN0aW9uU3RhdGVzIOiIh+WvpumamyBXZWJTb2NrZXQg54uA5oWL5LiA6Ie0XG4gICAgaWYgKHN0YXRlQ29ubmVjdGVkICE9PSBhY3R1YWxDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFtUcmFuc2NyaXB0TWFuYWdlcl0g54uA5oWL5LiN5LiA6Ie077yM5Y2z5pmC5ZCM5q2lOiAke3Nlc3Npb25JZH0gJHtzdGF0ZUNvbm5lY3RlZH0g4oaSICR7YWN0dWFsQ29ubmVjdGVkfWAsIHtcbiAgICAgICAgcHJldmlvdXNTdGF0ZTogc3RhdGVDb25uZWN0ZWQsXG4gICAgICAgIG5ld1N0YXRlOiBhY3R1YWxDb25uZWN0ZWQsXG4gICAgICAgIHdzRGV0YWlsczoge1xuICAgICAgICAgIGlzQ29ubmVjdGVkOiB3cz8uaXNDb25uZWN0ZWQsXG4gICAgICAgICAgcmVhZHlTdGF0ZTogd3M/LnJlYWR5U3RhdGVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBhY3R1YWxDb25uZWN0ZWQpXG5cbiAgICAgIC8vIOWmguaenOmAo+aOpeaWt+mWi+S9hueLgOaFi+mhr+ekuumAo+aOpe+8jOinuOeZvOmHjemAo1xuICAgICAgaWYgKHN0YXRlQ29ubmVjdGVkICYmICFhY3R1YWxDb25uZWN0ZWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gW1RyYW5zY3JpcHRNYW5hZ2VyXSDmqqLmuKzliLDpgKPmjqXmlrfplovvvIzlsIfop7jnmbzph43pgKM6ICR7c2Vzc2lvbklkfWApXG4gICAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhY3R1YWxDb25uZWN0ZWRcbiAgfVxuXG4gIC8qKlxuICAgKiDlvLfljJbnmoTpgKPmjqXni4DmhYvkuIDoh7TmgKfmqqLmn6VcbiAgICovXG4gIHByaXZhdGUgc3luY0Nvbm5lY3Rpb25TdGF0ZShzZXNzaW9uSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuY29ubmVjdGlvblN0YXRlcy5nZXQoc2Vzc2lvbklkKSA/PyBmYWxzZVxuXG4gICAgaWYgKCF3cykge1xuICAgICAgLy8g5rKS5pyJIFdlYlNvY2tldO+8jOeLgOaFi+aHieipsuaYryBmYWxzZVxuICAgICAgaWYgKGN1cnJlbnRTdGF0ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coYPCflIQgW1RyYW5zY3JpcHRNYW5hZ2VyXSDlkIzmraXni4DmhYsgKOeEoVdlYlNvY2tldCk6ICR7c2Vzc2lvbklkfSDihpIgZmFsc2VgKVxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuc2V0KHNlc3Npb25JZCwgZmFsc2UpXG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvLyDmnIkgV2ViU29ja2V077yM5qqi5p+l5a+m6Zqb6YCj5o6l54uA5oWLXG4gICAgY29uc3QgYWN0dWFsQ29ubmVjdGVkID0gd3MuaXNDb25uZWN0ZWQgJiYgKFxuICAgICAgd3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHxcbiAgICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuV2ViU29ja2V0ICYmIHdzLnJlYWR5U3RhdGUgPT09IDEpXG4gICAgKVxuXG4gICAgaWYgKGN1cnJlbnRTdGF0ZSAhPT0gYWN0dWFsQ29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+UhCBbVHJhbnNjcmlwdE1hbmFnZXJdIOWQjOatpeeLgOaFizogJHtzZXNzaW9uSWR9ICR7Y3VycmVudFN0YXRlfSDihpIgJHthY3R1YWxDb25uZWN0ZWR9YClcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBhY3R1YWxDb25uZWN0ZWQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdHVhbENvbm5lY3RlZFxuICB9XG5cbiAgLyoqXG4gICAqIOWPluW+l+mAo+aOpeaVuOmHj1xuICAgKi9cbiAgZ2V0Q29ubmVjdGlvbkNvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jb25uZWN0aW9ucy52YWx1ZXMoKSkuZmlsdGVyKHdzID0+IHdzLmlzQ29ubmVjdGVkKS5sZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbmiYDmnInpgKPmjqVcbiAgICovXG4gIGFzeW5jIGRpc2Nvbm5lY3RBbGwoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS5sb2coJ/Cfk7EgVHJhbnNjcmlwdE1hbmFnZXI6IOa4heeQhuaJgOaciemAo+aOpScpXG5cbiAgICBjb25zdCBzZXNzaW9uSWRzID0gQXJyYXkuZnJvbSh0aGlzLmNvbm5lY3Rpb25zLmtleXMoKSlcbiAgICBhd2FpdCBQcm9taXNlLmFsbChzZXNzaW9uSWRzLm1hcChzZXNzaW9uSWQgPT4gdGhpcy5kaXNjb25uZWN0KHNlc3Npb25JZCkpKVxuICB9XG59XG5cbi8vIOWMr+WHuiBTaW5nbGV0b24g5a+m5L6LXG5leHBvcnQgY29uc3QgdHJhbnNjcmlwdE1hbmFnZXIgPSBUcmFuc2NyaXB0TWFuYWdlci5nZXRJbnN0YW5jZSgpXG5cbi8vIOWMr+WHuumhnuWei1xuZXhwb3J0IHR5cGUgeyBUcmFuc2NyaXB0TWVzc2FnZSB9XG4iXSwibmFtZXMiOlsiVHJhbnNjcmlwdFdlYlNvY2tldCIsIldlYlNvY2tldE1hbmFnZXIiLCJ1c2VBcHBTdG9yZSIsIlRyYW5zY3JpcHRNYW5hZ2VyIiwiaW5zdGFuY2UiLCJjb25uZWN0aW9ucyIsIk1hcCIsImxpc3RlbmVycyIsImNvbm5lY3Rpb25TdGF0ZXMiLCJoZWFydGJlYXRJbnRlcnZhbHMiLCJyZWNvbm5lY3RBdHRlbXB0cyIsIm1heFJlY29ubmVjdEF0dGVtcHRzIiwiaGVhcnRiZWF0SW50ZXJ2YWwiLCJyZWNvbm5lY3REZWxheSIsIndpbmRvdyIsInRyYW5zY3JpcHRNYW5hZ2VyIiwiZ2V0SW5zdGFuY2UiLCJjb25uZWN0Iiwic2Vzc2lvbklkIiwiaGFzIiwiZ2V0IiwiY29uc29sZSIsImxvZyIsImRpc2Nvbm5lY3QiLCJzZXQiLCJlc3RhYmxpc2hDb25uZWN0aW9uIiwid2FpdEZvckNvbm5lY3Rpb25SZWFkeSIsImVycm9yIiwic2NoZWR1bGVSZWNvbm5lY3QiLCJ0aW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiY2hlY2tSZWFkeSIsIndzIiwiaXNDb25uZWN0ZWQiLCJoYXNXZWJTb2NrZXQiLCJ3c1JlYWR5U3RhdGUiLCJyZWFkeVN0YXRlIiwid3NJc0Nvbm5lY3RlZCIsImVsYXBzZWRUaW1lIiwid3NSZWFkeSIsIldlYlNvY2tldCIsIk9QRU4iLCJhY3R1YWxDb25uZWN0ZWQiLCJFcnJvciIsInNldFRpbWVvdXQiLCJzZXR1cENvbm5lY3Rpb25IYW5kbGVycyIsInByb3RvdHlwZSIsIm9uTWVzc2FnZSIsImNhbGwiLCJldnQiLCJkYXRhIiwic2xpY2UiLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwidHlwZSIsInRleHQiLCJoYW5kbGVNZXNzYWdlIiwic2VuZFBpbmciLCJzdGFydEhlYXJ0YmVhdCIsIm9uQ2xvc2UiLCJldmVudCIsImNvZGUiLCJyZWFzb24iLCJzdG9wSGVhcnRiZWF0IiwicmF3TWVzc2FnZSIsIm1lc3NhZ2VUeXBlIiwibWVzc2FnZUtleXMiLCJPYmplY3QiLCJrZXlzIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJsaXN0ZW5lckNvdW50Iiwic2l6ZSIsInBheWxvYWQiLCJlbnRyeSIsInRpbWUiLCJnZXRTdGF0ZSIsImFkZFRyYW5zY3JpcHRFbnRyeSIsIndhcm4iLCJicm9hZGNhc3RUb0xpc3RlbmVycyIsInRleHRMZW5ndGgiLCJsZW5ndGgiLCJ0ZXh0UHJldmlldyIsInN1YnN0cmluZyIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsImNvbmZpZGVuY2UiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyMTIiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwib3JpZ2luYWxUaW1lc3RhbXAiLCJmb3JtYXR0ZWRUaW1lIiwiYXBwU3RhdGUiLCJjdXJyZW50U3RhdGUiLCJ0cmFuc2NyaXB0Q291bnQiLCJ0cmFuc2NyaXB0RW50cmllcyIsImxhdGVzdEVudHJ5IiwicGhhc2UiLCJlcnJvcl90eXBlIiwiZXJyb3JfbWVzc2FnZSIsImRldGFpbHMiLCJmdWxsTWVzc2FnZSIsInNlc3Npb25MaXN0ZW5lcnMiLCJoYXNMaXN0ZW5lcnMiLCJzdWNjZXNzQ291bnQiLCJlcnJvckNvdW50IiwiZm9yRWFjaCIsImNhbGxiYWNrIiwic2VuZEpzb24iLCJzZW5kSGVhcnRiZWF0IiwiaXNBY3R1YWxseUNvbm5lY3RlZCIsInN5bmNDb25uZWN0aW9uU3RhdGUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRlbGV0ZSIsImF0dGVtcHRzIiwiZGVsYXkiLCJNYXRoIiwicG93IiwiYWRkTGlzdGVuZXIiLCJTZXQiLCJhZGQiLCJyZW1vdmVMaXN0ZW5lciIsInN0YXRlQ29ubmVjdGVkIiwibmVlZHNTeW5jIiwicHJldmlvdXNTdGF0ZSIsIm5ld1N0YXRlIiwid3NEZXRhaWxzIiwiZ2V0Q29ubmVjdGlvbkNvdW50IiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmlsdGVyIiwiZGlzY29ubmVjdEFsbCIsInNlc3Npb25JZHMiLCJhbGwiLCJtYXAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/transcript-manager.ts\n");

/***/ }),

/***/ "(ssr)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/.pnpm/tailwind-merge@2.5.5/node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQ0o7QUFFakMsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN4QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3RCIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xzeCwgdHlwZSBDbGFzc1ZhbHVlIH0gZnJvbSBcImNsc3hcIlxuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gXCJ0YWlsd2luZC1tZXJnZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpXG59XG4iXSwibmFtZXMiOlsiY2xzeCIsInR3TWVyZ2UiLCJjbiIsImlucHV0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/utils.ts\n");

/***/ }),

/***/ "(ssr)/./lib/websocket.ts":
/*!**************************!*\
  !*** ./lib/websocket.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioUploadWebSocket: () => (/* binding */ AudioUploadWebSocket),\n/* harmony export */   TranscriptWebSocket: () => (/* binding */ TranscriptWebSocket),\n/* harmony export */   WebSocketManager: () => (/* binding */ WebSocketManager),\n/* harmony export */   createAudioUploadWebSocket: () => (/* binding */ createAudioUploadWebSocket),\n/* harmony export */   createTranscriptWebSocket: () => (/* binding */ createTranscriptWebSocket)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"(ssr)/./lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ WebSocketManager,AudioUploadWebSocket,TranscriptWebSocket,createAudioUploadWebSocket,createTranscriptWebSocket auto */ \n// WebSocket 管理類別\nclass WebSocketManager {\n    constructor(url){\n        this.ws = null;\n        this.reconnectAttempts = 0;\n        this.maxReconnectAttempts = 5;\n        this.reconnectDelay = 1000;\n        this.isManualClose = false;\n        this.url = url;\n    }\n    connect() {\n        return new Promise((resolve, reject)=>{\n            try {\n                this.ws = new WebSocket(this.url);\n                this.isManualClose = false;\n                this.ws.onopen = ()=>{\n                    console.log('✅ WebSocket 連接成功:', this.url);\n                    this.reconnectAttempts = 0;\n                    resolve();\n                };\n                this.ws.onerror = (error)=>{\n                    console.error('❌ WebSocket 連接錯誤:', error);\n                    reject(error);\n                };\n                this.ws.onclose = (event)=>{\n                    console.log('🔌 WebSocket 連接關閉:', event.code, event.reason);\n                    if (!this.isManualClose && this.reconnectAttempts < this.maxReconnectAttempts) {\n                        this.reconnectAttempts++;\n                        console.log(`🔄 嘗試重新連接 (${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\n                        setTimeout(()=>{\n                            this.connect();\n                        }, this.reconnectDelay * this.reconnectAttempts);\n                    }\n                };\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n    disconnect() {\n        this.isManualClose = true;\n        if (this.ws) {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    send(data) {\n        if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n            const dataInfo = data instanceof ArrayBuffer ? `Binary (${data.byteLength} bytes)` : `Text (${data.length} chars)`;\n            console.log('📡 [WebSocketManager] 發送資料', {\n                type: dataInfo,\n                url: this.url,\n                readyState: this.ws.readyState,\n                timestamp: new Date().toISOString()\n            });\n            this.ws.send(data);\n        } else {\n            console.warn('⚠️ WebSocket 未連接，無法發送資料', {\n                url: this.url,\n                readyState: this.ws?.readyState || 'null'\n            });\n        }\n    }\n    onMessage(callback) {\n        if (this.ws) {\n            this.ws.onmessage = callback;\n        }\n    }\n    onClose(callback) {\n        if (this.ws) {\n            const originalOnClose = this.ws.onclose;\n            const ws = this.ws // 保存引用避免 null 問題\n            ;\n            this.ws.onclose = (event)=>{\n                // 先調用新的回調\n                callback(event);\n                // 再調用原始的處理器\n                if (originalOnClose) {\n                    originalOnClose.call(ws, event);\n                }\n            };\n        }\n    }\n    get readyState() {\n        return this.ws?.readyState ?? WebSocket.CLOSED;\n    }\n    get isConnected() {\n        return this.ws?.readyState === WebSocket.OPEN;\n    }\n}\n// 音檔上傳 WebSocket 管理\nclass AudioUploadWebSocket extends WebSocketManager {\n    constructor(sessionId){\n        super((0,_api__WEBPACK_IMPORTED_MODULE_0__.getWebSocketURL)(`/ws/upload_audio/${sessionId}`)), this.sequenceNumber = 0;\n    }\n    uploadAudioChunk(audioBlob) {\n        console.log('🔊 [AudioUploadWebSocket] uploadAudioChunk 被調用', {\n            sequence: this.sequenceNumber,\n            blobSize: audioBlob.size,\n            wsState: this.readyState,\n            isConnected: this.isConnected\n        });\n        if (!this.isConnected) {\n            console.warn('⚠️ WebSocket 未連接，無法上傳音檔');\n            return;\n        }\n        // 建立包含序號的資料包\n        const sequenceBuffer = new ArrayBuffer(4);\n        const sequenceView = new DataView(sequenceBuffer);\n        sequenceView.setUint32(0, this.sequenceNumber, true) // little-endian\n        ;\n        // 合併序號和音檔資料\n        audioBlob.arrayBuffer().then((audioBuffer)=>{\n            const combinedBuffer = new ArrayBuffer(sequenceBuffer.byteLength + audioBuffer.byteLength);\n            const combinedView = new Uint8Array(combinedBuffer);\n            combinedView.set(new Uint8Array(sequenceBuffer), 0);\n            combinedView.set(new Uint8Array(audioBuffer), sequenceBuffer.byteLength);\n            console.log('🔄 [AudioUploadWebSocket] 準備發送 binary frame', {\n                sequence: this.sequenceNumber,\n                totalSize: combinedBuffer.byteLength,\n                audioSize: audioBuffer.byteLength,\n                sequenceSize: sequenceBuffer.byteLength\n            });\n            this.send(combinedBuffer);\n            console.log(`✅ [AudioUploadWebSocket] Binary frame 已送出 #${this.sequenceNumber}`, {\n                size: `${audioBlob.size} bytes`,\n                totalSize: `${combinedBuffer.byteLength} bytes`,\n                timestamp: new Date().toISOString()\n            });\n            this.sequenceNumber++;\n        }).catch((error)=>{\n            console.error('❌ [AudioUploadWebSocket] 處理音頻資料失敗', {\n                sequence: this.sequenceNumber,\n                error: error.message || error\n            });\n        });\n    }\n    onAckMissing(callback) {\n        this.onMessage((event)=>{\n            try {\n                const message = JSON.parse(event.data);\n                // 根據消息類型進行分發\n                switch(message.type){\n                    case 'ack_missing':\n                        // 確認 data.missing 存在且是陣列\n                        if (message.missing && Array.isArray(message.missing)) {\n                            callback(message);\n                        } else {\n                            console.error('❌ 收到的 ack_missing 訊息格式不正確:', message);\n                        }\n                        break;\n                    case 'ack':\n                        // 處理音檔切片確認訊息\n                        console.log('✅ 音檔切片確認:', message.chunk_sequence || 'unknown');\n                        break;\n                    case 'heartbeat_ack':\n                        // 處理音檔上傳心跳確認\n                        console.log('💓 音檔上傳心跳確認');\n                        break;\n                    case 'connection_established':\n                        console.log('✅ 音檔上傳 WebSocket 連接已建立');\n                        break;\n                    case 'error':\n                        console.error('❌ 音檔上傳服務端錯誤:', message.message);\n                        break;\n                    default:\n                        console.warn('⚠️ 收到未知的音檔上傳訊息類型:', message.type);\n                }\n            } catch (error) {\n                console.error('❌ 解析音檔上傳服務訊息失敗:', error);\n            }\n        });\n    }\n    resetSequence() {\n        this.sequenceNumber = 0;\n    }\n}\n// 逐字稿接收 WebSocket 管理 - 簡化版，只負責基礎連接\nclass TranscriptWebSocket extends WebSocketManager {\n    constructor(sessionId){\n        super((0,_api__WEBPACK_IMPORTED_MODULE_0__.getWebSocketURL)(`/ws/transcript_feed/${sessionId}`));\n    }\n    // 設定訊息處理回調\n    onMessage(callback) {\n        super.onMessage((event)=>{\n            console.log('🔥 [TranscriptWebSocket] 原始 WebSocket 訊息:', {\n                data: event.data,\n                type: typeof event.data,\n                length: event.data?.length,\n                timestamp: new Date().toISOString()\n            });\n            try {\n                const data = JSON.parse(event.data);\n                console.log('✅ [TranscriptWebSocket] JSON 解析成功:', {\n                    parsedData: data,\n                    dataType: data.type,\n                    sessionId: data.session_id\n                });\n                console.log('🎯 [TranscriptWebSocket] 即將調用 callback');\n                callback(data);\n                console.log('✅ [TranscriptWebSocket] callback 調用完成');\n            } catch (error) {\n                console.error('❌ TranscriptWebSocket 解析訊息失敗:', {\n                    error: error instanceof Error ? error.message : String(error),\n                    rawData: event.data\n                });\n            }\n        });\n    }\n    // 發送 JSON 訊息\n    sendJson(message) {\n        if (this.isConnected) {\n            this.send(JSON.stringify(message));\n        }\n    }\n}\n// WebSocket 工廠函數\nconst createAudioUploadWebSocket = (sessionId)=>{\n    return new AudioUploadWebSocket(sessionId);\n};\nconst createTranscriptWebSocket = (sessionId)=>{\n    return new TranscriptWebSocket(sessionId);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25CO1lBQ2ZMLFFBQVFDLEdBQUcsQ0FBQyw2Q0FBNkM7Z0JBQ3ZEVyxNQUFNUCxNQUFNTyxJQUFJO2dCQUNoQk8sTUFBTSxPQUFPZCxNQUFNTyxJQUFJO2dCQUN2Qk0sUUFBUWIsTUFBTU8sSUFBSSxFQUFFTTtnQkFDcEJFLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNuQztZQUVBLElBQUk7Z0JBQ0YsTUFBTVYsT0FBTzhDLEtBQUtDLEtBQUssQ0FBQ3RELE1BQU1PLElBQUk7Z0JBQ2xDWixRQUFRQyxHQUFHLENBQUMsc0NBQXNDO29CQUNoRGlFLFlBQVl0RDtvQkFDWnVELFVBQVV2RCxLQUFLTyxJQUFJO29CQUNuQmMsV0FBV3JCLEtBQUt3RCxVQUFVO2dCQUM1QjtnQkFFQXBFLFFBQVFDLEdBQUcsQ0FBQztnQkFDWndCLFNBQVNiO2dCQUNUWixRQUFRQyxHQUFHLENBQUM7WUFFZCxFQUFFLE9BQU9FLE9BQU87Z0JBQ2RILFFBQVFHLEtBQUssQ0FBQyxpQ0FBaUM7b0JBQzdDQSxPQUFPQSxpQkFBaUJrRSxRQUFRbEUsTUFBTXFELE9BQU8sR0FBR2MsT0FBT25FO29CQUN2RG9FLFNBQVNsRSxNQUFNTyxJQUFJO2dCQUNyQjtZQUNGO1FBQ0Y7SUFDRjtJQUVBLGFBQWE7SUFDYjRELFNBQVNoQixPQUFZLEVBQVE7UUFDM0IsSUFBSSxJQUFJLENBQUN6QixXQUFXLEVBQUU7WUFDcEIsSUFBSSxDQUFDcEIsSUFBSSxDQUFDK0MsS0FBS2UsU0FBUyxDQUFDakI7UUFDM0I7SUFDRjtBQUNGO0FBRUEsaUJBQWlCO0FBQ1YsTUFBTWtCLDZCQUE2QixDQUFDekM7SUFDekMsT0FBTyxJQUFJRCxxQkFBcUJDO0FBQ2xDLEVBQUM7QUFFTSxNQUFNMEMsNEJBQTRCLENBQUMxQztJQUN4QyxPQUFPLElBQUlnQyxvQkFBb0JoQztBQUNqQyxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvd2Vic29ja2V0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IGdldFdlYlNvY2tldFVSTCB9IGZyb20gJy4vYXBpJ1xuXG4vLyBXZWJTb2NrZXQg6YCj5o6l54uA5oWLXG5leHBvcnQgdHlwZSBXZWJTb2NrZXRTdGF0ZSA9ICdjb25uZWN0aW5nJyB8ICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnZXJyb3InXG5cbi8vIOmAkOWtl+eov+aOpeaUtuS7i+mdoiAo6IiH5b6M56uv5o6o6YCB5qC85byP5LiA6Ie0KVxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0TWVzc2FnZSB7XG4gIHR5cGU6ICd0cmFuc2NyaXB0X3NlZ21lbnQnIHwgJ3RyYW5zY3JpcHRfY29tcGxldGUnIHwgJ2Nvbm5lY3Rpb25fZXN0YWJsaXNoZWQnIHwgJ2hlYXJ0YmVhdF9hY2snIHwgJ3BvbmcnIHwgJ2FjdGl2ZScgfCAnZXJyb3InIHwgJ3RyYW5zY3JpcHRpb25fZXJyb3InXG4gIHNlc3Npb25faWQ/OiBzdHJpbmdcbiAgc2VnbWVudF9pZD86IHN0cmluZ1xuICB0ZXh0Pzogc3RyaW5nXG4gIG1lc3NhZ2U/OiBzdHJpbmcgIC8vIOeUqOaWvOmAo+aOpeeiuuiqjeioiuaBr+aIluWujOaIkOmAmuefpVxuICBzdGFydF9zZXF1ZW5jZT86IG51bWJlclxuICBlbmRfc2VxdWVuY2U/OiBudW1iZXJcbiAgc3RhcnRfdGltZT86IG51bWJlclxuICBlbmRfdGltZT86IG51bWJlclxuICBsYW5ndWFnZT86IHN0cmluZ1xuICBjb25maWRlbmNlPzogbnVtYmVyXG4gIHRpbWVzdGFtcD86IG51bWJlclxuICBwaGFzZT86ICd3YWl0aW5nJyB8ICdhY3RpdmUnICAvLyDmlrDlop4gcGhhc2Ug5qyE5L2NXG4gIGVycm9yX3R5cGU/OiBzdHJpbmdcbiAgZXJyb3JfbWVzc2FnZT86IHN0cmluZ1xuICBkZXRhaWxzPzogYW55XG59XG5cbi8vIEFDSy9NaXNzaW5nIOioiuaBr+S7i+mdolxuZXhwb3J0IGludGVyZmFjZSBBY2tNaXNzaW5nTWVzc2FnZSB7XG4gIGFjazogbnVtYmVyXG4gIG1pc3Npbmc6IG51bWJlcltdXG59XG5cbi8vIFdlYlNvY2tldCDnrqHnkIbpoZ7liKVcbmV4cG9ydCBjbGFzcyBXZWJTb2NrZXRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSB3czogV2ViU29ja2V0IHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSB1cmw6IHN0cmluZ1xuICBwcml2YXRlIHJlY29ubmVjdEF0dGVtcHRzID0gMFxuICBwcml2YXRlIG1heFJlY29ubmVjdEF0dGVtcHRzID0gNVxuICBwcml2YXRlIHJlY29ubmVjdERlbGF5ID0gMTAwMFxuICBwcml2YXRlIGlzTWFudWFsQ2xvc2UgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy51cmwgPSB1cmxcbiAgfVxuXG4gIGNvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHRoaXMudXJsKVxuICAgICAgICB0aGlzLmlzTWFudWFsQ2xvc2UgPSBmYWxzZVxuXG4gICAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgV2ViU29ja2V0IOmAo+aOpeaIkOWKnzonLCB0aGlzLnVybClcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID0gMFxuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlYlNvY2tldCDpgKPmjqXpjK/oqqQ6JywgZXJyb3IpXG4gICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIwgV2ViU29ja2V0IOmAo+aOpemXnOmWiTonLCBldmVudC5jb2RlLCBldmVudC5yZWFzb24pXG5cbiAgICAgICAgICBpZiAoIXRoaXMuaXNNYW51YWxDbG9zZSAmJiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzIDwgdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cysrXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCDlmJfoqabph43mlrDpgKPmjqUgKCR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30vJHt0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzfSlgKVxuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5jb25uZWN0KClcbiAgICAgICAgICAgIH0sIHRoaXMucmVjb25uZWN0RGVsYXkgKiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBkaXNjb25uZWN0KCk6IHZvaWQge1xuICAgIHRoaXMuaXNNYW51YWxDbG9zZSA9IHRydWVcbiAgICBpZiAodGhpcy53cykge1xuICAgICAgdGhpcy53cy5jbG9zZSgpXG4gICAgICB0aGlzLndzID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHNlbmQoZGF0YTogc3RyaW5nIHwgQXJyYXlCdWZmZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICBjb25zdCBkYXRhSW5mbyA9IGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclxuICAgICAgICA/IGBCaW5hcnkgKCR7ZGF0YS5ieXRlTGVuZ3RofSBieXRlcylgXG4gICAgICAgIDogYFRleHQgKCR7ZGF0YS5sZW5ndGh9IGNoYXJzKWBcblxuICAgICAgY29uc29sZS5sb2coJ/Cfk6EgW1dlYlNvY2tldE1hbmFnZXJdIOeZvOmAgeizh+aWmScsIHtcbiAgICAgICAgdHlwZTogZGF0YUluZm8sXG4gICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgIHJlYWR5U3RhdGU6IHRoaXMud3MucmVhZHlTdGF0ZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMud3Muc2VuZChkYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBXZWJTb2NrZXQg5pyq6YCj5o6l77yM54Sh5rOV55m86YCB6LOH5paZJywge1xuICAgICAgICB1cmw6IHRoaXMudXJsLFxuICAgICAgICByZWFkeVN0YXRlOiB0aGlzLndzPy5yZWFkeVN0YXRlIHx8ICdudWxsJ1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBvbk1lc3NhZ2UoY2FsbGJhY2s6IChldmVudDogTWVzc2FnZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKHRoaXMud3MpIHtcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gY2FsbGJhY2tcbiAgICB9XG4gIH1cblxuICBvbkNsb3NlKGNhbGxiYWNrOiAoZXZlbnQ6IENsb3NlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53cykge1xuICAgICAgY29uc3Qgb3JpZ2luYWxPbkNsb3NlID0gdGhpcy53cy5vbmNsb3NlXG4gICAgICBjb25zdCB3cyA9IHRoaXMud3MgLy8g5L+d5a2Y5byV55So6YG/5YWNIG51bGwg5ZWP6aGMXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgLy8g5YWI6Kq/55So5paw55qE5Zue6Kq/XG4gICAgICAgIGNhbGxiYWNrKGV2ZW50KVxuICAgICAgICAvLyDlho3oqr/nlKjljp/lp4vnmoTomZXnkIblmahcbiAgICAgICAgaWYgKG9yaWdpbmFsT25DbG9zZSkge1xuICAgICAgICAgIG9yaWdpbmFsT25DbG9zZS5jYWxsKHdzLCBldmVudClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldCByZWFkeVN0YXRlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMud3M/LnJlYWR5U3RhdGUgPz8gV2ViU29ja2V0LkNMT1NFRFxuICB9XG5cbiAgZ2V0IGlzQ29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLndzPy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTlxuICB9XG59XG5cbi8vIOmfs+aqlOS4iuWCsyBXZWJTb2NrZXQg566h55CGXG5leHBvcnQgY2xhc3MgQXVkaW9VcGxvYWRXZWJTb2NrZXQgZXh0ZW5kcyBXZWJTb2NrZXRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzZXF1ZW5jZU51bWJlciA9IDBcblxuICBjb25zdHJ1Y3RvcihzZXNzaW9uSWQ6IHN0cmluZykge1xuICAgIHN1cGVyKGdldFdlYlNvY2tldFVSTChgL3dzL3VwbG9hZF9hdWRpby8ke3Nlc3Npb25JZH1gKSlcbiAgfVxuXG4gIHVwbG9hZEF1ZGlvQ2h1bmsoYXVkaW9CbG9iOiBCbG9iKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coJ/CflIogW0F1ZGlvVXBsb2FkV2ViU29ja2V0XSB1cGxvYWRBdWRpb0NodW5rIOiiq+iqv+eUqCcsIHtcbiAgICAgIHNlcXVlbmNlOiB0aGlzLnNlcXVlbmNlTnVtYmVyLFxuICAgICAgYmxvYlNpemU6IGF1ZGlvQmxvYi5zaXplLFxuICAgICAgd3NTdGF0ZTogdGhpcy5yZWFkeVN0YXRlLFxuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWRcbiAgICB9KVxuXG4gICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBXZWJTb2NrZXQg5pyq6YCj5o6l77yM54Sh5rOV5LiK5YKz6Z+z5qqUJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIOW7uueri+WMheWQq+W6j+iZn+eahOizh+aWmeWMhVxuICAgIGNvbnN0IHNlcXVlbmNlQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDQpXG4gICAgY29uc3Qgc2VxdWVuY2VWaWV3ID0gbmV3IERhdGFWaWV3KHNlcXVlbmNlQnVmZmVyKVxuICAgIHNlcXVlbmNlVmlldy5zZXRVaW50MzIoMCwgdGhpcy5zZXF1ZW5jZU51bWJlciwgdHJ1ZSkgLy8gbGl0dGxlLWVuZGlhblxuXG4gICAgLy8g5ZCI5L215bqP6Jmf5ZKM6Z+z5qqU6LOH5paZXG4gICAgYXVkaW9CbG9iLmFycmF5QnVmZmVyKCkudGhlbihhdWRpb0J1ZmZlciA9PiB7XG4gICAgICBjb25zdCBjb21iaW5lZEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihzZXF1ZW5jZUJ1ZmZlci5ieXRlTGVuZ3RoICsgYXVkaW9CdWZmZXIuYnl0ZUxlbmd0aClcbiAgICAgIGNvbnN0IGNvbWJpbmVkVmlldyA9IG5ldyBVaW50OEFycmF5KGNvbWJpbmVkQnVmZmVyKVxuXG4gICAgICBjb21iaW5lZFZpZXcuc2V0KG5ldyBVaW50OEFycmF5KHNlcXVlbmNlQnVmZmVyKSwgMClcbiAgICAgIGNvbWJpbmVkVmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYXVkaW9CdWZmZXIpLCBzZXF1ZW5jZUJ1ZmZlci5ieXRlTGVuZ3RoKVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBbQXVkaW9VcGxvYWRXZWJTb2NrZXRdIOa6luWCmeeZvOmAgSBiaW5hcnkgZnJhbWUnLCB7XG4gICAgICAgIHNlcXVlbmNlOiB0aGlzLnNlcXVlbmNlTnVtYmVyLFxuICAgICAgICB0b3RhbFNpemU6IGNvbWJpbmVkQnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgIGF1ZGlvU2l6ZTogYXVkaW9CdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgc2VxdWVuY2VTaXplOiBzZXF1ZW5jZUJ1ZmZlci5ieXRlTGVuZ3RoXG4gICAgICB9KVxuXG4gICAgICB0aGlzLnNlbmQoY29tYmluZWRCdWZmZXIpXG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgW0F1ZGlvVXBsb2FkV2ViU29ja2V0XSBCaW5hcnkgZnJhbWUg5bey6YCB5Ye6ICMke3RoaXMuc2VxdWVuY2VOdW1iZXJ9YCwge1xuICAgICAgICBzaXplOiBgJHthdWRpb0Jsb2Iuc2l6ZX0gYnl0ZXNgLFxuICAgICAgICB0b3RhbFNpemU6IGAke2NvbWJpbmVkQnVmZmVyLmJ5dGVMZW5ndGh9IGJ5dGVzYCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuc2VxdWVuY2VOdW1iZXIrK1xuICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbQXVkaW9VcGxvYWRXZWJTb2NrZXRdIOiZleeQhumfs+mgu+izh+aWmeWkseaVlycsIHtcbiAgICAgICAgc2VxdWVuY2U6IHRoaXMuc2VxdWVuY2VOdW1iZXIsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8IGVycm9yXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBvbkFja01pc3NpbmcoY2FsbGJhY2s6IChkYXRhOiBBY2tNaXNzaW5nTWVzc2FnZSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25NZXNzYWdlKChldmVudCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSlcblxuICAgICAgICAvLyDmoLnmk5rmtojmga/poZ7lnovpgLLooYzliIbnmbxcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdhY2tfbWlzc2luZyc6XG4gICAgICAgICAgICAvLyDnorroqo0gZGF0YS5taXNzaW5nIOWtmOWcqOS4lOaYr+mZo+WIl1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubWlzc2luZyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UubWlzc2luZykpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2sobWVzc2FnZSBhcyBBY2tNaXNzaW5nTWVzc2FnZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDmlLbliLDnmoQgYWNrX21pc3Npbmcg6KiK5oGv5qC85byP5LiN5q2j56K6OicsIG1lc3NhZ2UpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2Fjayc6XG4gICAgICAgICAgICAvLyDomZXnkIbpn7PmqpTliIfniYfnorroqo3oqIrmga9cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg6Z+z5qqU5YiH54mH56K66KqNOicsIG1lc3NhZ2UuY2h1bmtfc2VxdWVuY2UgfHwgJ3Vua25vd24nKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdoZWFydGJlYXRfYWNrJzpcbiAgICAgICAgICAgIC8vIOiZleeQhumfs+aqlOS4iuWCs+W/g+i3s+eiuuiqjVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkpMg6Z+z5qqU5LiK5YKz5b+D6Lez56K66KqNJylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnY29ubmVjdGlvbl9lc3RhYmxpc2hlZCc6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOmfs+aqlOS4iuWCsyBXZWJTb2NrZXQg6YCj5o6l5bey5bu656uLJylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOmfs+aqlOS4iuWCs+acjeWLmeerr+mMr+iqpDonLCBtZXNzYWdlLm1lc3NhZ2UpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDmlLbliLDmnKrnn6XnmoTpn7PmqpTkuIrlgrPoqIrmga/poZ7lnos6JywgbWVzc2FnZS50eXBlKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg6Kej5p6Q6Z+z5qqU5LiK5YKz5pyN5YuZ6KiK5oGv5aSx5pWXOicsIGVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZXNldFNlcXVlbmNlKCk6IHZvaWQge1xuICAgIHRoaXMuc2VxdWVuY2VOdW1iZXIgPSAwXG4gIH1cbn1cblxuLy8g6YCQ5a2X56i/5o6l5pS2IFdlYlNvY2tldCDnrqHnkIYgLSDnsKHljJbniYjvvIzlj6rosqDosqzln7rnpI7pgKPmjqVcbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0V2ViU29ja2V0IGV4dGVuZHMgV2ViU29ja2V0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHNlc3Npb25JZDogc3RyaW5nKSB7XG4gICAgc3VwZXIoZ2V0V2ViU29ja2V0VVJMKGAvd3MvdHJhbnNjcmlwdF9mZWVkLyR7c2Vzc2lvbklkfWApKVxuICB9XG5cbiAgLy8g6Kit5a6a6KiK5oGv6JmV55CG5Zue6Kq/XG4gIG9uTWVzc2FnZShjYWxsYmFjazogKGRhdGE6IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHN1cGVyLm9uTWVzc2FnZSgoZXZlbnQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SlIFtUcmFuc2NyaXB0V2ViU29ja2V0XSDljp/lp4sgV2ViU29ja2V0IOioiuaBrzonLCB7XG4gICAgICAgIGRhdGE6IGV2ZW50LmRhdGEsXG4gICAgICAgIHR5cGU6IHR5cGVvZiBldmVudC5kYXRhLFxuICAgICAgICBsZW5ndGg6IGV2ZW50LmRhdGE/Lmxlbmd0aCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgW1RyYW5zY3JpcHRXZWJTb2NrZXRdIEpTT04g6Kej5p6Q5oiQ5YqfOicsIHtcbiAgICAgICAgICBwYXJzZWREYXRhOiBkYXRhLFxuICAgICAgICAgIGRhdGFUeXBlOiBkYXRhLnR5cGUsXG4gICAgICAgICAgc2Vzc2lvbklkOiBkYXRhLnNlc3Npb25faWRcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zb2xlLmxvZygn8J+OryBbVHJhbnNjcmlwdFdlYlNvY2tldF0g5Y2z5bCH6Kq/55SoIGNhbGxiYWNrJylcbiAgICAgICAgY2FsbGJhY2soZGF0YSlcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBbVHJhbnNjcmlwdFdlYlNvY2tldF0gY2FsbGJhY2sg6Kq/55So5a6M5oiQJylcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFRyYW5zY3JpcHRXZWJTb2NrZXQg6Kej5p6Q6KiK5oGv5aSx5pWXOicsIHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgIHJhd0RhdGE6IGV2ZW50LmRhdGFcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8g55m86YCBIEpTT04g6KiK5oGvXG4gIHNlbmRKc29uKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICB0aGlzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpXG4gICAgfVxuICB9XG59XG5cbi8vIFdlYlNvY2tldCDlt6Xlu6Dlh73mlbhcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb1VwbG9hZFdlYlNvY2tldCA9IChzZXNzaW9uSWQ6IHN0cmluZyk6IEF1ZGlvVXBsb2FkV2ViU29ja2V0ID0+IHtcbiAgcmV0dXJuIG5ldyBBdWRpb1VwbG9hZFdlYlNvY2tldChzZXNzaW9uSWQpXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVUcmFuc2NyaXB0V2ViU29ja2V0ID0gKHNlc3Npb25JZDogc3RyaW5nKTogVHJhbnNjcmlwdFdlYlNvY2tldCA9PiB7XG4gIHJldHVybiBuZXcgVHJhbnNjcmlwdFdlYlNvY2tldChzZXNzaW9uSWQpXG59XG4iXSwibmFtZXMiOlsiZ2V0V2ViU29ja2V0VVJMIiwiV2ViU29ja2V0TWFuYWdlciIsImNvbnN0cnVjdG9yIiwidXJsIiwid3MiLCJyZWNvbm5lY3RBdHRlbXB0cyIsIm1heFJlY29ubmVjdEF0dGVtcHRzIiwicmVjb25uZWN0RGVsYXkiLCJpc01hbnVhbENsb3NlIiwiY29ubmVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiV2ViU29ja2V0Iiwib25vcGVuIiwiY29uc29sZSIsImxvZyIsIm9uZXJyb3IiLCJlcnJvciIsIm9uY2xvc2UiLCJldmVudCIsImNvZGUiLCJyZWFzb24iLCJzZXRUaW1lb3V0IiwiZGlzY29ubmVjdCIsImNsb3NlIiwic2VuZCIsImRhdGEiLCJyZWFkeVN0YXRlIiwiT1BFTiIsImRhdGFJbmZvIiwiQXJyYXlCdWZmZXIiLCJieXRlTGVuZ3RoIiwibGVuZ3RoIiwidHlwZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIndhcm4iLCJvbk1lc3NhZ2UiLCJjYWxsYmFjayIsIm9ubWVzc2FnZSIsIm9uQ2xvc2UiLCJvcmlnaW5hbE9uQ2xvc2UiLCJjYWxsIiwiQ0xPU0VEIiwiaXNDb25uZWN0ZWQiLCJBdWRpb1VwbG9hZFdlYlNvY2tldCIsInNlc3Npb25JZCIsInNlcXVlbmNlTnVtYmVyIiwidXBsb2FkQXVkaW9DaHVuayIsImF1ZGlvQmxvYiIsInNlcXVlbmNlIiwiYmxvYlNpemUiLCJzaXplIiwid3NTdGF0ZSIsInNlcXVlbmNlQnVmZmVyIiwic2VxdWVuY2VWaWV3IiwiRGF0YVZpZXciLCJzZXRVaW50MzIiLCJhcnJheUJ1ZmZlciIsInRoZW4iLCJhdWRpb0J1ZmZlciIsImNvbWJpbmVkQnVmZmVyIiwiY29tYmluZWRWaWV3IiwiVWludDhBcnJheSIsInNldCIsInRvdGFsU2l6ZSIsImF1ZGlvU2l6ZSIsInNlcXVlbmNlU2l6ZSIsImNhdGNoIiwibWVzc2FnZSIsIm9uQWNrTWlzc2luZyIsIkpTT04iLCJwYXJzZSIsIm1pc3NpbmciLCJBcnJheSIsImlzQXJyYXkiLCJjaHVua19zZXF1ZW5jZSIsInJlc2V0U2VxdWVuY2UiLCJUcmFuc2NyaXB0V2ViU29ja2V0IiwicGFyc2VkRGF0YSIsImRhdGFUeXBlIiwic2Vzc2lvbl9pZCIsIkVycm9yIiwiU3RyaW5nIiwicmF3RGF0YSIsInNlbmRKc29uIiwic3RyaW5naWZ5IiwiY3JlYXRlQXVkaW9VcGxvYWRXZWJTb2NrZXQiLCJjcmVhdGVUcmFuc2NyaXB0V2ViU29ja2V0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/websocket.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./providers/app-state-provider-wrapper.tsx */ \"(ssr)/./providers/app-state-provider-wrapper.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCUyRmdsb2JhbHMuY3NzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGcHJvdmlkZXJzJTJGYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyQXBwU3RhdGVQcm92aWRlcldyYXBwZXIlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdNQUE2SyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQXBwU3RhdGVQcm92aWRlcldyYXBwZXJcIl0gKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9wcm92aWRlcnMvYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(ssr)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSx3SUFBb0ciLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZlcnJvci1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmh0dHAtYWNjZXNzLWZhbGxiYWNrJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbWV0YWRhdGElMkZhc3luYy1tZXRhZGF0YS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm1ldGFkYXRhJTJGbWV0YWRhdGEtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxnZEFBcVE7QUFDclE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxnZ0JBQTZSO0FBQzdSO0FBQ0Esb2RBQXVRO0FBQ3ZRO0FBQ0Esd2VBQWlSO0FBQ2pSO0FBQ0EsOGVBQW9SO0FBQ3BSO0FBQ0Esa2ZBQXNSIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXNlZ21lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9odHRwLWFjY2Vzcy1mYWxsYmFjay9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbWV0YWRhdGEvYXN5bmMtbWV0YWRhdGEuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL21ldGFkYXRhL21ldGFkYXRhLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./providers/app-state-provider-wrapper.tsx":
/*!**************************************************!*\
  !*** ./providers/app-state-provider-wrapper.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppStateProviderWrapper: () => (/* binding */ AppStateProviderWrapper)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_use_app_state_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/use-app-state-context */ \"(ssr)/./hooks/use-app-state-context.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ AppStateProviderWrapper auto */ \n\n\n\n/**\n * AppStateProvider 包裝器\n * 根據功能開關決定是否啟用新的狀態管理系統\n * 這提供了漸進式部署的能力，可以安全地在新舊系統間切換\n */ function AppStateProviderWrapper({ children }) {\n    // 檢查是否啟用新的狀態管理系統\n    const useNewStateManagement = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__.isFeatureEnabled)('useNewStateManagement');\n    const useNewAppStateHook = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__.isFeatureEnabled)('useNewAppStateHook');\n    console.log('🔄 [AppStateProviderWrapper] 功能開關狀態:', {\n        useNewStateManagement,\n        useNewAppStateHook,\n        willUseProvider: useNewStateManagement || useNewAppStateHook\n    });\n    // 如果啟用新狀態管理，使用 AppStateProvider 包裝\n    if (useNewStateManagement || useNewAppStateHook) {\n        console.log('🔄 [AppStateProviderWrapper] 啟用新狀態管理 - 使用 AppStateProvider');\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_hooks_use_app_state_context__WEBPACK_IMPORTED_MODULE_2__.AppStateProvider, {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/providers/app-state-provider-wrapper.tsx\",\n            lineNumber: 31,\n            columnNumber: 13\n        }, this);\n    }\n    // 否則直接渲染子組件（使用舊系統）\n    console.log('🔄 [AppStateProviderWrapper] 使用舊狀態管理 - 直接渲染');\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: children\n    }, void 0, false);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9wcm92aWRlcnMvYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRXlCO0FBQ3dDO0FBQ1Y7QUFNdkQ7Ozs7Q0FJQyxHQUNNLFNBQVNHLHdCQUF3QixFQUFFQyxRQUFRLEVBQWdDO0lBQzlFLGlCQUFpQjtJQUNqQixNQUFNQyx3QkFBd0JILG9FQUFnQkEsQ0FBQztJQUMvQyxNQUFNSSxxQkFBcUJKLG9FQUFnQkEsQ0FBQztJQUU1Q0ssUUFBUUMsR0FBRyxDQUFDLHdDQUF3QztRQUNoREg7UUFDQUM7UUFDQUcsaUJBQWlCSix5QkFBeUJDO0lBQzlDO0lBRUEsbUNBQW1DO0lBQ25DLElBQUlELHlCQUF5QkMsb0JBQW9CO1FBQzdDQyxRQUFRQyxHQUFHLENBQUM7UUFDWixxQkFDSSw4REFBQ1AsMEVBQWdCQTtzQkFDWkc7Ozs7OztJQUdiO0lBRUEsbUJBQW1CO0lBQ25CRyxRQUFRQyxHQUFHLENBQUM7SUFDWixxQkFBTztrQkFBR0o7O0FBQ2QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL3Byb3ZpZGVycy9hcHAtc3RhdGUtcHJvdmlkZXItd3JhcHBlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQXBwU3RhdGVQcm92aWRlciB9IGZyb20gJy4uL2hvb2tzL3VzZS1hcHAtc3RhdGUtY29udGV4dCdcbmltcG9ydCB7IGlzRmVhdHVyZUVuYWJsZWQgfSBmcm9tICcuLi9saWIvZmVhdHVyZS1mbGFncydcblxuaW50ZXJmYWNlIEFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyUHJvcHMge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn1cblxuLyoqXG4gKiBBcHBTdGF0ZVByb3ZpZGVyIOWMheijneWZqFxuICog5qC55pOa5Yqf6IO96ZaL6Zec5rG65a6a5piv5ZCm5ZWf55So5paw55qE54uA5oWL566h55CG57O757WxXG4gKiDpgJnmj5DkvpvkuobmvLjpgLLlvI/pg6jnvbLnmoTog73lipvvvIzlj6/ku6XlronlhajlnLDlnKjmlrDoiIrns7vntbHplpPliIfmj5tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyKHsgY2hpbGRyZW4gfTogQXBwU3RhdGVQcm92aWRlcldyYXBwZXJQcm9wcykge1xuICAgIC8vIOaqouafpeaYr+WQpuWVn+eUqOaWsOeahOeLgOaFi+euoeeQhuezu+e1sVxuICAgIGNvbnN0IHVzZU5ld1N0YXRlTWFuYWdlbWVudCA9IGlzRmVhdHVyZUVuYWJsZWQoJ3VzZU5ld1N0YXRlTWFuYWdlbWVudCcpXG4gICAgY29uc3QgdXNlTmV3QXBwU3RhdGVIb29rID0gaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3QXBwU3RhdGVIb29rJylcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFtBcHBTdGF0ZVByb3ZpZGVyV3JhcHBlcl0g5Yqf6IO96ZaL6Zec54uA5oWLOicsIHtcbiAgICAgICAgdXNlTmV3U3RhdGVNYW5hZ2VtZW50LFxuICAgICAgICB1c2VOZXdBcHBTdGF0ZUhvb2ssXG4gICAgICAgIHdpbGxVc2VQcm92aWRlcjogdXNlTmV3U3RhdGVNYW5hZ2VtZW50IHx8IHVzZU5ld0FwcFN0YXRlSG9va1xuICAgIH0pXG5cbiAgICAvLyDlpoLmnpzllZ/nlKjmlrDni4DmhYvnrqHnkIbvvIzkvb/nlKggQXBwU3RhdGVQcm92aWRlciDljIXoo51cbiAgICBpZiAodXNlTmV3U3RhdGVNYW5hZ2VtZW50IHx8IHVzZU5ld0FwcFN0YXRlSG9vaykge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbQXBwU3RhdGVQcm92aWRlcldyYXBwZXJdIOWVn+eUqOaWsOeLgOaFi+euoeeQhiAtIOS9v+eUqCBBcHBTdGF0ZVByb3ZpZGVyJylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBcHBTdGF0ZVByb3ZpZGVyPlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvQXBwU3RhdGVQcm92aWRlcj5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8vIOWQpuWJh+ebtOaOpea4suafk+WtkOe1hOS7tu+8iOS9v+eUqOiIiuezu+e1se+8iVxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFtBcHBTdGF0ZVByb3ZpZGVyV3JhcHBlcl0g5L2/55So6IiK54uA5oWL566h55CGIC0g55u05o6l5riy5p+TJylcbiAgICByZXR1cm4gPD57Y2hpbGRyZW59PC8+XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJBcHBTdGF0ZVByb3ZpZGVyIiwiaXNGZWF0dXJlRW5hYmxlZCIsIkFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyIiwiY2hpbGRyZW4iLCJ1c2VOZXdTdGF0ZU1hbmFnZW1lbnQiLCJ1c2VOZXdBcHBTdGF0ZUhvb2siLCJjb25zb2xlIiwibG9nIiwid2lsbFVzZVByb3ZpZGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./providers/app-state-provider-wrapper.tsx\n");

/***/ }),

/***/ "(ssr)/./study-scriber.tsx":
/*!***************************!*\
  !*** ./study-scriber.tsx ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dynamic */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var easymde_dist_easymde_min_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! easymde/dist/easymde.min.css */ \"(ssr)/./node_modules/.pnpm/easymde@2.20.0/node_modules/easymde/dist/easymde.min.css\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Download,RotateCcw!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js\");\n/* harmony import */ var _barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Download,RotateCcw!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/app-store-zustand */ \"(ssr)/./lib/app-store-zustand.ts\");\n/* harmony import */ var _components_default_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/default-state */ \"(ssr)/./components/default-state.tsx\");\n/* harmony import */ var _components_recording_state__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/recording-state */ \"(ssr)/./components/recording-state.tsx\");\n/* harmony import */ var _components_waiting_state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/waiting-state */ \"(ssr)/./components/waiting-state.tsx\");\n/* harmony import */ var _components_finish_state__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/finish-state */ \"(ssr)/./components/finish-state.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n// 動態匯入 SimpleMDE 以避免 SSR 問題\nconst SimpleMDE = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(async ()=>{\n     true && /*require.resolve*/(null /* weak dependency, without id */);\n}, {\n    loadableGenerated: {\n        modules: [\n            \"study-scriber.tsx -> \" + \"react-simplemde-editor\"\n        ]\n    },\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex items-center justify-center text-muted-foreground\",\n            children: \"載入編輯器中...\"\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n            lineNumber: 14,\n            columnNumber: 18\n        }, undefined)\n});\n\n\n\n\n\nfunction Component() {\n    // 使用 Zustand store\n    const appState = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[appState]\": (state)=>state.appState\n    }[\"Component.useAppStore[appState]\"]);\n    const isLoading = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[isLoading]\": (state)=>state.isLoading\n    }[\"Component.useAppStore[isLoading]\"]);\n    const error = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[error]\": (state)=>state.error\n    }[\"Component.useAppStore[error]\"]);\n    const session = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[session]\": (state)=>state.session\n    }[\"Component.useAppStore[session]\"]);\n    const isRecording = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[isRecording]\": (state)=>state.isRecording\n    }[\"Component.useAppStore[isRecording]\"]);\n    const recordingTime = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[recordingTime]\": (state)=>state.recordingTime\n    }[\"Component.useAppStore[recordingTime]\"]);\n    const transcriptEntries = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[transcriptEntries]\": (state)=>state.transcriptEntries\n    }[\"Component.useAppStore[transcriptEntries]\"]);\n    const editorContent = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[editorContent]\": (state)=>state.editorContent\n    }[\"Component.useAppStore[editorContent]\"]);\n    // Actions\n    const startRecording = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[startRecording]\": (state)=>state.startRecording\n    }[\"Component.useAppStore[startRecording]\"]);\n    const stopRecording = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[stopRecording]\": (state)=>state.stopRecording\n    }[\"Component.useAppStore[stopRecording]\"]);\n    const updateEditorContent = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[updateEditorContent]\": (state)=>state.updateEditorContent\n    }[\"Component.useAppStore[updateEditorContent]\"]);\n    const resetState = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[resetState]\": (state)=>state.resetState\n    }[\"Component.useAppStore[resetState]\"]);\n    const clearError = (0,_lib_app_store_zustand__WEBPACK_IMPORTED_MODULE_6__.useAppStore)({\n        \"Component.useAppStore[clearError]\": (state)=>state.clearError\n    }[\"Component.useAppStore[clearError]\"]);\n    const [draftTitle, setDraftTitle] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"\");\n    // 使用 Zustand store - 所有狀態已在上方宣告\n    // 檢查並清理異常的 localStorage 狀態\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)({\n        \"Component.useEffect\": ()=>{\n            if (false) {}\n        }\n    }[\"Component.useEffect\"], []);\n    // 追蹤狀態流轉\n    console.log(\"[DEBUG] appState:\", appState);\n    console.log(\"[DEBUG] isRecording:\", isRecording);\n    if (session) {\n        console.log(\"[DEBUG] session.status:\", session.status, \"session.type:\", session.type);\n    } else {\n        console.log(\"[DEBUG] session: null\");\n    }\n    // 添加調試功能到 window\n    if (false) {}\n    // 暴露錄音狀態到 window 以便調試\n    if (false) {}\n    // 暴露 session 到 window 以便調試\n    if (false) {}\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)({\n        \"Component.useEffect\": ()=>{\n            console.log(\"📱 StudyScriber: state 更新:\", {\n                state: appState,\n                isRecording: isRecording,\n                recordingTime: recordingTime,\n                transcriptEntries: transcriptEntries,\n                editorContent: editorContent,\n                session: session,\n                isLoading: isLoading,\n                error: error\n            });\n        }\n    }[\"Component.useEffect\"], [\n        appState,\n        isRecording,\n        recordingTime,\n        transcriptEntries,\n        editorContent,\n        session,\n        isLoading,\n        error\n    ]);\n    const editorOptions = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"Component.useMemo[editorOptions]\": ()=>{\n            return {\n                spellChecker: false,\n                placeholder: \"Start writing your notes...\",\n                status: false,\n                toolbar: [\n                    \"bold\",\n                    \"italic\",\n                    \"strikethrough\",\n                    \"|\",\n                    \"heading-1\",\n                    \"heading-2\",\n                    \"heading-3\",\n                    \"|\",\n                    \"quote\",\n                    \"unordered-list\",\n                    \"ordered-list\",\n                    \"|\",\n                    \"link\",\n                    \"image\",\n                    \"table\",\n                    \"|\",\n                    \"preview\",\n                    \"side-by-side\",\n                    \"fullscreen\"\n                ],\n                autofocus: true,\n                tabSize: 2\n            };\n        }\n    }[\"Component.useMemo[editorOptions]\"], []);\n    const renderRightPanel = ()=>{\n        // 狀態異常檢查：如果是 recording_waiting 但沒有 session，應該顯示 default 狀態\n        if (appState === \"recording_waiting\" && !session) {\n            console.log(\"⚠️ [StudyScriber] 檢測到狀態異常: recording_waiting 但沒有 session，顯示 DefaultState\");\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_default_state__WEBPACK_IMPORTED_MODULE_7__.DefaultState, {\n                onStartRecording: ()=>{\n                    console.log(\"📱 StudyScriber: 準備調用 startRecording（狀態修復），標題:\", draftTitle);\n                    startRecording(draftTitle);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                lineNumber: 156,\n                columnNumber: 14\n            }, this);\n        }\n        switch(appState){\n            case \"default\":\n                console.log(\"🔄 [StudyScriber] 渲染 DefaultState，startRecording 函數:\", typeof startRecording);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_default_state__WEBPACK_IMPORTED_MODULE_7__.DefaultState, {\n                    onStartRecording: ()=>{\n                        console.log(\"📱 StudyScriber: 準備調用 startRecording，標題:\", draftTitle);\n                        console.log(\"📱 StudyScriber: startRecording 函數類型:\", typeof startRecording);\n                        startRecording(draftTitle);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 167,\n                    columnNumber: 16\n                }, this);\n            case \"recording_active\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_recording_state__WEBPACK_IMPORTED_MODULE_8__.RecordingState, {\n                    transcriptEntries: transcriptEntries,\n                    recordingTime: recordingTime,\n                    onStopRecording: stopRecording,\n                    error: error\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 176,\n                    columnNumber: 11\n                }, this);\n            case \"recording_waiting\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_recording_state__WEBPACK_IMPORTED_MODULE_8__.RecordingState, {\n                    transcriptEntries: transcriptEntries,\n                    recordingTime: recordingTime,\n                    onStopRecording: stopRecording,\n                    error: error\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 185,\n                    columnNumber: 11\n                }, this);\n            case \"processing\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_waiting_state__WEBPACK_IMPORTED_MODULE_9__.WaitingState, {}, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 193,\n                    columnNumber: 16\n                }, this);\n            case \"finished\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_finish_state__WEBPACK_IMPORTED_MODULE_10__.FinishState, {\n                    transcriptEntries: transcriptEntries,\n                    onExport: ()=>{\n                        // TODO: 實現匯出功能\n                        console.log('Export functionality not implemented yet');\n                    },\n                    onToLatest: ()=>{\n                        // TODO: 實現捲動到最新功能\n                        console.log('To Latest functionality not implemented yet');\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 196,\n                    columnNumber: 11\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_default_state__WEBPACK_IMPORTED_MODULE_7__.DefaultState, {\n                    onStartRecording: ()=>{\n                        console.log(\"📱 StudyScriber: 準備調用 startRecording (default)，標題:\", draftTitle);\n                        startRecording(draftTitle);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 16\n                }, this);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen bg-background flex flex-col\",\n        suppressHydrationWarning: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-background border-b border-border px-6 flex-shrink-0 w-full h-20 flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-semibold text-foreground\",\n                        children: \"Study Scriber\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 222,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            (appState === \"default\" && !!session || appState === \"recording_waiting\" || appState === \"recording_active\" || appState === \"finished\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                variant: \"outline\",\n                                onClick: resetState,\n                                size: \"sm\",\n                                className: \"px-4 h-8 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                        lineNumber: 232,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"New note\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                lineNumber: 231,\n                                columnNumber: 15\n                            }, this),\n                            appState === \"finished\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                onClick: ()=>console.log('Export functionality'),\n                                size: \"sm\",\n                                className: \"px-4 h-8 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                        lineNumber: 240,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Export\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                lineNumber: 239,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                lineNumber: 221,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex h-[calc(100vh-80px)]\",\n                suppressHydrationWarning: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 bg-background border-r border-border h-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full p-6 flex flex-col gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_4__.Input, {\n                                    placeholder: \"請輸入標題...\",\n                                    className: \"text-lg font-semibold\",\n                                    value: draftTitle,\n                                    onChange: (e)=>setDraftTitle(e.target.value),\n                                    disabled: appState === 'processing' || appState === 'finished' || isRecording\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                    lineNumber: 252,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full editor-container flex-grow\",\n                                    \"data-testid\": \"editor-container\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SimpleMDE, {\n                                            options: editorOptions,\n                                            value: editorContent,\n                                            onChange: updateEditorContent,\n                                            getMdeInstance: (instance)=>{\n                                                if (true) {\n                                                    window.theEditor = instance;\n                                                }\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                            lineNumber: 260,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            \"data-testid\": \"fallback-editor\",\n                                            className: \"hidden\",\n                                            value: editorContent,\n                                            onChange: (e)=>updateEditorContent(e.target.value),\n                                            placeholder: \"Start writing your notes...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                            lineNumber: 271,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                    lineNumber: 259,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                            lineNumber: 251,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 250,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-80 bg-background flex-shrink-0 h-full\",\n                        children: renderRightPanel()\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 283,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                lineNumber: 248,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n        lineNumber: 219,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM3Q0ksVUFBVXZELGFBQWEsZ0JBQWdCQSxhQUFhLGNBQWNLOzs7Ozs7OENBRXBFLDhEQUFDYjtvQ0FBSUMsV0FBVTtvQ0FBb0MrRCxlQUFZOztzREFDN0QsOERBQUNuRTs0Q0FDQ29FLFNBQVN0Qjs0Q0FDVGdCLE9BQU8zQzs0Q0FDUDRDLFVBQVV6Qzs0Q0FDVitDLGdCQUFnQixDQUFDQztnREFDZixJQUFJQyxJQUFxQyxFQUFFO29EQUN4Q2xDLE9BQWVtQyxTQUFTLEdBQUdGO2dEQUM5Qjs0Q0FDRjs7Ozs7O3NEQUdGLDhEQUFDRzs0Q0FDQ04sZUFBWTs0Q0FDWi9ELFdBQVU7NENBQ1YwRCxPQUFPM0M7NENBQ1A0QyxVQUFVLENBQUNDLElBQU0xQyxvQkFBb0IwQyxFQUFFQyxNQUFNLENBQUNILEtBQUs7NENBQ25EZCxhQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQ0FPcEIsOERBQUM3Qzt3QkFBSUMsV0FBVTtrQ0FBMkNnRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSWxFIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9zdHVkeS1zY3JpYmVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgZHluYW1pYyBmcm9tIFwibmV4dC9keW5hbWljXCJcbmltcG9ydCBcImVhc3ltZGUvZGlzdC9lYXN5bWRlLm1pbi5jc3NcIlxuaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgUm90YXRlQ2N3LCBEb3dubG9hZCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuXG5cbi8vIOWLleaFi+WMr+WFpSBTaW1wbGVNREUg5Lul6YG/5YWNIFNTUiDllY/poYxcbmNvbnN0IFNpbXBsZU1ERSA9IGR5bmFtaWMoKCkgPT4gaW1wb3J0KFwicmVhY3Qtc2ltcGxlbWRlLWVkaXRvclwiKSwge1xuICBzc3I6IGZhbHNlLFxuICBsb2FkaW5nOiAoKSA9PiA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj7ovInlhaXnt6jovK/lmajkuK0uLi48L2Rpdj5cbn0pXG5pbXBvcnQgeyB1c2VBcHBTdG9yZSB9IGZyb20gXCIuL2xpYi9hcHAtc3RvcmUtenVzdGFuZFwiXG5pbXBvcnQgeyBEZWZhdWx0U3RhdGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2RlZmF1bHQtc3RhdGVcIlxuaW1wb3J0IHsgUmVjb3JkaW5nU3RhdGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL3JlY29yZGluZy1zdGF0ZVwiXG5pbXBvcnQgeyBXYWl0aW5nU3RhdGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dhaXRpbmctc3RhdGVcIlxuaW1wb3J0IHsgRmluaXNoU3RhdGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2ZpbmlzaC1zdGF0ZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcbiAgLy8g5L2/55SoIFp1c3RhbmQgc3RvcmVcbiAgY29uc3QgYXBwU3RhdGUgPSB1c2VBcHBTdG9yZShzdGF0ZSA9PiBzdGF0ZS5hcHBTdGF0ZSlcbiAgY29uc3QgaXNMb2FkaW5nID0gdXNlQXBwU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNMb2FkaW5nKVxuICBjb25zdCBlcnJvciA9IHVzZUFwcFN0b3JlKHN0YXRlID0+IHN0YXRlLmVycm9yKVxuICBjb25zdCBzZXNzaW9uID0gdXNlQXBwU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2Vzc2lvbilcbiAgY29uc3QgaXNSZWNvcmRpbmcgPSB1c2VBcHBTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc1JlY29yZGluZylcbiAgY29uc3QgcmVjb3JkaW5nVGltZSA9IHVzZUFwcFN0b3JlKHN0YXRlID0+IHN0YXRlLnJlY29yZGluZ1RpbWUpXG4gIGNvbnN0IHRyYW5zY3JpcHRFbnRyaWVzID0gdXNlQXBwU3RvcmUoc3RhdGUgPT4gc3RhdGUudHJhbnNjcmlwdEVudHJpZXMpXG4gIGNvbnN0IGVkaXRvckNvbnRlbnQgPSB1c2VBcHBTdG9yZShzdGF0ZSA9PiBzdGF0ZS5lZGl0b3JDb250ZW50KVxuICBcbiAgLy8gQWN0aW9uc1xuICBjb25zdCBzdGFydFJlY29yZGluZyA9IHVzZUFwcFN0b3JlKHN0YXRlID0+IHN0YXRlLnN0YXJ0UmVjb3JkaW5nKVxuICBjb25zdCBzdG9wUmVjb3JkaW5nID0gdXNlQXBwU3RvcmUoc3RhdGUgPT4gc3RhdGUuc3RvcFJlY29yZGluZylcbiAgY29uc3QgdXBkYXRlRWRpdG9yQ29udGVudCA9IHVzZUFwcFN0b3JlKHN0YXRlID0+IHN0YXRlLnVwZGF0ZUVkaXRvckNvbnRlbnQpXG4gIGNvbnN0IHJlc2V0U3RhdGUgPSB1c2VBcHBTdG9yZShzdGF0ZSA9PiBzdGF0ZS5yZXNldFN0YXRlKVxuICBjb25zdCBjbGVhckVycm9yID0gdXNlQXBwU3RvcmUoc3RhdGUgPT4gc3RhdGUuY2xlYXJFcnJvcilcbiAgY29uc3QgW2RyYWZ0VGl0bGUsIHNldERyYWZ0VGl0bGVdID0gdXNlU3RhdGUoXCJcIilcblxuICAvLyDkvb/nlKggWnVzdGFuZCBzdG9yZSAtIOaJgOacieeLgOaFi+W3suWcqOS4iuaWueWuo+WRilxuXG4gIC8vIOaqouafpeS4pua4heeQhueVsOW4uOeahCBsb2NhbFN0b3JhZ2Ug54uA5oWLXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBhcHBTdGF0ZURhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXBwX3N0YXRlX3YxJylcbiAgICAgIGlmIChhcHBTdGF0ZURhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWRTdGF0ZSA9IEpTT04ucGFyc2UoYXBwU3RhdGVEYXRhKVxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBbU3R1ZHlTY3JpYmVyXSDmqqLmn6UgbG9jYWxTdG9yYWdlIOeLgOaFizpcIiwgcGFyc2VkU3RhdGUpXG5cbiAgICAgICAgICAvLyDlpoLmnpzni4DmhYvmmK/nlbDluLjnmoTpjITpn7Pni4DmhYvvvIzmuIXpmaTlroNcbiAgICAgICAgICBpZiAocGFyc2VkU3RhdGUuc3RhdGUgJiYgWydyZWNvcmRpbmdfd2FpdGluZycsICdyZWNvcmRpbmdfYWN0aXZlJywgJ3Byb2Nlc3NpbmcnXS5pbmNsdWRlcyhwYXJzZWRTdGF0ZS5zdGF0ZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+nuSBbU3R1ZHlTY3JpYmVyXSDmuIXpmaTnlbDluLjnmoQgbG9jYWxTdG9yYWdlIOeLgOaFi1wiKVxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FwcF9zdGF0ZV92MScpXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbGFzdF9zZXNzaW9uJylcbiAgICAgICAgICAgIC8vIOWIt+aWsOmggemdouS7pemHjeaWsOWIneWni+WMllxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBbU3R1ZHlTY3JpYmVyXSDop6PmnpAgbG9jYWxTdG9yYWdlIOWkseaVlzpcIiwgZXJyb3IpXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FwcF9zdGF0ZV92MScpXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xhc3Rfc2Vzc2lvbicpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIOi/vei5pOeLgOaFi+a1gei9iVxuICBjb25zb2xlLmxvZyhcIltERUJVR10gYXBwU3RhdGU6XCIsIGFwcFN0YXRlKVxuICBjb25zb2xlLmxvZyhcIltERUJVR10gaXNSZWNvcmRpbmc6XCIsIGlzUmVjb3JkaW5nKVxuICBpZiAoc2Vzc2lvbikge1xuICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHXSBzZXNzaW9uLnN0YXR1czpcIiwgc2Vzc2lvbi5zdGF0dXMsIFwic2Vzc2lvbi50eXBlOlwiLCBzZXNzaW9uLnR5cGUpXG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJbREVCVUddIHNlc3Npb246IG51bGxcIilcbiAgfVxuXG4gIC8vIOa3u+WKoOiqv+ippuWKn+iDveWIsCB3aW5kb3dcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8g5pq06Zyy5a6M5pW054uA5oWL5YiwIHdpbmRvdy5hcHBEYXRhIOS7peS+v+iouuaWt1xuICAgICh3aW5kb3cgYXMgYW55KS5hcHBEYXRhID0ge1xuICAgICAgc3RhdGU6IGFwcFN0YXRlLFxuICAgICAgaXNSZWNvcmRpbmcsXG4gICAgICByZWNvcmRpbmdUaW1lLFxuICAgICAgdHJhbnNjcmlwdEVudHJpZXMsXG4gICAgICBlZGl0b3JDb250ZW50LFxuICAgICAgc2Vzc2lvbixcbiAgICAgIGlzTG9hZGluZyxcbiAgICAgIGVycm9yXG4gICAgfVxuICB9XG5cbiAgLy8g5pq06Zyy6YyE6Z+z54uA5oWL5YiwIHdpbmRvdyDku6Xkvr/oqr/oqaZcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgKHdpbmRvdyBhcyBhbnkpLnJlY29yZGluZ0hvb2sgPSB7IGlzUmVjb3JkaW5nLCByZWNvcmRpbmdUaW1lIH1cbiAgfVxuXG4gIC8vIOaatOmcsiBzZXNzaW9uIOWIsCB3aW5kb3cg5Lul5L6/6Kq/6KmmXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICh3aW5kb3cgYXMgYW55KS5zZXNzaW9uSG9vayA9IHtcbiAgICAgIGN1cnJlbnRTZXNzaW9uOiBzZXNzaW9uLFxuICAgICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcsXG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwi8J+TsSBTdHVkeVNjcmliZXI6IHN0YXRlIOabtOaWsDpcIiwge1xuICAgICAgc3RhdGU6IGFwcFN0YXRlLFxuICAgICAgaXNSZWNvcmRpbmc6IGlzUmVjb3JkaW5nLFxuICAgICAgcmVjb3JkaW5nVGltZTogcmVjb3JkaW5nVGltZSxcbiAgICAgIHRyYW5zY3JpcHRFbnRyaWVzOiB0cmFuc2NyaXB0RW50cmllcyxcbiAgICAgIGVkaXRvckNvbnRlbnQ6IGVkaXRvckNvbnRlbnQsXG4gICAgICBzZXNzaW9uOiBzZXNzaW9uLFxuICAgICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcsXG4gICAgICBlcnJvcjogZXJyb3IsXG4gICAgfSlcbiAgfSwgW2FwcFN0YXRlLCBpc1JlY29yZGluZywgcmVjb3JkaW5nVGltZSwgdHJhbnNjcmlwdEVudHJpZXMsIGVkaXRvckNvbnRlbnQsIHNlc3Npb24sIGlzTG9hZGluZywgZXJyb3JdKVxuXG4gIGNvbnN0IGVkaXRvck9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3BlbGxDaGVja2VyOiBmYWxzZSxcbiAgICAgIHBsYWNlaG9sZGVyOiBcIlN0YXJ0IHdyaXRpbmcgeW91ciBub3Rlcy4uLlwiLFxuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIHRvb2xiYXI6IFtcbiAgICAgICAgXCJib2xkXCIsXG4gICAgICAgIFwiaXRhbGljXCIsXG4gICAgICAgIFwic3RyaWtldGhyb3VnaFwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJoZWFkaW5nLTFcIixcbiAgICAgICAgXCJoZWFkaW5nLTJcIixcbiAgICAgICAgXCJoZWFkaW5nLTNcIixcbiAgICAgICAgXCJ8XCIsXG4gICAgICAgIFwicXVvdGVcIixcbiAgICAgICAgXCJ1bm9yZGVyZWQtbGlzdFwiLFxuICAgICAgICBcIm9yZGVyZWQtbGlzdFwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJsaW5rXCIsXG4gICAgICAgIFwiaW1hZ2VcIixcbiAgICAgICAgXCJ0YWJsZVwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJwcmV2aWV3XCIsXG4gICAgICAgIFwic2lkZS1ieS1zaWRlXCIsXG4gICAgICAgIFwiZnVsbHNjcmVlblwiLFxuICAgICAgXSBhcyBjb25zdCxcbiAgICAgIGF1dG9mb2N1czogdHJ1ZSxcbiAgICAgIHRhYlNpemU6IDIsXG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCByZW5kZXJSaWdodFBhbmVsID0gKCkgPT4ge1xuICAgIC8vIOeLgOaFi+eVsOW4uOaqouafpe+8muWmguaenOaYryByZWNvcmRpbmdfd2FpdGluZyDkvYbmspLmnIkgc2Vzc2lvbu+8jOaHieipsumhr+ekuiBkZWZhdWx0IOeLgOaFi1xuICAgIGlmIChhcHBTdGF0ZSA9PT0gXCJyZWNvcmRpbmdfd2FpdGluZ1wiICYmICFzZXNzaW9uKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIuKaoO+4jyBbU3R1ZHlTY3JpYmVyXSDmqqLmuKzliLDni4DmhYvnlbDluLg6IHJlY29yZGluZ193YWl0aW5nIOS9huaykuaciSBzZXNzaW9u77yM6aGv56S6IERlZmF1bHRTdGF0ZVwiKVxuICAgICAgcmV0dXJuIDxEZWZhdWx0U3RhdGVcbiAgICAgICAgb25TdGFydFJlY29yZGluZz17KCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TsSBTdHVkeVNjcmliZXI6IOa6luWCmeiqv+eUqCBzdGFydFJlY29yZGluZ++8iOeLgOaFi+S/ruW+qe+8ie+8jOaomemhjDpcIiwgZHJhZnRUaXRsZSlcbiAgICAgICAgICBzdGFydFJlY29yZGluZyhkcmFmdFRpdGxlKVxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICB9XG5cbiAgICBzd2l0Y2ggKGFwcFN0YXRlKSB7XG4gICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgW1N0dWR5U2NyaWJlcl0g5riy5p+TIERlZmF1bHRTdGF0Ze+8jHN0YXJ0UmVjb3JkaW5nIOWHveaVuDpcIiwgdHlwZW9mIHN0YXJ0UmVjb3JkaW5nKVxuICAgICAgICByZXR1cm4gPERlZmF1bHRTdGF0ZVxuICAgICAgICAgIG9uU3RhcnRSZWNvcmRpbmc9eygpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TsSBTdHVkeVNjcmliZXI6IOa6luWCmeiqv+eUqCBzdGFydFJlY29yZGluZ++8jOaomemhjDpcIiwgZHJhZnRUaXRsZSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TsSBTdHVkeVNjcmliZXI6IHN0YXJ0UmVjb3JkaW5nIOWHveaVuOmhnuWeizpcIiwgdHlwZW9mIHN0YXJ0UmVjb3JkaW5nKVxuICAgICAgICAgICAgc3RhcnRSZWNvcmRpbmcoZHJhZnRUaXRsZSlcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgY2FzZSBcInJlY29yZGluZ19hY3RpdmVcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVjb3JkaW5nU3RhdGVcbiAgICAgICAgICAgIHRyYW5zY3JpcHRFbnRyaWVzPXt0cmFuc2NyaXB0RW50cmllc31cbiAgICAgICAgICAgIHJlY29yZGluZ1RpbWU9e3JlY29yZGluZ1RpbWV9XG4gICAgICAgICAgICBvblN0b3BSZWNvcmRpbmc9e3N0b3BSZWNvcmRpbmd9XG4gICAgICAgICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgY2FzZSBcInJlY29yZGluZ193YWl0aW5nXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlY29yZGluZ1N0YXRlXG4gICAgICAgICAgICB0cmFuc2NyaXB0RW50cmllcz17dHJhbnNjcmlwdEVudHJpZXN9XG4gICAgICAgICAgICByZWNvcmRpbmdUaW1lPXtyZWNvcmRpbmdUaW1lfVxuICAgICAgICAgICAgb25TdG9wUmVjb3JkaW5nPXtzdG9wUmVjb3JkaW5nfVxuICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIGNhc2UgXCJwcm9jZXNzaW5nXCI6XG4gICAgICAgIHJldHVybiA8V2FpdGluZ1N0YXRlIC8+XG4gICAgICBjYXNlIFwiZmluaXNoZWRcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RmluaXNoU3RhdGVcbiAgICAgICAgICAgIHRyYW5zY3JpcHRFbnRyaWVzPXt0cmFuc2NyaXB0RW50cmllc31cbiAgICAgICAgICAgIG9uRXhwb3J0PXsoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFRPRE86IOWvpuePvuWMr+WHuuWKn+iDvVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXhwb3J0IGZ1bmN0aW9uYWxpdHkgbm90IGltcGxlbWVudGVkIHlldCcpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Ub0xhdGVzdD17KCkgPT4ge1xuICAgICAgICAgICAgICAvLyBUT0RPOiDlr6bnj77mjbLli5XliLDmnIDmlrDlip/og71cbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RvIExhdGVzdCBmdW5jdGlvbmFsaXR5IG5vdCBpbXBsZW1lbnRlZCB5ZXQnKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPERlZmF1bHRTdGF0ZVxuICAgICAgICAgIG9uU3RhcnRSZWNvcmRpbmc9eygpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TsSBTdHVkeVNjcmliZXI6IOa6luWCmeiqv+eUqCBzdGFydFJlY29yZGluZyAoZGVmYXVsdCnvvIzmqJnpoYw6XCIsIGRyYWZ0VGl0bGUpXG4gICAgICAgICAgICBzdGFydFJlY29yZGluZyhkcmFmdFRpdGxlKVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtc2NyZWVuIGJnLWJhY2tncm91bmQgZmxleCBmbGV4LWNvbFwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz17dHJ1ZX0+XG4gICAgICB7LyogRnVsbCBXaWR0aCBIZWFkZXIgLSBGaXhlZCBoZWlnaHQgb2YgODBweCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmFja2dyb3VuZCBib3JkZXItYiBib3JkZXItYm9yZGVyIHB4LTYgZmxleC1zaHJpbmstMCB3LWZ1bGwgaC0yMCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kXCI+U3R1ZHkgU2NyaWJlcjwvaDE+XG5cbiAgICAgICAgey8qIEhlYWRlciBhY3Rpb24gYnV0dG9ucyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgey8qIE5ldyBub3RlIOaMiemIlSAtIOWcqOaciea0u+i6jeacg+ipseaIlumcgOimgeeahOeLgOaFi+S4i+mhr+ekuiAqL31cbiAgICAgICAgICB7KChhcHBTdGF0ZSA9PT0gXCJkZWZhdWx0XCIgJiYgISFzZXNzaW9uKSB8fFxuICAgICAgICAgICAgYXBwU3RhdGUgPT09IFwicmVjb3JkaW5nX3dhaXRpbmdcIiB8fFxuICAgICAgICAgICAgYXBwU3RhdGUgPT09IFwicmVjb3JkaW5nX2FjdGl2ZVwiIHx8XG4gICAgICAgICAgICBhcHBTdGF0ZSA9PT0gXCJmaW5pc2hlZFwiKSAmJiAoXG4gICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXtyZXNldFN0YXRlfSBzaXplPVwic21cIiBjbGFzc05hbWU9XCJweC00IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxSb3RhdGVDY3cgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgTmV3IG5vdGVcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIEV4cG9ydCDmjInpiJUgLSDlj6rlnKggZmluaXNoZWQg54uA5oWL6aGv56S6ICovfVxuICAgICAgICAgIHthcHBTdGF0ZSA9PT0gXCJmaW5pc2hlZFwiICYmIChcbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gY29uc29sZS5sb2coJ0V4cG9ydCBmdW5jdGlvbmFsaXR5Jyl9IHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cInB4LTQgaC04IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxEb3dubG9hZCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTWFpbiBDb250ZW50IC0gVHdvIFBhbmVsIExheW91dCAtIEFkanVzdGVkIGZvciBmaXhlZCBoZWFkZXIgaGVpZ2h0ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtW2NhbGMoMTAwdmgtODBweCldXCIgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPXt0cnVlfT5cbiAgICAgICAgey8qIExlZnQgUGFuZWwgLSBTaW1wbGVNREUgRWRpdG9yICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iYWNrZ3JvdW5kIGJvcmRlci1yIGJvcmRlci1ib3JkZXIgaC1mdWxsXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgcC02IGZsZXggZmxleC1jb2wgZ2FwLTRcIj5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuiri+i8uOWFpeaomemhjC4uLlwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtkcmFmdFRpdGxlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0VGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17YXBwU3RhdGUgPT09ICdwcm9jZXNzaW5nJyB8fCBhcHBTdGF0ZSA9PT0gJ2ZpbmlzaGVkJyB8fCBpc1JlY29yZGluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBlZGl0b3ItY29udGFpbmVyIGZsZXgtZ3Jvd1wiIGRhdGEtdGVzdGlkPVwiZWRpdG9yLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8U2ltcGxlTURFXG4gICAgICAgICAgICAgICAgb3B0aW9ucz17ZWRpdG9yT3B0aW9uc31cbiAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdG9yQ29udGVudH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dXBkYXRlRWRpdG9yQ29udGVudH1cbiAgICAgICAgICAgICAgICBnZXRNZGVJbnN0YW5jZT17KGluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkudGhlRWRpdG9yID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgey8qIOmZjee0mueahCB0ZXh0YXJlYSDnlKjmlrzmuKzoqabnkrDlooMgKi99XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiZmFsbGJhY2stZWRpdG9yXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0b3JDb250ZW50fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlRWRpdG9yQ29udGVudChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdGFydCB3cml0aW5nIHlvdXIgbm90ZXMuLi5cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBSaWdodCBQYW5lbCAtIFN0YXRlLWRlcGVuZGVudCBjb250ZW50ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctODAgYmctYmFja2dyb3VuZCBmbGV4LXNocmluay0wIGgtZnVsbFwiPntyZW5kZXJSaWdodFBhbmVsKCl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbImR5bmFtaWMiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJJbnB1dCIsIkJ1dHRvbiIsIlJvdGF0ZUNjdyIsIkRvd25sb2FkIiwiU2ltcGxlTURFIiwic3NyIiwibG9hZGluZyIsImRpdiIsImNsYXNzTmFtZSIsInVzZUFwcFN0b3JlIiwiRGVmYXVsdFN0YXRlIiwiUmVjb3JkaW5nU3RhdGUiLCJXYWl0aW5nU3RhdGUiLCJGaW5pc2hTdGF0ZSIsIkNvbXBvbmVudCIsImFwcFN0YXRlIiwic3RhdGUiLCJpc0xvYWRpbmciLCJlcnJvciIsInNlc3Npb24iLCJpc1JlY29yZGluZyIsInJlY29yZGluZ1RpbWUiLCJ0cmFuc2NyaXB0RW50cmllcyIsImVkaXRvckNvbnRlbnQiLCJzdGFydFJlY29yZGluZyIsInN0b3BSZWNvcmRpbmciLCJ1cGRhdGVFZGl0b3JDb250ZW50IiwicmVzZXRTdGF0ZSIsImNsZWFyRXJyb3IiLCJkcmFmdFRpdGxlIiwic2V0RHJhZnRUaXRsZSIsImFwcFN0YXRlRGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWRTdGF0ZSIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJpbmNsdWRlcyIsInJlbW92ZUl0ZW0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsInN0YXR1cyIsInR5cGUiLCJhcHBEYXRhIiwicmVjb3JkaW5nSG9vayIsInNlc3Npb25Ib29rIiwiY3VycmVudFNlc3Npb24iLCJlZGl0b3JPcHRpb25zIiwic3BlbGxDaGVja2VyIiwicGxhY2Vob2xkZXIiLCJ0b29sYmFyIiwiYXV0b2ZvY3VzIiwidGFiU2l6ZSIsInJlbmRlclJpZ2h0UGFuZWwiLCJvblN0YXJ0UmVjb3JkaW5nIiwib25TdG9wUmVjb3JkaW5nIiwib25FeHBvcnQiLCJvblRvTGF0ZXN0Iiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwiaDEiLCJ2YXJpYW50Iiwib25DbGljayIsInNpemUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImRpc2FibGVkIiwiZGF0YS10ZXN0aWQiLCJvcHRpb25zIiwiZ2V0TWRlSW5zdGFuY2UiLCJpbnN0YW5jZSIsInByb2Nlc3MiLCJ0aGVFZGl0b3IiLCJ0ZXh0YXJlYSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./study-scriber.tsx\n");

/***/ }),

/***/ "(ssr)/./types/app-state-context.ts":
/*!************************************!*\
  !*** ./types/app-state-context.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initialAppData: () => (/* binding */ initialAppData),\n/* harmony export */   initialContextState: () => (/* binding */ initialContextState)\n/* harmony export */ });\n// 初始狀態\nconst initialAppData = {\n    state: \"default\",\n    transcriptEntries: [],\n    editorContent: \"\",\n    isRecording: false,\n    recordingTime: 0,\n    session: null\n};\nconst initialContextState = {\n    appData: initialAppData,\n    isLoading: false,\n    error: null\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi90eXBlcy9hcHAtc3RhdGUtY29udGV4dC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQTRDQSxPQUFPO0FBQ0EsTUFBTUEsaUJBQTBCO0lBQ25DQyxPQUFPO0lBQ1BDLG1CQUFtQixFQUFFO0lBQ3JCQyxlQUFlO0lBQ2ZDLGFBQWE7SUFDYkMsZUFBZTtJQUNmQyxTQUFTO0FBQ2IsRUFBQztBQUVNLE1BQU1DLHNCQUFzQjtJQUMvQkMsU0FBU1I7SUFDVFMsV0FBVztJQUNYQyxPQUFPO0FBQ1gsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvdHlwZXMvYXBwLXN0YXRlLWNvbnRleHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwRGF0YSwgQXBwU3RhdGUsIFNlc3Npb25TdGF0dXMsIFNlc3Npb25UeXBlLCBUcmFuc2NyaXB0RW50cnkgfSBmcm9tIFwiLi9hcHAtc3RhdGVcIlxuaW1wb3J0IHsgU3RhdGVUcmFuc2l0aW9uVHJpZ2dlciwgU3RhdGVUcmFuc2l0aW9uUmVzdWx0IH0gZnJvbSAnLi9zdGF0ZS10cmFuc2l0aW9ucyc7XG5cbi8vIOeLgOaFi+euoeeQhiBBY3Rpb25zXG5leHBvcnQgdHlwZSBBcHBTdGF0ZUFjdGlvbiA9XG4gICAgfCB7IHR5cGU6IFwiU0VUX1NUQVRFXCI7IHBheWxvYWQ6IEFwcFN0YXRlIH1cbiAgICB8IHsgdHlwZTogXCJTRVRfQVBQX1NUQVRFXCI7IHBheWxvYWQ6IEFwcFN0YXRlIH0gIC8vIOWIpeWQje+8jOeCuuS6huWQkeW+jOebuOWuuVxuICAgIHwgeyB0eXBlOiBcIlNFVF9SRUNPUkRJTkdcIjsgcGF5bG9hZDogYm9vbGVhbiB9XG4gICAgfCB7IHR5cGU6IFwiU0VUX1JFQ09SRElOR19USU1FXCI7IHBheWxvYWQ6IG51bWJlciB9XG4gICAgfCB7IHR5cGU6IFwiU0VUX0VESVRPUl9DT05URU5UXCI7IHBheWxvYWQ6IHN0cmluZyB9XG4gICAgfCB7IHR5cGU6IFwiU0VUX1RSQU5TQ1JJUFRfRU5UUklFU1wiOyBwYXlsb2FkOiBUcmFuc2NyaXB0RW50cnlbXSB9XG4gICAgfCB7IHR5cGU6IFwiQUREX1RSQU5TQ1JJUFRfRU5UUllcIjsgcGF5bG9hZDogVHJhbnNjcmlwdEVudHJ5IH1cbiAgICB8IHsgdHlwZTogXCJTRVRfU0VTU0lPTlwiOyBwYXlsb2FkOiB7IGlkOiBzdHJpbmc7IHN0YXR1czogU2Vzc2lvblN0YXR1czsgdHlwZTogU2Vzc2lvblR5cGUgfSB8IG51bGwgfVxuICAgIHwgeyB0eXBlOiBcIlVQREFURV9TRVNTSU9OX1NUQVRVU1wiOyBwYXlsb2FkOiBTZXNzaW9uU3RhdHVzIH1cbiAgICB8IHsgdHlwZTogXCJSRVNFVF9TVEFURVwiIH1cbiAgICB8IHsgdHlwZTogXCJTRVRfTE9BRElOR1wiOyBwYXlsb2FkOiBib29sZWFuIH1cbiAgICB8IHsgdHlwZTogXCJTRVRfRVJST1JcIjsgcGF5bG9hZDogc3RyaW5nIHwgbnVsbCB9XG4gICAgfCB7IHR5cGU6IFwiQ0xFQVJfRVJST1JcIiB9XG5cbi8vIENvbnRleHQg54uA5oWL5LuL6Z2iXG5leHBvcnQgaW50ZXJmYWNlIEFwcFN0YXRlQ29udGV4dFZhbHVlIHtcbiAgICAvLyDni4DmhYvmlbjmk5pcbiAgICBhcHBEYXRhOiBBcHBEYXRhXG4gICAgaXNMb2FkaW5nOiBib29sZWFuXG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGxcblxuICAgIC8vIOeLgOaFi+abtOaWsOWHveaVuFxuICAgIGRpc3BhdGNoOiAoYWN0aW9uOiBBcHBTdGF0ZUFjdGlvbikgPT4gdm9pZFxuXG4gICAgLy8g5L6/5Yip5pa55rOV77yI5bCB6KOd5bi455So55qEIGRpc3BhdGNoIOaTjeS9nO+8iVxuICAgIHNldFN0YXRlOiAoc3RhdGU6IEFwcFN0YXRlKSA9PiB2b2lkXG4gICAgc2V0UmVjb3JkaW5nOiAoaXNSZWNvcmRpbmc6IGJvb2xlYW4pID0+IHZvaWRcbiAgICBzZXRSZWNvcmRpbmdUaW1lOiAodGltZTogbnVtYmVyKSA9PiB2b2lkXG4gICAgc2V0RWRpdG9yQ29udGVudDogKGNvbnRlbnQ6IHN0cmluZykgPT4gdm9pZFxuICAgIHNldFRyYW5zY3JpcHRFbnRyaWVzOiAoZW50cmllczogVHJhbnNjcmlwdEVudHJ5W10pID0+IHZvaWRcbiAgICBhZGRUcmFuc2NyaXB0RW50cnk6IChlbnRyeTogVHJhbnNjcmlwdEVudHJ5KSA9PiB2b2lkXG4gICAgc2V0U2Vzc2lvbjogKHNlc3Npb246IHsgaWQ6IHN0cmluZzsgc3RhdHVzOiBTZXNzaW9uU3RhdHVzOyB0eXBlOiBTZXNzaW9uVHlwZSB9IHwgbnVsbCkgPT4gdm9pZFxuICAgIHVwZGF0ZVNlc3Npb25TdGF0dXM6IChzdGF0dXM6IFNlc3Npb25TdGF0dXMpID0+IHZvaWRcbiAgICByZXNldFN0YXRlOiAoKSA9PiB2b2lkXG4gICAgc2V0TG9hZGluZzogKGxvYWRpbmc6IGJvb2xlYW4pID0+IHZvaWRcbiAgICBzZXRFcnJvcjogKGVycm9yOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkXG4gICAgdHJhbnNpdGlvbjogKHRyaWdnZXI6IFN0YXRlVHJhbnNpdGlvblRyaWdnZXIpID0+IFN0YXRlVHJhbnNpdGlvblJlc3VsdCB8IG51bGxcbn1cblxuLy8g5Yid5aeL54uA5oWLXG5leHBvcnQgY29uc3QgaW5pdGlhbEFwcERhdGE6IEFwcERhdGEgPSB7XG4gICAgc3RhdGU6IFwiZGVmYXVsdFwiLFxuICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBbXSxcbiAgICBlZGl0b3JDb250ZW50OiBcIlwiLFxuICAgIGlzUmVjb3JkaW5nOiBmYWxzZSxcbiAgICByZWNvcmRpbmdUaW1lOiAwLFxuICAgIHNlc3Npb246IG51bGwsXG59XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsQ29udGV4dFN0YXRlID0ge1xuICAgIGFwcERhdGE6IGluaXRpYWxBcHBEYXRhLFxuICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgZXJyb3I6IG51bGwsXG59XG4iXSwibmFtZXMiOlsiaW5pdGlhbEFwcERhdGEiLCJzdGF0ZSIsInRyYW5zY3JpcHRFbnRyaWVzIiwiZWRpdG9yQ29udGVudCIsImlzUmVjb3JkaW5nIiwicmVjb3JkaW5nVGltZSIsInNlc3Npb24iLCJpbml0aWFsQ29udGV4dFN0YXRlIiwiYXBwRGF0YSIsImlzTG9hZGluZyIsImVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./types/app-state-context.ts\n");

/***/ }),

/***/ "(ssr)/./types/state-transitions.ts":
/*!************************************!*\
  !*** ./types/state-transitions.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   STATE_TRANSITION_RULES: () => (/* binding */ STATE_TRANSITION_RULES),\n/* harmony export */   STATE_TRANSITION_SIDE_EFFECTS: () => (/* binding */ STATE_TRANSITION_SIDE_EFFECTS)\n/* harmony export */ });\n// 狀態轉換規則定義\nconst STATE_TRANSITION_RULES = [\n    // 從 default 狀態開始錄音\n    {\n        currentState: \"default\",\n        targetState: \"recording_waiting\",\n        trigger: \"USER_START_RECORDING\",\n        customValidator: (context)=>{\n            // 確保沒有其他活躍的錄音 session\n            return !context.session || context.session.status === \"completed\" || context.session.status === \"error\";\n        }\n    },\n    // 從 recording_waiting 重新開始錄音（處理重試情況）\n    {\n        currentState: \"recording_waiting\",\n        targetState: \"recording_waiting\",\n        trigger: \"USER_START_RECORDING\",\n        customValidator: (context)=>{\n            // 允許在沒有 session 或 session 狀態異常時重新開始\n            return !context.session || context.session.status === \"completed\" || context.session.status === \"error\";\n        }\n    },\n    // Session 建立完成後保持在 default 狀態\n    {\n        currentState: \"default\",\n        targetState: \"default\",\n        trigger: \"SESSION_CREATED\",\n        sessionExists: true,\n        sessionStatus: \"draft\"\n    },\n    // 修復：從 recording_waiting 狀態處理 SESSION_CREATED，保持在 recording_waiting 等待 WebSocket 連接\n    {\n        currentState: \"recording_waiting\",\n        targetState: \"recording_waiting\",\n        trigger: \"SESSION_CREATED\",\n        sessionExists: true,\n        sessionStatus: \"active\",\n        sessionType: \"recording\"\n    },\n    // 從 recording_waiting 收到第一個逐字稿轉為 recording_active\n    {\n        currentState: \"recording_waiting\",\n        targetState: \"recording_active\",\n        trigger: \"FIRST_TRANSCRIPT_RECEIVED\",\n        sessionExists: true,\n        sessionStatus: \"active\",\n        sessionType: \"recording\",\n        isRecording: true,\n        hasTranscripts: true\n    },\n    // 從 recording_waiting 或 recording_active 停止錄音轉為 processing\n    {\n        currentState: \"recording_waiting\",\n        targetState: \"processing\",\n        trigger: \"USER_STOP_RECORDING\",\n        sessionExists: true,\n        sessionType: \"recording\"\n    },\n    {\n        currentState: \"recording_active\",\n        targetState: \"processing\",\n        trigger: \"USER_STOP_RECORDING\",\n        sessionExists: true,\n        sessionType: \"recording\"\n    },\n    // 從 processing 完成轉錄轉為 finished\n    {\n        currentState: \"processing\",\n        targetState: \"finished\",\n        trigger: \"PROCESSING_COMPLETED\",\n        sessionExists: true,\n        sessionStatus: \"completed\"\n    },\n    // 修復：從任何狀態發生錯誤回到 default\n    {\n        currentState: \"recording_waiting\",\n        targetState: \"default\",\n        trigger: \"ERROR_OCCURRED\"\n    },\n    {\n        currentState: \"recording_active\",\n        targetState: \"default\",\n        trigger: \"ERROR_OCCURRED\"\n    },\n    {\n        currentState: \"processing\",\n        targetState: \"default\",\n        trigger: \"ERROR_OCCURRED\"\n    },\n    // 從 finished 或任何狀態開新筆記回到 default\n    {\n        currentState: \"finished\",\n        targetState: \"default\",\n        trigger: \"USER_NEW_NOTE\"\n    },\n    {\n        currentState: \"recording_waiting\",\n        targetState: \"default\",\n        trigger: \"USER_NEW_NOTE\"\n    },\n    {\n        currentState: \"recording_active\",\n        targetState: \"default\",\n        trigger: \"USER_NEW_NOTE\"\n    }\n];\n// 狀態轉換副作用映射\nconst STATE_TRANSITION_SIDE_EFFECTS = {\n    // default -> recording_waiting: 建立會話、開始錄音並連接 WebSocket\n    \"default->recording_waiting->USER_START_RECORDING\": [\n        {\n            type: \"CREATE_SESSION\",\n            sessionType: \"recording\"\n        },\n        {\n            type: \"START_RECORDING\"\n        },\n        {\n            type: \"CONNECT_WEBSOCKET\"\n        }\n    ],\n    // recording_waiting -> recording_waiting: 重新開始錄音（重試情況）\n    \"recording_waiting->recording_waiting->USER_START_RECORDING\": [\n        {\n            type: \"CREATE_SESSION\",\n            sessionType: \"recording\"\n        },\n        {\n            type: \"START_RECORDING\"\n        },\n        {\n            type: \"CONNECT_WEBSOCKET\"\n        }\n    ],\n    // recording_waiting/recording_active -> processing: 停止錄音\n    \"recording_waiting->processing->USER_STOP_RECORDING\": [\n        {\n            type: \"STOP_RECORDING\"\n        }\n    ],\n    \"recording_active->processing->USER_STOP_RECORDING\": [\n        {\n            type: \"STOP_RECORDING\"\n        }\n    ],\n    // processing -> finished: 完成 session\n    \"processing->finished->PROCESSING_COMPLETED\": [\n        {\n            type: \"FINISH_SESSION\"\n        }\n    ],\n    // 任何狀態 -> default (新筆記): 清理狀態\n    \"finished->default->USER_NEW_NOTE\": [\n        {\n            type: \"CLEAR_TRANSCRIPTS\"\n        },\n        {\n            type: \"SAVE_DRAFT\"\n        }\n    ],\n    \"recording_waiting->default->USER_NEW_NOTE\": [\n        {\n            type: \"STOP_RECORDING\"\n        },\n        {\n            type: \"DISCONNECT_WEBSOCKET\"\n        },\n        {\n            type: \"CLEAR_TRANSCRIPTS\"\n        }\n    ],\n    \"recording_active->default->USER_NEW_NOTE\": [\n        {\n            type: \"STOP_RECORDING\"\n        },\n        {\n            type: \"DISCONNECT_WEBSOCKET\"\n        },\n        {\n            type: \"CLEAR_TRANSCRIPTS\"\n        }\n    ],\n    // 錯誤處理\n    \"recording_waiting->default->ERROR_OCCURRED\": [\n        {\n            type: \"STOP_RECORDING\"\n        },\n        {\n            type: \"DISCONNECT_WEBSOCKET\"\n        },\n        {\n            type: \"SHOW_ERROR\",\n            message: \"錄音過程中發生錯誤\"\n        }\n    ],\n    \"recording_active->default->ERROR_OCCURRED\": [\n        {\n            type: \"STOP_RECORDING\"\n        },\n        {\n            type: \"DISCONNECT_WEBSOCKET\"\n        },\n        {\n            type: \"SHOW_ERROR\",\n            message: \"錄音過程中發生錯誤\"\n        }\n    ],\n    \"processing->default->ERROR_OCCURRED\": [\n        {\n            type: \"SHOW_ERROR\",\n            message: \"處理轉錄時發生錯誤\"\n        }\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQXVCO1FBQy9CO1lBQUVBLE1BQU07UUFBb0I7S0FDN0I7SUFDRCw0Q0FBNEM7UUFDMUM7WUFBRUEsTUFBTTtRQUFpQjtRQUN6QjtZQUFFQSxNQUFNO1FBQXVCO1FBQy9CO1lBQUVBLE1BQU07UUFBb0I7S0FDN0I7SUFFRCxPQUFPO0lBQ1AsOENBQThDO1FBQzVDO1lBQUVBLE1BQU07UUFBaUI7UUFDekI7WUFBRUEsTUFBTTtRQUF1QjtRQUMvQjtZQUFFQSxNQUFNO1lBQWNDLFNBQVM7UUFBWTtLQUM1QztJQUNELDZDQUE2QztRQUMzQztZQUFFRCxNQUFNO1FBQWlCO1FBQ3pCO1lBQUVBLE1BQU07UUFBdUI7UUFDL0I7WUFBRUEsTUFBTTtZQUFjQyxTQUFTO1FBQVk7S0FDNUM7SUFDRCx1Q0FBdUM7UUFDckM7WUFBRUQsTUFBTTtZQUFjQyxTQUFTO1FBQVk7S0FDNUM7QUFDSCxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC90eXBlcy9zdGF0ZS10cmFuc2l0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBTdGF0ZSwgU2Vzc2lvblN0YXR1cywgU2Vzc2lvblR5cGUgfSBmcm9tIFwiLi9hcHAtc3RhdGVcIlxuXG4vLyDni4DmhYvovYnmj5vop7jnmbzlmajpoZ7lnotcbmV4cG9ydCB0eXBlIFN0YXRlVHJhbnNpdGlvblRyaWdnZXIgPVxuICB8IFwiVVNFUl9TVEFSVF9SRUNPUkRJTkdcIiAgICAgICAgICAvLyDnlKjmiLbplovlp4vpjITpn7NcbiAgfCBcIlVTRVJfU1RPUF9SRUNPUkRJTkdcIiAgICAgICAgICAgLy8g55So5oi25YGc5q2i6YyE6Z+zXG4gIHwgXCJGSVJTVF9UUkFOU0NSSVBUX1JFQ0VJVkVEXCIgICAgIC8vIOaUtuWIsOesrOS4gOWAi+mAkOWtl+eov1xuICB8IFwiU0VTU0lPTl9DUkVBVEVEXCIgICAgICAgICAgICAgICAvLyBTZXNzaW9uIOW7uueri+WujOaIkFxuICB8IFwiU0VTU0lPTl9VUEdSQURFRFwiICAgICAgICAgICAgICAvLyBTZXNzaW9uIOWNh+e0mueCuumMhOmfs+aooeW8j1xuICB8IFwiUFJPQ0VTU0lOR19TVEFSVEVEXCIgICAgICAgICAgICAvLyDplovlp4vomZXnkIblianppJjpgJDlrZfnqL9cbiAgfCBcIlBST0NFU1NJTkdfQ09NUExFVEVEXCIgICAgICAgICAgLy8g6JmV55CG5a6M5oiQXG4gIHwgXCJFUlJPUl9PQ0NVUlJFRFwiICAgICAgICAgICAgICAgIC8vIOeZvOeUn+mMr+iqpFxuICB8IFwiVVNFUl9ORVdfTk9URVwiICAgICAgICAgICAgICAgICAvLyDnlKjmiLbplovmlrDnrYboqJhcbiAgfCBcIlRSQU5TQ1JJUFRfQ09NUExFVEVEXCIgICAgICAgICAgLy8g6L2J6YyE5a6M5YWo5a6M5oiQXG5cbi8vIOeLgOaFi+i9ieaPm+aineS7tlxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZVRyYW5zaXRpb25Db25kaXRpb24ge1xuICBjdXJyZW50U3RhdGU6IEFwcFN0YXRlXG4gIHRhcmdldFN0YXRlOiBBcHBTdGF0ZVxuICB0cmlnZ2VyOiBTdGF0ZVRyYW5zaXRpb25UcmlnZ2VyXG5cbiAgLy8g6aGN5aSW5qKd5Lu25qqi5p+lXG4gIHNlc3Npb25FeGlzdHM/OiBib29sZWFuXG4gIHNlc3Npb25TdGF0dXM/OiBTZXNzaW9uU3RhdHVzXG4gIHNlc3Npb25UeXBlPzogU2Vzc2lvblR5cGVcbiAgaXNSZWNvcmRpbmc/OiBib29sZWFuXG4gIGhhc1RyYW5zY3JpcHRzPzogYm9vbGVhblxuXG4gIC8vIOiHquWumue+qempl+itieWHveaVuFxuICBjdXN0b21WYWxpZGF0b3I/OiAoY29udGV4dDogU3RhdGVUcmFuc2l0aW9uQ29udGV4dCkgPT4gYm9vbGVhblxufVxuXG4vLyDni4DmhYvovYnmj5vkuIrkuIvmlodcbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGVUcmFuc2l0aW9uQ29udGV4dCB7XG4gIGN1cnJlbnRTdGF0ZTogQXBwU3RhdGVcbiAgaXNSZWNvcmRpbmc6IGJvb2xlYW5cbiAgdHJhbnNjcmlwdENvdW50OiBudW1iZXJcbiAgc2Vzc2lvbjoge1xuICAgIGlkOiBzdHJpbmdcbiAgICBzdGF0dXM6IFNlc3Npb25TdGF0dXNcbiAgICB0eXBlOiBTZXNzaW9uVHlwZVxuICB9IHwgbnVsbFxuICBlcnJvcjogc3RyaW5nIHwgbnVsbFxuICBwZW5kaW5nU2Vzc2lvblRpdGxlPzogc3RyaW5nICAvLyDlvoXlu7rnq4vmnIPoqbHnmoTmqJnpoYxcbn1cblxuLy8g54uA5oWL6L2J5o+b57WQ5p6cXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlVHJhbnNpdGlvblJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgbmV3U3RhdGU6IEFwcFN0YXRlXG4gIGVycm9yPzogc3RyaW5nXG4gIHNpZGVFZmZlY3RzPzogU3RhdGVUcmFuc2l0aW9uU2lkZUVmZmVjdFtdXG59XG5cbi8vIOWJr+S9nOeUqOmhnuWei1xuZXhwb3J0IHR5cGUgU3RhdGVUcmFuc2l0aW9uU2lkZUVmZmVjdCA9XG4gIHwgeyB0eXBlOiBcIkNSRUFURV9TRVNTSU9OXCI7IHNlc3Npb25UeXBlOiBTZXNzaW9uVHlwZTsgdGl0bGU/OiBzdHJpbmcgfVxuICB8IHsgdHlwZTogXCJVUEdSQURFX1NFU1NJT05cIiB9XG4gIHwgeyB0eXBlOiBcIkZJTklTSF9TRVNTSU9OXCIgfVxuICB8IHsgdHlwZTogXCJTVEFSVF9SRUNPUkRJTkdcIiB9XG4gIHwgeyB0eXBlOiBcIlNUT1BfUkVDT1JESU5HXCIgfVxuICB8IHsgdHlwZTogXCJDT05ORUNUX1dFQlNPQ0tFVFwiIH1cbiAgfCB7IHR5cGU6IFwiRElTQ09OTkVDVF9XRUJTT0NLRVRcIiB9XG4gIHwgeyB0eXBlOiBcIkNMRUFSX1RSQU5TQ1JJUFRTXCIgfVxuICB8IHsgdHlwZTogXCJTQVZFX0RSQUZUXCIgfVxuICB8IHsgdHlwZTogXCJTSE9XX0VSUk9SXCI7IG1lc3NhZ2U6IHN0cmluZyB9XG5cbi8vIOeLgOaFi+i9ieaPm+imj+WJh+Wumue+qVxuZXhwb3J0IGNvbnN0IFNUQVRFX1RSQU5TSVRJT05fUlVMRVM6IFN0YXRlVHJhbnNpdGlvbkNvbmRpdGlvbltdID0gW1xuICAvLyDlvp4gZGVmYXVsdCDni4DmhYvplovlp4vpjITpn7NcbiAge1xuICAgIGN1cnJlbnRTdGF0ZTogXCJkZWZhdWx0XCIsXG4gICAgdGFyZ2V0U3RhdGU6IFwicmVjb3JkaW5nX3dhaXRpbmdcIixcbiAgICB0cmlnZ2VyOiBcIlVTRVJfU1RBUlRfUkVDT1JESU5HXCIsXG4gICAgY3VzdG9tVmFsaWRhdG9yOiAoY29udGV4dCkgPT4ge1xuICAgICAgLy8g56K65L+d5rKS5pyJ5YW25LuW5rS76LqN55qE6YyE6Z+zIHNlc3Npb25cbiAgICAgIHJldHVybiAhY29udGV4dC5zZXNzaW9uIHx8IGNvbnRleHQuc2Vzc2lvbi5zdGF0dXMgPT09IFwiY29tcGxldGVkXCIgfHwgY29udGV4dC5zZXNzaW9uLnN0YXR1cyA9PT0gXCJlcnJvclwiXG4gICAgfVxuICB9LFxuXG4gIC8vIOW+niByZWNvcmRpbmdfd2FpdGluZyDph43mlrDplovlp4vpjITpn7PvvIjomZXnkIbph43oqabmg4Xms4HvvIlcbiAge1xuICAgIGN1cnJlbnRTdGF0ZTogXCJyZWNvcmRpbmdfd2FpdGluZ1wiLFxuICAgIHRhcmdldFN0YXRlOiBcInJlY29yZGluZ193YWl0aW5nXCIsXG4gICAgdHJpZ2dlcjogXCJVU0VSX1NUQVJUX1JFQ09SRElOR1wiLFxuICAgIGN1c3RvbVZhbGlkYXRvcjogKGNvbnRleHQpID0+IHtcbiAgICAgIC8vIOWFgeioseWcqOaykuaciSBzZXNzaW9uIOaIliBzZXNzaW9uIOeLgOaFi+eVsOW4uOaZgumHjeaWsOmWi+Wni1xuICAgICAgcmV0dXJuICFjb250ZXh0LnNlc3Npb24gfHwgY29udGV4dC5zZXNzaW9uLnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIiB8fCBjb250ZXh0LnNlc3Npb24uc3RhdHVzID09PSBcImVycm9yXCJcbiAgICB9XG4gIH0sXG5cbiAgLy8gU2Vzc2lvbiDlu7rnq4vlrozmiJDlvozkv53mjIHlnKggZGVmYXVsdCDni4DmhYtcbiAge1xuICAgIGN1cnJlbnRTdGF0ZTogXCJkZWZhdWx0XCIsXG4gICAgdGFyZ2V0U3RhdGU6IFwiZGVmYXVsdFwiLFxuICAgIHRyaWdnZXI6IFwiU0VTU0lPTl9DUkVBVEVEXCIsXG4gICAgc2Vzc2lvbkV4aXN0czogdHJ1ZSxcbiAgICBzZXNzaW9uU3RhdHVzOiBcImRyYWZ0XCJcbiAgfSxcblxuICAvLyDkv67lvqnvvJrlvp4gcmVjb3JkaW5nX3dhaXRpbmcg54uA5oWL6JmV55CGIFNFU1NJT05fQ1JFQVRFRO+8jOS/neaMgeWcqCByZWNvcmRpbmdfd2FpdGluZyDnrYnlvoUgV2ViU29ja2V0IOmAo+aOpVxuICB7XG4gICAgY3VycmVudFN0YXRlOiBcInJlY29yZGluZ193YWl0aW5nXCIsXG4gICAgdGFyZ2V0U3RhdGU6IFwicmVjb3JkaW5nX3dhaXRpbmdcIixcbiAgICB0cmlnZ2VyOiBcIlNFU1NJT05fQ1JFQVRFRFwiLFxuICAgIHNlc3Npb25FeGlzdHM6IHRydWUsXG4gICAgc2Vzc2lvblN0YXR1czogXCJhY3RpdmVcIixcbiAgICBzZXNzaW9uVHlwZTogXCJyZWNvcmRpbmdcIlxuICB9LFxuXG4gIC8vIOW+niByZWNvcmRpbmdfd2FpdGluZyDmlLbliLDnrKzkuIDlgIvpgJDlrZfnqL/ovYnngrogcmVjb3JkaW5nX2FjdGl2ZVxuICB7XG4gICAgY3VycmVudFN0YXRlOiBcInJlY29yZGluZ193YWl0aW5nXCIsXG4gICAgdGFyZ2V0U3RhdGU6IFwicmVjb3JkaW5nX2FjdGl2ZVwiLFxuICAgIHRyaWdnZXI6IFwiRklSU1RfVFJBTlNDUklQVF9SRUNFSVZFRFwiLFxuICAgIHNlc3Npb25FeGlzdHM6IHRydWUsXG4gICAgc2Vzc2lvblN0YXR1czogXCJhY3RpdmVcIixcbiAgICBzZXNzaW9uVHlwZTogXCJyZWNvcmRpbmdcIixcbiAgICBpc1JlY29yZGluZzogdHJ1ZSxcbiAgICBoYXNUcmFuc2NyaXB0czogdHJ1ZVxuICB9LFxuXG4gIC8vIOW+niByZWNvcmRpbmdfd2FpdGluZyDmiJYgcmVjb3JkaW5nX2FjdGl2ZSDlgZzmraLpjITpn7PovYnngrogcHJvY2Vzc2luZ1xuICB7XG4gICAgY3VycmVudFN0YXRlOiBcInJlY29yZGluZ193YWl0aW5nXCIsXG4gICAgdGFyZ2V0U3RhdGU6IFwicHJvY2Vzc2luZ1wiLFxuICAgIHRyaWdnZXI6IFwiVVNFUl9TVE9QX1JFQ09SRElOR1wiLFxuICAgIHNlc3Npb25FeGlzdHM6IHRydWUsXG4gICAgc2Vzc2lvblR5cGU6IFwicmVjb3JkaW5nXCJcbiAgfSxcbiAge1xuICAgIGN1cnJlbnRTdGF0ZTogXCJyZWNvcmRpbmdfYWN0aXZlXCIsXG4gICAgdGFyZ2V0U3RhdGU6IFwicHJvY2Vzc2luZ1wiLFxuICAgIHRyaWdnZXI6IFwiVVNFUl9TVE9QX1JFQ09SRElOR1wiLFxuICAgIHNlc3Npb25FeGlzdHM6IHRydWUsXG4gICAgc2Vzc2lvblR5cGU6IFwicmVjb3JkaW5nXCJcbiAgfSxcblxuICAvLyDlvp4gcHJvY2Vzc2luZyDlrozmiJDovYnpjITovYnngrogZmluaXNoZWRcbiAge1xuICAgIGN1cnJlbnRTdGF0ZTogXCJwcm9jZXNzaW5nXCIsXG4gICAgdGFyZ2V0U3RhdGU6IFwiZmluaXNoZWRcIixcbiAgICB0cmlnZ2VyOiBcIlBST0NFU1NJTkdfQ09NUExFVEVEXCIsXG4gICAgc2Vzc2lvbkV4aXN0czogdHJ1ZSxcbiAgICBzZXNzaW9uU3RhdHVzOiBcImNvbXBsZXRlZFwiXG4gIH0sXG5cbiAgLy8g5L+u5b6p77ya5b6e5Lu75L2V54uA5oWL55m855Sf6Yyv6Kqk5Zue5YiwIGRlZmF1bHRcbiAge1xuICAgIGN1cnJlbnRTdGF0ZTogXCJyZWNvcmRpbmdfd2FpdGluZ1wiLFxuICAgIHRhcmdldFN0YXRlOiBcImRlZmF1bHRcIixcbiAgICB0cmlnZ2VyOiBcIkVSUk9SX09DQ1VSUkVEXCJcbiAgfSxcbiAge1xuICAgIGN1cnJlbnRTdGF0ZTogXCJyZWNvcmRpbmdfYWN0aXZlXCIsXG4gICAgdGFyZ2V0U3RhdGU6IFwiZGVmYXVsdFwiLFxuICAgIHRyaWdnZXI6IFwiRVJST1JfT0NDVVJSRURcIlxuICB9LFxuICB7XG4gICAgY3VycmVudFN0YXRlOiBcInByb2Nlc3NpbmdcIixcbiAgICB0YXJnZXRTdGF0ZTogXCJkZWZhdWx0XCIsXG4gICAgdHJpZ2dlcjogXCJFUlJPUl9PQ0NVUlJFRFwiXG4gIH0sXG5cbiAgLy8g5b6eIGZpbmlzaGVkIOaIluS7u+S9leeLgOaFi+mWi+aWsOethuiomOWbnuWIsCBkZWZhdWx0XG4gIHtcbiAgICBjdXJyZW50U3RhdGU6IFwiZmluaXNoZWRcIixcbiAgICB0YXJnZXRTdGF0ZTogXCJkZWZhdWx0XCIsXG4gICAgdHJpZ2dlcjogXCJVU0VSX05FV19OT1RFXCJcbiAgfSxcbiAge1xuICAgIGN1cnJlbnRTdGF0ZTogXCJyZWNvcmRpbmdfd2FpdGluZ1wiLFxuICAgIHRhcmdldFN0YXRlOiBcImRlZmF1bHRcIixcbiAgICB0cmlnZ2VyOiBcIlVTRVJfTkVXX05PVEVcIlxuICB9LFxuICB7XG4gICAgY3VycmVudFN0YXRlOiBcInJlY29yZGluZ19hY3RpdmVcIixcbiAgICB0YXJnZXRTdGF0ZTogXCJkZWZhdWx0XCIsXG4gICAgdHJpZ2dlcjogXCJVU0VSX05FV19OT1RFXCJcbiAgfVxuXVxuXG4vLyDni4DmhYvovYnmj5vlia/kvZznlKjmmKDlsIRcbmV4cG9ydCBjb25zdCBTVEFURV9UUkFOU0lUSU9OX1NJREVfRUZGRUNUUzogUmVjb3JkPHN0cmluZywgU3RhdGVUcmFuc2l0aW9uU2lkZUVmZmVjdFtdPiA9IHtcbiAgLy8gZGVmYXVsdCAtPiByZWNvcmRpbmdfd2FpdGluZzog5bu656uL5pyD6Kmx44CB6ZaL5aeL6YyE6Z+z5Lim6YCj5o6lIFdlYlNvY2tldFxuICBcImRlZmF1bHQtPnJlY29yZGluZ193YWl0aW5nLT5VU0VSX1NUQVJUX1JFQ09SRElOR1wiOiBbXG4gICAgeyB0eXBlOiBcIkNSRUFURV9TRVNTSU9OXCIsIHNlc3Npb25UeXBlOiBcInJlY29yZGluZ1wiIH0sXG4gICAgeyB0eXBlOiBcIlNUQVJUX1JFQ09SRElOR1wiIH0sXG4gICAgeyB0eXBlOiBcIkNPTk5FQ1RfV0VCU09DS0VUXCIgfVxuICBdLFxuXG4gIC8vIHJlY29yZGluZ193YWl0aW5nIC0+IHJlY29yZGluZ193YWl0aW5nOiDph43mlrDplovlp4vpjITpn7PvvIjph43oqabmg4Xms4HvvIlcbiAgXCJyZWNvcmRpbmdfd2FpdGluZy0+cmVjb3JkaW5nX3dhaXRpbmctPlVTRVJfU1RBUlRfUkVDT1JESU5HXCI6IFtcbiAgICB7IHR5cGU6IFwiQ1JFQVRFX1NFU1NJT05cIiwgc2Vzc2lvblR5cGU6IFwicmVjb3JkaW5nXCIgfSxcbiAgICB7IHR5cGU6IFwiU1RBUlRfUkVDT1JESU5HXCIgfSxcbiAgICB7IHR5cGU6IFwiQ09OTkVDVF9XRUJTT0NLRVRcIiB9XG4gIF0sXG5cbiAgLy8gcmVjb3JkaW5nX3dhaXRpbmcvcmVjb3JkaW5nX2FjdGl2ZSAtPiBwcm9jZXNzaW5nOiDlgZzmraLpjITpn7NcbiAgXCJyZWNvcmRpbmdfd2FpdGluZy0+cHJvY2Vzc2luZy0+VVNFUl9TVE9QX1JFQ09SRElOR1wiOiBbXG4gICAgeyB0eXBlOiBcIlNUT1BfUkVDT1JESU5HXCIgfVxuICBdLFxuICBcInJlY29yZGluZ19hY3RpdmUtPnByb2Nlc3NpbmctPlVTRVJfU1RPUF9SRUNPUkRJTkdcIjogW1xuICAgIHsgdHlwZTogXCJTVE9QX1JFQ09SRElOR1wiIH1cbiAgXSxcblxuICAvLyBwcm9jZXNzaW5nIC0+IGZpbmlzaGVkOiDlrozmiJAgc2Vzc2lvblxuICBcInByb2Nlc3NpbmctPmZpbmlzaGVkLT5QUk9DRVNTSU5HX0NPTVBMRVRFRFwiOiBbXG4gICAgeyB0eXBlOiBcIkZJTklTSF9TRVNTSU9OXCIgfVxuICBdLFxuXG4gIC8vIOS7u+S9leeLgOaFiyAtPiBkZWZhdWx0ICjmlrDnrYboqJgpOiDmuIXnkIbni4DmhYtcbiAgXCJmaW5pc2hlZC0+ZGVmYXVsdC0+VVNFUl9ORVdfTk9URVwiOiBbXG4gICAgeyB0eXBlOiBcIkNMRUFSX1RSQU5TQ1JJUFRTXCIgfSxcbiAgICB7IHR5cGU6IFwiU0FWRV9EUkFGVFwiIH1cbiAgXSxcbiAgXCJyZWNvcmRpbmdfd2FpdGluZy0+ZGVmYXVsdC0+VVNFUl9ORVdfTk9URVwiOiBbXG4gICAgeyB0eXBlOiBcIlNUT1BfUkVDT1JESU5HXCIgfSxcbiAgICB7IHR5cGU6IFwiRElTQ09OTkVDVF9XRUJTT0NLRVRcIiB9LFxuICAgIHsgdHlwZTogXCJDTEVBUl9UUkFOU0NSSVBUU1wiIH1cbiAgXSxcbiAgXCJyZWNvcmRpbmdfYWN0aXZlLT5kZWZhdWx0LT5VU0VSX05FV19OT1RFXCI6IFtcbiAgICB7IHR5cGU6IFwiU1RPUF9SRUNPUkRJTkdcIiB9LFxuICAgIHsgdHlwZTogXCJESVNDT05ORUNUX1dFQlNPQ0tFVFwiIH0sXG4gICAgeyB0eXBlOiBcIkNMRUFSX1RSQU5TQ1JJUFRTXCIgfVxuICBdLFxuXG4gIC8vIOmMr+iqpOiZleeQhlxuICBcInJlY29yZGluZ193YWl0aW5nLT5kZWZhdWx0LT5FUlJPUl9PQ0NVUlJFRFwiOiBbXG4gICAgeyB0eXBlOiBcIlNUT1BfUkVDT1JESU5HXCIgfSxcbiAgICB7IHR5cGU6IFwiRElTQ09OTkVDVF9XRUJTT0NLRVRcIiB9LFxuICAgIHsgdHlwZTogXCJTSE9XX0VSUk9SXCIsIG1lc3NhZ2U6IFwi6YyE6Z+z6YGO56iL5Lit55m855Sf6Yyv6KqkXCIgfVxuICBdLFxuICBcInJlY29yZGluZ19hY3RpdmUtPmRlZmF1bHQtPkVSUk9SX09DQ1VSUkVEXCI6IFtcbiAgICB7IHR5cGU6IFwiU1RPUF9SRUNPUkRJTkdcIiB9LFxuICAgIHsgdHlwZTogXCJESVNDT05ORUNUX1dFQlNPQ0tFVFwiIH0sXG4gICAgeyB0eXBlOiBcIlNIT1dfRVJST1JcIiwgbWVzc2FnZTogXCLpjITpn7PpgY7nqIvkuK3nmbznlJ/pjK/oqqRcIiB9XG4gIF0sXG4gIFwicHJvY2Vzc2luZy0+ZGVmYXVsdC0+RVJST1JfT0NDVVJSRURcIjogW1xuICAgIHsgdHlwZTogXCJTSE9XX0VSUk9SXCIsIG1lc3NhZ2U6IFwi6JmV55CG6L2J6YyE5pmC55m855Sf6Yyv6KqkXCIgfVxuICBdXG59XG4iXSwibmFtZXMiOlsiU1RBVEVfVFJBTlNJVElPTl9SVUxFUyIsImN1cnJlbnRTdGF0ZSIsInRhcmdldFN0YXRlIiwidHJpZ2dlciIsImN1c3RvbVZhbGlkYXRvciIsImNvbnRleHQiLCJzZXNzaW9uIiwic3RhdHVzIiwic2Vzc2lvbkV4aXN0cyIsInNlc3Npb25TdGF0dXMiLCJzZXNzaW9uVHlwZSIsImlzUmVjb3JkaW5nIiwiaGFzVHJhbnNjcmlwdHMiLCJTVEFURV9UUkFOU0lUSU9OX1NJREVfRUZGRUNUUyIsInR5cGUiLCJtZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./types/state-transitions.ts\n");

/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/mime-db@1.52.0","vendor-chunks/axios@1.10.0","vendor-chunks/follow-redirects@1.15.9","vendor-chunks/debug@4.4.1","vendor-chunks/form-data@4.0.3","vendor-chunks/get-intrinsic@1.3.0","vendor-chunks/asynckit@0.4.0","vendor-chunks/combined-stream@1.0.8","vendor-chunks/mime-types@2.1.35","vendor-chunks/proxy-from-env@1.1.0","vendor-chunks/ms@2.1.3","vendor-chunks/supports-color@7.2.0","vendor-chunks/has-symbols@1.1.0","vendor-chunks/delayed-stream@1.0.0","vendor-chunks/function-bind@1.1.2","vendor-chunks/@swc+helpers@0.5.15","vendor-chunks/zustand@5.0.6_@types+react@19.0.0_react@19.0.0_use-sync-external-store@1.5.0_react@19.0.0_","vendor-chunks/es-set-tostringtag@2.1.0","vendor-chunks/get-proto@1.0.1","vendor-chunks/call-bind-apply-helpers@1.0.2","vendor-chunks/dunder-proto@1.0.1","vendor-chunks/math-intrinsics@1.1.0","vendor-chunks/es-errors@1.3.0","vendor-chunks/has-flag@4.0.0","vendor-chunks/gopd@1.2.0","vendor-chunks/es-define-property@1.0.1","vendor-chunks/hasown@2.0.2","vendor-chunks/has-tostringtag@1.0.2","vendor-chunks/es-object-atoms@1.1.1","vendor-chunks/lucide-react@0.454.0_react@19.0.0","vendor-chunks/tailwind-merge@2.5.5","vendor-chunks/clsx@2.1.1","vendor-chunks/class-variance-authority@0.7.1","vendor-chunks/@radix-ui+react-use-layout-effect@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-use-callback-ref@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-slot@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-scroll-area@1.2.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom_4cec18677bb44dd61a9e69790aff2bfb","vendor-chunks/@radix-ui+react-primitive@2.0.1_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@radix-ui+react-presence@1.1.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@radix-ui+react-direction@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-context@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-compose-refs@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+primitive@1.1.1","vendor-chunks/@radix-ui+number@1.1.0","vendor-chunks/easymde@2.20.0"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
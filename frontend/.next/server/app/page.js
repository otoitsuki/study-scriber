/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"69fb6c842ea3\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2FwcC9nbG9iYWxzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjY5ZmI2Yzg0MmVhM1wiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n\n\nconst metadata = {\n    title: 'v0 App',\n    description: 'Created with v0',\n    generator: 'v0.dev'\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\",\n            lineNumber: 17,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDc0I7QUFFZixNQUFNQSxXQUFxQjtJQUNoQ0MsT0FBTztJQUNQQyxhQUFhO0lBQ2JDLFdBQVc7QUFDYixFQUFDO0FBRWMsU0FBU0MsV0FBVyxFQUNqQ0MsUUFBUSxFQUdSO0lBQ0EscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7a0JBQ1QsNEVBQUNDO3NCQUNFSDs7Ozs7Ozs7Ozs7QUFJVCIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvYXBwL2xheW91dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBNZXRhZGF0YSB9IGZyb20gJ25leHQnXG5pbXBvcnQgJy4vZ2xvYmFscy5jc3MnXG5cbmV4cG9ydCBjb25zdCBtZXRhZGF0YTogTWV0YWRhdGEgPSB7XG4gIHRpdGxlOiAndjAgQXBwJyxcbiAgZGVzY3JpcHRpb246ICdDcmVhdGVkIHdpdGggdjAnLFxuICBnZW5lcmF0b3I6ICd2MC5kZXYnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHtcbiAgY2hpbGRyZW4sXG59OiBSZWFkb25seTx7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn0+KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWwgbGFuZz1cImVuXCI+XG4gICAgICA8Ym9keT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImdlbmVyYXRvciIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _study_scriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../study-scriber */ \"(rsc)/./study-scriber.tsx\");\n\n\nfunction Page() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_study_scriber__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\",\n        lineNumber: 4,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0M7QUFFekIsU0FBU0M7SUFDdEIscUJBQU8sOERBQUNELHNEQUFTQTs7Ozs7QUFDbkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2FwcC9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuLi9zdHVkeS1zY3JpYmVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFnZSgpIHtcbiAgcmV0dXJuIDxDb21wb25lbnQgLz5cbn1cbiJdLCJuYW1lcyI6WyJDb21wb25lbnQiLCJQYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/page.tsx\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/module.compiled.js?aeea\");\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\nconst module0 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\"));\nconst module1 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/not-found-error.js\", 23));\nconst module2 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/forbidden-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/forbidden-error.js\", 23));\nconst module3 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/unauthorized-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/unauthorized-error.js\", 23));\nconst page4 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page4, \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [module0, \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\"],\n'not-found': [module1, \"next/dist/client/components/not-found-error\"],\n'forbidden': [module2, \"next/dist/client/components/forbidden-error\"],\n'unauthorized': [module3, \"next/dist/client/components/unauthorized-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGcGFnZSZwYWdlPSUyRnBhZ2UmYXBwUGF0aHM9JTJGcGFnZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRnBhZ2UudHN4JmFwcERpcj0lMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNCQUFzQiw0SUFBc0c7QUFDNUgsc0JBQXNCLGdWQUFnRjtBQUN0RyxzQkFBc0IsZ1ZBQWdGO0FBQ3RHLHNCQUFzQixzVkFBbUY7QUFDekcsb0JBQW9CLHdJQUFvRztBQUd0SDtBQUdBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDdUI7QUFHckI7QUFDRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFHRTtBQUNGO0FBQ08sd0JBQXdCLHVHQUFrQjtBQUNqRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb2R1bGUwID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvbGF5b3V0LnRzeFwiKTtcbmNvbnN0IG1vZHVsZTEgPSAoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIik7XG5jb25zdCBtb2R1bGUyID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZm9yYmlkZGVuLWVycm9yXCIpO1xuY29uc3QgbW9kdWxlMyA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3VuYXV0aG9yaXplZC1lcnJvclwiKTtcbmNvbnN0IHBhZ2U0ID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIik7XG5pbXBvcnQgeyBBcHBQYWdlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNzcidcbn07XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCIgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc2VydmVyLXV0aWxpdHknXG59O1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFtwYWdlNCwgXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbbW9kdWxlMCwgXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbbW9kdWxlMSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuJ2ZvcmJpZGRlbic6IFttb2R1bGUyLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9mb3JiaWRkZW4tZXJyb3JcIl0sXG4ndW5hdXRob3JpemVkJzogW21vZHVsZTMsIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3VuYXV0aG9yaXplZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnlcIiB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zZXJ2ZXItdXRpbGl0eSdcbn07XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNlcnZlci11dGlsaXR5J1xufTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJycsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZlcnJvci1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmh0dHAtYWNjZXNzLWZhbGxiYWNrJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbWV0YWRhdGElMkZhc3luYy1tZXRhZGF0YS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm1ldGFkYXRhJTJGbWV0YWRhdGEtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxnZEFBcVE7QUFDclE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxnZ0JBQTZSO0FBQzdSO0FBQ0Esb2RBQXVRO0FBQ3ZRO0FBQ0Esd2VBQWlSO0FBQ2pSO0FBQ0EsOGVBQW9SO0FBQ3BSO0FBQ0Esa2ZBQXNSIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXNlZ21lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9odHRwLWFjY2Vzcy1mYWxsYmFjay9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbWV0YWRhdGEvYXN5bmMtbWV0YWRhdGEuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL21ldGFkYXRhL21ldGFkYXRhLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fstudy-scriber.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fstudy-scriber.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./study-scriber.tsx */ \"(rsc)/./study-scriber.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRnN0dWR5LXNjcmliZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyZGVmYXVsdCUyMiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa0pBQXNJIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJkZWZhdWx0XCJdICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvc3R1ZHktc2NyaWJlci50c3hcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fstudy-scriber.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./study-scriber.tsx":
/*!***************************!*\
  !*** ./study-scriber.tsx ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call the default export of \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx",
"default",
));


/***/ }),

/***/ "(ssr)/./components/default-state.tsx":
/*!**************************************!*\
  !*** ./components/default-state.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultState: () => (/* binding */ DefaultState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Upload!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Upload!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* __next_internal_client_entry_do_not_use__ DefaultState auto */ \n\n\nfunction DefaultState({ onStartRecording }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col items-center justify-center p-6 space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                onClick: onStartRecording,\n                size: \"lg\",\n                className: \"flex items-center gap-3 px-8 py-4 text-base\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-5 h-5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 14,\n                        columnNumber: 9\n                    }, this),\n                    \"Start Recording\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center text-muted-foreground text-sm space-y-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"flex items-center justify-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                                lineNumber: 20,\n                                columnNumber: 11\n                            }, this),\n                            \"或直接開始編寫筆記\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 19,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"錄音功能隨時可以啟用\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 23,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                lineNumber: 18,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2RlZmF1bHQtc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFK0M7QUFDQTtBQU14QyxTQUFTRyxhQUFhLEVBQUVDLGdCQUFnQixFQUFxQjtJQUNsRSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNOLHlEQUFNQTtnQkFBQ08sU0FBU0g7Z0JBQWtCSSxNQUFLO2dCQUFLRixXQUFVOztrQ0FDckQsOERBQUNMLDJGQUFNQTt3QkFBQ0ssV0FBVTs7Ozs7O29CQUFZOzs7Ozs7OzBCQUloQyw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRzt3QkFBRUgsV0FBVTs7MENBQ1gsOERBQUNKLDJGQUFRQTtnQ0FBQ0ksV0FBVTs7Ozs7OzRCQUFZOzs7Ozs7O2tDQUdsQyw4REFBQ0c7a0NBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlYIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL2RlZmF1bHQtc3RhdGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IFVwbG9hZCwgRmlsZVRleHQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcblxuaW50ZXJmYWNlIERlZmF1bHRTdGF0ZVByb3BzIHtcbiAgb25TdGFydFJlY29yZGluZzogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdFN0YXRlKHsgb25TdGFydFJlY29yZGluZyB9OiBEZWZhdWx0U3RhdGVQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNiBzcGFjZS15LTZcIj5cbiAgICAgIDxCdXR0b24gb25DbGljaz17b25TdGFydFJlY29yZGluZ30gc2l6ZT1cImxnXCIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtOCBweS00IHRleHQtYmFzZVwiPlxuICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICBTdGFydCBSZWNvcmRpbmdcbiAgICAgIDwvQnV0dG9uPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXNtIHNwYWNlLXktMVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICDmiJbnm7TmjqXplovlp4vnt6jlr6vnrYboqJhcbiAgICAgICAgPC9wPlxuICAgICAgICA8cD7pjITpn7Plip/og73pmqjmmYLlj6/ku6XllZ/nlKg8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIkJ1dHRvbiIsIlVwbG9hZCIsIkZpbGVUZXh0IiwiRGVmYXVsdFN0YXRlIiwib25TdGFydFJlY29yZGluZyIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJzaXplIiwicCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/default-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/finish-state.tsx":
/*!*************************************!*\
  !*** ./components/finish-state.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FinishState: () => (/* binding */ FinishState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* __next_internal_client_entry_do_not_use__ FinishState auto */ \n\n\n\nfunction FinishState({ transcriptEntries, onExport, onToLatest }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_1__.ScrollArea, {\n                className: \"flex-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6 space-y-4\",\n                    children: transcriptEntries.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-muted-foreground font-mono text-xs mt-1 min-w-[40px] flex-shrink-0\",\n                                    children: entry.time\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                    lineNumber: 21,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-foreground leading-relaxed\",\n                                    children: entry.text\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                    lineNumber: 24,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                            lineNumber: 20,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                    lineNumber: 18,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border space-y-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-center gap-2\",\n                    children: onToLatest && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: onToLatest,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 15\n                            }, this),\n                            \"To Latest\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2ZpbmlzaC1zdGF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUV3RDtBQUNUO0FBQ0s7QUFTN0MsU0FBU0csWUFBWSxFQUFFQyxpQkFBaUIsRUFBRUMsUUFBUSxFQUFFQyxVQUFVLEVBQW9CO0lBQ3ZGLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ1Isa0VBQVVBO2dCQUFDUSxXQUFVOzBCQUNwQiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1pKLGtCQUFrQkssR0FBRyxDQUFDLENBQUNDLE9BQU9DLHNCQUM3Qiw4REFBQ0o7NEJBQWdCQyxXQUFVOzs4Q0FDekIsOERBQUNJO29DQUFLSixXQUFVOzhDQUNiRSxNQUFNRyxJQUFJOzs7Ozs7OENBRWIsOERBQUNEO29DQUFLSixXQUFVOzhDQUFtQ0UsTUFBTUksSUFBSTs7Ozs7OzsyQkFKckRIOzs7Ozs7Ozs7Ozs7Ozs7MEJBVWhCLDhEQUFDSjtnQkFBSUMsV0FBVTswQkFFYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1pGLDRCQUNDLDhEQUFDTCx5REFBTUE7d0JBQ0xjLFNBQVNUO3dCQUNUVSxTQUFRO3dCQUNSQyxNQUFLO3dCQUNMVCxXQUFVOzswQ0FFViw4REFBQ04sdUZBQVdBO2dDQUFDTSxXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUWpEIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL2ZpbmlzaC1zdGF0ZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWFcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgRG93bmxvYWQsIENoZXZyb25Eb3duIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgRmluaXNoU3RhdGVQcm9wcyB7XG4gIHRyYW5zY3JpcHRFbnRyaWVzOiBUcmFuc2NyaXB0RW50cnlbXVxuICBvbkV4cG9ydD86ICgpID0+IHZvaWRcbiAgb25Ub0xhdGVzdD86ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpbmlzaFN0YXRlKHsgdHJhbnNjcmlwdEVudHJpZXMsIG9uRXhwb3J0LCBvblRvTGF0ZXN0IH06IEZpbmlzaFN0YXRlUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgc3BhY2UteS00XCI+XG4gICAgICAgICAge3RyYW5zY3JpcHRFbnRyaWVzLm1hcCgoZW50cnksIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9udC1tb25vIHRleHQteHMgbXQtMSBtaW4tdy1bNDBweF0gZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgIHtlbnRyeS50aW1lfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZm9yZWdyb3VuZCBsZWFkaW5nLXJlbGF4ZWRcIj57ZW50cnkudGV4dH08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1Njcm9sbEFyZWE+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJvcmRlci1ib3JkZXIgc3BhY2UteS0yXCI+XG4gICAgICAgIHsvKiBBY3Rpb24gYnV0dG9ucyByb3cgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIHtvblRvTGF0ZXN0ICYmIChcbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17b25Ub0xhdGVzdH1cbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIFRvIExhdGVzdFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlNjcm9sbEFyZWEiLCJCdXR0b24iLCJDaGV2cm9uRG93biIsIkZpbmlzaFN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJvbkV4cG9ydCIsIm9uVG9MYXRlc3QiLCJkaXYiLCJjbGFzc05hbWUiLCJtYXAiLCJlbnRyeSIsImluZGV4Iiwic3BhbiIsInRpbWUiLCJ0ZXh0Iiwib25DbGljayIsInZhcmlhbnQiLCJzaXplIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/finish-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-active-state.tsx":
/*!***********************************************!*\
  !*** ./components/recording-active-state.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingActiveState: () => (/* binding */ RecordingActiveState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock-open.js\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/square.js\");\n/* __next_internal_client_entry_do_not_use__ RecordingActiveState auto */ \n\n\n\n\nfunction RecordingActiveState({ transcriptEntries, onStopRecording }) {\n    const scrollAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isAutoScrollLocked, setIsAutoScrollLocked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [userScrollTimeout, setUserScrollTimeout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // 自動捲動到底部\n    const autoScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[autoScroll]\": ()=>{\n            if (isAutoScrollLocked && scrollAreaRef.current) {\n                const scrollContainer = scrollAreaRef.current.querySelector('[data-radix-scroll-area-viewport]');\n                if (scrollContainer) {\n                    scrollContainer.scrollTop = scrollContainer.scrollHeight;\n                }\n            }\n        }\n    }[\"RecordingActiveState.useCallback[autoScroll]\"], [\n        isAutoScrollLocked\n    ]);\n    // 檢測使用者捲動行為\n    const unlockOnScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[unlockOnScroll]\": (event)=>{\n            const target = event.target;\n            if (target) {\n                const { scrollTop, scrollHeight, clientHeight } = target;\n                const isAtBottom = Math.abs(scrollHeight - clientHeight - scrollTop) < 10;\n                if (!isAtBottom && isAutoScrollLocked) {\n                    setIsAutoScrollLocked(false);\n                } else if (isAtBottom && !isAutoScrollLocked) {\n                    setIsAutoScrollLocked(true);\n                }\n                if (userScrollTimeout) clearTimeout(userScrollTimeout);\n                const timeout = setTimeout({\n                    \"RecordingActiveState.useCallback[unlockOnScroll].timeout\": ()=>{\n                        if (!isAutoScrollLocked) setIsAutoScrollLocked(true);\n                    }\n                }[\"RecordingActiveState.useCallback[unlockOnScroll].timeout\"], 3000);\n                setUserScrollTimeout(timeout);\n            }\n        }\n    }[\"RecordingActiveState.useCallback[unlockOnScroll]\"], [\n        isAutoScrollLocked,\n        userScrollTimeout\n    ]);\n    // 手動切換自動捲動鎖定狀態\n    const toggleAutoScrollLock = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[toggleAutoScrollLock]\": ()=>setIsAutoScrollLocked({\n                \"RecordingActiveState.useCallback[toggleAutoScrollLock]\": (prev)=>!prev\n            }[\"RecordingActiveState.useCallback[toggleAutoScrollLock]\"])\n    }[\"RecordingActiveState.useCallback[toggleAutoScrollLock]\"], []);\n    // 合併相近段落，減少行數\n    const mergeSegments = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[mergeSegments]\": (entries)=>{\n            if (entries.length <= 1) return entries;\n            const merged = [];\n            let current = {\n                ...entries[0]\n            };\n            for(let i = 1; i < entries.length; i++){\n                const next = entries[i];\n                const diff = Math.abs(parseInt(next.time.split(\":\")[0]) * 60 + parseInt(next.time.split(\":\")[1]) - (parseInt(current.time.split(\":\")[0]) * 60 + parseInt(current.time.split(\":\")[1])));\n                if (diff <= 5 && current.text.length + next.text.length < 200) {\n                    current = {\n                        time: current.time,\n                        text: current.text.trim() + \" \" + next.text.trim()\n                    };\n                } else {\n                    merged.push(current);\n                    current = {\n                        ...next\n                    };\n                }\n            }\n            merged.push(current);\n            return merged;\n        }\n    }[\"RecordingActiveState.useCallback[mergeSegments]\"], []);\n    // 自動捲動\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            autoScroll();\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        transcriptEntries,\n        autoScroll\n    ]);\n    // 監聽捲動\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            const scrollContainer = scrollAreaRef.current?.querySelector('[data-radix-scroll-area-viewport]');\n            if (scrollContainer) {\n                scrollContainer.addEventListener(\"scroll\", unlockOnScroll);\n                return ({\n                    \"RecordingActiveState.useEffect\": ()=>scrollContainer.removeEventListener(\"scroll\", unlockOnScroll)\n                })[\"RecordingActiveState.useEffect\"];\n            }\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        unlockOnScroll\n    ]);\n    // 清理計時器\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            return ({\n                \"RecordingActiveState.useEffect\": ()=>{\n                    if (userScrollTimeout) {\n                        clearTimeout(userScrollTimeout);\n                    }\n                }\n            })[\"RecordingActiveState.useEffect\"];\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        userScrollTimeout\n    ]);\n    const mergedEntries = mergeSegments(transcriptEntries);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__.ScrollArea, {\n                className: \"flex-1\",\n                ref: scrollAreaRef,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6 space-y-4\",\n                    children: mergedEntries.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-muted-foreground font-mono text-xs mt-1 min-w-[40px] flex-shrink-0\",\n                                    children: entry.time\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 112,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-foreground leading-relaxed\",\n                                    children: entry.text\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 115,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                            lineNumber: 111,\n                            columnNumber: 25\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 17\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                lineNumber: 108,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: toggleAutoScrollLock,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2 text-muted-foreground\",\n                        children: isAutoScrollLocked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 130,\n                                    columnNumber: 29\n                                }, this),\n                                \"Auto-scroll\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 135,\n                                    columnNumber: 29\n                                }, this),\n                                \"Manual\"\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                        lineNumber: 122,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: onStopRecording,\n                        variant: \"destructive\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 21\n                            }, this),\n                            \"Stop\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                        lineNumber: 141,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                lineNumber: 121,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n        lineNumber: 107,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy1hY3RpdmUtc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRWdFO0FBQ1I7QUFDVDtBQUNJO0FBUTVDLFNBQVNTLHFCQUFxQixFQUFFQyxpQkFBaUIsRUFBRUMsZUFBZSxFQUE2QjtJQUNsRyxNQUFNQyxnQkFBZ0JYLDZDQUFNQSxDQUFpQjtJQUM3QyxNQUFNLENBQUNZLG9CQUFvQkMsc0JBQXNCLEdBQUdaLCtDQUFRQSxDQUFDO0lBQzdELE1BQU0sQ0FBQ2EsbUJBQW1CQyxxQkFBcUIsR0FBR2QsK0NBQVFBLENBQXdCO0lBRWxGLFVBQVU7SUFDVixNQUFNZSxhQUFhZCxrREFBV0E7d0RBQUM7WUFDM0IsSUFBSVUsc0JBQXNCRCxjQUFjTSxPQUFPLEVBQUU7Z0JBQzdDLE1BQU1DLGtCQUFrQlAsY0FBY00sT0FBTyxDQUFDRSxhQUFhLENBQUM7Z0JBQzVELElBQUlELGlCQUFpQjtvQkFDakJBLGdCQUFnQkUsU0FBUyxHQUFHRixnQkFBZ0JHLFlBQVk7Z0JBQzVEO1lBQ0o7UUFDSjt1REFBRztRQUFDVDtLQUFtQjtJQUV2QixZQUFZO0lBQ1osTUFBTVUsaUJBQWlCcEIsa0RBQVdBOzREQUM5QixDQUFDcUI7WUFDRyxNQUFNQyxTQUFTRCxNQUFNQyxNQUFNO1lBQzNCLElBQUlBLFFBQVE7Z0JBQ1IsTUFBTSxFQUFFSixTQUFTLEVBQUVDLFlBQVksRUFBRUksWUFBWSxFQUFFLEdBQUdEO2dCQUNsRCxNQUFNRSxhQUFhQyxLQUFLQyxHQUFHLENBQUNQLGVBQWVJLGVBQWVMLGFBQWE7Z0JBRXZFLElBQUksQ0FBQ00sY0FBY2Qsb0JBQW9CO29CQUNuQ0Msc0JBQXNCO2dCQUMxQixPQUFPLElBQUlhLGNBQWMsQ0FBQ2Qsb0JBQW9CO29CQUMxQ0Msc0JBQXNCO2dCQUMxQjtnQkFFQSxJQUFJQyxtQkFBbUJlLGFBQWFmO2dCQUVwQyxNQUFNZ0IsVUFBVUM7Z0ZBQVc7d0JBQ3ZCLElBQUksQ0FBQ25CLG9C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LFNBQVE7d0JBQ1JDLE1BQUs7d0JBQ0xSLFdBQVU7a0NBRVR2QyxtQ0FDRzs7OENBQ0ksOERBQUNOLDhGQUFJQTtvQ0FBQzZDLFdBQVU7Ozs7OztnQ0FBWTs7eURBSWhDOzs4Q0FDSSw4REFBQzVDLDhGQUFNQTtvQ0FBQzRDLFdBQVU7Ozs7OztnQ0FBWTs7Ozs7Ozs7a0NBTTFDLDhEQUFDL0MseURBQU1BO3dCQUFDcUQsU0FBUy9DO3dCQUFpQmdELFNBQVE7d0JBQWNDLE1BQUs7d0JBQUtSLFdBQVU7OzBDQUN4RSw4REFBQzlDLDhGQUFNQTtnQ0FBQzhDLFdBQVU7Ozs7Ozs0QkFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1sRCIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvY29tcG9uZW50cy9yZWNvcmRpbmctYWN0aXZlLXN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhXCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IFNxdWFyZSwgTG9jaywgVW5sb2NrIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgUmVjb3JkaW5nQWN0aXZlU3RhdGVQcm9wcyB7XG4gICAgdHJhbnNjcmlwdEVudHJpZXM6IFRyYW5zY3JpcHRFbnRyeVtdXG4gICAgb25TdG9wUmVjb3JkaW5nOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRpbmdBY3RpdmVTdGF0ZSh7IHRyYW5zY3JpcHRFbnRyaWVzLCBvblN0b3BSZWNvcmRpbmcgfTogUmVjb3JkaW5nQWN0aXZlU3RhdGVQcm9wcykge1xuICAgIGNvbnN0IHNjcm9sbEFyZWFSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gICAgY29uc3QgW2lzQXV0b1Njcm9sbExvY2tlZCwgc2V0SXNBdXRvU2Nyb2xsTG9ja2VkXSA9IHVzZVN0YXRlKHRydWUpXG4gICAgY29uc3QgW3VzZXJTY3JvbGxUaW1lb3V0LCBzZXRVc2VyU2Nyb2xsVGltZW91dF0gPSB1c2VTdGF0ZTxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG5cbiAgICAvLyDoh6rli5XmjbLli5XliLDlupXpg6hcbiAgICBjb25zdCBhdXRvU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaXNBdXRvU2Nyb2xsTG9ja2VkICYmIHNjcm9sbEFyZWFSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gc2Nyb2xsQXJlYVJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXJhZGl4LXNjcm9sbC1hcmVhLXZpZXdwb3J0XScpXG4gICAgICAgICAgICBpZiAoc2Nyb2xsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA9IHNjcm9sbENvbnRhaW5lci5zY3JvbGxIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtpc0F1dG9TY3JvbGxMb2NrZWRdKVxuXG4gICAgLy8g5qqi5ris5L2/55So6ICF5o2y5YuV6KGM54K6XG4gICAgY29uc3QgdW5sb2NrT25TY3JvbGwgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCwgY2xpZW50SGVpZ2h0IH0gPSB0YXJnZXRcbiAgICAgICAgICAgICAgICBjb25zdCBpc0F0Qm90dG9tID0gTWF0aC5hYnMoc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0IC0gc2Nyb2xsVG9wKSA8IDEwXG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzQXRCb3R0b20gJiYgaXNBdXRvU2Nyb2xsTG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzQXV0b1Njcm9sbExvY2tlZChmYWxzZSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXRCb3R0b20gJiYgIWlzQXV0b1Njcm9sbExvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0F1dG9TY3JvbGxMb2NrZWQodHJ1ZSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlclNjcm9sbFRpbWVvdXQpIGNsZWFyVGltZW91dCh1c2VyU2Nyb2xsVGltZW91dClcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0F1dG9TY3JvbGxMb2NrZWQpIHNldElzQXV0b1Njcm9sbExvY2tlZCh0cnVlKVxuICAgICAgICAgICAgICAgIH0sIDMwMDApXG5cbiAgICAgICAgICAgICAgICBzZXRVc2VyU2Nyb2xsVGltZW91dCh0aW1lb3V0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbaXNBdXRvU2Nyb2xsTG9ja2VkLCB1c2VyU2Nyb2xsVGltZW91dF1cbiAgICApXG5cbiAgICAvLyDmiYvli5XliIfmj5voh6rli5XmjbLli5Xpjpblrprni4DmhYtcbiAgICBjb25zdCB0b2dnbGVBdXRvU2Nyb2xsTG9jayA9IHVzZUNhbGxiYWNrKCgpID0+IHNldElzQXV0b1Njcm9sbExvY2tlZChwcmV2ID0+ICFwcmV2KSwgW10pXG5cbiAgICAvLyDlkIjkvbXnm7jov5HmrrXokL3vvIzmuJvlsJHooYzmlbhcbiAgICBjb25zdCBtZXJnZVNlZ21lbnRzID0gdXNlQ2FsbGJhY2soKGVudHJpZXM6IFRyYW5zY3JpcHRFbnRyeVtdKTogVHJhbnNjcmlwdEVudHJ5W10gPT4ge1xuICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPD0gMSkgcmV0dXJuIGVudHJpZXNcbiAgICAgICAgY29uc3QgbWVyZ2VkOiBUcmFuc2NyaXB0RW50cnlbXSA9IFtdXG4gICAgICAgIGxldCBjdXJyZW50ID0geyAuLi5lbnRyaWVzWzBdIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gZW50cmllc1tpXVxuICAgICAgICAgICAgY29uc3QgZGlmZiA9XG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KG5leHQudGltZS5zcGxpdChcIjpcIilbMF0pICogNjAgKyBwYXJzZUludChuZXh0LnRpbWUuc3BsaXQoXCI6XCIpWzFdKSAtXG4gICAgICAgICAgICAgICAgICAgIChwYXJzZUludChjdXJyZW50LnRpbWUuc3BsaXQoXCI6XCIpWzBdKSAqIDYwICsgcGFyc2VJbnQoY3VycmVudC50aW1lLnNwbGl0KFwiOlwiKVsxXSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKGRpZmYgPD0gNSAmJiBjdXJyZW50LnRleHQubGVuZ3RoICsgbmV4dC50ZXh0Lmxlbmd0aCA8IDIwMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IHRpbWU6IGN1cnJlbnQudGltZSwgdGV4dDogY3VycmVudC50ZXh0LnRyaW0oKSArIFwiIFwiICsgbmV4dC50ZXh0LnRyaW0oKSB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lcmdlZC5wdXNoKGN1cnJlbnQpXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHsgLi4ubmV4dCB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVyZ2VkLnB1c2goY3VycmVudClcbiAgICAgICAgcmV0dXJuIG1lcmdlZFxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Ieq5YuV5o2y5YuVXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgYXV0b1Njcm9sbCgpXG4gICAgfSwgW3RyYW5zY3JpcHRFbnRyaWVzLCBhdXRvU2Nyb2xsXSlcblxuICAgIC8vIOebo+iBveaNsuWLlVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IHNjcm9sbEFyZWFSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcignW2RhdGEtcmFkaXgtc2Nyb2xsLWFyZWEtdmlld3BvcnRdJylcbiAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lcikge1xuICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdW5sb2NrT25TY3JvbGwpXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gc2Nyb2xsQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdW5sb2NrT25TY3JvbGwpXG4gICAgICAgIH1cbiAgICB9LCBbdW5sb2NrT25TY3JvbGxdKVxuXG4gICAgLy8g5riF55CG6KiI5pmC5ZmoXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmICh1c2VyU2Nyb2xsVGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh1c2VyU2Nyb2xsVGltZW91dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFt1c2VyU2Nyb2xsVGltZW91dF0pXG5cbiAgICBjb25zdCBtZXJnZWRFbnRyaWVzID0gbWVyZ2VTZWdtZW50cyh0cmFuc2NyaXB0RW50cmllcylcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT1cImZsZXgtMVwiIHJlZj17c2Nyb2xsQXJlYVJlZn0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIHttZXJnZWRFbnRyaWVzLm1hcCgoZW50cnksIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb250LW1vbm8gdGV4dC14cyBtdC0xIG1pbi13LVs0MHB4XSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRyeS50aW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWZvcmVncm91bmQgbGVhZGluZy1yZWxheGVkXCI+e2VudHJ5LnRleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9TY3JvbGxBcmVhPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItYm9yZGVyIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlQXV0b1Njcm9sbExvY2t9XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNBdXRvU2Nyb2xsTG9ja2VkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9jayBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvLXNjcm9sbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVbmxvY2sgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFudWFsXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17b25TdG9wUmVjb3JkaW5nfSB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8U3F1YXJlIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICBTdG9wXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJTY3JvbGxBcmVhIiwiQnV0dG9uIiwiU3F1YXJlIiwiTG9jayIsIlVubG9jayIsIlJlY29yZGluZ0FjdGl2ZVN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJvblN0b3BSZWNvcmRpbmciLCJzY3JvbGxBcmVhUmVmIiwiaXNBdXRvU2Nyb2xsTG9ja2VkIiwic2V0SXNBdXRvU2Nyb2xsTG9ja2VkIiwidXNlclNjcm9sbFRpbWVvdXQiLCJzZXRVc2VyU2Nyb2xsVGltZW91dCIsImF1dG9TY3JvbGwiLCJjdXJyZW50Iiwic2Nyb2xsQ29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVubG9ja09uU2Nyb2xsIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbGllbnRIZWlnaHQiLCJpc0F0Qm90dG9tIiwiTWF0aCIsImFicyIsImNsZWFyVGltZW91dCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidG9nZ2xlQXV0b1Njcm9sbExvY2siLCJwcmV2IiwibWVyZ2VTZWdtZW50cyIsImVudHJpZXMiLCJsZW5ndGgiLCJtZXJnZWQiLCJpIiwibmV4dCIsImRpZmYiLCJwYXJzZUludCIsInRpbWUiLCJzcGxpdCIsInRleHQiLCJ0cmltIiwicHVzaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibWVyZ2VkRW50cmllcyIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsIm1hcCIsImVudHJ5IiwiaW5kZXgiLCJzcGFuIiwib25DbGljayIsInZhcmlhbnQiLCJzaXplIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-active-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-state.tsx":
/*!****************************************!*\
  !*** ./components/recording-state.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingState: () => (/* binding */ RecordingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _recording_waiting_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recording-waiting-state */ \"(ssr)/./components/recording-waiting-state.tsx\");\n/* harmony import */ var _recording_active_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./recording-active-state */ \"(ssr)/./components/recording-active-state.tsx\");\n/* __next_internal_client_entry_do_not_use__ RecordingState auto */ \n\n\nfunction RecordingState({ transcriptEntries, recordingTime, onStopRecording }) {\n    if (transcriptEntries.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_recording_waiting_state__WEBPACK_IMPORTED_MODULE_1__.RecordingWaitingState, {\n            recordingTime: recordingTime,\n            onStopRecording: onStopRecording\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-state.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_recording_active_state__WEBPACK_IMPORTED_MODULE_2__.RecordingActiveState, {\n        transcriptEntries: transcriptEntries,\n        onStopRecording: onStopRecording\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-state.tsx\",\n        lineNumber: 23,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy1zdGF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRWlFO0FBQ0Y7QUFTeEQsU0FBU0UsZUFBZSxFQUFFQyxpQkFBaUIsRUFBRUMsYUFBYSxFQUFFQyxlQUFlLEVBQXVCO0lBQ3ZHLElBQUlGLGtCQUFrQkcsTUFBTSxLQUFLLEdBQUc7UUFDbEMscUJBQ0UsOERBQUNOLDJFQUFxQkE7WUFDcEJJLGVBQWVBO1lBQ2ZDLGlCQUFpQkE7Ozs7OztJQUd2QjtJQUNBLHFCQUNFLDhEQUFDSix5RUFBb0JBO1FBQ25CRSxtQkFBbUJBO1FBQ25CRSxpQkFBaUJBOzs7Ozs7QUFHdkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvcmVjb3JkaW5nLXN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBSZWNvcmRpbmdXYWl0aW5nU3RhdGUgfSBmcm9tIFwiLi9yZWNvcmRpbmctd2FpdGluZy1zdGF0ZVwiXG5pbXBvcnQgeyBSZWNvcmRpbmdBY3RpdmVTdGF0ZSB9IGZyb20gXCIuL3JlY29yZGluZy1hY3RpdmUtc3RhdGVcIlxuaW1wb3J0IHR5cGUgeyBUcmFuc2NyaXB0RW50cnkgfSBmcm9tIFwiLi4vdHlwZXMvYXBwLXN0YXRlXCJcblxuaW50ZXJmYWNlIFJlY29yZGluZ1N0YXRlUHJvcHMge1xuICB0cmFuc2NyaXB0RW50cmllczogVHJhbnNjcmlwdEVudHJ5W11cbiAgcmVjb3JkaW5nVGltZTogbnVtYmVyXG4gIG9uU3RvcFJlY29yZGluZzogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkaW5nU3RhdGUoeyB0cmFuc2NyaXB0RW50cmllcywgcmVjb3JkaW5nVGltZSwgb25TdG9wUmVjb3JkaW5nIH06IFJlY29yZGluZ1N0YXRlUHJvcHMpIHtcbiAgaWYgKHRyYW5zY3JpcHRFbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAoXG4gICAgICA8UmVjb3JkaW5nV2FpdGluZ1N0YXRlXG4gICAgICAgIHJlY29yZGluZ1RpbWU9e3JlY29yZGluZ1RpbWV9XG4gICAgICAgIG9uU3RvcFJlY29yZGluZz17b25TdG9wUmVjb3JkaW5nfVxuICAgICAgLz5cbiAgICApXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8UmVjb3JkaW5nQWN0aXZlU3RhdGVcbiAgICAgIHRyYW5zY3JpcHRFbnRyaWVzPXt0cmFuc2NyaXB0RW50cmllc31cbiAgICAgIG9uU3RvcFJlY29yZGluZz17b25TdG9wUmVjb3JkaW5nfVxuICAgIC8+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJSZWNvcmRpbmdXYWl0aW5nU3RhdGUiLCJSZWNvcmRpbmdBY3RpdmVTdGF0ZSIsIlJlY29yZGluZ1N0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJyZWNvcmRpbmdUaW1lIiwib25TdG9wUmVjb3JkaW5nIiwibGVuZ3RoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-waiting-state.tsx":
/*!************************************************!*\
  !*** ./components/recording-waiting-state.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingWaitingState: () => (/* binding */ RecordingWaitingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock-open.js\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/square.js\");\n/* __next_internal_client_entry_do_not_use__ RecordingWaitingState auto */ \n\n\n\n\nfunction RecordingWaitingState({ recordingTime, onStopRecording }) {\n    const [isAutoScrollLocked, setIsAutoScrollLocked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const toggleAutoScrollLock = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingWaitingState.useCallback[toggleAutoScrollLock]\": ()=>{\n            setIsAutoScrollLocked({\n                \"RecordingWaitingState.useCallback[toggleAutoScrollLock]\": (prev)=>!prev\n            }[\"RecordingWaitingState.useCallback[toggleAutoScrollLock]\"]);\n        }\n    }[\"RecordingWaitingState.useCallback[toggleAutoScrollLock]\"], []);\n    const formatTime = (seconds)=>{\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__.ScrollArea, {\n                className: \"flex-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center justify-center h-full p-8 text-muted-foreground text-center space-y-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm\",\n                            children: [\n                                \"Recording… \",\n                                formatTime(recordingTime)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                            lineNumber: 30,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs\",\n                            children: \"Transcript will appear here\"\n                        }, void 0, false, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                            lineNumber: 33,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                    lineNumber: 29,\n                    columnNumber: 17\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                lineNumber: 28,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: toggleAutoScrollLock,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2 text-muted-foreground\",\n                        children: isAutoScrollLocked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                    lineNumber: 46,\n                                    columnNumber: 29\n                                }, this),\n                                \"Auto-scroll\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                    lineNumber: 51,\n                                    columnNumber: 29\n                                }, this),\n                                \"Manual\"\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 38,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: onStopRecording,\n                        variant: \"destructive\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 58,\n                                columnNumber: 21\n                            }, this),\n                            \"Stop\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 57,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                lineNumber: 37,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n        lineNumber: 27,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy13YWl0aW5nLXN0YXRlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUU2QztBQUNXO0FBQ1Q7QUFDSTtBQU81QyxTQUFTTyxzQkFBc0IsRUFBRUMsYUFBYSxFQUFFQyxlQUFlLEVBQThCO0lBQ2hHLE1BQU0sQ0FBQ0Msb0JBQW9CQyxzQkFBc0IsR0FBR1gsK0NBQVFBLENBQUM7SUFFN0QsTUFBTVksdUJBQXVCWCxrREFBV0E7bUVBQUM7WUFDckNVOzJFQUFzQkUsQ0FBQUEsT0FBUSxDQUFDQTs7UUFDbkM7a0VBQUcsRUFBRTtJQUVMLE1BQU1DLGFBQWEsQ0FBQ0M7UUFDaEIsTUFBTUMsT0FBT0MsS0FBS0MsS0FBSyxDQUFDSCxVQUFVO1FBQ2xDLE1BQU1JLE9BQU9KLFVBQVU7UUFDdkIsT0FBTyxHQUFHQyxLQUFLSSxRQUFRLEdBQUdDLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFRixLQUFLQyxRQUFRLEdBQUdDLFFBQVEsQ0FBQyxHQUFHLE1BQU07SUFDcEY7SUFFQSxxQkFDSSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ1gsOERBQUNyQixrRUFBVUE7Z0JBQUNxQixXQUFVOzBCQUNsQiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNYLDhEQUFDRDs0QkFBSUMsV0FBVTs7Z0NBQVU7Z0NBQ1RULFdBQVdOOzs7Ozs7O3NDQUUzQiw4REFBQ2M7NEJBQUlDLFdBQVU7c0NBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUlqQyw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNYLDhEQUFDcEIseURBQU1BO3dCQUNIcUIsU0FBU1o7d0JBQ1RhLFNBQVE7d0JBQ1JDLE1BQUs7d0JBQ0xILFdBQVU7a0NBRVRiLG1DQUNHOzs4Q0FDSSw4REFBQ0wsOEZBQUlBO29DQUFDa0IsV0FBVTs7Ozs7O2dDQUFZOzt5REFJaEM7OzhDQUNJLDhEQUFDakIsOEZBQU1BO29DQUFDaUIsV0FBVTs7Ozs7O2dDQUFZOzs7Ozs7OztrQ0FNMUMsOERBQUNwQix5REFBTUE7d0JBQUNxQixTQUFTZjt3QkFBaUJnQixTQUFRO3dCQUFjQyxNQUFLO3dCQUFLSCxXQUFVOzswQ0FDeEUsOERBQUNuQiw4RkFBTUE7Z0NBQUNtQixXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNbEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvcmVjb3JkaW5nLXdhaXRpbmctc3RhdGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYVwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQgeyBTcXVhcmUsIExvY2ssIFVubG9jayB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuXG5pbnRlcmZhY2UgUmVjb3JkaW5nV2FpdGluZ1N0YXRlUHJvcHMge1xuICAgIHJlY29yZGluZ1RpbWU6IG51bWJlclxuICAgIG9uU3RvcFJlY29yZGluZzogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkaW5nV2FpdGluZ1N0YXRlKHsgcmVjb3JkaW5nVGltZSwgb25TdG9wUmVjb3JkaW5nIH06IFJlY29yZGluZ1dhaXRpbmdTdGF0ZVByb3BzKSB7XG4gICAgY29uc3QgW2lzQXV0b1Njcm9sbExvY2tlZCwgc2V0SXNBdXRvU2Nyb2xsTG9ja2VkXSA9IHVzZVN0YXRlKHRydWUpXG5cbiAgICBjb25zdCB0b2dnbGVBdXRvU2Nyb2xsTG9jayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0SXNBdXRvU2Nyb2xsTG9ja2VkKHByZXYgPT4gIXByZXYpXG4gICAgfSwgW10pXG5cbiAgICBjb25zdCBmb3JtYXRUaW1lID0gKHNlY29uZHM6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBtaW5zID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApXG4gICAgICAgIGNvbnN0IHNlY3MgPSBzZWNvbmRzICUgNjBcbiAgICAgICAgcmV0dXJuIGAke21pbnMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGwgcC04IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWNvcmRpbmfigKYge2Zvcm1hdFRpbWUocmVjb3JkaW5nVGltZSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHNcIj5UcmFuc2NyaXB0IHdpbGwgYXBwZWFyIGhlcmU8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvU2Nyb2xsQXJlYT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUF1dG9TY3JvbGxMb2NrfVxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LW11dGVkLWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzQXV0b1Njcm9sbExvY2tlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvY2sgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0by1zY3JvbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VW5sb2NrIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hbnVhbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e29uU3RvcFJlY29yZGluZ30gdmFyaWFudD1cImRlc3RydWN0aXZlXCIgc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNxdWFyZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgU3RvcFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiU2Nyb2xsQXJlYSIsIkJ1dHRvbiIsIlNxdWFyZSIsIkxvY2siLCJVbmxvY2siLCJSZWNvcmRpbmdXYWl0aW5nU3RhdGUiLCJyZWNvcmRpbmdUaW1lIiwib25TdG9wUmVjb3JkaW5nIiwiaXNBdXRvU2Nyb2xsTG9ja2VkIiwic2V0SXNBdXRvU2Nyb2xsTG9ja2VkIiwidG9nZ2xlQXV0b1Njcm9sbExvY2siLCJwcmV2IiwiZm9ybWF0VGltZSIsInNlY29uZHMiLCJtaW5zIiwiTWF0aCIsImZsb29yIiwic2VjcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwidmFyaWFudCIsInNpemUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-waiting-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/button.tsx":
/*!**********************************!*\
  !*** ./components/ui/button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   buttonVariants: () => (/* binding */ buttonVariants)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-slot@1.1.1_@types+react@19.0.0_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\n\nconst buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n            destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n            outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n            secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n            ghost: \"hover:bg-accent hover:text-accent-foreground\",\n            link: \"text-primary underline-offset-4 hover:underline\"\n        },\n        size: {\n            default: \"h-10 px-4 py-2\",\n            sm: \"h-9 rounded-md px-3\",\n            lg: \"h-11 rounded-md px-8\",\n            icon: \"h-10 w-10\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nconst Button = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, size, asChild = false, ...props }, ref)=>{\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__.Slot : \"button\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Comp, {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(buttonVariants({\n            variant,\n            size,\n            className\n        })),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/button.tsx\",\n        lineNumber: 46,\n        columnNumber: 7\n    }, undefined);\n});\nButton.displayName = \"Button\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNhO0FBQ3NCO0FBRWpDO0FBRWhDLE1BQU1JLGlCQUFpQkYsNkRBQUdBLENBQ3hCLDRWQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUFTO1lBQ1RDLGFBQ0U7WUFDRkMsU0FDRTtZQUNGQyxXQUNFO1lBQ0ZDLE9BQU87WUFDUEMsTUFBTTtRQUNSO1FBQ0FDLE1BQU07WUFDSk4sU0FBUztZQUNUTyxJQUFJO1lBQ0pDLElBQUk7WUFDSkMsTUFBTTtRQUNSO0lBQ0Y7SUFDQUMsaUJBQWlCO1FBQ2ZYLFNBQVM7UUFDVE8sTUFBTTtJQUNSO0FBQ0Y7QUFTRixNQUFNSyx1QkFBU2xCLDZDQUFnQixDQUM3QixDQUFDLEVBQUVvQixTQUFTLEVBQUVkLE9BQU8sRUFBRU8sSUFBSSxFQUFFUSxVQUFVLEtBQUssRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hELE1BQU1DLE9BQU9ILFVBQVVwQixzREFBSUEsR0FBRztJQUM5QixxQkFDRSw4REFBQ3VCO1FBQ0NKLFdBQVdqQiw4Q0FBRUEsQ0FBQ0MsZUFBZTtZQUFFRTtZQUFTTztZQUFNTztRQUFVO1FBQ3hERyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE9BQU9PLFdBQVcsR0FBRztBQUVZIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIlxuaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gXCJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHlcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IGJ1dHRvblZhcmlhbnRzID0gY3ZhKFxuICBcImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiB3aGl0ZXNwYWNlLW5vd3JhcCByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW0gcmluZy1vZmZzZXQtYmFja2dyb3VuZCB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmddOnNpemUtNCBbJl9zdmddOnNocmluay0wXCIsXG4gIHtcbiAgICB2YXJpYW50czoge1xuICAgICAgdmFyaWFudDoge1xuICAgICAgICBkZWZhdWx0OiBcImJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgaG92ZXI6YmctcHJpbWFyeS85MFwiLFxuICAgICAgICBkZXN0cnVjdGl2ZTpcbiAgICAgICAgICBcImJnLWRlc3RydWN0aXZlIHRleHQtZGVzdHJ1Y3RpdmUtZm9yZWdyb3VuZCBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MFwiLFxuICAgICAgICBvdXRsaW5lOlxuICAgICAgICAgIFwiYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIGhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIHNlY29uZGFyeTpcbiAgICAgICAgICBcImJnLXNlY29uZGFyeSB0ZXh0LXNlY29uZGFyeS1mb3JlZ3JvdW5kIGhvdmVyOmJnLXNlY29uZGFyeS84MFwiLFxuICAgICAgICBnaG9zdDogXCJob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiLFxuICAgICAgICBsaW5rOiBcInRleHQtcHJpbWFyeSB1bmRlcmxpbmUtb2Zmc2V0LTQgaG92ZXI6dW5kZXJsaW5lXCIsXG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICBkZWZhdWx0OiBcImgtMTAgcHgtNCBweS0yXCIsXG4gICAgICAgIHNtOiBcImgtOSByb3VuZGVkLW1kIHB4LTNcIixcbiAgICAgICAgbGc6IFwiaC0xMSByb3VuZGVkLW1kIHB4LThcIixcbiAgICAgICAgaWNvbjogXCJoLTEwIHctMTBcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICAgICAgc2l6ZTogXCJkZWZhdWx0XCIsXG4gICAgfSxcbiAgfVxuKVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1dHRvblByb3BzXG4gIGV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+LFxuICAgIFZhcmlhbnRQcm9wczx0eXBlb2YgYnV0dG9uVmFyaWFudHM+IHtcbiAgYXNDaGlsZD86IGJvb2xlYW5cbn1cblxuY29uc3QgQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KFxuICAoeyBjbGFzc05hbWUsIHZhcmlhbnQsIHNpemUsIGFzQ2hpbGQgPSBmYWxzZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90IDogXCJidXR0b25cIlxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcFxuICAgICAgICBjbGFzc05hbWU9e2NuKGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgY2xhc3NOYW1lIH0pKX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKVxuICB9XG4pXG5CdXR0b24uZGlzcGxheU5hbWUgPSBcIkJ1dHRvblwiXG5cbmV4cG9ydCB7IEJ1dHRvbiwgYnV0dG9uVmFyaWFudHMgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU2xvdCIsImN2YSIsImNuIiwiYnV0dG9uVmFyaWFudHMiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0IiwiZGVzdHJ1Y3RpdmUiLCJvdXRsaW5lIiwic2Vjb25kYXJ5IiwiZ2hvc3QiLCJsaW5rIiwic2l6ZSIsInNtIiwibGciLCJpY29uIiwiZGVmYXVsdFZhcmlhbnRzIiwiQnV0dG9uIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsImFzQ2hpbGQiLCJwcm9wcyIsInJlZiIsIkNvbXAiLCJkaXNwbGF5TmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/input.tsx":
/*!*********************************!*\
  !*** ./components/ui/input.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Input = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, type, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n        type: type,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\", className),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/input.tsx\",\n        lineNumber: 8,\n        columnNumber: 7\n    }, undefined);\n});\nInput.displayName = \"Input\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBRUU7QUFFaEMsTUFBTUUsc0JBQVFGLDZDQUFnQixDQUM1QixDQUFDLEVBQUVJLFNBQVMsRUFBRUMsSUFBSSxFQUFFLEdBQUdDLE9BQU8sRUFBRUM7SUFDOUIscUJBQ0UsOERBQUNDO1FBQ0NILE1BQU1BO1FBQ05ELFdBQVdILDhDQUFFQSxDQUNYLGtZQUNBRztRQUVGRyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE1BQU1PLFdBQVcsR0FBRztBQUVKIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL3VpL2lucHV0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IElucHV0ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MSW5wdXRFbGVtZW50LCBSZWFjdC5Db21wb25lbnRQcm9wczxcImlucHV0XCI+PihcbiAgKHsgY2xhc3NOYW1lLCB0eXBlLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgXCJmbGV4IGgtMTAgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHB4LTMgcHktMiB0ZXh0LWJhc2UgcmluZy1vZmZzZXQtYmFja2dyb3VuZCBmaWxlOmJvcmRlci0wIGZpbGU6YmctdHJhbnNwYXJlbnQgZmlsZTp0ZXh0LXNtIGZpbGU6Zm9udC1tZWRpdW0gZmlsZTp0ZXh0LWZvcmVncm91bmQgcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBtZDp0ZXh0LXNtXCIsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIClcbiAgfVxuKVxuSW5wdXQuZGlzcGxheU5hbWUgPSBcIklucHV0XCJcblxuZXhwb3J0IHsgSW5wdXQgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY24iLCJJbnB1dCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJ0eXBlIiwicHJvcHMiLCJyZWYiLCJpbnB1dCIsImRpc3BsYXlOYW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/input.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/scroll-area.tsx":
/*!***************************************!*\
  !*** ./components/ui/scroll-area.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollArea: () => (/* binding */ ScrollArea),\n/* harmony export */   ScrollBar: () => (/* binding */ ScrollBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-scroll-area */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-scroll-area@1.2.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom_4cec18677bb44dd61a9e69790aff2bfb/node_modules/@radix-ui/react-scroll-area/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ ScrollArea,ScrollBar auto */ \n\n\n\nconst ScrollArea = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative overflow-hidden\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Viewport, {\n                className: \"h-full w-full rounded-[inherit]\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 17,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScrollBar, {}, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 20,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Corner, {}, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 21,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n        lineNumber: 12,\n        columnNumber: 3\n    }, undefined));\nScrollArea.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root.displayName;\nconst ScrollBar = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, orientation = \"vertical\", ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar, {\n        ref: ref,\n        orientation: orientation,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex touch-none select-none transition-colors\", orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\", orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\", className),\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaThumb, {\n            className: \"relative flex-1 rounded-full bg-border\"\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n            lineNumber: 43,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n        lineNumber: 30,\n        columnNumber: 3\n    }, undefined));\nScrollBar.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFDb0M7QUFFbEM7QUFFaEMsTUFBTUcsMkJBQWFILDZDQUFnQixDQUdqQyxDQUFDLEVBQUVLLFNBQVMsRUFBRUMsUUFBUSxFQUFFLEdBQUdDLE9BQU8sRUFBRUMsb0JBQ3BDLDhEQUFDUCw2REFBd0I7UUFDdkJPLEtBQUtBO1FBQ0xILFdBQVdILDhDQUFFQSxDQUFDLDRCQUE0Qkc7UUFDekMsR0FBR0UsS0FBSzs7MEJBRVQsOERBQUNOLGlFQUE0QjtnQkFBQ0ksV0FBVTswQkFDckNDOzs7Ozs7MEJBRUgsOERBQUNLOzs7OzswQkFDRCw4REFBQ1YsK0RBQTBCOzs7Ozs7Ozs7OztBQUcvQkUsV0FBV1UsV0FBVyxHQUFHWiw2REFBd0IsQ0FBQ1ksV0FBVztBQUU3RCxNQUFNRiwwQkFBWVgsNkNBQWdCLENBR2hDLENBQUMsRUFBRUssU0FBUyxFQUFFUyxjQUFjLFVBQVUsRUFBRSxHQUFHUCxPQUFPLEVBQUVDLG9CQUNwRCw4REFBQ1AsNEVBQXVDO1FBQ3RDTyxLQUFLQTtRQUNMTSxhQUFhQTtRQUNiVCxXQUFXSCw4Q0FBRUEsQ0FDWCxpREFDQVksZ0JBQWdCLGNBQ2Qsc0RBQ0ZBLGdCQUFnQixnQkFDZCx3REFDRlQ7UUFFRCxHQUFHRSxLQUFLO2tCQUVULDRFQUFDTix3RUFBbUM7WUFBQ0ksV0FBVTs7Ozs7Ozs7Ozs7QUFHbkRNLFVBQVVFLFdBQVcsR0FBR1osNEVBQXVDLENBQUNZLFdBQVc7QUFFM0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBTY3JvbGxBcmVhUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2Nyb2xsLWFyZWFcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IFNjcm9sbEFyZWEgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3Q+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdD5cbj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3RcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwicmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPFNjcm9sbEFyZWFQcmltaXRpdmUuVmlld3BvcnQgY2xhc3NOYW1lPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLVtpbmhlcml0XVwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5WaWV3cG9ydD5cbiAgICA8U2Nyb2xsQmFyIC8+XG4gICAgPFNjcm9sbEFyZWFQcmltaXRpdmUuQ29ybmVyIC8+XG4gIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5Sb290PlxuKSlcblNjcm9sbEFyZWEuZGlzcGxheU5hbWUgPSBTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3QuZGlzcGxheU5hbWVcblxuY29uc3QgU2Nyb2xsQmFyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXI+XG4+KCh7IGNsYXNzTmFtZSwgb3JpZW50YXRpb24gPSBcInZlcnRpY2FsXCIsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8U2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyXG4gICAgcmVmPXtyZWZ9XG4gICAgb3JpZW50YXRpb249e29yaWVudGF0aW9ufVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICBcImZsZXggdG91Y2gtbm9uZSBzZWxlY3Qtbm9uZSB0cmFuc2l0aW9uLWNvbG9yc1wiLFxuICAgICAgb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiAmJlxuICAgICAgICBcImgtZnVsbCB3LTIuNSBib3JkZXItbCBib3JkZXItbC10cmFuc3BhcmVudCBwLVsxcHhdXCIsXG4gICAgICBvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgJiZcbiAgICAgICAgXCJoLTIuNSBmbGV4LWNvbCBib3JkZXItdCBib3JkZXItdC10cmFuc3BhcmVudCBwLVsxcHhdXCIsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgPlxuICAgIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFUaHVtYiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LTEgcm91bmRlZC1mdWxsIGJnLWJvcmRlclwiIC8+XG4gIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyPlxuKSlcblNjcm9sbEJhci5kaXNwbGF5TmFtZSA9IFNjcm9sbEFyZWFQcmltaXRpdmUuU2Nyb2xsQXJlYVNjcm9sbGJhci5kaXNwbGF5TmFtZVxuXG5leHBvcnQgeyBTY3JvbGxBcmVhLCBTY3JvbGxCYXIgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU2Nyb2xsQXJlYVByaW1pdGl2ZSIsImNuIiwiU2Nyb2xsQXJlYSIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsInByb3BzIiwicmVmIiwiUm9vdCIsIlZpZXdwb3J0IiwiU2Nyb2xsQmFyIiwiQ29ybmVyIiwiZGlzcGxheU5hbWUiLCJvcmllbnRhdGlvbiIsIlNjcm9sbEFyZWFTY3JvbGxiYXIiLCJTY3JvbGxBcmVhVGh1bWIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/scroll-area.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/use-toast.ts":
/*!************************************!*\
  !*** ./components/ui/use-toast.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reducer: () => (/* binding */ reducer),\n/* harmony export */   toast: () => (/* binding */ toast),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ reducer,useToast,toast auto */ // Inspired by react-hot-toast library\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\nconst actionTypes = {\n    ADD_TOAST: \"ADD_TOAST\",\n    UPDATE_TOAST: \"UPDATE_TOAST\",\n    DISMISS_TOAST: \"DISMISS_TOAST\",\n    REMOVE_TOAST: \"REMOVE_TOAST\"\n};\nlet count = 0;\nfunction genId() {\n    count = (count + 1) % Number.MAX_SAFE_INTEGER;\n    return count.toString();\n}\nconst toastTimeouts = new Map();\nconst addToRemoveQueue = (toastId)=>{\n    if (toastTimeouts.has(toastId)) {\n        return;\n    }\n    const timeout = setTimeout(()=>{\n        toastTimeouts.delete(toastId);\n        dispatch({\n            type: \"REMOVE_TOAST\",\n            toastId: toastId\n        });\n    }, TOAST_REMOVE_DELAY);\n    toastTimeouts.set(toastId, timeout);\n};\nconst reducer = (state, action)=>{\n    switch(action.type){\n        case \"ADD_TOAST\":\n            return {\n                ...state,\n                toasts: [\n                    action.toast,\n                    ...state.toasts\n                ].slice(0, TOAST_LIMIT)\n            };\n        case \"UPDATE_TOAST\":\n            return {\n                ...state,\n                toasts: state.toasts.map((t)=>t.id === action.toast.id ? {\n                        ...t,\n                        ...action.toast\n                    } : t)\n            };\n        case \"DISMISS_TOAST\":\n            {\n                const { toastId } = action;\n                // ! Side effects ! - This could be extracted into a dismissToast() action,\n                // but I'll keep it here for simplicity\n                if (toastId) {\n                    addToRemoveQueue(toastId);\n                } else {\n                    state.toasts.forEach((toast)=>{\n                        addToRemoveQueue(toast.id);\n                    });\n                }\n                return {\n                    ...state,\n                    toasts: state.toasts.map((t)=>t.id === toastId || toastId === undefined ? {\n                            ...t,\n                            open: false\n                        } : t)\n                };\n            }\n        case \"REMOVE_TOAST\":\n            if (action.toastId === undefined) {\n                return {\n                    ...state,\n                    toasts: []\n                };\n            }\n            return {\n                ...state,\n                toasts: state.toasts.filter((t)=>t.id !== action.toastId)\n            };\n    }\n};\nconst listeners = [];\nlet memoryState = {\n    toasts: []\n};\nfunction dispatch(action) {\n    memoryState = reducer(memoryState, action);\n    listeners.forEach((listener)=>{\n        listener(memoryState);\n    });\n}\nfunction toast({ ...props }) {\n    const id = genId();\n    const update = (props)=>dispatch({\n            type: \"UPDATE_TOAST\",\n            toast: {\n                ...props,\n                id\n            }\n        });\n    const dismiss = ()=>dispatch({\n            type: \"DISMISS_TOAST\",\n            toastId: id\n        });\n    dispatch({\n        type: \"ADD_TOAST\",\n        toast: {\n            ...props,\n            id,\n            open: true,\n            onOpenChange: (open)=>{\n                if (!open) dismiss();\n            }\n        }\n    });\n    return {\n        id: id,\n        dismiss,\n        update\n    };\n}\nfunction useToast() {\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(memoryState);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"useToast.useEffect\": ()=>{\n            listeners.push(setState);\n            return ({\n                \"useToast.useEffect\": ()=>{\n                    const index = listeners.indexOf(setState);\n                    if (index > -1) {\n                        listeners.splice(index, 1);\n                    }\n                }\n            })[\"useToast.useEffect\"];\n        }\n    }[\"useToast.useEffect\"], [\n        state\n    ]);\n    return {\n        ...state,\n        toast,\n        dismiss: (toastId)=>dispatch({\n                type: \"DISMISS_TOAST\",\n                toastId\n            })\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTVUsVUFBVSxJQUFNckIsU0FBUztZQUFFQyxNQUFNO1lBQWlCTixTQUFTZ0I7UUFBRztJQUVwRVgsU0FBUztRQUNQQyxNQUFNO1FBQ05NLE9BQU87WUFDTCxHQUFHWSxLQUFLO1lBQ1JSO1lBQ0FHLE1BQU07WUFDTlEsY0FBYyxDQUFDUjtnQkFDYixJQUFJLENBQUNBLE1BQU1PO1lBQ2I7UUFDRjtJQUNGO0lBRUEsT0FBTztRQUNMVixJQUFJQTtRQUNKVTtRQUNBRDtJQUNGO0FBQ0Y7QUFFQSxTQUFTRztJQUNQLE1BQU0sQ0FBQ25CLE9BQU9vQixTQUFTLEdBQUc3QywyQ0FBYyxDQUFRc0M7SUFFaER0Qyw0Q0FBZTs4QkFBQztZQUNkcUMsVUFBVVcsSUFBSSxDQUFDSDtZQUNmO3NDQUFPO29CQUNMLE1BQU1JLFFBQVFaLFVBQVVhLE9BQU8sQ0FBQ0w7b0JBQ2hDLElBQUlJLFFBQVEsQ0FBQyxHQUFHO3dCQUNkWixVQUFVYyxNQUFNLENBQUNGLE9BQU87b0JBQzFCO2dCQUNGOztRQUNGOzZCQUFHO1FBQUN4QjtLQUFNO0lBRVYsT0FBTztRQUNMLEdBQUdBLEtBQUs7UUFDUkc7UUFDQWMsU0FBUyxDQUFDMUIsVUFBcUJLLFNBQVM7Z0JBQUVDLE1BQU07Z0JBQWlCTjtZQUFRO0lBQzNFO0FBQ0Y7QUFFMEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvdWkvdXNlLXRvYXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbi8vIEluc3BpcmVkIGJ5IHJlYWN0LWhvdC10b2FzdCBsaWJyYXJ5XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgdHlwZSB7XG4gIFRvYXN0QWN0aW9uRWxlbWVudCxcbiAgVG9hc3RQcm9wcyxcbn0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90b2FzdFwiXG5cbmNvbnN0IFRPQVNUX0xJTUlUID0gMVxuY29uc3QgVE9BU1RfUkVNT1ZFX0RFTEFZID0gMTAwMDAwMFxuXG50eXBlIFRvYXN0ZXJUb2FzdCA9IFRvYXN0UHJvcHMgJiB7XG4gIGlkOiBzdHJpbmdcbiAgdGl0bGU/OiBSZWFjdC5SZWFjdE5vZGVcbiAgZGVzY3JpcHRpb24/OiBSZWFjdC5SZWFjdE5vZGVcbiAgYWN0aW9uPzogVG9hc3RBY3Rpb25FbGVtZW50XG59XG5cbmNvbnN0IGFjdGlvblR5cGVzID0ge1xuICBBRERfVE9BU1Q6IFwiQUREX1RPQVNUXCIsXG4gIFVQREFURV9UT0FTVDogXCJVUERBVEVfVE9BU1RcIixcbiAgRElTTUlTU19UT0FTVDogXCJESVNNSVNTX1RPQVNUXCIsXG4gIFJFTU9WRV9UT0FTVDogXCJSRU1PVkVfVE9BU1RcIixcbn0gYXMgY29uc3RcblxubGV0IGNvdW50ID0gMFxuXG5mdW5jdGlvbiBnZW5JZCgpIHtcbiAgY291bnQgPSAoY291bnQgKyAxKSAlIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4gIHJldHVybiBjb3VudC50b1N0cmluZygpXG59XG5cbnR5cGUgQWN0aW9uVHlwZSA9IHR5cGVvZiBhY3Rpb25UeXBlc1xuXG50eXBlIEFjdGlvbiA9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZVtcIkFERF9UT0FTVFwiXVxuICAgICAgdG9hc3Q6IFRvYXN0ZXJUb2FzdFxuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlW1wiVVBEQVRFX1RPQVNUXCJdXG4gICAgICB0b2FzdDogUGFydGlhbDxUb2FzdGVyVG9hc3Q+XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVbXCJESVNNSVNTX1RPQVNUXCJdXG4gICAgICB0b2FzdElkPzogVG9hc3RlclRvYXN0W1wiaWRcIl1cbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZVtcIlJFTU9WRV9UT0FTVFwiXVxuICAgICAgdG9hc3RJZD86IFRvYXN0ZXJUb2FzdFtcImlkXCJdXG4gICAgfVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICB0b2FzdHM6IFRvYXN0ZXJUb2FzdFtdXG59XG5cbmNvbnN0IHRvYXN0VGltZW91dHMgPSBuZXcgTWFwPHN0cmluZywgUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4+KClcblxuY29uc3QgYWRkVG9SZW1vdmVRdWV1ZSA9ICh0b2FzdElkOiBzdHJpbmcpID0+IHtcbiAgaWYgKHRvYXN0VGltZW91dHMuaGFzKHRvYXN0SWQpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgdG9hc3RUaW1lb3V0cy5kZWxldGUodG9hc3RJZClcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBcIlJFTU9WRV9UT0FTVFwiLFxuICAgICAgdG9hc3RJZDogdG9hc3RJZCxcbiAgICB9KVxuICB9LCBUT0FTVF9SRU1PVkVfREVMQVkpXG5cbiAgdG9hc3RUaW1lb3V0cy5zZXQodG9hc3RJZCwgdGltZW91dClcbn1cblxuZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSAoc3RhdGU6IFN0YXRlLCBhY3Rpb246IEFjdGlvbik6IFN0YXRlID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgXCJBRERfVE9BU1RcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IFthY3Rpb24udG9hc3QsIC4uLnN0YXRlLnRvYXN0c10uc2xpY2UoMCwgVE9BU1RfTElNSVQpLFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlVQREFURV9UT0FTVFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLm1hcCgodCkgPT5cbiAgICAgICAgICB0LmlkID09PSBhY3Rpb24udG9hc3QuaWQgPyB7IC4uLnQsIC4uLmFjdGlvbi50b2FzdCB9IDogdFxuICAgICAgICApLFxuICAgICAgfVxuXG4gICAgY2FzZSBcIkRJU01JU1NfVE9BU1RcIjoge1xuICAgICAgY29uc3QgeyB0b2FzdElkIH0gPSBhY3Rpb25cblxuICAgICAgLy8gISBTaWRlIGVmZmVjdHMgISAtIFRoaXMgY291bGQgYmUgZXh0cmFjdGVkIGludG8gYSBkaXNtaXNzVG9hc3QoKSBhY3Rpb24sXG4gICAgICAvLyBidXQgSSdsbCBrZWVwIGl0IGhlcmUgZm9yIHNpbXBsaWNpdHlcbiAgICAgIGlmICh0b2FzdElkKSB7XG4gICAgICAgIGFkZFRvUmVtb3ZlUXVldWUodG9hc3RJZClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRvYXN0cy5mb3JFYWNoKCh0b2FzdCkgPT4ge1xuICAgICAgICAgIGFkZFRvUmVtb3ZlUXVldWUodG9hc3QuaWQpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IHN0YXRlLnRvYXN0cy5tYXAoKHQpID0+XG4gICAgICAgICAgdC5pZCA9PT0gdG9hc3RJZCB8fCB0b2FzdElkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAgICAgb3BlbjogZmFsc2UsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdFxuICAgICAgICApLFxuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIFwiUkVNT1ZFX1RPQVNUXCI6XG4gICAgICBpZiAoYWN0aW9uLnRvYXN0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIHRvYXN0czogW10sXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IHN0YXRlLnRvYXN0cy5maWx0ZXIoKHQpID0+IHQuaWQgIT09IGFjdGlvbi50b2FzdElkKSxcbiAgICAgIH1cbiAgfVxufVxuXG5jb25zdCBsaXN0ZW5lcnM6IEFycmF5PChzdGF0ZTogU3RhdGUpID0+IHZvaWQ+ID0gW11cblxubGV0IG1lbW9yeVN0YXRlOiBTdGF0ZSA9IHsgdG9hc3RzOiBbXSB9XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbjogQWN0aW9uKSB7XG4gIG1lbW9yeVN0YXRlID0gcmVkdWNlcihtZW1vcnlTdGF0ZSwgYWN0aW9uKVxuICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcihtZW1vcnlTdGF0ZSlcbiAgfSlcbn1cblxudHlwZSBUb2FzdCA9IE9taXQ8VG9hc3RlclRvYXN0LCBcImlkXCI+XG5cbmZ1bmN0aW9uIHRvYXN0KHsgLi4ucHJvcHMgfTogVG9hc3QpIHtcbiAgY29uc3QgaWQgPSBnZW5JZCgpXG5cbiAgY29uc3QgdXBkYXRlID0gKHByb3BzOiBUb2FzdGVyVG9hc3QpID0+XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogXCJVUERBVEVfVE9BU1RcIixcbiAgICAgIHRvYXN0OiB7IC4uLnByb3BzLCBpZCB9LFxuICAgIH0pXG4gIGNvbnN0IGRpc21pc3MgPSAoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwiRElTTUlTU19UT0FTVFwiLCB0b2FzdElkOiBpZCB9KVxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBcIkFERF9UT0FTVFwiLFxuICAgIHRvYXN0OiB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGlkLFxuICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgIG9uT3BlbkNoYW5nZTogKG9wZW4pID0+IHtcbiAgICAgICAgaWYgKCFvcGVuKSBkaXNtaXNzKClcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcblxuICByZXR1cm4ge1xuICAgIGlkOiBpZCxcbiAgICBkaXNtaXNzLFxuICAgIHVwZGF0ZSxcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VUb2FzdCgpIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZTxTdGF0ZT4obWVtb3J5U3RhdGUpXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsaXN0ZW5lcnMucHVzaChzZXRTdGF0ZSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihzZXRTdGF0ZSlcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB9XG4gICAgfVxuICB9LCBbc3RhdGVdKVxuXG4gIHJldHVybiB7XG4gICAgLi4uc3RhdGUsXG4gICAgdG9hc3QsXG4gICAgZGlzbWlzczogKHRvYXN0SWQ/OiBzdHJpbmcpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJESVNNSVNTX1RPQVNUXCIsIHRvYXN0SWQgfSksXG4gIH1cbn1cblxuZXhwb3J0IHsgdXNlVG9hc3QsIHRvYXN0IH1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlRPQVNUX0xJTUlUIiwiVE9BU1RfUkVNT1ZFX0RFTEFZIiwiYWN0aW9uVHlwZXMiLCJBRERfVE9BU1QiLCJVUERBVEVfVE9BU1QiLCJESVNNSVNTX1RPQVNUIiwiUkVNT1ZFX1RPQVNUIiwiY291bnQiLCJnZW5JZCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJ0b1N0cmluZyIsInRvYXN0VGltZW91dHMiLCJNYXAiLCJhZGRUb1JlbW92ZVF1ZXVlIiwidG9hc3RJZCIsImhhcyIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGVsZXRlIiwiZGlzcGF0Y2giLCJ0eXBlIiwic2V0IiwicmVkdWNlciIsInN0YXRlIiwiYWN0aW9uIiwidG9hc3RzIiwidG9hc3QiLCJzbGljZSIsIm1hcCIsInQiLCJpZCIsImZvckVhY2giLCJ1bmRlZmluZWQiLCJvcGVuIiwiZmlsdGVyIiwibGlzdGVuZXJzIiwibWVtb3J5U3RhdGUiLCJsaXN0ZW5lciIsInByb3BzIiwidXBkYXRlIiwiZGlzbWlzcyIsIm9uT3BlbkNoYW5nZSIsInVzZVRvYXN0Iiwic2V0U3RhdGUiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInB1c2giLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/use-toast.ts\n");

/***/ }),

/***/ "(ssr)/./components/waiting-state.tsx":
/*!**************************************!*\
  !*** ./components/waiting-state.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WaitingState: () => (/* binding */ WaitingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* __next_internal_client_entry_do_not_use__ WaitingState auto */ \n\nfunction WaitingState() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col items-center justify-center p-6 space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                className: \"w-8 h-8 animate-spin text-muted-foreground\"\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-lg font-medium text-foreground\",\n                        children: \"Transcription in progress,\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                        lineNumber: 10,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-lg font-medium text-foreground\",\n                        children: \"please wait.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                        lineNumber: 11,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                lineNumber: 9,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dhaXRpbmctc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRXNDO0FBRS9CLFNBQVNDO0lBQ2QscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDSCxtRkFBT0E7Z0JBQUNHLFdBQVU7Ozs7OzswQkFDbkIsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQXNDOzs7Ozs7a0NBQ3JELDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBc0M7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUk3RCIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvY29tcG9uZW50cy93YWl0aW5nLXN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBMb2FkZXIyIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBXYWl0aW5nU3RhdGUoKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC02IHNwYWNlLXktNFwiPlxuICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPlRyYW5zY3JpcHRpb24gaW4gcHJvZ3Jlc3MsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5wbGVhc2Ugd2FpdC48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsiTG9hZGVyMiIsIldhaXRpbmdTdGF0ZSIsImRpdiIsImNsYXNzTmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/waiting-state.tsx\n");

/***/ }),

/***/ "(ssr)/./hooks/use-app-state.ts":
/*!********************************!*\
  !*** ./hooks/use-app-state.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mapBackendToFrontendState: () => (/* binding */ mapBackendToFrontendState),\n/* harmony export */   useAppState: () => (/* binding */ useAppState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _use_session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-session */ \"(ssr)/./hooks/use-session.ts\");\n/* harmony import */ var _use_recording__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-recording */ \"(ssr)/./hooks/use-recording.ts\");\n/* harmony import */ var _use_notes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-notes */ \"(ssr)/./hooks/use-notes.ts\");\n/* harmony import */ var _use_transcript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-transcript */ \"(ssr)/./hooks/use-transcript.ts\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(ssr)/./components/ui/use-toast.ts\");\n/* __next_internal_client_entry_do_not_use__ useAppState,mapBackendToFrontendState auto */ \n\n\n\n\n\n// 前後端狀態映射規則\nconst mapBackendToFrontendState = (status, type, isRecording, transcriptsPresent)=>{\n    console.log('🔄 [狀態映射] 輸入參數:', {\n        status,\n        type,\n        isRecording,\n        transcriptsPresent,\n        timestamp: new Date().toISOString()\n    });\n    let resultState;\n    switch(status){\n        case \"draft\":\n            resultState = \"default\";\n            break;\n        case \"active\":\n            if (type === \"recording\") {\n                if (!isRecording) {\n                    resultState = \"default\";\n                    console.log('🔄 [狀態映射] recording session 但 isRecording=false，回到 default');\n                } else {\n                    resultState = transcriptsPresent ? \"recording_active\" : \"recording_waiting\";\n                    console.log(`🔄 [狀態映射] recording session + isRecording=true，transcriptsPresent=${transcriptsPresent} → ${resultState}`);\n                }\n            } else {\n                resultState = \"default\";\n            }\n            break;\n        case \"processing\":\n            resultState = \"processing\";\n            break;\n        case \"completed\":\n            resultState = \"finished\";\n            break;\n        case \"error\":\n            resultState = \"default\" // 錯誤時回到預設狀態\n            ;\n            console.log('🔄 [狀態映射] 檢測到錯誤狀態，轉換到 default');\n            break;\n        default:\n            resultState = \"default\";\n            break;\n    }\n    console.log(`🔄 [狀態映射] 最終結果: ${status}(${type}) → ${resultState}`);\n    return resultState;\n};\nfunction useAppState() {\n    const [appData, setAppData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        state: \"default\",\n        transcriptEntries: [],\n        editorContent: \"\",\n        isRecording: false,\n        recordingTime: 0\n    });\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // 使用各個專門的 hooks\n    const session = (0,_use_session__WEBPACK_IMPORTED_MODULE_1__.useSession)();\n    const recording = (0,_use_recording__WEBPACK_IMPORTED_MODULE_2__.useRecording)();\n    const notes = (0,_use_notes__WEBPACK_IMPORTED_MODULE_3__.useNotes)();\n    const transcript = (0,_use_transcript__WEBPACK_IMPORTED_MODULE_4__.useTranscript)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_5__.useToast)();\n    // 狀態同步：前端狀態與後端 session status 對應\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            const activeSession = session.currentSession;\n            console.log('🔄 [狀態同步] useEffect 觸發:', {\n                hasActiveSession: !!activeSession,\n                sessionId: activeSession?.id,\n                sessionStatus: activeSession?.status,\n                sessionType: activeSession?.type,\n                isRecording: recording.isRecording,\n                transcriptCount: transcript.transcripts.length,\n                recordingTranscriptCount: recording.transcripts.length,\n                currentAppState: appData.state\n            });\n            if (activeSession) {\n                // 統一使用 recording.transcripts，避免雙重逐字稿管理\n                const transcriptsPresent = recording.transcripts.length > 0;\n                console.log('🔄 [狀態同步] 計算 transcriptsPresent (統一路徑):', {\n                    recordingTranscriptCount: recording.transcripts.length,\n                    transcriptsPresent,\n                    note: '已移除 transcript.transcripts 避免雙重管理'\n                });\n                const frontendState = mapBackendToFrontendState(activeSession.status, activeSession.type, recording.isRecording, transcriptsPresent);\n                console.log(`🔄 [狀態同步] 狀態變化: ${appData.state} → ${frontendState}`);\n                setAppData({\n                    \"useAppState.useEffect\": (prev)=>({\n                            ...prev,\n                            state: frontendState\n                        })\n                }[\"useAppState.useEffect\"]);\n            }\n        }\n    }[\"useAppState.useEffect\"], [\n        session.currentSession,\n        recording.isRecording,\n        recording.transcripts.length,\n        appData.state\n    ]);\n    // 初始化應用狀態 - 只在組件掛載時執行一次\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            let isMounted = true;\n            const initializeApp = {\n                \"useAppState.useEffect.initializeApp\": async ()=>{\n                    console.log('🚀 初始化應用狀態...');\n                    setIsLoading(true);\n                    try {\n                        // 檢查是否有活躍會話\n                        const activeSession = await session.checkActiveSession();\n                        if (!isMounted) return; // 組件已卸載，停止執行\n                        if (activeSession) {\n                            // 載入筆記內容\n                            await notes.loadNote(activeSession.id);\n                        } else {\n                            // 檢查是否有本地草稿\n                            const draftContent = localStorage.getItem('draft_note');\n                            if (draftContent) {\n                                setAppData({\n                                    \"useAppState.useEffect.initializeApp\": (prev)=>({\n                                            ...prev,\n                                            editorContent: draftContent\n                                        })\n                                }[\"useAppState.useEffect.initializeApp\"]);\n                                console.log('📝 載入本地草稿');\n                            }\n                        }\n                    } catch (error) {\n                        if (!isMounted) return; // 組件已卸載，停止執行\n                        // 如果是網路錯誤，不要拋出錯誤，讓用戶正常使用應用\n                        if (error instanceof Error && error.message.includes('Network Error')) {\n                            console.warn('⚠️ 初始化時 Backend 連線失敗，使用離線模式:', error.message);\n                            // 檢查是否有本地草稿\n                            const draftContent = localStorage.getItem('draft_note');\n                            if (draftContent) {\n                                setAppData({\n                                    \"useAppState.useEffect.initializeApp\": (prev)=>({\n                                            ...prev,\n                                            editorContent: draftContent\n                                        })\n                                }[\"useAppState.useEffect.initializeApp\"]);\n                                console.log('📝 離線模式：載入本地草稿');\n                            }\n                        } else {\n                            console.error('❌ 初始化失敗:', error);\n                            setError(error instanceof Error ? error.message : '初始化失敗');\n                        }\n                    } finally{\n                        if (isMounted) {\n                            setIsLoading(false);\n                        }\n                    }\n                }\n            }[\"useAppState.useEffect.initializeApp\"];\n            initializeApp();\n            return ({\n                \"useAppState.useEffect\": ()=>{\n                    isMounted = false;\n                }\n            })[\"useAppState.useEffect\"];\n        }\n    }[\"useAppState.useEffect\"], []) // 空依賴項，只在組件掛載時執行一次\n    ;\n    // 同步錄音狀態\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            setAppData({\n                \"useAppState.useEffect\": (prev)=>({\n                        ...prev,\n                        isRecording: recording.isRecording,\n                        recordingTime: recording.recordingTime\n                    })\n            }[\"useAppState.useEffect\"]);\n        }\n    }[\"useAppState.useEffect\"], [\n        recording.isRecording,\n        recording.recordingTime\n    ]);\n    // 同步筆記內容\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            setAppData({\n                \"useAppState.useEffect\": (prev)=>({\n                        ...prev,\n                        editorContent: notes.noteContent\n                    })\n            }[\"useAppState.useEffect\"]);\n        }\n    }[\"useAppState.useEffect\"], [\n        notes.noteContent\n    ]);\n    // 處理逐字稿更新 - 統一使用 recording.transcripts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            console.log('📝 [逐字稿更新] useEffect 觸發:', {\n                recordingTranscriptCount: recording.transcripts.length,\n                note: '統一使用 recording.transcripts，避免雙重管理'\n            });\n            const transcriptEntries = recording.transcripts.map({\n                \"useAppState.useEffect.transcriptEntries\": (transcriptMsg)=>{\n                    // 使用 start_time 或 timestamp 計算時間\n                    const startTime = transcriptMsg.start_time ?? 0;\n                    const minutes = Math.floor(startTime / 60);\n                    const seconds = Math.floor(startTime % 60);\n                    const timeStr = `${minutes.toString().padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}`;\n                    return {\n                        time: timeStr,\n                        text: transcriptMsg.text ?? ''\n                    };\n                }\n            }[\"useAppState.useEffect.transcriptEntries\"]);\n            console.log('📝 [逐字稿更新] 轉換完成:', {\n                entriesCount: transcriptEntries.length,\n                firstEntry: transcriptEntries[0]?.text?.substring(0, 30) + '...'\n            });\n            setAppData({\n                \"useAppState.useEffect\": (prev)=>({\n                        ...prev,\n                        transcriptEntries\n                    })\n            }[\"useAppState.useEffect\"]);\n        }\n    }[\"useAppState.useEffect\"], [\n        recording.transcripts\n    ]);\n    // 監聽轉錄完成，自動轉為 finished 狀態\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            if (transcript.isCompleted && appData.state === \"processing\") {\n                setAppData({\n                    \"useAppState.useEffect\": (prev)=>({\n                            ...prev,\n                            state: \"finished\"\n                        })\n                }[\"useAppState.useEffect\"]);\n                // 完成會話\n                if (session.currentSession) {\n                    session.finishSession().catch(console.error);\n                }\n            }\n        }\n    }[\"useAppState.useEffect\"], [\n        transcript.isCompleted,\n        appData.state,\n        session.currentSession,\n        session.finishSession\n    ]);\n    // 監聽錄音和轉錄錯誤，處理錯誤狀態\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            const recordingError = recording.error;\n            const transcriptError = transcript.error;\n            if (recordingError || transcriptError) {\n                console.log('🚨 [錯誤處理] 檢測到錯誤:', {\n                    recordingError,\n                    transcriptError,\n                    currentState: appData.state,\n                    sessionId: session.currentSession?.id\n                });\n                // 如果是錄音相關錯誤，停止錄音並回到預設狀態\n                if (appData.state === \"recording_waiting\" || appData.state === \"recording_active\") {\n                    console.log('🚨 [錯誤處理] 錄音狀態錯誤，停止錄音並回到預設狀態');\n                    // 停止錄音\n                    recording.stopRecording();\n                    // 清理連線\n                    transcript.disconnect();\n                    // 回到預設狀態\n                    setAppData({\n                        \"useAppState.useEffect\": (prev)=>({\n                                ...prev,\n                                state: \"default\"\n                            })\n                    }[\"useAppState.useEffect\"]);\n                    // 顯示錯誤訊息\n                    const errorMessage = recordingError || transcriptError || '錄音或轉錄過程中發生錯誤';\n                    toast({\n                        title: '錄音錯誤',\n                        description: errorMessage,\n                        variant: 'destructive'\n                    });\n                }\n                // 如果是處理狀態的錯誤，也回到預設狀態\n                if (appData.state === \"processing\") {\n                    console.log('🚨 [錯誤處理] 處理狀態錯誤，回到預設狀態');\n                    setAppData({\n                        \"useAppState.useEffect\": (prev)=>({\n                                ...prev,\n                                state: \"default\"\n                            })\n                    }[\"useAppState.useEffect\"]);\n                    const errorMessage = transcriptError || recordingError || '處理轉錄過程中發生錯誤';\n                    toast({\n                        title: '處理錯誤',\n                        description: errorMessage,\n                        variant: 'destructive'\n                    });\n                }\n            }\n        }\n    }[\"useAppState.useEffect\"], [\n        recording.error,\n        transcript.error,\n        appData.state,\n        session.currentSession,\n        recording,\n        transcript,\n        toast\n    ]);\n    // 建立純筆記會話\n    const createNoteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[createNoteSession]\": async (title)=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                const newSession = await session.createNoteSession(title);\n                if (newSession) {\n                    // 載入筆記內容\n                    await notes.loadNote(newSession.id);\n                    // 清除本地草稿\n                    localStorage.removeItem('draft_note');\n                    console.log('✅ 純筆記會話建立成功');\n                    toast({\n                        title: '筆記會話已建立',\n                        description: `會話 \"${title}\" 建立成功`\n                    });\n                }\n            } catch (err) {\n                // 特別處理會話衝突錯誤\n                if (err instanceof Error && err.message.includes('檢測到活躍會話衝突')) {\n                    const conflictMsg = '偵測到會話衝突，請重新整理頁面後再試';\n                    console.error(\"🎤 startRecording: 會話衝突錯誤:\", err.message);\n                    setError(conflictMsg);\n                    toast({\n                        title: '會話衝突',\n                        description: '目前已有活躍會話，請重新整理頁面後再試，或等待當前會話結束',\n                        variant: 'destructive'\n                    });\n                    return;\n                }\n                const msg = err instanceof Error ? err.message : '開始錄音失敗';\n                console.error(\"🎤 startRecording: 流程中發生錯誤:\", msg);\n                setError(msg);\n                toast({\n                    title: '錄音失敗',\n                    description: msg,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n                console.log(\"🎤 startRecording: 流程結束\");\n            }\n        }\n    }[\"useAppState.useCallback[createNoteSession]\"], [\n        session,\n        recording,\n        transcript,\n        appData.editorContent,\n        toast\n    ]);\n    // 停止錄音 - 自動轉為 processing 狀態\n    const stopRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[stopRecording]\": async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                await recording.stopRecording();\n                // 斷開 transcript 連接\n                transcript.disconnect();\n                // 狀態轉為 processing\n                setAppData({\n                    \"useAppState.useCallback[stopRecording]\": (prev)=>({\n                            ...prev,\n                            state: \"processing\"\n                        })\n                }[\"useAppState.useCallback[stopRecording]\"]);\n                console.log('✅ 錄音停止，開始處理逐字稿');\n                toast({\n                    title: '處理中',\n                    description: '正在處理錄音內容，請稍候...'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '停止錄音失敗';\n                setError(errorMessage);\n                console.error('❌ 停止錄音失敗:', err);\n                toast({\n                    title: '停止失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useAppState.useCallback[stopRecording]\"], [\n        recording,\n        toast\n    ]);\n    // 完成會話\n    const finishSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[finishSession]\": async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                await session.finishSession();\n                console.log('✅ 會話完成');\n                toast({\n                    title: '會話完成',\n                    description: '您可以匯出筆記或開始新的筆記'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '完成會話失敗';\n                setError(errorMessage);\n                console.error('❌ 完成會話失敗:', err);\n                toast({\n                    title: '完成失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useAppState.useCallback[finishSession]\"], [\n        session,\n        toast\n    ]);\n    // 開新筆記 - 清空當前資料，狀態回到 default\n    const newNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[newNote]\": async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                // 如果有活躍會話，先刪除它\n                if (session.currentSession) {\n                    console.log('🗑️ 刪除當前活躍會話:', session.currentSession.id);\n                    await session.deleteSession();\n                    console.log('✅ 會話刪除成功');\n                }\n                // 清空當前資料\n                setAppData({\n                    state: \"default\",\n                    transcriptEntries: [],\n                    editorContent: \"\",\n                    isRecording: false,\n                    recordingTime: 0\n                });\n                // 清除錄音和逐字稿狀態\n                recording.clearTranscripts();\n                transcript.clearTranscripts();\n                notes.clearNote();\n                // 清除本地草稿\n                localStorage.removeItem('draft_note');\n                console.log('🔄 已開始新筆記');\n                toast({\n                    title: '新筆記',\n                    description: '已清空內容，可以開始新的筆記'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '開始新筆記失敗';\n                setError(errorMessage);\n                console.error('❌ 開始新筆記失敗:', err);\n                toast({\n                    title: '操作失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useAppState.useCallback[newNote]\"], [\n        session,\n        recording,\n        transcript,\n        notes,\n        toast\n    ]);\n    // 自動儲存筆記內容到本地草稿\n    const saveLocalDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[saveLocalDraft]\": (content)=>{\n            if (!session.currentSession && content.trim()) {\n                localStorage.setItem('draft_note', content);\n            }\n        }\n    }[\"useAppState.useCallback[saveLocalDraft]\"], [\n        session.currentSession\n    ]);\n    return {\n        // 應用狀態\n        appData,\n        isLoading,\n        error,\n        // 會話管理\n        createNoteSession,\n        createRecordingSession,\n        upgradeToRecording,\n        finishSession,\n        newNote,\n        // 錄音控制\n        startRecording,\n        stopRecording,\n        // 本地草稿\n        saveLocalDraft,\n        // 外部狀態\n        session: session.currentSession,\n        sessionLoading: session.isLoading,\n        sessionError: session.error,\n        // 錄音狀態\n        recordingError: recording.error,\n        // 逐字稿狀態\n        transcriptConnected: transcript.isConnected,\n        transcriptError: transcript.error,\n        transcriptAutoScroll: transcript.autoScrollEnabled,\n        enableAutoScroll: transcript.enableAutoScroll,\n        disableAutoScroll: transcript.disableAutoScroll,\n        scrollToLatest: transcript.scrollToLatest\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBRUEsT0FBTztRQUNQVTtRQUNBdEI7UUFFQSxPQUFPO1FBQ1BnQjtRQUVBLE9BQU87UUFDUHRFLFNBQVNBLFFBQVFNLGNBQWM7UUFDL0J1RSxnQkFBZ0I3RSxRQUFRSixTQUFTO1FBQ2pDa0YsY0FBYzlFLFFBQVFGLEtBQUs7UUFFM0IsT0FBTztRQUNQcUQsZ0JBQWdCbEQsVUFBVUgsS0FBSztRQUUvQixRQUFRO1FBQ1JpRixxQkFBcUI1RSxXQUFXNkUsV0FBVztRQUMzQzVCLGlCQUFpQmpELFdBQVdMLEtBQUs7UUFDakNtRixzQkFBc0I5RSxXQUFXK0UsaUJBQWlCO1FBQ2xEQyxrQkFBa0JoRixXQUFXZ0YsZ0JBQWdCO1FBQzdDQyxtQkFBbUJqRixXQUFXaUYsaUJBQWlCO1FBQy9DQyxnQkFBZ0JsRixXQUFXa0YsY0FBYztJQUMzQztBQUNGO0FBRW9DIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ob29rcy91c2UtYXBwLXN0YXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHR5cGUgeyBBcHBEYXRhLCBBcHBTdGF0ZSwgU2Vzc2lvblN0YXR1cywgU2Vzc2lvblR5cGUgfSBmcm9tIFwiLi4vdHlwZXMvYXBwLXN0YXRlXCJcbmltcG9ydCB7IHVzZVNlc3Npb24gfSBmcm9tIFwiLi91c2Utc2Vzc2lvblwiXG5pbXBvcnQgeyB1c2VSZWNvcmRpbmcgfSBmcm9tIFwiLi91c2UtcmVjb3JkaW5nXCJcbmltcG9ydCB7IHVzZU5vdGVzIH0gZnJvbSBcIi4vdXNlLW5vdGVzXCJcbmltcG9ydCB7IHVzZVRyYW5zY3JpcHQgfSBmcm9tIFwiLi91c2UtdHJhbnNjcmlwdFwiXG5pbXBvcnQgeyBUcmFuc2NyaXB0TWVzc2FnZSB9IGZyb20gXCIuLi9saWIvd2Vic29ja2V0XCJcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS91c2UtdG9hc3RcIlxuXG4vLyDliY3lvoznq6/ni4DmhYvmmKDlsITopo/liYdcbmNvbnN0IG1hcEJhY2tlbmRUb0Zyb250ZW5kU3RhdGUgPSAoXG4gIHN0YXR1czogU2Vzc2lvblN0YXR1cyxcbiAgdHlwZTogU2Vzc2lvblR5cGUsXG4gIGlzUmVjb3JkaW5nOiBib29sZWFuLFxuICB0cmFuc2NyaXB0c1ByZXNlbnQ6IGJvb2xlYW5cbik6IEFwcFN0YXRlID0+IHtcbiAgY29uc29sZS5sb2coJ/CflIQgW+eLgOaFi+aYoOWwhF0g6Ly45YWl5Y+D5pW4OicsIHtcbiAgICBzdGF0dXMsXG4gICAgdHlwZSxcbiAgICBpc1JlY29yZGluZyxcbiAgICB0cmFuc2NyaXB0c1ByZXNlbnQsXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgfSlcblxuICBsZXQgcmVzdWx0U3RhdGU6IEFwcFN0YXRlXG5cbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIFwiZHJhZnRcIjpcbiAgICAgIHJlc3VsdFN0YXRlID0gXCJkZWZhdWx0XCJcbiAgICAgIGJyZWFrXG4gICAgY2FzZSBcImFjdGl2ZVwiOlxuICAgICAgaWYgKHR5cGUgPT09IFwicmVjb3JkaW5nXCIpIHtcbiAgICAgICAgaWYgKCFpc1JlY29yZGluZykge1xuICAgICAgICAgIHJlc3VsdFN0YXRlID0gXCJkZWZhdWx0XCJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBb54uA5oWL5pig5bCEXSByZWNvcmRpbmcgc2Vzc2lvbiDkvYYgaXNSZWNvcmRpbmc9ZmFsc2XvvIzlm57liLAgZGVmYXVsdCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0U3RhdGUgPSB0cmFuc2NyaXB0c1ByZXNlbnQgPyBcInJlY29yZGluZ19hY3RpdmVcIiA6IFwicmVjb3JkaW5nX3dhaXRpbmdcIlxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFvni4DmhYvmmKDlsIRdIHJlY29yZGluZyBzZXNzaW9uICsgaXNSZWNvcmRpbmc9dHJ1Ze+8jHRyYW5zY3JpcHRzUHJlc2VudD0ke3RyYW5zY3JpcHRzUHJlc2VudH0g4oaSICR7cmVzdWx0U3RhdGV9YClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0U3RhdGUgPSBcImRlZmF1bHRcIlxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICBjYXNlIFwicHJvY2Vzc2luZ1wiOlxuICAgICAgcmVzdWx0U3RhdGUgPSBcInByb2Nlc3NpbmdcIlxuICAgICAgYnJlYWtcbiAgICBjYXNlIFwiY29tcGxldGVkXCI6XG4gICAgICByZXN1bHRTdGF0ZSA9IFwiZmluaXNoZWRcIlxuICAgICAgYnJlYWtcbiAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgIHJlc3VsdFN0YXRlID0gXCJkZWZhdWx0XCIgLy8g6Yyv6Kqk5pmC5Zue5Yiw6aCQ6Kit54uA5oWLXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBb54uA5oWL5pig5bCEXSDmqqLmuKzliLDpjK/oqqTni4DmhYvvvIzovYnmj5vliLAgZGVmYXVsdCcpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXN1bHRTdGF0ZSA9IFwiZGVmYXVsdFwiXG4gICAgICBicmVha1xuICB9XG5cbiAgY29uc29sZS5sb2coYPCflIQgW+eLgOaFi+aYoOWwhF0g5pyA57WC57WQ5p6cOiAke3N0YXR1c30oJHt0eXBlfSkg4oaSICR7cmVzdWx0U3RhdGV9YClcbiAgcmV0dXJuIHJlc3VsdFN0YXRlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VBcHBTdGF0ZSgpIHtcbiAgY29uc3QgW2FwcERhdGEsIHNldEFwcERhdGFdID0gdXNlU3RhdGU8QXBwRGF0YT4oe1xuICAgIHN0YXRlOiBcImRlZmF1bHRcIixcbiAgICB0cmFuc2NyaXB0RW50cmllczogW10sXG4gICAgZWRpdG9yQ29udGVudDogXCJcIixcbiAgICBpc1JlY29yZGluZzogZmFsc2UsXG4gICAgcmVjb3JkaW5nVGltZTogMCxcbiAgfSlcblxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICAvLyDkvb/nlKjlkITlgIvlsIjploDnmoQgaG9va3NcbiAgY29uc3Qgc2Vzc2lvbiA9IHVzZVNlc3Npb24oKVxuICBjb25zdCByZWNvcmRpbmcgPSB1c2VSZWNvcmRpbmcoKVxuICBjb25zdCBub3RlcyA9IHVzZU5vdGVzKClcbiAgY29uc3QgdHJhbnNjcmlwdCA9IHVzZVRyYW5zY3JpcHQoKVxuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpXG5cbiAgLy8g54uA5oWL5ZCM5q2l77ya5YmN56uv54uA5oWL6IiH5b6M56uvIHNlc3Npb24gc3RhdHVzIOWwjeaHiVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGFjdGl2ZVNlc3Npb24gPSBzZXNzaW9uLmN1cnJlbnRTZXNzaW9uXG4gICAgY29uc29sZS5sb2coJ/CflIQgW+eLgOaFi+WQjOatpV0gdXNlRWZmZWN0IOinuOeZvDonLCB7XG4gICAgICBoYXNBY3RpdmVTZXNzaW9uOiAhIWFjdGl2ZVNlc3Npb24sXG4gICAgICBzZXNzaW9uSWQ6IGFjdGl2ZVNlc3Npb24/LmlkLFxuICAgICAgc2Vzc2lvblN0YXR1czogYWN0aXZlU2Vzc2lvbj8uc3RhdHVzLFxuICAgICAgc2Vzc2lvblR5cGU6IGFjdGl2ZVNlc3Npb24/LnR5cGUsXG4gICAgICBpc1JlY29yZGluZzogcmVjb3JkaW5nLmlzUmVjb3JkaW5nLFxuICAgICAgdHJhbnNjcmlwdENvdW50OiB0cmFuc2NyaXB0LnRyYW5zY3JpcHRzLmxlbmd0aCxcbiAgICAgIHJlY29yZGluZ1RyYW5zY3JpcHRDb3VudDogcmVjb3JkaW5nLnRyYW5zY3JpcHRzLmxlbmd0aCxcbiAgICAgIGN1cnJlbnRBcHBTdGF0ZTogYXBwRGF0YS5zdGF0ZVxuICAgIH0pXG5cbiAgICBpZiAoYWN0aXZlU2Vzc2lvbikge1xuICAgICAgLy8g57Wx5LiA5L2/55SoIHJlY29yZGluZy50cmFuc2NyaXB0c++8jOmBv+WFjembmemHjemAkOWtl+eov+euoeeQhlxuICAgICAgY29uc3QgdHJhbnNjcmlwdHNQcmVzZW50ID0gKHJlY29yZGluZy50cmFuc2NyaXB0cy5sZW5ndGggPiAwKVxuICAgICAgY29uc29sZS5sb2coJ/CflIQgW+eLgOaFi+WQjOatpV0g6KiI566XIHRyYW5zY3JpcHRzUHJlc2VudCAo57Wx5LiA6Lev5b6RKTonLCB7XG4gICAgICAgIHJlY29yZGluZ1RyYW5zY3JpcHRDb3VudDogcmVjb3JkaW5nLnRyYW5zY3JpcHRzLmxlbmd0aCxcbiAgICAgICAgdHJhbnNjcmlwdHNQcmVzZW50LFxuICAgICAgICBub3RlOiAn5bey56e76ZmkIHRyYW5zY3JpcHQudHJhbnNjcmlwdHMg6YG/5YWN6ZuZ6YeN566h55CGJ1xuICAgICAgfSlcblxuICAgICAgY29uc3QgZnJvbnRlbmRTdGF0ZSA9IG1hcEJhY2tlbmRUb0Zyb250ZW5kU3RhdGUoXG4gICAgICAgIGFjdGl2ZVNlc3Npb24uc3RhdHVzLFxuICAgICAgICBhY3RpdmVTZXNzaW9uLnR5cGUsXG4gICAgICAgIHJlY29yZGluZy5pc1JlY29yZGluZyxcbiAgICAgICAgdHJhbnNjcmlwdHNQcmVzZW50XG4gICAgICApXG5cbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFvni4DmhYvlkIzmraVdIOeLgOaFi+iuiuWMljogJHthcHBEYXRhLnN0YXRlfSDihpIgJHtmcm9udGVuZFN0YXRlfWApXG5cbiAgICAgIHNldEFwcERhdGEocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBzdGF0ZTogZnJvbnRlbmRTdGF0ZVxuICAgICAgfSkpXG4gICAgfVxuICB9LCBbc2Vzc2lvbi5jdXJyZW50U2Vzc2lvbiwgcmVjb3JkaW5nLmlzUmVjb3JkaW5nLCByZWNvcmRpbmcudHJhbnNjcmlwdHMubGVuZ3RoLCBhcHBEYXRhLnN0YXRlXSlcblxuICAvLyDliJ3lp4vljJbmh4nnlKjni4DmhYsgLSDlj6rlnKjntYTku7bmjpvovInmmYLln7fooYzkuIDmrKFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNNb3VudGVkID0gdHJ1ZVxuXG4gICAgY29uc3QgaW5pdGlhbGl6ZUFwcCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5qAIOWIneWni+WMluaHieeUqOeLgOaFiy4uLicpXG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8g5qqi5p+l5piv5ZCm5pyJ5rS76LqN5pyD6KmxXG4gICAgICAgIGNvbnN0IGFjdGl2ZVNlc3Npb24gPSBhd2FpdCBzZXNzaW9uLmNoZWNrQWN0aXZlU2Vzc2lvbigpXG4gICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm4gLy8g57WE5Lu25bey5Y246LyJ77yM5YGc5q2i5Z+36KGMXG5cbiAgICAgICAgaWYgKGFjdGl2ZVNlc3Npb24pIHtcbiAgICAgICAgICAvLyDovInlhaXnrYboqJjlhaflrrlcbiAgICAgICAgICBhd2FpdCBub3Rlcy5sb2FkTm90ZShhY3RpdmVTZXNzaW9uLmlkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOaqouafpeaYr+WQpuacieacrOWcsOiNieeov1xuICAgICAgICAgIGNvbnN0IGRyYWZ0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkcmFmdF9ub3RlJylcbiAgICAgICAgICBpZiAoZHJhZnRDb250ZW50KSB7XG4gICAgICAgICAgICBzZXRBcHBEYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgZWRpdG9yQ29udGVudDogZHJhZnRDb250ZW50IH0pKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50g6LyJ5YWl5pys5Zyw6I2J56i/JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm4gLy8g57WE5Lu25bey5Y246LyJ77yM5YGc5q2i5Z+36KGMXG5cbiAgICAgICAgLy8g5aaC5p6c5piv57ay6Lev6Yyv6Kqk77yM5LiN6KaB5ouL5Ye66Yyv6Kqk77yM6K6T55So5oi25q2j5bi45L2/55So5oeJ55SoXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ05ldHdvcmsgRXJyb3InKSkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOWIneWni+WMluaZgiBCYWNrZW5kIOmAo+e3muWkseaVl++8jOS9v+eUqOmboue3muaooeW8jzonLCBlcnJvci5tZXNzYWdlKVxuXG4gICAgICAgICAgLy8g5qqi5p+l5piv5ZCm5pyJ5pys5Zyw6I2J56i/XG4gICAgICAgICAgY29uc3QgZHJhZnRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RyYWZ0X25vdGUnKVxuICAgICAgICAgIGlmIChkcmFmdENvbnRlbnQpIHtcbiAgICAgICAgICAgIHNldEFwcERhdGEocHJldiA9PiAoeyAuLi5wcmV2LCBlZGl0b3JDb250ZW50OiBkcmFmdENvbnRlbnQgfSkpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSDpm6Lnt5rmqKHlvI/vvJrovInlhaXmnKzlnLDojYnnqL8nKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5Yid5aeL5YyW5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgIHNldEVycm9yKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+WIneWni+WMluWkseaVlycpXG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0aWFsaXplQXBwKClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQgPSBmYWxzZVxuICAgIH1cbiAgfSwgW10pIC8vIOepuuS+neiztOmghe+8jOWPquWcqOe1hOS7tuaOm+i8ieaZguWft+ihjOS4gOasoVxuXG4gIC8vIOWQjOatpemMhOmfs+eLgOaFi1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEFwcERhdGEocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGlzUmVjb3JkaW5nOiByZWNvcmRpbmcuaXNSZWNvcmRpbmcsXG4gICAgICByZWNvcmRpbmdUaW1lOiByZWNvcmRpbmcucmVjb3JkaW5nVGltZSxcbiAgICB9KSlcbiAgfSwgW3JlY29yZGluZy5pc1JlY29yZGluZywgcmVjb3JkaW5nLnJlY29yZGluZ1RpbWVdKVxuXG4gIC8vIOWQjOatpeethuiomOWFp+WuuVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEFwcERhdGEocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGVkaXRvckNvbnRlbnQ6IG5vdGVzLm5vdGVDb250ZW50LFxuICAgIH0pKVxuICB9LCBbbm90ZXMubm90ZUNvbnRlbnRdKVxuXG4gIC8vIOiZleeQhumAkOWtl+eov+abtOaWsCAtIOe1seS4gOS9v+eUqCByZWNvcmRpbmcudHJhbnNjcmlwdHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+TnSBb6YCQ5a2X56i/5pu05pawXSB1c2VFZmZlY3Qg6Ke455m8OicsIHtcbiAgICAgIHJlY29yZGluZ1RyYW5zY3JpcHRDb3VudDogcmVjb3JkaW5nLnRyYW5zY3JpcHRzLmxlbmd0aCxcbiAgICAgIG5vdGU6ICfntbHkuIDkvb/nlKggcmVjb3JkaW5nLnRyYW5zY3JpcHRz77yM6YG/5YWN6ZuZ6YeN566h55CGJ1xuICAgIH0pXG5cbiAgICBjb25zdCB0cmFuc2NyaXB0RW50cmllcyA9IHJlY29yZGluZy50cmFuc2NyaXB0cy5tYXAoKHRyYW5zY3JpcHRNc2c6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB7XG4gICAgICAvLyDkvb/nlKggc3RhcnRfdGltZSDmiJYgdGltZXN0YW1wIOioiOeul+aZgumWk1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gdHJhbnNjcmlwdE1zZy5zdGFydF90aW1lID8/IDBcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHN0YXJ0VGltZSAvIDYwKVxuICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3Ioc3RhcnRUaW1lICUgNjApXG4gICAgICBjb25zdCB0aW1lU3RyID0gYCR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX06JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfWBcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGltZTogdGltZVN0cixcbiAgICAgICAgdGV4dDogdHJhbnNjcmlwdE1zZy50ZXh0ID8/ICcnLFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zb2xlLmxvZygn8J+TnSBb6YCQ5a2X56i/5pu05pawXSDovYnmj5vlrozmiJA6Jywge1xuICAgICAgZW50cmllc0NvdW50OiB0cmFuc2NyaXB0RW50cmllcy5sZW5ndGgsXG4gICAgICBmaXJzdEVudHJ5OiB0cmFuc2NyaXB0RW50cmllc1swXT8udGV4dD8uc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nXG4gICAgfSlcblxuICAgIHNldEFwcERhdGEocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIHRyYW5zY3JpcHRFbnRyaWVzLFxuICAgIH0pKVxuICB9LCBbcmVjb3JkaW5nLnRyYW5zY3JpcHRzXSlcblxuICAvLyDnm6Pogb3ovYnpjITlrozmiJDvvIzoh6rli5XovYnngrogZmluaXNoZWQg54uA5oWLXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRyYW5zY3JpcHQuaXNDb21wbGV0ZWQgJiYgYXBwRGF0YS5zdGF0ZSA9PT0gXCJwcm9jZXNzaW5nXCIpIHtcbiAgICAgIHNldEFwcERhdGEocHJldiA9PiAoeyAuLi5wcmV2LCBzdGF0ZTogXCJmaW5pc2hlZFwiIH0pKVxuXG4gICAgICAvLyDlrozmiJDmnIPoqbFcbiAgICAgIGlmIChzZXNzaW9uLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgIHNlc3Npb24uZmluaXNoU2Vzc2lvbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgICB9XG4gICAgfVxuICB9LCBbXG4gICAgdHJhbnNjcmlwdC5pc0NvbXBsZXRlZCxcbiAgICBhcHBEYXRhLnN0YXRlLFxuICAgIHNlc3Npb24uY3VycmVudFNlc3Npb24sXG4gICAgc2Vzc2lvbi5maW5pc2hTZXNzaW9uXG4gIF0pXG5cbiAgLy8g55uj6IG96YyE6Z+z5ZKM6L2J6YyE6Yyv6Kqk77yM6JmV55CG6Yyv6Kqk54uA5oWLXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcmVjb3JkaW5nRXJyb3IgPSByZWNvcmRpbmcuZXJyb3JcbiAgICBjb25zdCB0cmFuc2NyaXB0RXJyb3IgPSB0cmFuc2NyaXB0LmVycm9yXG5cbiAgICBpZiAocmVjb3JkaW5nRXJyb3IgfHwgdHJhbnNjcmlwdEVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+aqCBb6Yyv6Kqk6JmV55CGXSDmqqLmuKzliLDpjK/oqqQ6Jywge1xuICAgICAgICByZWNvcmRpbmdFcnJvcixcbiAgICAgICAgdHJhbnNjcmlwdEVycm9yLFxuICAgICAgICBjdXJyZW50U3RhdGU6IGFwcERhdGEuc3RhdGUsXG4gICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbi5jdXJyZW50U2Vzc2lvbj8uaWRcbiAgICAgIH0pXG5cbiAgICAgIC8vIOWmguaenOaYr+mMhOmfs+ebuOmXnOmMr+iqpO+8jOWBnOatoumMhOmfs+S4puWbnuWIsOmgkOioreeLgOaFi1xuICAgICAgaWYgKGFwcERhdGEuc3RhdGUgPT09IFwicmVjb3JkaW5nX3dhaXRpbmdcIiB8fCBhcHBEYXRhLnN0YXRlID09PSBcInJlY29yZGluZ19hY3RpdmVcIikge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+aqCBb6Yyv6Kqk6JmV55CGXSDpjITpn7Pni4DmhYvpjK/oqqTvvIzlgZzmraLpjITpn7PkuKblm57liLDpoJDoqK3ni4DmhYsnKVxuXG4gICAgICAgIC8vIOWBnOatoumMhOmfs1xuICAgICAgICByZWNvcmRpbmcuc3RvcFJlY29yZGluZygpXG5cbiAgICAgICAgLy8g5riF55CG6YCj57eaXG4gICAgICAgIHRyYW5zY3JpcHQuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgLy8g5Zue5Yiw6aCQ6Kit54uA5oWLXG4gICAgICAgIHNldEFwcERhdGEocHJldiA9PiAoeyAuLi5wcmV2LCBzdGF0ZTogXCJkZWZhdWx0XCIgfSkpXG5cbiAgICAgICAgLy8g6aGv56S66Yyv6Kqk6KiK5oGvXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHJlY29yZGluZ0Vycm9yIHx8IHRyYW5zY3JpcHRFcnJvciB8fCAn6YyE6Z+z5oiW6L2J6YyE6YGO56iL5Lit55m855Sf6Yyv6KqkJ1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6ICfpjITpn7PpjK/oqqQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8g5aaC5p6c5piv6JmV55CG54uA5oWL55qE6Yyv6Kqk77yM5Lmf5Zue5Yiw6aCQ6Kit54uA5oWLXG4gICAgICBpZiAoYXBwRGF0YS5zdGF0ZSA9PT0gXCJwcm9jZXNzaW5nXCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfmqggW+mMr+iqpOiZleeQhl0g6JmV55CG54uA5oWL6Yyv6Kqk77yM5Zue5Yiw6aCQ6Kit54uA5oWLJylcblxuICAgICAgICBzZXRBcHBEYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgc3RhdGU6IFwiZGVmYXVsdFwiIH0pKVxuXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRyYW5zY3JpcHRFcnJvciB8fCByZWNvcmRpbmdFcnJvciB8fCAn6JmV55CG6L2J6YyE6YGO56iL5Lit55m855Sf6Yyv6KqkJ1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6ICfomZXnkIbpjK/oqqQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtyZWNvcmRpbmcuZXJyb3IsIHRyYW5zY3JpcHQuZXJyb3IsIGFwcERhdGEuc3RhdGUsIHNlc3Npb24uY3VycmVudFNlc3Npb24sIHJlY29yZGluZywgdHJhbnNjcmlwdCwgdG9hc3RdKVxuXG4gIC8vIOW7uueri+e0lOethuiomOacg+ipsVxuICBjb25zdCBjcmVhdGVOb3RlU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICh0aXRsZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgc2V0RXJyb3IobnVsbClcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZXdTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbi5jcmVhdGVOb3RlU2Vzc2lvbih0aXRsZSlcbiAgICAgIGlmIChuZXdTZXNzaW9uKSB7XG4gICAgICAgIC8vIOi8ieWFpeethuiomOWFp+WuuVxuICAgICAgICBhd2FpdCBub3Rlcy5sb2FkTm90ZShuZXdTZXNzaW9uLmlkKVxuXG4gICAgICAgIC8vIOa4hemZpOacrOWcsOiNieeov1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZHJhZnRfbm90ZScpXG5cbiAgICAgICAgY29uc29sZS5sb2coJ+KchSDntJTnrYboqJjmnIPoqbHlu7rnq4vmiJDlip8nKVxuXG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogJ+ethuiomOacg+ipseW3suW7uueriycsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGDmnIPoqbEgXCIke3RpdGxlfVwiIOW7uueri+aIkOWKn2AsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyDnibnliKXomZXnkIbmnIPoqbHooZ3nqoHpjK/oqqRcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygn5qqi5ris5Yiw5rS76LqN5pyD6Kmx6KGd56qBJykpIHtcbiAgICAgICAgY29uc3QgY29uZmxpY3RNc2cgPSAn5YG15ris5Yiw5pyD6Kmx6KGd56qB77yM6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6KmmJ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwi8J+OpCBzdGFydFJlY29yZGluZzog5pyD6Kmx6KGd56qB6Yyv6KqkOlwiLCBlcnIubWVzc2FnZSlcbiAgICAgICAgc2V0RXJyb3IoY29uZmxpY3RNc2cpXG4gICAgICAgIHRvYXN0KHsgXG4gICAgICAgICAgdGl0bGU6ICfmnIPoqbHooZ3nqoEnLCBcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ+ebruWJjeW3suaciea0u+i6jeacg+ipse+8jOiri+mHjeaWsOaVtOeQhumggemdouW+jOWGjeippu+8jOaIluetieW+heeVtuWJjeacg+ipsee1kOadnycsIFxuICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScgXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBtc2cgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+mWi+Wni+mMhOmfs+WkseaVlydcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLwn46kIHN0YXJ0UmVjb3JkaW5nOiDmtYHnqIvkuK3nmbznlJ/pjK/oqqQ6XCIsIG1zZylcbiAgICAgIHNldEVycm9yKG1zZylcbiAgICAgIHRvYXN0KHsgdGl0bGU6ICfpjITpn7PlpLHmlZcnLCBkZXNjcmlwdGlvbjogbXNnLCB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnIH0pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+OpCBzdGFydFJlY29yZGluZzog5rWB56iL57WQ5p2fXCIpXG4gICAgfVxuICB9LCBbc2Vzc2lvbiwgcmVjb3JkaW5nLCB0cmFuc2NyaXB0LCBhcHBEYXRhLmVkaXRvckNvbnRlbnQsIHRvYXN0XSlcblxuICAvLyDlgZzmraLpjITpn7MgLSDoh6rli5XovYnngrogcHJvY2Vzc2luZyDni4DmhYtcbiAgY29uc3Qgc3RvcFJlY29yZGluZyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICBzZXRFcnJvcihudWxsKVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHJlY29yZGluZy5zdG9wUmVjb3JkaW5nKClcblxuICAgICAgLy8g5pa36ZaLIHRyYW5zY3JpcHQg6YCj5o6lXG4gICAgICB0cmFuc2NyaXB0LmRpc2Nvbm5lY3QoKVxuXG4gICAgICAvLyDni4DmhYvovYnngrogcHJvY2Vzc2luZ1xuICAgICAgc2V0QXBwRGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIHN0YXRlOiBcInByb2Nlc3NpbmdcIiB9KSlcblxuICAgICAgY29uc29sZS5sb2coJ+KchSDpjITpn7PlgZzmraLvvIzplovlp4vomZXnkIbpgJDlrZfnqL8nKVxuXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAn6JmV55CG5LitJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICfmraPlnKjomZXnkIbpjITpn7PlhaflrrnvvIzoq4vnqI3lgJkuLi4nLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5YGc5q2i6YyE6Z+z5aSx5pWXJ1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgY29uc29sZS5lcnJvcign4p2MIOWBnOatoumMhOmfs+WkseaVlzonLCBlcnIpXG5cbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICflgZzmraLlpLHmlZcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfSwgW3JlY29yZGluZywgdG9hc3RdKVxuXG4gIC8vIOWujOaIkOacg+ipsVxuICBjb25zdCBmaW5pc2hTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKVxuICAgIHNldEVycm9yKG51bGwpXG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2Vzc2lvbi5maW5pc2hTZXNzaW9uKClcbiAgICAgIGNvbnNvbGUubG9nKCfinIUg5pyD6Kmx5a6M5oiQJylcblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ+acg+ipseWujOaIkCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn5oKo5Y+v5Lul5Yyv5Ye6562G6KiY5oiW6ZaL5aeL5paw55qE562G6KiYJyxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+WujOaIkOacg+ipseWkseaVlydcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDlrozmiJDmnIPoqbHlpLHmlZc6JywgZXJyKVxuXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAn5a6M5oiQ5aSx5pWXJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH0sIFtzZXNzaW9uLCB0b2FzdF0pXG5cbiAgLy8g6ZaL5paw562G6KiYIC0g5riF56m655W25YmN6LOH5paZ77yM54uA5oWL5Zue5YiwIGRlZmF1bHRcbiAgY29uc3QgbmV3Tm90ZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICBzZXRFcnJvcihudWxsKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOWmguaenOaciea0u+i6jeacg+ipse+8jOWFiOWIqumZpOWug1xuICAgICAgaWYgKHNlc3Npb24uY3VycmVudFNlc3Npb24pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8g5Yiq6Zmk55W25YmN5rS76LqN5pyD6KmxOicsIHNlc3Npb24uY3VycmVudFNlc3Npb24uaWQpXG4gICAgICAgIGF3YWl0IHNlc3Npb24uZGVsZXRlU2Vzc2lvbigpXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUg5pyD6Kmx5Yiq6Zmk5oiQ5YqfJylcbiAgICAgIH1cblxuICAgICAgLy8g5riF56m655W25YmN6LOH5paZXG4gICAgICBzZXRBcHBEYXRhKHtcbiAgICAgICAgc3RhdGU6IFwiZGVmYXVsdFwiLFxuICAgICAgICB0cmFuc2NyaXB0RW50cmllczogW10sXG4gICAgICAgIGVkaXRvckNvbnRlbnQ6IFwiXCIsXG4gICAgICAgIGlzUmVjb3JkaW5nOiBmYWxzZSxcbiAgICAgICAgcmVjb3JkaW5nVGltZTogMCxcbiAgICAgIH0pXG5cbiAgICAgIC8vIOa4hemZpOmMhOmfs+WSjOmAkOWtl+eov+eLgOaFi1xuICAgICAgcmVjb3JkaW5nLmNsZWFyVHJhbnNjcmlwdHMoKVxuICAgICAgdHJhbnNjcmlwdC5jbGVhclRyYW5zY3JpcHRzKClcbiAgICAgIG5vdGVzLmNsZWFyTm90ZSgpXG5cbiAgICAgIC8vIOa4hemZpOacrOWcsOiNieeov1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2RyYWZ0X25vdGUnKVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCDlt7Lplovlp4vmlrDnrYboqJgnKVxuXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAn5paw562G6KiYJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICflt7LmuIXnqbrlhaflrrnvvIzlj6/ku6Xplovlp4vmlrDnmoTnrYboqJgnLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn6ZaL5aeL5paw562G6KiY5aSx5pWXJ1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgY29uc29sZS5lcnJvcign4p2MIOmWi+Wni+aWsOethuiomOWkseaVlzonLCBlcnIpXG5cbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICfmk43kvZzlpLHmlZcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfSwgW3Nlc3Npb24sIHJlY29yZGluZywgdHJhbnNjcmlwdCwgbm90ZXMsIHRvYXN0XSlcblxuICAvLyDoh6rli5XlhLLlrZjnrYboqJjlhaflrrnliLDmnKzlnLDojYnnqL9cbiAgY29uc3Qgc2F2ZUxvY2FsRHJhZnQgPSB1c2VDYWxsYmFjaygoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uLmN1cnJlbnRTZXNzaW9uICYmIGNvbnRlbnQudHJpbSgpKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZHJhZnRfbm90ZScsIGNvbnRlbnQpXG4gICAgfVxuICB9LCBbc2Vzc2lvbi5jdXJyZW50U2Vzc2lvbl0pXG5cbiAgcmV0dXJuIHtcbiAgICAvLyDmh4nnlKjni4DmhYtcbiAgICBhcHBEYXRhLFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcblxuICAgIC8vIOacg+ipseeuoeeQhlxuICAgIGNyZWF0ZU5vdGVTZXNzaW9uLFxuICAgIGNyZWF0ZVJlY29yZGluZ1Nlc3Npb24sXG4gICAgdXBncmFkZVRvUmVjb3JkaW5nLFxuICAgIGZpbmlzaFNlc3Npb24sXG4gICAgbmV3Tm90ZSxcblxuICAgIC8vIOmMhOmfs+aOp+WItlxuICAgIHN0YXJ0UmVjb3JkaW5nLFxuICAgIHN0b3BSZWNvcmRpbmcsXG5cbiAgICAvLyDmnKzlnLDojYnnqL9cbiAgICBzYXZlTG9jYWxEcmFmdCxcblxuICAgIC8vIOWklumDqOeLgOaFi1xuICAgIHNlc3Npb246IHNlc3Npb24uY3VycmVudFNlc3Npb24sXG4gICAgc2Vzc2lvbkxvYWRpbmc6IHNlc3Npb24uaXNMb2FkaW5nLFxuICAgIHNlc3Npb25FcnJvcjogc2Vzc2lvbi5lcnJvcixcblxuICAgIC8vIOmMhOmfs+eLgOaFi1xuICAgIHJlY29yZGluZ0Vycm9yOiByZWNvcmRpbmcuZXJyb3IsXG5cbiAgICAvLyDpgJDlrZfnqL/ni4DmhYtcbiAgICB0cmFuc2NyaXB0Q29ubmVjdGVkOiB0cmFuc2NyaXB0LmlzQ29ubmVjdGVkLFxuICAgIHRyYW5zY3JpcHRFcnJvcjogdHJhbnNjcmlwdC5lcnJvcixcbiAgICB0cmFuc2NyaXB0QXV0b1Njcm9sbDogdHJhbnNjcmlwdC5hdXRvU2Nyb2xsRW5hYmxlZCxcbiAgICBlbmFibGVBdXRvU2Nyb2xsOiB0cmFuc2NyaXB0LmVuYWJsZUF1dG9TY3JvbGwsXG4gICAgZGlzYWJsZUF1dG9TY3JvbGw6IHRyYW5zY3JpcHQuZGlzYWJsZUF1dG9TY3JvbGwsXG4gICAgc2Nyb2xsVG9MYXRlc3Q6IHRyYW5zY3JpcHQuc2Nyb2xsVG9MYXRlc3QsXG4gIH1cbn1cblxuZXhwb3J0IHsgbWFwQmFja2VuZFRvRnJvbnRlbmRTdGF0ZSB9XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVNlc3Npb24iLCJ1c2VSZWNvcmRpbmciLCJ1c2VOb3RlcyIsInVzZVRyYW5zY3JpcHQiLCJ1c2VUb2FzdCIsIm1hcEJhY2tlbmRUb0Zyb250ZW5kU3RhdGUiLCJzdGF0dXMiLCJ0eXBlIiwiaXNSZWNvcmRpbmciLCJ0cmFuc2NyaXB0c1ByZXNlbnQiLCJjb25zb2xlIiwibG9nIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVzdWx0U3RhdGUiLCJ1c2VBcHBTdGF0ZSIsImFwcERhdGEiLCJzZXRBcHBEYXRhIiwic3RhdGUiLCJ0cmFuc2NyaXB0RW50cmllcyIsImVkaXRvckNvbnRlbnQiLCJyZWNvcmRpbmdUaW1lIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInNlc3Npb24iLCJyZWNvcmRpbmciLCJub3RlcyIsInRyYW5zY3JpcHQiLCJ0b2FzdCIsImFjdGl2ZVNlc3Npb24iLCJjdXJyZW50U2Vzc2lvbiIsImhhc0FjdGl2ZVNlc3Npb24iLCJzZXNzaW9uSWQiLCJpZCIsInNlc3Npb25TdGF0dXMiLCJzZXNzaW9uVHlwZSIsInRyYW5zY3JpcHRDb3VudCIsInRyYW5zY3JpcHRzIiwibGVuZ3RoIiwicmVjb3JkaW5nVHJhbnNjcmlwdENvdW50IiwiY3VycmVudEFwcFN0YXRlIiwibm90ZSIsImZyb250ZW5kU3RhdGUiLCJwcmV2IiwiaXNNb3VudGVkIiwiaW5pdGlhbGl6ZUFwcCIsImNoZWNrQWN0aXZlU2Vzc2lvbiIsImxvYWROb3RlIiwiZHJhZnRDb250ZW50IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwid2FybiIsIm5vdGVDb250ZW50IiwibWFwIiwidHJhbnNjcmlwdE1zZyIsInN0YXJ0VGltZSIsInN0YXJ0X3RpbWUiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwic2Vjb25kcyIsInRpbWVTdHIiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwidGltZSIsInRleHQiLCJlbnRyaWVzQ291bnQiLCJmaXJzdEVudHJ5Iiwic3Vic3RyaW5nIiwiaXNDb21wbGV0ZWQiLCJmaW5pc2hTZXNzaW9uIiwiY2F0Y2giLCJyZWNvcmRpbmdFcnJvciIsInRyYW5zY3JpcHRFcnJvciIsImN1cnJlbnRTdGF0ZSIsInN0b3BSZWNvcmRpbmciLCJkaXNjb25uZWN0IiwiZXJyb3JNZXNzYWdlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInZhcmlhbnQiLCJjcmVhdGVOb3RlU2Vzc2lvbiIsIm5ld1Nlc3Npb24iLCJyZW1vdmVJdGVtIiwiZXJyIiwiY29uZmxpY3RNc2ciLCJtc2ciLCJuZXdOb3RlIiwiZGVsZXRlU2Vzc2lvbiIsImNsZWFyVHJhbnNjcmlwdHMiLCJjbGVhck5vdGUiLCJzYXZlTG9jYWxEcmFmdCIsImNvbnRlbnQiLCJ0cmltIiwic2V0SXRlbSIsImNyZWF0ZVJlY29yZGluZ1Nlc3Npb24iLCJ1cGdyYWRlVG9SZWNvcmRpbmciLCJzdGFydFJlY29yZGluZyIsInNlc3Npb25Mb2FkaW5nIiwic2Vzc2lvbkVycm9yIiwidHJhbnNjcmlwdENvbm5lY3RlZCIsImlzQ29ubmVjdGVkIiwidHJhbnNjcmlwdEF1dG9TY3JvbGwiLCJhdXRvU2Nyb2xsRW5hYmxlZCIsImVuYWJsZUF1dG9TY3JvbGwiLCJkaXNhYmxlQXV0b1Njcm9sbCIsInNjcm9sbFRvTGF0ZXN0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-app-state.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-local-draft.ts":
/*!**********************************!*\
  !*** ./hooks/use-local-draft.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLocalDraft: () => (/* binding */ useLocalDraft)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ useLocalDraft auto */ \nconst DRAFT_KEY = 'studyscriber_draft';\nfunction useLocalDraft(sessionId) {\n    const [draft, setDraft] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        title: '',\n        content: ''\n    });\n    const [hasDraft, setHasDraft] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [lastDraftTime, setLastDraftTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const autoSaveTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentSessionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(sessionId);\n    // 更新 session ID\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useLocalDraft.useEffect\": ()=>{\n            currentSessionRef.current = sessionId;\n        }\n    }[\"useLocalDraft.useEffect\"], [\n        sessionId\n    ]);\n    // 清除自動儲存計時器\n    const clearAutoSaveTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[clearAutoSaveTimeout]\": ()=>{\n            if (autoSaveTimeoutRef.current) {\n                clearTimeout(autoSaveTimeoutRef.current);\n                autoSaveTimeoutRef.current = null;\n            }\n        }\n    }[\"useLocalDraft.useCallback[clearAutoSaveTimeout]\"], []);\n    // 從 localStorage 載入草稿\n    const loadDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[loadDraft]\": ()=>{\n            try {\n                const draftJson = localStorage.getItem(DRAFT_KEY);\n                if (!draftJson) {\n                    setHasDraft(false);\n                    return null;\n                }\n                const parsed = JSON.parse(draftJson);\n                const draftData = {\n                    title: parsed.title || '',\n                    content: parsed.content || ''\n                };\n                const timestamp = parsed.timestamp ? new Date(parsed.timestamp) : new Date();\n                const storedSessionId = parsed.sessionId;\n                // 檢查草稿是否屬於當前會話（如果有指定會話）\n                if (currentSessionRef.current && storedSessionId !== currentSessionRef.current) {\n                    console.log('📝 草稿屬於其他會話，不載入');\n                    return null;\n                }\n                setDraft(draftData);\n                setHasDraft(!!(draftData.title.trim() || draftData.content.trim()));\n                setLastDraftTime(timestamp);\n                console.log('📖 草稿已從本地載入');\n                return draftData;\n            } catch (err) {\n                console.error('❌ 載入草稿失敗:', err);\n                return null;\n            }\n        }\n    }[\"useLocalDraft.useCallback[loadDraft]\"], []);\n    // 儲存草稿到 localStorage\n    const saveDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[saveDraft]\": (data)=>{\n            const now = new Date();\n            // 取得目前的草稿內容，並與新的內容合併\n            const currentDraft = {\n                ...draft,\n                ...data\n            };\n            if (!currentDraft.title.trim() && !currentDraft.content.trim()) {\n                // 空內容時清除草稿\n                clearDraft();\n                return;\n            }\n            const draftDataToStore = {\n                ...currentDraft,\n                timestamp: now.toISOString(),\n                sessionId: currentSessionRef.current || null\n            };\n            try {\n                localStorage.setItem(DRAFT_KEY, JSON.stringify(draftDataToStore));\n                setDraft(currentDraft);\n                setHasDraft(true);\n                setLastDraftTime(now);\n                console.log('💾 草稿已儲存到本地:', currentDraft);\n            } catch (err) {\n                console.error('❌ 儲存草稿失敗:', err);\n            }\n        }\n    }[\"useLocalDraft.useCallback[saveDraft]\"], [\n        draft\n    ]) // 依賴 draft 狀態\n    ;\n    // 清除草稿\n    const clearDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[clearDraft]\": ()=>{\n            clearAutoSaveTimeout();\n            try {\n                localStorage.removeItem(DRAFT_KEY);\n                const clearedDraft = {\n                    title: '',\n                    content: ''\n                };\n                setDraft(clearedDraft);\n                setHasDraft(false);\n                setLastDraftTime(null);\n                console.log('🗑️ 草稿已清除');\n            } catch (err) {\n                console.error('❌ 清除草稿失敗:', err);\n            }\n        }\n    }[\"useLocalDraft.useCallback[clearDraft]\"], [\n        clearAutoSaveTimeout\n    ]);\n    // 判斷草稿是否比伺服器版本更新\n    const isDraftNewer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[isDraftNewer]\": (serverTimestamp)=>{\n            if (!lastDraftTime || !hasDraft) {\n                return false;\n            }\n            return lastDraftTime > serverTimestamp;\n        }\n    }[\"useLocalDraft.useCallback[isDraftNewer]\"], [\n        lastDraftTime,\n        hasDraft\n    ]);\n    // 自動儲存草稿（使用防抖動）\n    const autoSaveDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[autoSaveDraft]\": (data)=>{\n            clearAutoSaveTimeout();\n            // 500ms 防抖動，避免過於頻繁的儲存\n            autoSaveTimeoutRef.current = setTimeout({\n                \"useLocalDraft.useCallback[autoSaveDraft]\": ()=>{\n                    saveDraft(data);\n                }\n            }[\"useLocalDraft.useCallback[autoSaveDraft]\"], 500);\n        }\n    }[\"useLocalDraft.useCallback[autoSaveDraft]\"], [\n        saveDraft,\n        clearAutoSaveTimeout\n    ]);\n    // 初始化時載入草稿\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useLocalDraft.useEffect\": ()=>{\n            loadDraft();\n        }\n    }[\"useLocalDraft.useEffect\"], [\n        loadDraft\n    ]);\n    // 組件卸載時清理\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useLocalDraft.useEffect\": ()=>{\n            return ({\n                \"useLocalDraft.useEffect\": ()=>{\n                    clearAutoSaveTimeout();\n                }\n            })[\"useLocalDraft.useEffect\"];\n        }\n    }[\"useLocalDraft.useEffect\"], [\n        clearAutoSaveTimeout\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useLocalDraft.useMemo\": ()=>({\n                draft,\n                hasDraft,\n                lastDraftTime,\n                saveDraft: autoSaveDraft,\n                loadDraft,\n                clearDraft,\n                isDraftNewer\n            })\n    }[\"useLocalDraft.useMemo\"], [\n        draft,\n        hasDraft,\n        lastDraftTime,\n        autoSaveDraft,\n        loadDraft,\n        clearDraft,\n        isDraftNewer\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQ1g3QjtnQkFDQW9CO2dCQUNBTztZQUNKO2dDQUFJO1FBQ0F4QztRQUNBSTtRQUNBRTtRQUNBb0M7UUFDQTdCO1FBQ0FvQjtRQUNBTztLQUNIO0FBQ0wiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS1sb2NhbC1kcmFmdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5cbmludGVyZmFjZSBEcmFmdERhdGEge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgY29udGVudDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVXNlTG9jYWxEcmFmdFJldHVybiB7XG4gICAgZHJhZnQ6IERyYWZ0RGF0YTtcbiAgICBoYXNEcmFmdDogYm9vbGVhblxuICAgIGxhc3REcmFmdFRpbWU6IERhdGUgfCBudWxsXG4gICAgc2F2ZURyYWZ0OiAoZGF0YTogUGFydGlhbDxEcmFmdERhdGE+KSA9PiB2b2lkXG4gICAgbG9hZERyYWZ0OiAoKSA9PiBEcmFmdERhdGEgfCBudWxsXG4gICAgY2xlYXJEcmFmdDogKCkgPT4gdm9pZFxuICAgIGlzRHJhZnROZXdlcjogKHNlcnZlclRpbWVzdGFtcDogRGF0ZSkgPT4gYm9vbGVhblxufVxuXG5jb25zdCBEUkFGVF9LRVkgPSAnc3R1ZHlzY3JpYmVyX2RyYWZ0J1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTG9jYWxEcmFmdChzZXNzaW9uSWQ/OiBzdHJpbmcpOiBVc2VMb2NhbERyYWZ0UmV0dXJuIHtcbiAgICBjb25zdCBbZHJhZnQsIHNldERyYWZ0XSA9IHVzZVN0YXRlPERyYWZ0RGF0YT4oeyB0aXRsZTogJycsIGNvbnRlbnQ6ICcnIH0pXG4gICAgY29uc3QgW2hhc0RyYWZ0LCBzZXRIYXNEcmFmdF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbbGFzdERyYWZ0VGltZSwgc2V0TGFzdERyYWZ0VGltZV0gPSB1c2VTdGF0ZTxEYXRlIHwgbnVsbD4obnVsbClcblxuICAgIGNvbnN0IGF1dG9TYXZlVGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgY3VycmVudFNlc3Npb25SZWYgPSB1c2VSZWY8c3RyaW5nIHwgdW5kZWZpbmVkPihzZXNzaW9uSWQpXG5cbiAgICAvLyDmm7TmlrAgc2Vzc2lvbiBJRFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGN1cnJlbnRTZXNzaW9uUmVmLmN1cnJlbnQgPSBzZXNzaW9uSWRcbiAgICB9LCBbc2Vzc2lvbklkXSlcblxuICAgIC8vIOa4hemZpOiHquWLleWEsuWtmOioiOaZguWZqFxuICAgIGNvbnN0IGNsZWFyQXV0b1NhdmVUaW1lb3V0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoYXV0b1NhdmVUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhdXRvU2F2ZVRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgICAgICAgIGF1dG9TYXZlVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICB9XG4gICAgfSwgW10pXG5cbiAgICAvLyDlvp4gbG9jYWxTdG9yYWdlIOi8ieWFpeiNieeov1xuICAgIGNvbnN0IGxvYWREcmFmdCA9IHVzZUNhbGxiYWNrKCgpOiBEcmFmdERhdGEgfCBudWxsID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRyYWZ0SnNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKERSQUZUX0tFWSlcbiAgICAgICAgICAgIGlmICghZHJhZnRKc29uKSB7XG4gICAgICAgICAgICAgICAgc2V0SGFzRHJhZnQoZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShkcmFmdEpzb24pXG4gICAgICAgICAgICBjb25zdCBkcmFmdERhdGE6IERyYWZ0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogcGFyc2VkLnRpdGxlIHx8ICcnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcnNlZC5jb250ZW50IHx8ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBwYXJzZWQudGltZXN0YW1wID8gbmV3IERhdGUocGFyc2VkLnRpbWVzdGFtcCkgOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICBjb25zdCBzdG9yZWRTZXNzaW9uSWQgPSBwYXJzZWQuc2Vzc2lvbklkXG5cbiAgICAgICAgICAgIC8vIOaqouafpeiNieeov+aYr+WQpuWxrOaWvOeVtuWJjeacg+ipse+8iOWmguaenOacieaMh+Wumuacg+ipse+8iVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uUmVmLmN1cnJlbnQgJiYgc3RvcmVkU2Vzc2lvbklkICE9PSBjdXJyZW50U2Vzc2lvblJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50g6I2J56i/5bGs5pa85YW25LuW5pyD6Kmx77yM5LiN6LyJ5YWlJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXREcmFmdChkcmFmdERhdGEpXG4gICAgICAgICAgICBzZXRIYXNEcmFmdCghIShkcmFmdERhdGEudGl0bGUudHJpbSgpIHx8IGRyYWZ0RGF0YS5jb250ZW50LnRyaW0oKSkpXG4gICAgICAgICAgICBzZXRMYXN0RHJhZnRUaW1lKHRpbWVzdGFtcClcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk5Yg6I2J56i/5bey5b6e5pys5Zyw6LyJ5YWlJylcbiAgICAgICAgICAgIHJldHVybiBkcmFmdERhdGFcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg6LyJ5YWl6I2J56i/5aSx5pWXOicsIGVycilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICB9LCBbXSlcblxuICAgIC8vIOWEsuWtmOiNieeov+WIsCBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBzYXZlRHJhZnQgPSB1c2VDYWxsYmFjaygoZGF0YTogUGFydGlhbDxEcmFmdERhdGE+KSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcblxuICAgICAgICAvLyDlj5blvpfnm67liY3nmoTojYnnqL/lhaflrrnvvIzkuKboiIfmlrDnmoTlhaflrrnlkIjkvbVcbiAgICAgICAgY29uc3QgY3VycmVudERyYWZ0ID0geyAuLi5kcmFmdCwgLi4uZGF0YSB9XG5cbiAgICAgICAgaWYgKCFjdXJyZW50RHJhZnQudGl0bGUudHJpbSgpICYmICFjdXJyZW50RHJhZnQuY29udGVudC50cmltKCkpIHtcbiAgICAgICAgICAgIC8vIOepuuWFp+WuueaZgua4hemZpOiNieeov1xuICAgICAgICAgICAgY2xlYXJEcmFmdCgpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRyYWZ0RGF0YVRvU3RvcmUgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50RHJhZnQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiBjdXJyZW50U2Vzc2lvblJlZi5jdXJyZW50IHx8IG51bGwsXG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oRFJBRlRfS0VZLCBKU09OLnN0cmluZ2lmeShkcmFmdERhdGFUb1N0b3JlKSlcbiAgICAgICAgICAgIHNldERyYWZ0KGN1cnJlbnREcmFmdClcbiAgICAgICAgICAgIHNldEhhc0RyYWZ0KHRydWUpXG4gICAgICAgICAgICBzZXRMYXN0RHJhZnRUaW1lKG5vdylcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4g6I2J56i/5bey5YSy5a2Y5Yiw5pys5ZywOicsIGN1cnJlbnREcmFmdClcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5YSy5a2Y6I2J56i/5aSx5pWXOicsIGVycilcbiAgICAgICAgfVxuICAgIH0sIFtkcmFmdF0pIC8vIOS+neiztCBkcmFmdCDni4DmhYtcblxuICAgIC8vIOa4hemZpOiNieeov1xuICAgIGNvbnN0IGNsZWFyRHJhZnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNsZWFyQXV0b1NhdmVUaW1lb3V0KClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKERSQUZUX0tFWSlcblxuICAgICAgICAgICAgY29uc3QgY2xlYXJlZERyYWZ0ID0geyB0aXRsZTogJycsIGNvbnRlbnQ6ICcnIH1cbiAgICAgICAgICAgIHNldERyYWZ0KGNsZWFyZWREcmFmdClcbiAgICAgICAgICAgIHNldEhhc0RyYWZ0KGZhbHNlKVxuICAgICAgICAgICAgc2V0TGFzdERyYWZ0VGltZShudWxsKVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+Xke+4jyDojYnnqL/lt7LmuIXpmaQnKVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDmuIXpmaTojYnnqL/lpLHmlZc6JywgZXJyKVxuICAgICAgICB9XG4gICAgfSwgW2NsZWFyQXV0b1NhdmVUaW1lb3V0XSlcblxuICAgIC8vIOWIpOaWt+iNieeov+aYr+WQpuavlOS8uuacjeWZqOeJiOacrOabtOaWsFxuICAgIGNvbnN0IGlzRHJhZnROZXdlciA9IHVzZUNhbGxiYWNrKChzZXJ2ZXJUaW1lc3RhbXA6IERhdGUpOiBib29sZWFuID0+IHtcbiAgICAgICAgaWYgKCFsYXN0RHJhZnRUaW1lIHx8ICFoYXNEcmFmdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhc3REcmFmdFRpbWUgPiBzZXJ2ZXJUaW1lc3RhbXBcbiAgICB9LCBbbGFzdERyYWZ0VGltZSwgaGFzRHJhZnRdKVxuXG4gICAgLy8g6Ieq5YuV5YSy5a2Y6I2J56i/77yI5L2/55So6Ziy5oqW5YuV77yJXG4gICAgY29uc3QgYXV0b1NhdmVEcmFmdCA9IHVzZUNhbGxiYWNrKChkYXRhOiBQYXJ0aWFsPERyYWZ0RGF0YT4pID0+IHtcbiAgICAgICAgY2xlYXJBdXRvU2F2ZVRpbWVvdXQoKVxuXG4gICAgICAgIC8vIDUwMG1zIOmYsuaKluWLle+8jOmBv+WFjemBjuaWvOmgu+e5geeahOWEsuWtmFxuICAgICAgICBhdXRvU2F2ZVRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2F2ZURyYWZ0KGRhdGEpXG4gICAgICAgIH0sIDUwMClcbiAgICB9LCBbc2F2ZURyYWZ0LCBjbGVhckF1dG9TYXZlVGltZW91dF0pXG5cbiAgICAvLyDliJ3lp4vljJbmmYLovInlhaXojYnnqL9cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsb2FkRHJhZnQoKVxuICAgIH0sIFtsb2FkRHJhZnRdKVxuXG4gICAgLy8g57WE5Lu25Y246LyJ5pmC5riF55CGXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyQXV0b1NhdmVUaW1lb3V0KClcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckF1dG9TYXZlVGltZW91dF0pXG5cbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBkcmFmdCxcbiAgICAgICAgaGFzRHJhZnQsXG4gICAgICAgIGxhc3REcmFmdFRpbWUsXG4gICAgICAgIHNhdmVEcmFmdDogYXV0b1NhdmVEcmFmdCwgLy8g5L2/55So6Ziy5oqW54mI5pysXG4gICAgICAgIGxvYWREcmFmdCxcbiAgICAgICAgY2xlYXJEcmFmdCxcbiAgICAgICAgaXNEcmFmdE5ld2VyLFxuICAgIH0pLCBbXG4gICAgICAgIGRyYWZ0LFxuICAgICAgICBoYXNEcmFmdCxcbiAgICAgICAgbGFzdERyYWZ0VGltZSxcbiAgICAgICAgYXV0b1NhdmVEcmFmdCxcbiAgICAgICAgbG9hZERyYWZ0LFxuICAgICAgICBjbGVhckRyYWZ0LFxuICAgICAgICBpc0RyYWZ0TmV3ZXIsXG4gICAgXSlcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlTWVtbyIsIkRSQUZUX0tFWSIsInVzZUxvY2FsRHJhZnQiLCJzZXNzaW9uSWQiLCJkcmFmdCIsInNldERyYWZ0IiwidGl0bGUiLCJjb250ZW50IiwiaGFzRHJhZnQiLCJzZXRIYXNEcmFmdCIsImxhc3REcmFmdFRpbWUiLCJzZXRMYXN0RHJhZnRUaW1lIiwiYXV0b1NhdmVUaW1lb3V0UmVmIiwiY3VycmVudFNlc3Npb25SZWYiLCJjdXJyZW50IiwiY2xlYXJBdXRvU2F2ZVRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJsb2FkRHJhZnQiLCJkcmFmdEpzb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZHJhZnREYXRhIiwidGltZXN0YW1wIiwiRGF0ZSIsInN0b3JlZFNlc3Npb25JZCIsImNvbnNvbGUiLCJsb2ciLCJ0cmltIiwiZXJyIiwiZXJyb3IiLCJzYXZlRHJhZnQiLCJkYXRhIiwibm93IiwiY3VycmVudERyYWZ0IiwiY2xlYXJEcmFmdCIsImRyYWZ0RGF0YVRvU3RvcmUiLCJ0b0lTT1N0cmluZyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwiY2xlYXJlZERyYWZ0IiwiaXNEcmFmdE5ld2VyIiwic2VydmVyVGltZXN0YW1wIiwiYXV0b1NhdmVEcmFmdCIsInNldFRpbWVvdXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-local-draft.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-notes.ts":
/*!****************************!*\
  !*** ./hooks/use-notes.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useNotes: () => (/* binding */ useNotes)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/api */ \"(ssr)/./lib/api.ts\");\n/* harmony import */ var _use_local_draft__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-local-draft */ \"(ssr)/./hooks/use-local-draft.ts\");\n/* __next_internal_client_entry_do_not_use__ useNotes auto */ \n\n\nfunction useNotes() {\n    const [noteContent, setNoteContent] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n    const [lastSaved, setLastSaved] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isSaving, setIsSaving] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const autoSaveTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const lastContentRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)('');\n    const currentSessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 使用本地草稿功能\n    const localDraft = (0,_use_local_draft__WEBPACK_IMPORTED_MODULE_2__.useLocalDraft)(currentSessionIdRef.current || undefined);\n    // 清除自動儲存計時器\n    const clearAutoSaveTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[clearAutoSaveTimeout]\": ()=>{\n            if (autoSaveTimeoutRef.current) {\n                clearTimeout(autoSaveTimeoutRef.current);\n                autoSaveTimeoutRef.current = null;\n            }\n        }\n    }[\"useNotes.useCallback[clearAutoSaveTimeout]\"], []);\n    // 執行儲存操作\n    const performSave = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[performSave]\": async (sessionId, content)=>{\n            if (!content.trim() || content === lastContentRef.current) {\n                return; // 沒有變更，不需要儲存\n            }\n            setIsSaving(true);\n            setError(null);\n            try {\n                const updateData = {\n                    content,\n                    client_ts: new Date().toISOString()\n                };\n                await _lib_api__WEBPACK_IMPORTED_MODULE_1__.notesAPI.updateNote(sessionId, updateData);\n                setLastSaved(new Date());\n                lastContentRef.current = content;\n                console.log('✅ 筆記儲存成功');\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '儲存筆記失敗';\n                setError(errorMessage);\n                console.error('❌ 儲存筆記失敗:', err);\n            } finally{\n                setIsSaving(false);\n            }\n        }\n    }[\"useNotes.useCallback[performSave]\"], []);\n    // 手動儲存筆記\n    const saveNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[saveNote]\": async (sessionId)=>{\n            clearAutoSaveTimeout();\n            await performSave(sessionId, noteContent);\n        }\n    }[\"useNotes.useCallback[saveNote]\"], [\n        noteContent,\n        performSave,\n        clearAutoSaveTimeout\n    ]);\n    // 更新筆記內容（觸發自動儲存）\n    const updateNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[updateNote]\": (content)=>{\n            setNoteContent(content);\n            // 立即儲存本地草稿\n            localDraft.saveDraft(content);\n            // 如果有 session ID，設定自動儲存到伺服器\n            if (currentSessionIdRef.current) {\n                clearAutoSaveTimeout();\n                // 10 秒後自動儲存到伺服器\n                autoSaveTimeoutRef.current = setTimeout({\n                    \"useNotes.useCallback[updateNote]\": ()=>{\n                        performSave(currentSessionIdRef.current, content);\n                    }\n                }[\"useNotes.useCallback[updateNote]\"], 10000);\n            }\n        }\n    }[\"useNotes.useCallback[updateNote]\"], [\n        performSave,\n        clearAutoSaveTimeout,\n        localDraft\n    ]);\n    // 載入筆記\n    const loadNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[loadNote]\": async (sessionId)=>{\n            currentSessionIdRef.current = sessionId;\n            setError(null);\n            try {\n                const note = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.notesAPI.getNote(sessionId);\n                const serverContent = note.content;\n                const serverTimestamp = new Date(note.updated_at);\n                // 檢查是否有較新的本地草稿\n                if (localDraft.hasDraft && localDraft.isDraftNewer(serverTimestamp)) {\n                    console.log('⚠️ 發現較新的本地草稿，使用草稿內容');\n                    setNoteContent(localDraft.draftContent);\n                    lastContentRef.current = localDraft.draftContent;\n                // 不設定 lastSaved，因為草稿內容尚未同步到伺服器\n                } else {\n                    setNoteContent(serverContent);\n                    lastContentRef.current = serverContent;\n                    setLastSaved(serverTimestamp);\n                    // 清除過時的本地草稿\n                    localDraft.clearDraft();\n                }\n                console.log('✅ 筆記載入成功');\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '載入筆記失敗';\n                setError(errorMessage);\n                console.error('❌ 載入筆記失敗:', err);\n                // 如果筆記不存在，檢查是否有本地草稿\n                if (errorMessage.includes('404') || errorMessage.includes('not found')) {\n                    if (localDraft.hasDraft) {\n                        console.log('📝 使用本地草稿內容');\n                        setNoteContent(localDraft.draftContent);\n                    } else {\n                        setNoteContent('');\n                    }\n                    lastContentRef.current = '';\n                    console.log('🔄 初始化空筆記');\n                }\n            }\n        }\n    }[\"useNotes.useCallback[loadNote]\"], [\n        localDraft\n    ]);\n    // 清除筆記\n    const clearNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[clearNote]\": ()=>{\n            clearAutoSaveTimeout();\n            setNoteContent('');\n            setLastSaved(null);\n            setError(null);\n            lastContentRef.current = '';\n            currentSessionIdRef.current = null;\n            localDraft.clearDraft();\n            console.log('🔄 筆記已清除');\n        }\n    }[\"useNotes.useCallback[clearNote]\"], [\n        clearAutoSaveTimeout,\n        localDraft\n    ]);\n    // 還原本地草稿\n    const restoreDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[restoreDraft]\": ()=>{\n            const draftContent = localDraft.loadDraft();\n            if (draftContent) {\n                setNoteContent(draftContent);\n                console.log('🔄 已還原本地草稿');\n            }\n        }\n    }[\"useNotes.useCallback[restoreDraft]\"], [\n        localDraft\n    ]);\n    // 組件卸載時清理\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useNotes.useEffect\": ()=>{\n            return ({\n                \"useNotes.useEffect\": ()=>{\n                    clearAutoSaveTimeout();\n                }\n            })[\"useNotes.useEffect\"];\n        }\n    }[\"useNotes.useEffect\"], [\n        clearAutoSaveTimeout\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useNotes.useMemo\": ()=>({\n                noteContent,\n                lastSaved,\n                isSaving,\n                error,\n                updateNote,\n                saveNote,\n                loadNote,\n                clearNote,\n                hasDraft: localDraft.hasDraft,\n                lastDraftTime: localDraft.lastDraftTime,\n                restoreDraft,\n                clearDraft: localDraft.clearDraft\n            })\n    }[\"useNotes.useMemo\"], [\n        noteContent,\n        lastSaved,\n        isSaving,\n        error,\n        updateNote,\n        saveNote,\n        loadNote,\n        clearNote,\n        localDraft.hasDraft,\n        localDraft.lastDraftTime,\n        restoreDraft,\n        localDraft.clearDraft\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUwsY0FBYztnQkFDZHpDLGVBQWV5QztnQkFDZmpCLFFBQVFDLEdBQUcsQ0FBQztZQUNoQjtRQUNKOzZDQUFHO1FBQUNmO0tBQVc7SUFFZixVQUFVO0lBQ1ZoQixnREFBU0E7OEJBQUM7WUFDTjtzQ0FBTztvQkFDSG1CO2dCQUNKOztRQUNKOzZCQUFHO1FBQUNBO0tBQXFCO0lBRXpCLE9BQU9sQiw4Q0FBT0E7NEJBQUMsSUFBTztnQkFDbEJJO2dCQUNBRTtnQkFDQUU7Z0JBQ0FFO2dCQUNBa0I7Z0JBQ0FPO2dCQUNBRztnQkFDQVc7Z0JBQ0FMLFVBQVU3QixXQUFXNkIsUUFBUTtnQkFDN0JRLGVBQWVyQyxXQUFXcUMsYUFBYTtnQkFDdkNGO2dCQUNBSCxZQUFZaEMsV0FBV2dDLFVBQVU7WUFDckM7MkJBQUk7UUFDQTNDO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FrQjtRQUNBTztRQUNBRztRQUNBVztRQUNBbEMsV0FBVzZCLFFBQVE7UUFDbkI3QixXQUFXcUMsYUFBYTtRQUN4QkY7UUFDQW5DLFdBQVdnQyxVQUFVO0tBQ3hCO0FBQ0wiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS1ub3Rlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBub3Rlc0FQSSwgdHlwZSBOb3RlVXBkYXRlUmVxdWVzdCwgdHlwZSBOb3RlUmVzcG9uc2UgfSBmcm9tICcuLi9saWIvYXBpJ1xuaW1wb3J0IHsgdXNlTG9jYWxEcmFmdCB9IGZyb20gJy4vdXNlLWxvY2FsLWRyYWZ0J1xuXG5pbnRlcmZhY2UgVXNlTm90ZXNSZXR1cm4ge1xuICAgIG5vdGVDb250ZW50OiBzdHJpbmdcbiAgICBsYXN0U2F2ZWQ6IERhdGUgfCBudWxsXG4gICAgaXNTYXZpbmc6IGJvb2xlYW5cbiAgICBlcnJvcjogc3RyaW5nIHwgbnVsbFxuICAgIHVwZGF0ZU5vdGU6IChjb250ZW50OiBzdHJpbmcpID0+IHZvaWRcbiAgICBzYXZlTm90ZTogKHNlc3Npb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgbG9hZE5vdGU6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGNsZWFyTm90ZTogKCkgPT4gdm9pZFxuICAgIC8vIOacrOWcsOiNieeov+ebuOmXnFxuICAgIGhhc0RyYWZ0OiBib29sZWFuXG4gICAgbGFzdERyYWZ0VGltZTogRGF0ZSB8IG51bGxcbiAgICByZXN0b3JlRHJhZnQ6ICgpID0+IHZvaWRcbiAgICBjbGVhckRyYWZ0OiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VOb3RlcygpOiBVc2VOb3Rlc1JldHVybiB7XG4gICAgY29uc3QgW25vdGVDb250ZW50LCBzZXROb3RlQ29udGVudF0gPSB1c2VTdGF0ZSgnJylcbiAgICBjb25zdCBbbGFzdFNhdmVkLCBzZXRMYXN0U2F2ZWRdID0gdXNlU3RhdGU8RGF0ZSB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgW2lzU2F2aW5nLCBzZXRJc1NhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgICBjb25zdCBhdXRvU2F2ZVRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IGxhc3RDb250ZW50UmVmID0gdXNlUmVmKCcnKVxuICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uSWRSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICAgIC8vIOS9v+eUqOacrOWcsOiNieeov+WKn+iDvVxuICAgIGNvbnN0IGxvY2FsRHJhZnQgPSB1c2VMb2NhbERyYWZ0KGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCB8fCB1bmRlZmluZWQpXG5cbiAgICAvLyDmuIXpmaToh6rli5XlhLLlrZjoqIjmmYLlmahcbiAgICBjb25zdCBjbGVhckF1dG9TYXZlVGltZW91dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGF1dG9TYXZlVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoYXV0b1NhdmVUaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBhdXRvU2F2ZVRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g5Z+36KGM5YSy5a2Y5pON5L2cXG4gICAgY29uc3QgcGVyZm9ybVNhdmUgPSB1c2VDYWxsYmFjayhhc3luYyAoc2Vzc2lvbklkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBpZiAoIWNvbnRlbnQudHJpbSgpIHx8IGNvbnRlbnQgPT09IGxhc3RDb250ZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAvLyDmspLmnInorormm7TvvIzkuI3pnIDopoHlhLLlrZhcbiAgICAgICAgfVxuXG4gICAgICAgIHNldElzU2F2aW5nKHRydWUpXG4gICAgICAgIHNldEVycm9yKG51bGwpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IE5vdGVVcGRhdGVSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgY2xpZW50X3RzOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgbm90ZXNBUEkudXBkYXRlTm90ZShzZXNzaW9uSWQsIHVwZGF0ZURhdGEpXG5cbiAgICAgICAgICAgIHNldExhc3RTYXZlZChuZXcgRGF0ZSgpKVxuICAgICAgICAgICAgbGFzdENvbnRlbnRSZWYuY3VycmVudCA9IGNvbnRlbnRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg562G6KiY5YSy5a2Y5oiQ5YqfJylcblxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5YSy5a2Y562G6KiY5aSx5pWXJ1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOWEsuWtmOethuiomOWkseaVlzonLCBlcnIpXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1NhdmluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g5omL5YuV5YSy5a2Y562G6KiYXG4gICAgY29uc3Qgc2F2ZU5vdGUgPSB1c2VDYWxsYmFjayhhc3luYyAoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgY2xlYXJBdXRvU2F2ZVRpbWVvdXQoKVxuICAgICAgICBhd2FpdCBwZXJmb3JtU2F2ZShzZXNzaW9uSWQsIG5vdGVDb250ZW50KVxuICAgIH0sIFtub3RlQ29udGVudCwgcGVyZm9ybVNhdmUsIGNsZWFyQXV0b1NhdmVUaW1lb3V0XSlcblxuICAgIC8vIOabtOaWsOethuiomOWFp+Wuue+8iOinuOeZvOiHquWLleWEsuWtmO+8iVxuICAgIGNvbnN0IHVwZGF0ZU5vdGUgPSB1c2VDYWxsYmFjaygoY29udGVudDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIHNldE5vdGVDb250ZW50KGNvbnRlbnQpXG5cbiAgICAgICAgLy8g56uL5Y2z5YSy5a2Y5pys5Zyw6I2J56i/XG4gICAgICAgIGxvY2FsRHJhZnQuc2F2ZURyYWZ0KGNvbnRlbnQpXG5cbiAgICAgICAgLy8g5aaC5p6c5pyJIHNlc3Npb24gSUTvvIzoqK3lrproh6rli5XlhLLlrZjliLDkvLrmnI3lmahcbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJBdXRvU2F2ZVRpbWVvdXQoKVxuXG4gICAgICAgICAgICAvLyAxMCDnp5Llvozoh6rli5XlhLLlrZjliLDkvLrmnI3lmahcbiAgICAgICAgICAgIGF1dG9TYXZlVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGVyZm9ybVNhdmUoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50ISwgY29udGVudClcbiAgICAgICAgICAgIH0sIDEwMDAwKVxuICAgICAgICB9XG4gICAgfSwgW3BlcmZvcm1TYXZlLCBjbGVhckF1dG9TYXZlVGltZW91dCwgbG9jYWxEcmFmdF0pXG5cbiAgICAvLyDovInlhaXnrYboqJhcbiAgICBjb25zdCBsb2FkTm90ZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQgPSBzZXNzaW9uSWRcbiAgICAgICAgc2V0RXJyb3IobnVsbClcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgbm90ZSA9IGF3YWl0IG5vdGVzQVBJLmdldE5vdGUoc2Vzc2lvbklkKVxuICAgICAgICAgICAgY29uc3Qgc2VydmVyQ29udGVudCA9IG5vdGUuY29udGVudFxuICAgICAgICAgICAgY29uc3Qgc2VydmVyVGltZXN0YW1wID0gbmV3IERhdGUobm90ZS51cGRhdGVkX2F0KVxuXG4gICAgICAgICAgICAvLyDmqqLmn6XmmK/lkKbmnInovIPmlrDnmoTmnKzlnLDojYnnqL9cbiAgICAgICAgICAgIGlmIChsb2NhbERyYWZ0Lmhhc0RyYWZ0ICYmIGxvY2FsRHJhZnQuaXNEcmFmdE5ld2VyKHNlcnZlclRpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIOeZvOePvui8g+aWsOeahOacrOWcsOiNieeov++8jOS9v+eUqOiNieeov+WFp+WuuScpXG4gICAgICAgICAgICAgICAgc2V0Tm90ZUNvbnRlbnQobG9jYWxEcmFmdC5kcmFmdENvbnRlbnQpXG4gICAgICAgICAgICAgICAgbGFzdENvbnRlbnRSZWYuY3VycmVudCA9IGxvY2FsRHJhZnQuZHJhZnRDb250ZW50XG4gICAgICAgICAgICAgICAgLy8g5LiN6Kit5a6aIGxhc3RTYXZlZO+8jOWboOeCuuiNieeov+WFp+WuueWwmuacquWQjOatpeWIsOS8uuacjeWZqFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXROb3RlQ29udGVudChzZXJ2ZXJDb250ZW50KVxuICAgICAgICAgICAgICAgIGxhc3RDb250ZW50UmVmLmN1cnJlbnQgPSBzZXJ2ZXJDb250ZW50XG4gICAgICAgICAgICAgICAgc2V0TGFzdFNhdmVkKHNlcnZlclRpbWVzdGFtcClcbiAgICAgICAgICAgICAgICAvLyDmuIXpmaTpgY7mmYLnmoTmnKzlnLDojYnnqL9cbiAgICAgICAgICAgICAgICBsb2NhbERyYWZ0LmNsZWFyRHJhZnQoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOethuiomOi8ieWFpeaIkOWKnycpXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+i8ieWFpeethuiomOWkseaVlydcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDovInlhaXnrYboqJjlpLHmlZc6JywgZXJyKVxuXG4gICAgICAgICAgICAvLyDlpoLmnpznrYboqJjkuI3lrZjlnKjvvIzmqqLmn6XmmK/lkKbmnInmnKzlnLDojYnnqL9cbiAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJzQwNCcpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnbm90IGZvdW5kJykpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxEcmFmdC5oYXNEcmFmdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSDkvb/nlKjmnKzlnLDojYnnqL/lhaflrrknKVxuICAgICAgICAgICAgICAgICAgICBzZXROb3RlQ29udGVudChsb2NhbERyYWZ0LmRyYWZ0Q29udGVudClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXROb3RlQ29udGVudCgnJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdENvbnRlbnRSZWYuY3VycmVudCA9ICcnXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg5Yid5aeL5YyW56m6562G6KiYJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtsb2NhbERyYWZ0XSlcblxuICAgIC8vIOa4hemZpOethuiomFxuICAgIGNvbnN0IGNsZWFyTm90ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY2xlYXJBdXRvU2F2ZVRpbWVvdXQoKVxuICAgICAgICBzZXROb3RlQ29udGVudCgnJylcbiAgICAgICAgc2V0TGFzdFNhdmVkKG51bGwpXG4gICAgICAgIHNldEVycm9yKG51bGwpXG4gICAgICAgIGxhc3RDb250ZW50UmVmLmN1cnJlbnQgPSAnJ1xuICAgICAgICBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgIGxvY2FsRHJhZnQuY2xlYXJEcmFmdCgpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIOethuiomOW3sua4hemZpCcpXG4gICAgfSwgW2NsZWFyQXV0b1NhdmVUaW1lb3V0LCBsb2NhbERyYWZ0XSlcblxuICAgIC8vIOmChOWOn+acrOWcsOiNieeov1xuICAgIGNvbnN0IHJlc3RvcmVEcmFmdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgZHJhZnRDb250ZW50ID0gbG9jYWxEcmFmdC5sb2FkRHJhZnQoKVxuICAgICAgICBpZiAoZHJhZnRDb250ZW50KSB7XG4gICAgICAgICAgICBzZXROb3RlQ29udGVudChkcmFmdENvbnRlbnQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDlt7LpgoTljp/mnKzlnLDojYnnqL8nKVxuICAgICAgICB9XG4gICAgfSwgW2xvY2FsRHJhZnRdKVxuXG4gICAgLy8g57WE5Lu25Y246LyJ5pmC5riF55CGXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyQXV0b1NhdmVUaW1lb3V0KClcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckF1dG9TYXZlVGltZW91dF0pXG5cbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBub3RlQ29udGVudCxcbiAgICAgICAgbGFzdFNhdmVkLFxuICAgICAgICBpc1NhdmluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHVwZGF0ZU5vdGUsXG4gICAgICAgIHNhdmVOb3RlLFxuICAgICAgICBsb2FkTm90ZSxcbiAgICAgICAgY2xlYXJOb3RlLFxuICAgICAgICBoYXNEcmFmdDogbG9jYWxEcmFmdC5oYXNEcmFmdCxcbiAgICAgICAgbGFzdERyYWZ0VGltZTogbG9jYWxEcmFmdC5sYXN0RHJhZnRUaW1lLFxuICAgICAgICByZXN0b3JlRHJhZnQsXG4gICAgICAgIGNsZWFyRHJhZnQ6IGxvY2FsRHJhZnQuY2xlYXJEcmFmdCxcbiAgICB9KSwgW1xuICAgICAgICBub3RlQ29udGVudCxcbiAgICAgICAgbGFzdFNhdmVkLFxuICAgICAgICBpc1NhdmluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHVwZGF0ZU5vdGUsXG4gICAgICAgIHNhdmVOb3RlLFxuICAgICAgICBsb2FkTm90ZSxcbiAgICAgICAgY2xlYXJOb3RlLFxuICAgICAgICBsb2NhbERyYWZ0Lmhhc0RyYWZ0LFxuICAgICAgICBsb2NhbERyYWZ0Lmxhc3REcmFmdFRpbWUsXG4gICAgICAgIHJlc3RvcmVEcmFmdCxcbiAgICAgICAgbG9jYWxEcmFmdC5jbGVhckRyYWZ0LFxuICAgIF0pXG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJub3Rlc0FQSSIsInVzZUxvY2FsRHJhZnQiLCJ1c2VOb3RlcyIsIm5vdGVDb250ZW50Iiwic2V0Tm90ZUNvbnRlbnQiLCJsYXN0U2F2ZWQiLCJzZXRMYXN0U2F2ZWQiLCJpc1NhdmluZyIsInNldElzU2F2aW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImF1dG9TYXZlVGltZW91dFJlZiIsImxhc3RDb250ZW50UmVmIiwiY3VycmVudFNlc3Npb25JZFJlZiIsImxvY2FsRHJhZnQiLCJjdXJyZW50IiwidW5kZWZpbmVkIiwiY2xlYXJBdXRvU2F2ZVRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJwZXJmb3JtU2F2ZSIsInNlc3Npb25JZCIsImNvbnRlbnQiLCJ0cmltIiwidXBkYXRlRGF0YSIsImNsaWVudF90cyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZU5vdGUiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwic2F2ZU5vdGUiLCJzYXZlRHJhZnQiLCJzZXRUaW1lb3V0IiwibG9hZE5vdGUiLCJub3RlIiwiZ2V0Tm90ZSIsInNlcnZlckNvbnRlbnQiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJ1cGRhdGVkX2F0IiwiaGFzRHJhZnQiLCJpc0RyYWZ0TmV3ZXIiLCJkcmFmdENvbnRlbnQiLCJjbGVhckRyYWZ0IiwiaW5jbHVkZXMiLCJjbGVhck5vdGUiLCJyZXN0b3JlRHJhZnQiLCJsb2FkRHJhZnQiLCJsYXN0RHJhZnRUaW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-notes.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-recording.ts":
/*!********************************!*\
  !*** ./hooks/use-recording.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRecording: () => (/* binding */ useRecording)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/websocket */ \"(ssr)/./lib/websocket.ts\");\n/* harmony import */ var _lib_audio_recorder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/audio-recorder */ \"(ssr)/./lib/audio-recorder.ts\");\n/* harmony import */ var _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/transcript-manager */ \"(ssr)/./lib/transcript-manager.ts\");\n/* __next_internal_client_entry_do_not_use__ useRecording auto */ \n\n\n\nfunction useRecording() {\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [recordingTime, setRecordingTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [transcripts, setTranscripts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [transcriptCompleted, setTranscriptCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // WebSocket 和錄音器引用\n    const audioUploadWsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const audioRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentSessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 計時器和狀態引用\n    const timerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const heartbeatRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const chunksRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const retryCountsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    // 清理計時器\n    const clearTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[clearTimer]\": ()=>{\n            if (timerRef.current) {\n                clearInterval(timerRef.current);\n                timerRef.current = null;\n            }\n        }\n    }[\"useRecording.useCallback[clearTimer]\"], []);\n    // 清理心跳計時器\n    const clearHeartbeat = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[clearHeartbeat]\": ()=>{\n            if (heartbeatRef.current) {\n                clearInterval(heartbeatRef.current);\n                heartbeatRef.current = null;\n            }\n        }\n    }[\"useRecording.useCallback[clearHeartbeat]\"], []);\n    // 開始音檔上傳心跳\n    const startHeartbeat = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[startHeartbeat]\": (uploadWs)=>{\n            clearHeartbeat();\n            heartbeatRef.current = setInterval({\n                \"useRecording.useCallback[startHeartbeat]\": ()=>{\n                    if (uploadWs.isConnected) {\n                        uploadWs.send(JSON.stringify({\n                            type: 'heartbeat',\n                            timestamp: Date.now()\n                        }));\n                    }\n                }\n            }[\"useRecording.useCallback[startHeartbeat]\"], 30000) // 每30秒發送一次心跳\n            ;\n        }\n    }[\"useRecording.useCallback[startHeartbeat]\"], [\n        clearHeartbeat\n    ]);\n    // 開始錄音計時器\n    const startTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[startTimer]\": ()=>{\n            clearTimer();\n            setRecordingTime(0);\n            timerRef.current = setInterval({\n                \"useRecording.useCallback[startTimer]\": ()=>{\n                    setRecordingTime({\n                        \"useRecording.useCallback[startTimer]\": (prev)=>prev + 1\n                    }[\"useRecording.useCallback[startTimer]\"]);\n                }\n            }[\"useRecording.useCallback[startTimer]\"], 1000);\n        }\n    }[\"useRecording.useCallback[startTimer]\"], [\n        clearTimer\n    ]);\n    // 處理逐字稿接收 - 透過 TranscriptManager\n    const handleTranscript = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[handleTranscript]\": (transcript)=>{\n            console.log('📝 [useRecording] 收到逐字稿訊息:', {\n                type: transcript.type,\n                text: transcript.text,\n                textLength: transcript.text?.length || 0,\n                start_time: transcript.start_time,\n                end_time: transcript.end_time,\n                start_sequence: transcript.start_sequence,\n                confidence: transcript.confidence,\n                sessionId: currentSessionIdRef.current,\n                timestamp: new Date().toISOString()\n            });\n            // 處理轉錄完成通知\n            if (transcript.type === 'transcript_complete' || transcript.message === 'transcription_complete') {\n                console.log('✅ [useRecording] 逐字稿轉錄完成，設定 transcriptCompleted=true');\n                setTranscriptCompleted(true);\n                return;\n            }\n            // 只處理逐字稿片段類型的訊息\n            if (transcript.type !== 'transcript_segment') {\n                console.log('⚠️ [useRecording] 跳過非逐字稿片段訊息:', transcript.type);\n                return;\n            }\n            if (!transcript.text) {\n                console.log('⚠️ [useRecording] 跳過空文字逐字稿');\n                return;\n            }\n            console.log('🔄 [useRecording] 開始處理逐字稿片段...');\n            setTranscripts({\n                \"useRecording.useCallback[handleTranscript]\": (prev)=>{\n                    console.log('📊 [useRecording] 合併前狀態:', {\n                        existingCount: prev.length,\n                        newSegmentText: transcript.text,\n                        newSegmentSequence: transcript.start_sequence,\n                        newSegmentTime: transcript.start_time\n                    });\n                    // 使用 start_sequence 作為排序依據，如果沒有則使用時間戳\n                    const sequence = transcript.start_sequence ?? transcript.timestamp ?? 0;\n                    // 依照序號排序並去重\n                    const filtered = prev.filter({\n                        \"useRecording.useCallback[handleTranscript].filtered\": (t)=>{\n                            const existingSequence = t.start_sequence ?? t.timestamp ?? 0;\n                            return existingSequence !== sequence;\n                        }\n                    }[\"useRecording.useCallback[handleTranscript].filtered\"]);\n                    const updated = [\n                        ...filtered,\n                        transcript\n                    ].sort({\n                        \"useRecording.useCallback[handleTranscript].updated\": (a, b)=>{\n                            const aSequence = a.start_sequence ?? a.timestamp ?? 0;\n                            const bSequence = b.start_sequence ?? b.timestamp ?? 0;\n                            return aSequence - bSequence;\n                        }\n                    }[\"useRecording.useCallback[handleTranscript].updated\"]);\n                    console.log('📊 [useRecording] 合併後狀態:', {\n                        newCount: updated.length,\n                        countChange: updated.length - prev.length,\n                        filteredCount: filtered.length,\n                        isDuplicate: filtered.length === prev.length ? false : true,\n                        lastSegmentText: updated[updated.length - 1]?.text?.substring(0, 50) + '...'\n                    });\n                    console.log(`✅ [useRecording] 逐字稿更新完成: ${prev.length} → ${updated.length} 個片段`);\n                    return updated;\n                }\n            }[\"useRecording.useCallback[handleTranscript]\"]);\n        }\n    }[\"useRecording.useCallback[handleTranscript]\"], []);\n    // 處理 ACK/Missing 訊息 - 支援重傳機制\n    const handleAckMissing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[handleAckMissing]\": (data)=>{\n            console.log('📨 收到 ACK/Missing:', data);\n            if (data.missing.length > 0) {\n                console.warn('⚠️ 有遺失的音檔切片需要重傳:', data.missing);\n                // 實作重傳機制\n                data.missing.forEach({\n                    \"useRecording.useCallback[handleAckMissing]\": (sequence)=>{\n                        const retryCount = retryCountsRef.current.get(sequence) ?? 0;\n                        if (retryCount < 5) {\n                            retryCountsRef.current.set(sequence, retryCount + 1);\n                            // 尋找對應的音檔切片進行重傳（如果還存在）\n                            if (chunksRef.current[sequence]) {\n                                console.log(`🔄 重傳音檔切片 #${sequence} (第 ${retryCount + 1} 次)`);\n                                audioUploadWsRef.current?.uploadAudioChunk(chunksRef.current[sequence].blob);\n                            }\n                        } else {\n                            console.error(`❌ 音檔切片 #${sequence} 重傳次數已達上限`);\n                        }\n                    }\n                }[\"useRecording.useCallback[handleAckMissing]\"]);\n            }\n        }\n    }[\"useRecording.useCallback[handleAckMissing]\"], []);\n    // 處理音檔切片\n    const handleAudioChunk = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[handleAudioChunk]\": (chunk)=>{\n            console.log(`🎵 收到音檔切片 #${chunk.sequence}, 大小: ${chunk.blob.size} bytes`);\n            // 儲存切片供重傳使用\n            chunksRef.current[chunk.sequence] = chunk;\n            // 如果 WebSocket 已連接，立即上傳\n            if (audioUploadWsRef.current?.isConnected) {\n                audioUploadWsRef.current.uploadAudioChunk(chunk.blob);\n            }\n        }\n    }[\"useRecording.useCallback[handleAudioChunk]\"], []);\n    // 開始錄音 - 優化連線時序和穩定性\n    const startRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[startRecording]\": async (sessionId)=>{\n            try {\n                setError(null);\n                setTranscriptCompleted(false);\n                currentSessionIdRef.current = sessionId;\n                console.log('🎤 [useRecording] 開始錄音流程:', {\n                    sessionId\n                });\n                // 確保在瀏覽器環境中執行\n                if (true) {\n                    throw new Error('此功能僅在瀏覽器環境中可用');\n                }\n                // 步驟 1: 建立音檔錄製器（12 秒切片）\n                console.log('🎤 [useRecording] 步驟 1: 初始化音檔錄製器');\n                const audioRecorder = new _lib_audio_recorder__WEBPACK_IMPORTED_MODULE_2__.AudioRecorder({\n                    chunkInterval: 12000,\n                    mimeType: 'audio/webm;codecs=opus'\n                });\n                audioRecorderRef.current = audioRecorder;\n                chunksRef.current = [];\n                retryCountsRef.current.clear();\n                // 設定音檔錄製器事件\n                audioRecorder.onChunk(handleAudioChunk);\n                audioRecorder.onError({\n                    \"useRecording.useCallback[startRecording]\": (err)=>{\n                        console.error('❌ AudioRecorder 錯誤:', err);\n                        setError(err.message);\n                    }\n                }[\"useRecording.useCallback[startRecording]\"]);\n                // 步驟 2: 初始化音訊權限\n                console.log('🎤 [useRecording] 步驟 2: 初始化音訊權限');\n                await audioRecorder.initialize();\n                // 步驟 3: 建立 WebSocket 連線（並行建立，確保都就緒）\n                console.log('🎤 [useRecording] 步驟 3: 建立 WebSocket 連線');\n                // 3a. 建立音檔上傳 WebSocket\n                console.log('🔌 [useRecording] 建立音檔上傳 WebSocket');\n                const uploadWs = new _lib_websocket__WEBPACK_IMPORTED_MODULE_1__.AudioUploadWebSocket(sessionId);\n                await uploadWs.connect();\n                // 設定音檔上傳 WebSocket 事件處理\n                uploadWs.onAckMissing(handleAckMissing);\n                audioUploadWsRef.current = uploadWs;\n                // 3b. 建立逐字稿接收 WebSocket（透過 TranscriptManager）\n                console.log('🔌 [useRecording] 建立逐字稿接收 WebSocket');\n                await _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.connect(sessionId);\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.addListener(sessionId, handleTranscript);\n                // 步驟 4: 驗證連線狀態\n                console.log('🎤 [useRecording] 步驟 4: 驗證連線狀態');\n                if (!uploadWs.isConnected) {\n                    throw new Error('音檔上傳 WebSocket 連線失敗');\n                }\n                if (!_lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.isConnected(sessionId)) {\n                    throw new Error('逐字稿接收 WebSocket 連線失敗');\n                }\n                console.log('✅ [useRecording] 所有 WebSocket 連線已建立');\n                // 步驟 5: 啟動心跳機制\n                console.log('🎤 [useRecording] 步驟 5: 啟動心跳機制');\n                startHeartbeat(uploadWs);\n                // 步驟 6: 開始錄音\n                console.log('🎤 [useRecording] 步驟 6: 開始錄音');\n                // 先設置錄音狀態，確保狀態映射正確\n                setIsRecording(true);\n                console.log('🎤 [useRecording] 錄音狀態已設置為 true');\n                await audioRecorder.startRecording();\n                startTimer();\n                console.log('✅ [useRecording] 錄音開始成功，Session ID:', sessionId);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '開始錄音失敗';\n                setError(errorMessage);\n                console.error('❌ [useRecording] 開始錄音失敗:', err);\n                // 錯誤時清理資源\n                if (audioRecorderRef.current) {\n                    audioRecorderRef.current.stopRecording();\n                }\n                if (audioUploadWsRef.current) {\n                    audioUploadWsRef.current.disconnect();\n                    audioUploadWsRef.current = null;\n                }\n                if (currentSessionIdRef.current) {\n                    _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                }\n            }\n        }\n    }[\"useRecording.useCallback[startRecording]\"], [\n        handleAudioChunk,\n        handleAckMissing,\n        handleTranscript,\n        startTimer,\n        startHeartbeat\n    ]);\n    // 停止錄音\n    const stopRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[stopRecording]\": ()=>{\n            try {\n                // 停止音檔錄製器\n                if (audioRecorderRef.current) {\n                    audioRecorderRef.current.stopRecording();\n                }\n                // 關閉音檔上傳 WebSocket\n                if (audioUploadWsRef.current) {\n                    audioUploadWsRef.current.disconnect();\n                    audioUploadWsRef.current = null;\n                }\n                setIsRecording(false);\n                clearTimer();\n                clearHeartbeat();\n                console.log('✅ 錄音停止，等待轉錄完成');\n            // 注意：不斷開 TranscriptManager 連接，繼續接收轉錄結果\n            } catch (err) {\n                console.error('❌ 停止錄音失敗:', err);\n                setError('停止錄音時發生錯誤');\n            }\n        }\n    }[\"useRecording.useCallback[stopRecording]\"], [\n        clearTimer,\n        clearHeartbeat\n    ]);\n    // 清空逐字稿\n    const clearTranscripts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[clearTranscripts]\": ()=>{\n            setTranscripts([]);\n            setTranscriptCompleted(false);\n            console.log('🔄 逐字稿已清除');\n        }\n    }[\"useRecording.useCallback[clearTranscripts]\"], []);\n    // 清理資源\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useRecording.useEffect\": ()=>{\n            return ({\n                \"useRecording.useEffect\": ()=>{\n                    // 移除 TranscriptManager 監聽器\n                    if (currentSessionIdRef.current) {\n                        _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                    }\n                    // 清理計時器\n                    clearTimer();\n                    clearHeartbeat();\n                    // 關閉音檔上傳 WebSocket\n                    if (audioUploadWsRef.current) {\n                        audioUploadWsRef.current.disconnect();\n                    }\n                    // 停止錄音器\n                    if (audioRecorderRef.current) {\n                        audioRecorderRef.current.stopRecording();\n                    }\n                }\n            })[\"useRecording.useEffect\"];\n        }\n    }[\"useRecording.useEffect\"], [\n        clearTimer,\n        clearHeartbeat,\n        handleTranscript\n    ]);\n    return {\n        isRecording,\n        recordingTime,\n        transcripts,\n        transcriptCompleted,\n        error,\n        startRecording,\n        stopRecording,\n        clearTranscripts\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O3FEQUFHLEVBQUU7SUFFTCxPQUFPO0lBQ1AzQyxnREFBU0E7a0NBQUM7WUFDUjswQ0FBTztvQkFDTCwyQkFBMkI7b0JBQzNCLElBQUlpQixvQkFBb0JPLE9BQU8sRUFBRTt3QkFDL0JyQixzRUFBaUJBLENBQUNxRyxjQUFjLENBQUN2RixvQkFBb0JPLE9BQU8sRUFBRWdCO29CQUNoRTtvQkFFQSxRQUFRO29CQUNSakI7b0JBQ0FHO29CQUVBLG1CQUFtQjtvQkFDbkIsSUFBSVgsaUJBQWlCUyxPQUFPLEVBQUU7d0JBQzVCVCxpQkFBaUJTLE9BQU8sQ0FBQytFLFVBQVU7b0JBQ3JDO29CQUVBLFFBQVE7b0JBQ1IsSUFBSXZGLGlCQUFpQlEsT0FBTyxFQUFFO3dCQUM1QlIsaUJBQWlCUSxPQUFPLENBQUM4RSxhQUFhO29CQUN4QztnQkFDRjs7UUFDRjtpQ0FBRztRQUFDL0U7UUFBWUc7UUFBZ0JjO0tBQWlCO0lBRWpELE9BQU87UUFDTG5DO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0EyRTtRQUNBYztRQUNBRztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS1yZWNvcmRpbmcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQXVkaW9VcGxvYWRXZWJTb2NrZXQsIEFja01pc3NpbmdNZXNzYWdlIH0gZnJvbSAnLi4vbGliL3dlYnNvY2tldCdcbmltcG9ydCB7IEF1ZGlvUmVjb3JkZXIsIEF1ZGlvQ2h1bmsgfSBmcm9tICcuLi9saWIvYXVkaW8tcmVjb3JkZXInXG5pbXBvcnQgeyB0cmFuc2NyaXB0TWFuYWdlciwgVHJhbnNjcmlwdE1lc3NhZ2UgfSBmcm9tICcuLi9saWIvdHJhbnNjcmlwdC1tYW5hZ2VyJ1xuXG5pbnRlcmZhY2UgVXNlUmVjb3JkaW5nUmV0dXJuIHtcbiAgaXNSZWNvcmRpbmc6IGJvb2xlYW5cbiAgcmVjb3JkaW5nVGltZTogbnVtYmVyXG4gIHRyYW5zY3JpcHRzOiBUcmFuc2NyaXB0TWVzc2FnZVtdXG4gIHRyYW5zY3JpcHRDb21wbGV0ZWQ6IGJvb2xlYW5cbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcbiAgc3RhcnRSZWNvcmRpbmc6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICBzdG9wUmVjb3JkaW5nOiAoKSA9PiB2b2lkXG4gIGNsZWFyVHJhbnNjcmlwdHM6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlY29yZGluZygpOiBVc2VSZWNvcmRpbmdSZXR1cm4ge1xuICBjb25zdCBbaXNSZWNvcmRpbmcsIHNldElzUmVjb3JkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbcmVjb3JkaW5nVGltZSwgc2V0UmVjb3JkaW5nVGltZV0gPSB1c2VTdGF0ZSgwKVxuICBjb25zdCBbdHJhbnNjcmlwdHMsIHNldFRyYW5zY3JpcHRzXSA9IHVzZVN0YXRlPFRyYW5zY3JpcHRNZXNzYWdlW10+KFtdKVxuICBjb25zdCBbdHJhbnNjcmlwdENvbXBsZXRlZCwgc2V0VHJhbnNjcmlwdENvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gIC8vIFdlYlNvY2tldCDlkozpjITpn7PlmajlvJXnlKhcbiAgY29uc3QgYXVkaW9VcGxvYWRXc1JlZiA9IHVzZVJlZjxBdWRpb1VwbG9hZFdlYlNvY2tldCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGF1ZGlvUmVjb3JkZXJSZWYgPSB1c2VSZWY8QXVkaW9SZWNvcmRlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGN1cnJlbnRTZXNzaW9uSWRSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICAvLyDoqIjmmYLlmajlkozni4DmhYvlvJXnlKhcbiAgY29uc3QgdGltZXJSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKVxuICBjb25zdCBoZWFydGJlYXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKVxuICBjb25zdCBjaHVua3NSZWYgPSB1c2VSZWY8QXVkaW9DaHVua1tdPihbXSlcbiAgY29uc3QgcmV0cnlDb3VudHNSZWYgPSB1c2VSZWY8TWFwPG51bWJlciwgbnVtYmVyPj4obmV3IE1hcCgpKVxuXG4gIC8vIOa4heeQhuioiOaZguWZqFxuICBjb25zdCBjbGVhclRpbWVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICh0aW1lclJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhckludGVydmFsKHRpbWVyUmVmLmN1cnJlbnQpXG4gICAgICB0aW1lclJlZi5jdXJyZW50ID0gbnVsbFxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g5riF55CG5b+D6Lez6KiI5pmC5ZmoXG4gIGNvbnN0IGNsZWFySGVhcnRiZWF0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChoZWFydGJlYXRSZWYuY3VycmVudCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChoZWFydGJlYXRSZWYuY3VycmVudClcbiAgICAgIGhlYXJ0YmVhdFJlZi5jdXJyZW50ID0gbnVsbFxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g6ZaL5aeL6Z+z5qqU5LiK5YKz5b+D6LezXG4gIGNvbnN0IHN0YXJ0SGVhcnRiZWF0ID0gdXNlQ2FsbGJhY2soKHVwbG9hZFdzOiBBdWRpb1VwbG9hZFdlYlNvY2tldCkgPT4ge1xuICAgIGNsZWFySGVhcnRiZWF0KClcblxuICAgIGhlYXJ0YmVhdFJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZFdzLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHVwbG9hZFdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHR5cGU6ICdoZWFydGJlYXQnLFxuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICB9LCAzMDAwMCkgLy8g5q+PMzDnp5LnmbzpgIHkuIDmrKHlv4Pot7NcbiAgfSwgW2NsZWFySGVhcnRiZWF0XSlcblxuICAvLyDplovlp4vpjITpn7PoqIjmmYLlmahcbiAgY29uc3Qgc3RhcnRUaW1lciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjbGVhclRpbWVyKClcbiAgICBzZXRSZWNvcmRpbmdUaW1lKDApXG5cbiAgICB0aW1lclJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0UmVjb3JkaW5nVGltZSgocHJldikgPT4gcHJldiArIDEpXG4gICAgfSwgMTAwMClcbiAgfSwgW2NsZWFyVGltZXJdKVxuXG4gIC8vIOiZleeQhumAkOWtl+eov+aOpeaUtiAtIOmAj+mBjiBUcmFuc2NyaXB0TWFuYWdlclxuICBjb25zdCBoYW5kbGVUcmFuc2NyaXB0ID0gdXNlQ2FsbGJhY2soKHRyYW5zY3JpcHQ6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/Cfk50gW3VzZVJlY29yZGluZ10g5pS25Yiw6YCQ5a2X56i/6KiK5oGvOicsIHtcbiAgICAgIHR5cGU6IHRyYW5zY3JpcHQudHlwZSxcbiAgICAgIHRleHQ6IHRyYW5zY3JpcHQudGV4dCxcbiAgICAgIHRleHRMZW5ndGg6IHRyYW5zY3JpcHQudGV4dD8ubGVuZ3RoIHx8IDAsXG4gICAgICBzdGFydF90aW1lOiB0cmFuc2NyaXB0LnN0YXJ0X3RpbWUsXG4gICAgICBlbmRfdGltZTogdHJhbnNjcmlwdC5lbmRfdGltZSxcbiAgICAgIHN0YXJ0X3NlcXVlbmNlOiB0cmFuc2NyaXB0LnN0YXJ0X3NlcXVlbmNlLFxuICAgICAgY29uZmlkZW5jZTogdHJhbnNjcmlwdC5jb25maWRlbmNlLFxuICAgICAgc2Vzc2lvbklkOiBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pXG5cbiAgICAvLyDomZXnkIbovYnpjITlrozmiJDpgJrnn6VcbiAgICBpZiAodHJhbnNjcmlwdC50eXBlID09PSAndHJhbnNjcmlwdF9jb21wbGV0ZScgfHwgdHJhbnNjcmlwdC5tZXNzYWdlID09PSAndHJhbnNjcmlwdGlvbl9jb21wbGV0ZScpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgW3VzZVJlY29yZGluZ10g6YCQ5a2X56i/6L2J6YyE5a6M5oiQ77yM6Kit5a6aIHRyYW5zY3JpcHRDb21wbGV0ZWQ9dHJ1ZScpXG4gICAgICBzZXRUcmFuc2NyaXB0Q29tcGxldGVkKHRydWUpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyDlj6romZXnkIbpgJDlrZfnqL/niYfmrrXpoZ7lnovnmoToqIrmga9cbiAgICBpZiAodHJhbnNjcmlwdC50eXBlICE9PSAndHJhbnNjcmlwdF9zZWdtZW50Jykge1xuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBbdXNlUmVjb3JkaW5nXSDot7PpgY7pnZ7pgJDlrZfnqL/niYfmrrXoqIrmga86JywgdHJhbnNjcmlwdC50eXBlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0cmFuc2NyaXB0LnRleHQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gW3VzZVJlY29yZGluZ10g6Lez6YGO56m65paH5a2X6YCQ5a2X56i/JylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VSZWNvcmRpbmddIOmWi+Wni+iZleeQhumAkOWtl+eov+eJh+autS4uLicpXG5cbiAgICBzZXRUcmFuc2NyaXB0cygocHJldikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW3VzZVJlY29yZGluZ10g5ZCI5L215YmN54uA5oWLOicsIHtcbiAgICAgICAgZXhpc3RpbmdDb3VudDogcHJldi5sZW5ndGgsXG4gICAgICAgIG5ld1NlZ21lbnRUZXh0OiB0cmFuc2NyaXB0LnRleHQsXG4gICAgICAgIG5ld1NlZ21lbnRTZXF1ZW5jZTogdHJhbnNjcmlwdC5zdGFydF9zZXF1ZW5jZSxcbiAgICAgICAgbmV3U2VnbWVudFRpbWU6IHRyYW5zY3JpcHQuc3RhcnRfdGltZVxuICAgICAgfSlcblxuICAgICAgLy8g5L2/55SoIHN0YXJ0X3NlcXVlbmNlIOS9nOeCuuaOkuW6j+S+neaTmu+8jOWmguaenOaykuacieWJh+S9v+eUqOaZgumWk+aIs1xuICAgICAgY29uc3Qgc2VxdWVuY2UgPSB0cmFuc2NyaXB0LnN0YXJ0X3NlcXVlbmNlID8/IHRyYW5zY3JpcHQudGltZXN0YW1wID8/IDBcblxuICAgICAgLy8g5L6d54Wn5bqP6Jmf5o6S5bqP5Lim5Y676YeNXG4gICAgICBjb25zdCBmaWx0ZXJlZCA9IHByZXYuZmlsdGVyKHQgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1NlcXVlbmNlID0gdC5zdGFydF9zZXF1ZW5jZSA/PyB0LnRpbWVzdGFtcCA/PyAwXG4gICAgICAgIHJldHVybiBleGlzdGluZ1NlcXVlbmNlICE9PSBzZXF1ZW5jZVxuICAgICAgfSlcblxuICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5maWx0ZXJlZCwgdHJhbnNjcmlwdF0uc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBjb25zdCBhU2VxdWVuY2UgPSBhLnN0YXJ0X3NlcXVlbmNlID8/IGEudGltZXN0YW1wID8/IDBcbiAgICAgICAgY29uc3QgYlNlcXVlbmNlID0gYi5zdGFydF9zZXF1ZW5jZSA/PyBiLnRpbWVzdGFtcCA/PyAwXG4gICAgICAgIHJldHVybiBhU2VxdWVuY2UgLSBiU2VxdWVuY2VcbiAgICAgIH0pXG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFt1c2VSZWNvcmRpbmddIOWQiOS9teW+jOeLgOaFizonLCB7XG4gICAgICAgIG5ld0NvdW50OiB1cGRhdGVkLmxlbmd0aCxcbiAgICAgICAgY291bnRDaGFuZ2U6IHVwZGF0ZWQubGVuZ3RoIC0gcHJldi5sZW5ndGgsXG4gICAgICAgIGZpbHRlcmVkQ291bnQ6IGZpbHRlcmVkLmxlbmd0aCxcbiAgICAgICAgaXNEdXBsaWNhdGU6IGZpbHRlcmVkLmxlbmd0aCA9PT0gcHJldi5sZW5ndGggPyBmYWxzZSA6IHRydWUsXG4gICAgICAgIGxhc3RTZWdtZW50VGV4dDogdXBkYXRlZFt1cGRhdGVkLmxlbmd0aCAtIDFdPy50ZXh0Py5zdWJzdHJpbmcoMCwgNTApICsgJy4uLidcbiAgICAgIH0pXG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgW3VzZVJlY29yZGluZ10g6YCQ5a2X56i/5pu05paw5a6M5oiQOiAke3ByZXYubGVuZ3RofSDihpIgJHt1cGRhdGVkLmxlbmd0aH0g5YCL54mH5q61YClcbiAgICAgIHJldHVybiB1cGRhdGVkXG4gICAgfSlcbiAgfSwgW10pXG5cbiAgLy8g6JmV55CGIEFDSy9NaXNzaW5nIOioiuaBryAtIOaUr+aPtOmHjeWCs+apn+WItlxuICBjb25zdCBoYW5kbGVBY2tNaXNzaW5nID0gdXNlQ2FsbGJhY2soKGRhdGE6IEFja01pc3NpbmdNZXNzYWdlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/Cfk6gg5pS25YiwIEFDSy9NaXNzaW5nOicsIGRhdGEpXG5cbiAgICBpZiAoZGF0YS5taXNzaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOaciemBuuWkseeahOmfs+aqlOWIh+eJh+mcgOimgemHjeWCszonLCBkYXRhLm1pc3NpbmcpXG5cbiAgICAgIC8vIOWvpuS9nOmHjeWCs+apn+WItlxuICAgICAgZGF0YS5taXNzaW5nLmZvckVhY2goc2VxdWVuY2UgPT4ge1xuICAgICAgICBjb25zdCByZXRyeUNvdW50ID0gcmV0cnlDb3VudHNSZWYuY3VycmVudC5nZXQoc2VxdWVuY2UpID8/IDBcblxuICAgICAgICBpZiAocmV0cnlDb3VudCA8IDUpIHsgLy8g5pyA5aSa6YeN5YKzIDUg5qyhXG4gICAgICAgICAgcmV0cnlDb3VudHNSZWYuY3VycmVudC5zZXQoc2VxdWVuY2UsIHJldHJ5Q291bnQgKyAxKVxuXG4gICAgICAgICAgLy8g5bCL5om+5bCN5oeJ55qE6Z+z5qqU5YiH54mH6YCy6KGM6YeN5YKz77yI5aaC5p6c6YKE5a2Y5Zyo77yJXG4gICAgICAgICAgaWYgKGNodW5rc1JlZi5jdXJyZW50W3NlcXVlbmNlXSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYPCflIQg6YeN5YKz6Z+z5qqU5YiH54mHICMke3NlcXVlbmNlfSAo56ysICR7cmV0cnlDb3VudCArIDF9IOasoSlgKVxuICAgICAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50Py51cGxvYWRBdWRpb0NodW5rKGNodW5rc1JlZi5jdXJyZW50W3NlcXVlbmNlXS5ibG9iKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwg6Z+z5qqU5YiH54mHICMke3NlcXVlbmNlfSDph43lgrPmrKHmlbjlt7LpgZTkuIrpmZBgKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g6JmV55CG6Z+z5qqU5YiH54mHXG4gIGNvbnN0IGhhbmRsZUF1ZGlvQ2h1bmsgPSB1c2VDYWxsYmFjaygoY2h1bms6IEF1ZGlvQ2h1bmspID0+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+OtSDmlLbliLDpn7PmqpTliIfniYcgIyR7Y2h1bmsuc2VxdWVuY2V9LCDlpKflsI86ICR7Y2h1bmsuYmxvYi5zaXplfSBieXRlc2ApXG5cbiAgICAvLyDlhLLlrZjliIfniYfkvpvph43lgrPkvb/nlKhcbiAgICBjaHVua3NSZWYuY3VycmVudFtjaHVuay5zZXF1ZW5jZV0gPSBjaHVua1xuXG4gICAgLy8g5aaC5p6cIFdlYlNvY2tldCDlt7LpgKPmjqXvvIznq4vljbPkuIrlgrNcbiAgICBpZiAoYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50Py5pc0Nvbm5lY3RlZCkge1xuICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50LnVwbG9hZEF1ZGlvQ2h1bmsoY2h1bmsuYmxvYilcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIOmWi+Wni+mMhOmfsyAtIOWEquWMlumAo+e3muaZguW6j+WSjOepqeWumuaAp1xuICBjb25zdCBzdGFydFJlY29yZGluZyA9IHVzZUNhbGxiYWNrKGFzeW5jIChzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRFcnJvcihudWxsKVxuICAgICAgc2V0VHJhbnNjcmlwdENvbXBsZXRlZChmYWxzZSlcbiAgICAgIGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCA9IHNlc3Npb25JZFxuXG4gICAgICBjb25zb2xlLmxvZygn8J+OpCBbdXNlUmVjb3JkaW5nXSDplovlp4vpjITpn7PmtYHnqIs6JywgeyBzZXNzaW9uSWQgfSlcblxuICAgICAgLy8g56K65L+d5Zyo54CP6Ka95Zmo55Kw5aKD5Lit5Z+36KGMXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmraTlip/og73lg4XlnKjngI/opr3lmajnkrDlooPkuK3lj6/nlKgnKVxuICAgICAgfVxuXG4gICAgICAvLyDmraXpqZ8gMTog5bu656uL6Z+z5qqU6YyE6KO95Zmo77yIMTIg56eS5YiH54mH77yJXG4gICAgICBjb25zb2xlLmxvZygn8J+OpCBbdXNlUmVjb3JkaW5nXSDmraXpqZ8gMTog5Yid5aeL5YyW6Z+z5qqU6YyE6KO95ZmoJylcbiAgICAgIGNvbnN0IGF1ZGlvUmVjb3JkZXIgPSBuZXcgQXVkaW9SZWNvcmRlcih7XG4gICAgICAgIGNodW5rSW50ZXJ2YWw6IDEyMDAwLCAvLyAxMiDnp5LliIfniYdcbiAgICAgICAgbWltZVR5cGU6ICdhdWRpby93ZWJtO2NvZGVjcz1vcHVzJ1xuICAgICAgfSlcblxuICAgICAgYXVkaW9SZWNvcmRlclJlZi5jdXJyZW50ID0gYXVkaW9SZWNvcmRlclxuICAgICAgY2h1bmtzUmVmLmN1cnJlbnQgPSBbXVxuICAgICAgcmV0cnlDb3VudHNSZWYuY3VycmVudC5jbGVhcigpXG5cbiAgICAgIC8vIOioreWumumfs+aqlOmMhOijveWZqOS6i+S7tlxuICAgICAgYXVkaW9SZWNvcmRlci5vbkNodW5rKGhhbmRsZUF1ZGlvQ2h1bmspXG4gICAgICBhdWRpb1JlY29yZGVyLm9uRXJyb3IoKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQXVkaW9SZWNvcmRlciDpjK/oqqQ6JywgZXJyKVxuICAgICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIOatpempnyAyOiDliJ3lp4vljJbpn7PoqIrmrIrpmZBcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmddIOatpempnyAyOiDliJ3lp4vljJbpn7PoqIrmrIrpmZAnKVxuICAgICAgYXdhaXQgYXVkaW9SZWNvcmRlci5pbml0aWFsaXplKClcblxuICAgICAgLy8g5q2l6amfIDM6IOW7uueriyBXZWJTb2NrZXQg6YCj57ea77yI5Lim6KGM5bu656uL77yM56K65L+d6YO95bCx57eS77yJXG4gICAgICBjb25zb2xlLmxvZygn8J+OpCBbdXNlUmVjb3JkaW5nXSDmraXpqZ8gMzog5bu656uLIFdlYlNvY2tldCDpgKPnt5onKVxuXG4gICAgICAvLyAzYS4g5bu656uL6Z+z5qqU5LiK5YKzIFdlYlNvY2tldFxuICAgICAgY29uc29sZS5sb2coJ/CflIwgW3VzZVJlY29yZGluZ10g5bu656uL6Z+z5qqU5LiK5YKzIFdlYlNvY2tldCcpXG4gICAgICBjb25zdCB1cGxvYWRXcyA9IG5ldyBBdWRpb1VwbG9hZFdlYlNvY2tldChzZXNzaW9uSWQpXG4gICAgICBhd2FpdCB1cGxvYWRXcy5jb25uZWN0KClcblxuICAgICAgLy8g6Kit5a6a6Z+z5qqU5LiK5YKzIFdlYlNvY2tldCDkuovku7bomZXnkIZcbiAgICAgIHVwbG9hZFdzLm9uQWNrTWlzc2luZyhoYW5kbGVBY2tNaXNzaW5nKVxuICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50ID0gdXBsb2FkV3NcblxuICAgICAgLy8gM2IuIOW7uueri+mAkOWtl+eov+aOpeaUtiBXZWJTb2NrZXTvvIjpgI/pgY4gVHJhbnNjcmlwdE1hbmFnZXLvvIlcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SMIFt1c2VSZWNvcmRpbmddIOW7uueri+mAkOWtl+eov+aOpeaUtiBXZWJTb2NrZXQnKVxuICAgICAgYXdhaXQgdHJhbnNjcmlwdE1hbmFnZXIuY29ubmVjdChzZXNzaW9uSWQpXG4gICAgICB0cmFuc2NyaXB0TWFuYWdlci5hZGRMaXN0ZW5lcihzZXNzaW9uSWQsIGhhbmRsZVRyYW5zY3JpcHQpXG5cbiAgICAgIC8vIOatpempnyA0OiDpqZforYnpgKPnt5rni4DmhYtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmddIOatpempnyA0OiDpqZforYnpgKPnt5rni4DmhYsnKVxuICAgICAgaWYgKCF1cGxvYWRXcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+mfs+aqlOS4iuWCsyBXZWJTb2NrZXQg6YCj57ea5aSx5pWXJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0cmFuc2NyaXB0TWFuYWdlci5pc0Nvbm5lY3RlZChzZXNzaW9uSWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcign6YCQ5a2X56i/5o6l5pS2IFdlYlNvY2tldCDpgKPnt5rlpLHmlZcnKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VSZWNvcmRpbmddIOaJgOaciSBXZWJTb2NrZXQg6YCj57ea5bey5bu656uLJylcblxuICAgICAgLy8g5q2l6amfIDU6IOWVn+WLleW/g+i3s+apn+WItlxuICAgICAgY29uc29sZS5sb2coJ/CfjqQgW3VzZVJlY29yZGluZ10g5q2l6amfIDU6IOWVn+WLleW/g+i3s+apn+WIticpXG4gICAgICBzdGFydEhlYXJ0YmVhdCh1cGxvYWRXcylcblxuICAgICAgLy8g5q2l6amfIDY6IOmWi+Wni+mMhOmfs1xuICAgICAgY29uc29sZS5sb2coJ/CfjqQgW3VzZVJlY29yZGluZ10g5q2l6amfIDY6IOmWi+Wni+mMhOmfsycpXG5cbiAgICAgIC8vIOWFiOioree9rumMhOmfs+eLgOaFi++8jOeiuuS/neeLgOaFi+aYoOWwhOato+eiulxuICAgICAgc2V0SXNSZWNvcmRpbmcodHJ1ZSlcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmddIOmMhOmfs+eLgOaFi+W3suioree9rueCuiB0cnVlJylcblxuICAgICAgYXdhaXQgYXVkaW9SZWNvcmRlci5zdGFydFJlY29yZGluZygpXG4gICAgICBzdGFydFRpbWVyKClcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlUmVjb3JkaW5nXSDpjITpn7Pplovlp4vmiJDlip/vvIxTZXNzaW9uIElEOicsIHNlc3Npb25JZClcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfplovlp4vpjITpn7PlpLHmlZcnXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgW3VzZVJlY29yZGluZ10g6ZaL5aeL6YyE6Z+z5aSx5pWXOicsIGVycilcblxuICAgICAgLy8g6Yyv6Kqk5pmC5riF55CG6LOH5rqQXG4gICAgICBpZiAoYXVkaW9SZWNvcmRlclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudC5zdG9wUmVjb3JkaW5nKClcbiAgICAgIH1cbiAgICAgIGlmIChhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICBhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCwgaGFuZGxlVHJhbnNjcmlwdClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtoYW5kbGVBdWRpb0NodW5rLCBoYW5kbGVBY2tNaXNzaW5nLCBoYW5kbGVUcmFuc2NyaXB0LCBzdGFydFRpbWVyLCBzdGFydEhlYXJ0YmVhdF0pXG5cbiAgLy8g5YGc5q2i6YyE6Z+zXG4gIGNvbnN0IHN0b3BSZWNvcmRpbmcgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOWBnOatoumfs+aqlOmMhOijveWZqFxuICAgICAgaWYgKGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudCkge1xuICAgICAgICBhdWRpb1JlY29yZGVyUmVmLmN1cnJlbnQuc3RvcFJlY29yZGluZygpXG4gICAgICB9XG5cbiAgICAgIC8vIOmXnOmWiemfs+aqlOS4iuWCsyBXZWJTb2NrZXRcbiAgICAgIGlmIChhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICBhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIHNldElzUmVjb3JkaW5nKGZhbHNlKVxuICAgICAgY2xlYXJUaW1lcigpXG4gICAgICBjbGVhckhlYXJ0YmVhdCgpXG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUg6YyE6Z+z5YGc5q2i77yM562J5b6F6L2J6YyE5a6M5oiQJylcblxuICAgICAgLy8g5rOo5oSP77ya5LiN5pa36ZaLIFRyYW5zY3JpcHRNYW5hZ2VyIOmAo+aOpe+8jOe5vOe6jOaOpeaUtui9iemMhOe1kOaenFxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5YGc5q2i6YyE6Z+z5aSx5pWXOicsIGVycilcbiAgICAgIHNldEVycm9yKCflgZzmraLpjITpn7PmmYLnmbznlJ/pjK/oqqQnKVxuICAgIH1cbiAgfSwgW2NsZWFyVGltZXIsIGNsZWFySGVhcnRiZWF0XSlcblxuICAvLyDmuIXnqbrpgJDlrZfnqL9cbiAgY29uc3QgY2xlYXJUcmFuc2NyaXB0cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRUcmFuc2NyaXB0cyhbXSlcbiAgICBzZXRUcmFuc2NyaXB0Q29tcGxldGVkKGZhbHNlKVxuICAgIGNvbnNvbGUubG9nKCfwn5SEIOmAkOWtl+eov+W3sua4hemZpCcpXG4gIH0sIFtdKVxuXG4gIC8vIOa4heeQhuizh+a6kFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyDnp7vpmaQgVHJhbnNjcmlwdE1hbmFnZXIg55uj6IG95ZmoXG4gICAgICBpZiAoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCwgaGFuZGxlVHJhbnNjcmlwdClcbiAgICAgIH1cblxuICAgICAgLy8g5riF55CG6KiI5pmC5ZmoXG4gICAgICBjbGVhclRpbWVyKClcbiAgICAgIGNsZWFySGVhcnRiZWF0KClcblxuICAgICAgLy8g6Zec6ZaJ6Z+z5qqU5LiK5YKzIFdlYlNvY2tldFxuICAgICAgaWYgKGF1ZGlvVXBsb2FkV3NSZWYuY3VycmVudCkge1xuICAgICAgICBhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpXG4gICAgICB9XG5cbiAgICAgIC8vIOWBnOatoumMhOmfs+WZqFxuICAgICAgaWYgKGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudCkge1xuICAgICAgICBhdWRpb1JlY29yZGVyUmVmLmN1cnJlbnQuc3RvcFJlY29yZGluZygpXG4gICAgICB9XG4gICAgfVxuICB9LCBbY2xlYXJUaW1lciwgY2xlYXJIZWFydGJlYXQsIGhhbmRsZVRyYW5zY3JpcHRdKVxuXG4gIHJldHVybiB7XG4gICAgaXNSZWNvcmRpbmcsXG4gICAgcmVjb3JkaW5nVGltZSxcbiAgICB0cmFuc2NyaXB0cyxcbiAgICB0cmFuc2NyaXB0Q29tcGxldGVkLFxuICAgIGVycm9yLFxuICAgIHN0YXJ0UmVjb3JkaW5nLFxuICAgIHN0b3BSZWNvcmRpbmcsXG4gICAgY2xlYXJUcmFuc2NyaXB0cyxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJBdWRpb1VwbG9hZFdlYlNvY2tldCIsIkF1ZGlvUmVjb3JkZXIiLCJ0cmFuc2NyaXB0TWFuYWdlciIsInVzZVJlY29yZGluZyIsImlzUmVjb3JkaW5nIiwic2V0SXNSZWNvcmRpbmciLCJyZWNvcmRpbmdUaW1lIiwic2V0UmVjb3JkaW5nVGltZSIsInRyYW5zY3JpcHRzIiwic2V0VHJhbnNjcmlwdHMiLCJ0cmFuc2NyaXB0Q29tcGxldGVkIiwic2V0VHJhbnNjcmlwdENvbXBsZXRlZCIsImVycm9yIiwic2V0RXJyb3IiLCJhdWRpb1VwbG9hZFdzUmVmIiwiYXVkaW9SZWNvcmRlclJlZiIsImN1cnJlbnRTZXNzaW9uSWRSZWYiLCJ0aW1lclJlZiIsImhlYXJ0YmVhdFJlZiIsImNodW5rc1JlZiIsInJldHJ5Q291bnRzUmVmIiwiTWFwIiwiY2xlYXJUaW1lciIsImN1cnJlbnQiLCJjbGVhckludGVydmFsIiwiY2xlYXJIZWFydGJlYXQiLCJzdGFydEhlYXJ0YmVhdCIsInVwbG9hZFdzIiwic2V0SW50ZXJ2YWwiLCJpc0Nvbm5lY3RlZCIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJzdGFydFRpbWVyIiwicHJldiIsImhhbmRsZVRyYW5zY3JpcHQiLCJ0cmFuc2NyaXB0IiwiY29uc29sZSIsImxvZyIsInRleHQiLCJ0ZXh0TGVuZ3RoIiwibGVuZ3RoIiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwic3RhcnRfc2VxdWVuY2UiLCJjb25maWRlbmNlIiwic2Vzc2lvbklkIiwidG9JU09TdHJpbmciLCJtZXNzYWdlIiwiZXhpc3RpbmdDb3VudCIsIm5ld1NlZ21lbnRUZXh0IiwibmV3U2VnbWVudFNlcXVlbmNlIiwibmV3U2VnbWVudFRpbWUiLCJzZXF1ZW5jZSIsImZpbHRlcmVkIiwiZmlsdGVyIiwidCIsImV4aXN0aW5nU2VxdWVuY2UiLCJ1cGRhdGVkIiwic29ydCIsImEiLCJiIiwiYVNlcXVlbmNlIiwiYlNlcXVlbmNlIiwibmV3Q291bnQiLCJjb3VudENoYW5nZSIsImZpbHRlcmVkQ291bnQiLCJpc0R1cGxpY2F0ZSIsImxhc3RTZWdtZW50VGV4dCIsInN1YnN0cmluZyIsImhhbmRsZUFja01pc3NpbmciLCJkYXRhIiwibWlzc2luZyIsIndhcm4iLCJmb3JFYWNoIiwicmV0cnlDb3VudCIsImdldCIsInNldCIsInVwbG9hZEF1ZGlvQ2h1bmsiLCJibG9iIiwiaGFuZGxlQXVkaW9DaHVuayIsImNodW5rIiwic2l6ZSIsInN0YXJ0UmVjb3JkaW5nIiwiRXJyb3IiLCJhdWRpb1JlY29yZGVyIiwiY2h1bmtJbnRlcnZhbCIsIm1pbWVUeXBlIiwiY2xlYXIiLCJvbkNodW5rIiwib25FcnJvciIsImVyciIsImluaXRpYWxpemUiLCJjb25uZWN0Iiwib25BY2tNaXNzaW5nIiwiYWRkTGlzdGVuZXIiLCJlcnJvck1lc3NhZ2UiLCJzdG9wUmVjb3JkaW5nIiwiZGlzY29ubmVjdCIsInJlbW92ZUxpc3RlbmVyIiwiY2xlYXJUcmFuc2NyaXB0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-recording.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-session.ts":
/*!******************************!*\
  !*** ./hooks/use-session.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSession: () => (/* binding */ useSession)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/api */ \"(ssr)/./lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ useSession auto */ \n\n\nfunction useSession() {\n    const [currentSession, setCurrentSession] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const clearError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[clearError]\": ()=>{\n            setError(null);\n        }\n    }[\"useSession.useCallback[clearError]\"], []);\n    const checkActiveSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[checkActiveSession]\": async ()=>{\n            setIsLoading(true);\n            clearError();\n            try {\n                const activeSession = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.getActiveSession();\n                if (activeSession) {\n                    setCurrentSession(activeSession);\n                    console.log('✅ 已恢復活躍會話狀態:', activeSession);\n                    return activeSession;\n                } else {\n                    console.log('ℹ️ 沒有活躍會話，使用預設狀態');\n                    return null;\n                }\n            } catch (err) {\n                // 如果是網路錯誤，且是初始化階段，則靜默處理\n                if (err instanceof Error && err.message.includes('Network Error')) {\n                    console.warn('⚠️ Backend API 連線暫時失敗，將在後續重試:', err.message);\n                    return null // 靜默失敗，不設置錯誤狀態\n                    ;\n                }\n                const errorMessage = err instanceof Error ? err.message : '檢查活躍會話失敗';\n                setError(errorMessage);\n                console.error('❌ 檢查活躍會話失敗:', err);\n                return null;\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[checkActiveSession]\"], [\n        clearError\n    ]);\n    const createNoteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[createNoteSession]\": async (title, content)=>{\n            setIsLoading(true);\n            clearError();\n            try {\n                const sessionData = {\n                    title,\n                    type: 'note_only',\n                    content\n                };\n                const session = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.createSession(sessionData);\n                setCurrentSession(session);\n                console.log('✅ 純筆記會話建立成功:', session);\n                return session;\n            } catch (err) {\n                // 特別處理 409 衝突錯誤\n                if (axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isAxiosError(err) && err.response?.status === 409) {\n                    const conflictMessage = '檢測到活躍會話衝突，請重新整理頁面後再試';\n                    setError(conflictMessage);\n                    console.error('❌ 會話衝突錯誤 (409):', err.response?.data?.detail || err.message);\n                    return null;\n                }\n                const errorMessage = err instanceof Error ? err.message : '建立會話失敗';\n                setError(errorMessage);\n                console.error('❌ 建立純筆記會話失敗:', err);\n                return null;\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[createNoteSession]\"], [\n        clearError\n    ]);\n    const createRecordingSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[createRecordingSession]\": async (title, content)=>{\n            setIsLoading(true);\n            clearError();\n            try {\n                const sessionData = {\n                    title,\n                    type: 'recording',\n                    content\n                };\n                const session = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.createSession(sessionData);\n                setCurrentSession(session);\n                console.log('✅ 錄音會話建立成功:', session);\n                return session;\n            } catch (err) {\n                // 特別處理 409 衝突錯誤\n                if (axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isAxiosError(err) && err.response?.status === 409) {\n                    const conflictMessage = '檢測到活躍會話衝突，請重新整理頁面後再試';\n                    setError(conflictMessage);\n                    console.error('❌ 會話衝突錯誤 (409):', err.response?.data?.detail || err.message);\n                    return null;\n                }\n                const errorMessage = err instanceof Error ? err.message : '建立錄音會話失敗';\n                setError(errorMessage);\n                console.error('❌ 建立錄音會話失敗:', err);\n                return null;\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[createRecordingSession]\"], [\n        clearError\n    ]);\n    const upgradeToRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[upgradeToRecording]\": async ()=>{\n            if (!currentSession) {\n                setError('沒有活躍的會話可以升級');\n                return null;\n            }\n            if (currentSession.type === 'recording') {\n                console.log('🔄 會話已經是錄音模式');\n                return currentSession;\n            }\n            setIsLoading(true);\n            clearError();\n            try {\n                const updatedSession = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.upgradeToRecording(currentSession.id);\n                setCurrentSession(updatedSession);\n                console.log('✅ 會話升級為錄音模式成功:', updatedSession);\n                return updatedSession;\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '升級會話失敗';\n                setError(errorMessage);\n                console.error('❌ 升級會話失敗:', err);\n                return null;\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[upgradeToRecording]\"], [\n        currentSession,\n        clearError\n    ]);\n    const finishSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[finishSession]\": async ()=>{\n            if (!currentSession) {\n                console.log('🔄 沒有活躍的會話需要完成');\n                return;\n            }\n            setIsLoading(true);\n            clearError();\n            try {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.finishSession(currentSession.id);\n                console.log('✅ 會話完成成功:', currentSession.id);\n                // 保持 session 資料，只更新狀態\n                setCurrentSession({\n                    \"useSession.useCallback[finishSession]\": (prev)=>prev ? {\n                            ...prev,\n                            status: 'completed'\n                        } : null\n                }[\"useSession.useCallback[finishSession]\"]);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '完成會話失敗';\n                setError(errorMessage);\n                console.error('❌ 完成會話失敗:', err);\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[finishSession]\"], [\n        currentSession,\n        clearError\n    ]);\n    const deleteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[deleteSession]\": async ()=>{\n            if (!currentSession) {\n                console.log('🔄 沒有活躍的會話需要刪除');\n                return;\n            }\n            setIsLoading(true);\n            clearError();\n            try {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.deleteSession(currentSession.id);\n                console.log('✅ 會話刪除成功:', currentSession.id);\n                setCurrentSession(null);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '刪除會話失敗';\n                setError(errorMessage);\n                console.error('❌ 刪除會話失敗:', err);\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[deleteSession]\"], [\n        currentSession,\n        clearError\n    ]);\n    const clearSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[clearSession]\": ()=>{\n            setCurrentSession(null);\n            setError(null);\n            console.log('🔄 會話已清除');\n        }\n    }[\"useSession.useCallback[clearSession]\"], []);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useSession.useMemo\": ()=>({\n                currentSession,\n                isLoading,\n                error,\n                createNoteSession,\n                createRecordingSession,\n                upgradeToRecording,\n                finishSession,\n                deleteSession,\n                clearSession,\n                checkActiveSession\n            })\n    }[\"useSession.useMemo\"], [\n        currentSession,\n        isLoading,\n        error,\n        createNoteSession,\n        createRecordingSession,\n        upgradeToRecording,\n        finishSession,\n        deleteSession,\n        clearSession,\n        checkActiveSession\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2Utc2Vzc2lvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztnRUFFc0Q7QUFDN0I7QUFDK0Q7QUFlakYsU0FBU0s7SUFDWixNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUdQLCtDQUFRQSxDQUF5QjtJQUM3RSxNQUFNLENBQUNRLFdBQVdDLGFBQWEsR0FBR1QsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDVSxPQUFPQyxTQUFTLEdBQUdYLCtDQUFRQSxDQUFnQjtJQUVsRCxNQUFNWSxhQUFhWCxrREFBV0E7OENBQUM7WUFDM0JVLFNBQVM7UUFDYjs2Q0FBRyxFQUFFO0lBRUwsTUFBTUUscUJBQXFCWixrREFBV0E7c0RBQUM7WUFDbkNRLGFBQWE7WUFDYkc7WUFFQSxJQUFJO2dCQUNBLE1BQU1FLGdCQUFnQixNQUFNVixnREFBVUEsQ0FBQ1csZ0JBQWdCO2dCQUN2RCxJQUFJRCxlQUFlO29CQUNmUCxrQkFBa0JPO29CQUNsQkUsUUFBUUMsR0FBRyxDQUFDLGdCQUFnQkg7b0JBQzVCLE9BQU9BO2dCQUNYLE9BQU87b0JBQ0hFLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixPQUFPO2dCQUNYO1lBQ0osRUFBRSxPQUFPQyxLQUFLO2dCQUNWLHdCQUF3QjtnQkFDeEIsSUFBSUEsZUFBZUMsU0FBU0QsSUFBSUUsT0FBTyxDQUFDQyxRQUFRLENBQUMsa0JBQWtCO29CQUMvREwsUUFBUU0sSUFBSSxDQUFDLGlDQUFpQ0osSUFBSUUsT0FBTztvQkFDekQsT0FBTyxLQUFLLGVBQWU7O2dCQUMvQjtnQkFFQSxNQUFNRyxlQUFlTCxlQUFlQyxRQUFRRCxJQUFJRSxPQUFPLEdBQUc7Z0JBQzFEVCxTQUFTWTtnQkFDVFAsUUFBUU4sS0FBSyxDQUFDLGVBQWVRO2dCQUM3QixPQUFPO1lBQ1gsU0FBVTtnQkFDTlQsYUFBYTtZQUNqQjtRQUNKO3FEQUFHO1FBQUNHO0tBQVc7SUFDZixNQUFNWSxvQkFBb0J2QixrREFBV0E7cURBQUMsT0FBT3dCLE9BQWVDO1lBQ3hEakIsYUFBYTtZQUNiRztZQUVBLElBQUk7Z0JBQ0EsTUFBTWUsY0FBb0M7b0JBQ3RDRjtvQkFDQUcsTUFBTTtvQkFDTkY7Z0JBQ0o7Z0JBRUEsTUFBTUcsVUFBVSxNQUFNekIsZ0RBQVVBLENBQUMwQixhQUFhLENBQUNIO2dCQUMvQ3BCLGtCQUFrQnNCO2dCQUNsQmIsUUFBUUMsR0FBRyxDQUFDLGdCQUFnQlk7Z0JBQzVCLE9BQU9BO1lBQ1gsRUFBRSxPQUFPWCxLQUFLO2dCQUNWLGdCQUFnQjtnQkFDaEIsSUFBSWYsNkNBQUtBLENBQUM0QixZQUFZLENBQUNiLFFBQVFBLElBQUljLFFBQVEsRUFBRUMsV0FBVyxLQUFLO29CQUN6RCxNQUFNQyxrQkFBa0I7b0JBQ3hCdkIsU0FBU3VCO29CQUNUbEIsUUFBUU4sS0FBSyxDQUFDLG1CQUFtQlEsSUFBSWMsUUFBUSxFQUFFRyxNQUFNQyxVQUFVbEIsSUFBSUUsT0FBTztvQkFDMUUsT0FBTztnQkFDWDtnQkFFQSxNQUFNRyxlQUFlTCxlQUFlQyxRQUFRRCxJQUFJRSxPQUFPLEdBQUc7Z0JBQzFEVCxTQUFTWTtnQkFDVFAsUUFBUU4sS0FBSyxDQUFDLGdCQUFnQlE7Z0JBQzlCLE9BQU87WUFDWCxTQUFVO2dCQUNOVCxhQUFhO1lBQ2pCO1FBQ0o7b0RBQUc7UUFBQ0c7S0FBVztJQUVmLE1BQU15Qix5QkFBeUJwQyxrREFBV0E7MERBQUMsT0FBT3dCLE9BQWVDO1lBQzdEakIsYUFBYTtZQUNiRztZQUVBLElBQUk7Z0JBQ0EsTUFBTWUsY0FBb0M7b0JBQ3RDRjtvQkFDQUcsTUFBTTtvQkFDTkY7Z0JBQ0o7Z0JBRUEsTUFBTUcsVUFBVSxNQUFNekIsZ0RBQVVBLENBQUMwQixhQUFhLENBQUNIO2dCQUMvQ3BCLGtCQUFrQnNCO2dCQUNsQmIsUUFBUUMsR0FBRyxDQUFDLGVBQWVZO2dCQUMzQixPQUFPQTtZQUNYLEVBQUUsT0FBT1gsS0FBSztnQkFDVixnQkFBZ0I7Z0JBQ2hCLElBQUlmLDZDQUFLQSxDQUFDNEIsWUFBWSxDQUFDYixRQUFRQSxJQUFJYyxRQUFRLEVBQUVDLFdBQVcsS0FBSztvQkFDekQsTUFBTUMsa0JBQWtCO29CQUN4QnZCLFNBQVN1QjtvQkFDVGxCLFFBQVFOLEtBQUssQ0FBQyxtQkFBbUJRLElBQUljLFFBQVEsRUFBRUcsTUFBTUMsVUFBVWxCLElBQUlFLE9BQU87b0JBQzFFLE9BQU87Z0JBQ1g7Z0JBRUEsTUFBTUcsZUFBZUwsZUFBZUMsUUFBUUQsSUFBSUUsT0FBTyxHQUFHO2dCQUMxRFQsU0FBU1k7Z0JBQ1RQLFFBQVFOLEtBQUssQ0FBQyxlQUFlUTtnQkFDN0IsT0FBTztZQUNYLFNBQVU7Z0JBQ05ULGFBQWE7WUFDakI7UUFDSjt5REFBRztRQUFDRztLQUFXO0lBRWYsTUFBTTBCLHFCQUFxQnJDLGtEQUFXQTtzREFBQztZQUNuQyxJQUFJLENBQUNLLGdCQUFnQjtnQkFDakJLLFNBQVM7Z0JBQ1QsT0FBTztZQUNYO1lBRUEsSUFBSUwsZUFBZXNCLElBQUksS0FBSyxhQUFhO2dCQUNyQ1osUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE9BQU9YO1lBQ1g7WUFFQUcsYUFBYTtZQUNiRztZQUVBLElBQUk7Z0JBQ0EsTUFBTTJCLGlCQUFpQixNQUFNbkMsZ0RBQVVBLENBQUNrQyxrQkFBa0IsQ0FBQ2hDLGVBQWVrQyxFQUFFO2dCQUM1RWpDLGtCQUFrQmdDO2dCQUNsQnZCLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0JzQjtnQkFDOUIsT0FBT0E7WUFDWCxFQUFFLE9BQU9yQixLQUFLO2dCQUNWLE1BQU1LLGVBQWVMLGVBQWVDLFFBQVFELElBQUlFLE9BQU8sR0FBRztnQkFDMURULFNBQVNZO2dCQUNUUCxRQUFRTixLQUFLLENBQUMsYUFBYVE7Z0JBQzNCLE9BQU87WUFDWCxTQUFVO2dCQUNOVCxhQUFhO1lBQ2pCO1FBQ0o7cURBQUc7UUFBQ0g7UUFBZ0JNO0tBQVc7SUFFL0IsTUFBTTZCLGdCQUFnQnhDLGtEQUFXQTtpREFBQztZQUM5QixJQUFJLENBQUNLLGdCQUFnQjtnQkFDakJVLFFBQVFDLEdBQUcsQ0FBQztnQkFDWjtZQUNKO1lBRUFSLGFBQWE7WUFDYkc7WUFFQSxJQUFJO2dCQUNBLE1BQU1SLGdEQUFVQSxDQUFDcUMsYUFBYSxDQUFDbkMsZUFBZWtDLEVBQUU7Z0JBQ2hEeEIsUUFBUUMsR0FBRyxDQUFDLGFBQWFYLGVBQWVrQyxFQUFFO2dCQUMxQyxzQkFBc0I7Z0JBQ3RCakM7NkRBQWtCLENBQUNtQyxPQUFpQ0EsT0FBTzs0QkFBRSxHQUFHQSxJQUFJOzRCQUFFVCxRQUFRO3dCQUFZLElBQUk7O1lBQ2xHLEVBQUUsT0FBT2YsS0FBSztnQkFDVixNQUFNSyxlQUFlTCxlQUFlQyxRQUFRRCxJQUFJRSxPQUFPLEdBQUc7Z0JBQzFEVCxTQUFTWTtnQkFDVFAsUUFBUU4sS0FBSyxDQUFDLGFBQWFRO1lBQy9CLFNBQVU7Z0JBQ05ULGFBQWE7WUFDakI7UUFDSjtnREFBRztRQUFDSDtRQUFnQk07S0FBVztJQUUvQixNQUFNK0IsZ0JBQWdCMUMsa0RBQVdBO2lEQUFDO1lBQzlCLElBQUksQ0FBQ0ssZ0JBQWdCO2dCQUNqQlUsUUFBUUMsR0FBRyxDQUFDO2dCQUNaO1lBQ0o7WUFFQVIsYUFBYTtZQUNiRztZQUVBLElBQUk7Z0JBQ0EsTUFBTVIsZ0RBQVVBLENBQUN1QyxhQUFhLENBQUNyQyxlQUFla0MsRUFBRTtnQkFDaER4QixRQUFRQyxHQUFHLENBQUMsYUFBYVgsZUFBZWtDLEVBQUU7Z0JBQzFDakMsa0JBQWtCO1lBQ3RCLEVBQUUsT0FBT1csS0FBSztnQkFDVixNQUFNSyxlQUFlTCxlQUFlQyxRQUFRRCxJQUFJRSxPQUFPLEdBQUc7Z0JBQzFEVCxTQUFTWTtnQkFDVFAsUUFBUU4sS0FBSyxDQUFDLGFBQWFRO1lBQy9CLFNBQVU7Z0JBQ05ULGFBQWE7WUFDakI7UUFDSjtnREFBRztRQUFDSDtRQUFnQk07S0FBVztJQUUvQixNQUFNZ0MsZUFBZTNDLGtEQUFXQTtnREFBQztZQUM3Qk0sa0JBQWtCO1lBQ2xCSSxTQUFTO1lBQ1RLLFFBQVFDLEdBQUcsQ0FBQztRQUNoQjsrQ0FBRyxFQUFFO0lBRUwsT0FBT2YsOENBQU9BOzhCQUFDLElBQU87Z0JBQ2xCSTtnQkFDQUU7Z0JBQ0FFO2dCQUNBYztnQkFDQWE7Z0JBQ0FDO2dCQUNBRztnQkFDQUU7Z0JBQ0FDO2dCQUNBL0I7WUFDSjs2QkFBSTtRQUNBUDtRQUNBRTtRQUNBRTtRQUNBYztRQUNBYTtRQUNBQztRQUNBRztRQUNBRTtRQUNBQztRQUNBL0I7S0FDSDtBQUNMIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ob29rcy91c2Utc2Vzc2lvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCB7IHNlc3Npb25BUEksIHR5cGUgU2Vzc2lvbkNyZWF0ZVJlcXVlc3QsIHR5cGUgU2Vzc2lvblJlc3BvbnNlIH0gZnJvbSAnLi4vbGliL2FwaSdcblxuaW50ZXJmYWNlIFVzZVNlc3Npb25SZXR1cm4ge1xuICAgIGN1cnJlbnRTZXNzaW9uOiBTZXNzaW9uUmVzcG9uc2UgfCBudWxsXG4gICAgaXNMb2FkaW5nOiBib29sZWFuXG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGxcbiAgICBjcmVhdGVOb3RlU2Vzc2lvbjogKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpID0+IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD5cbiAgICBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uOiAodGl0bGU6IHN0cmluZywgY29udGVudD86IHN0cmluZykgPT4gUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPlxuICAgIHVwZ3JhZGVUb1JlY29yZGluZzogKCkgPT4gUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPlxuICAgIGZpbmlzaFNlc3Npb246ICgpID0+IFByb21pc2U8dm9pZD5cbiAgICBkZWxldGVTZXNzaW9uOiAoKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgY2xlYXJTZXNzaW9uOiAoKSA9PiB2b2lkXG4gICAgY2hlY2tBY3RpdmVTZXNzaW9uOiAoKSA9PiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTZXNzaW9uKCk6IFVzZVNlc3Npb25SZXR1cm4ge1xuICAgIGNvbnN0IFtjdXJyZW50U2Vzc2lvbiwgc2V0Q3VycmVudFNlc3Npb25dID0gdXNlU3RhdGU8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gICAgY29uc3QgY2xlYXJFcnJvciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0RXJyb3IobnVsbClcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IGNoZWNrQWN0aXZlU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+ID0+IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICAgIGNsZWFyRXJyb3IoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbkFQSS5nZXRBY3RpdmVTZXNzaW9uKClcbiAgICAgICAgICAgIGlmIChhY3RpdmVTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFNlc3Npb24oYWN0aXZlU2Vzc2lvbilcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOW3suaBouW+qea0u+i6jeacg+ipseeLgOaFizonLCBhY3RpdmVTZXNzaW9uKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTZXNzaW9uXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8g5rKS5pyJ5rS76LqN5pyD6Kmx77yM5L2/55So6aCQ6Kit54uA5oWLJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIOWmguaenOaYr+e2sui3r+mMr+iqpO+8jOS4lOaYr+WIneWni+WMlumajuaute+8jOWJh+mdnOm7mOiZleeQhlxuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrIEVycm9yJykpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCYWNrZW5kIEFQSSDpgKPnt5rmmqvmmYLlpLHmlZfvvIzlsIflnKjlvoznuozph43oqaY6JywgZXJyLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgLy8g6Z2c6buY5aSx5pWX77yM5LiN6Kit572u6Yyv6Kqk54uA5oWLXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5qqi5p+l5rS76LqN5pyD6Kmx5aSx5pWXJ1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOaqouafpea0u+i6jeacg+ipseWkseaVlzonLCBlcnIpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgfSwgW2NsZWFyRXJyb3JdKVxuICAgIGNvbnN0IGNyZWF0ZU5vdGVTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+ID0+IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICAgIGNsZWFyRXJyb3IoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YTogU2Vzc2lvbkNyZWF0ZVJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ25vdGVfb25seScsXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHNlc3Npb25BUEkuY3JlYXRlU2Vzc2lvbihzZXNzaW9uRGF0YSlcbiAgICAgICAgICAgIHNldEN1cnJlbnRTZXNzaW9uKHNlc3Npb24pXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOe0lOethuiomOacg+ipseW7uueri+aIkOWKnzonLCBzZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyDnibnliKXomZXnkIYgNDA5IOihneeqgemMr+iqpFxuICAgICAgICAgICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnIpICYmIGVyci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25mbGljdE1lc3NhZ2UgPSAn5qqi5ris5Yiw5rS76LqN5pyD6Kmx6KGd56qB77yM6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6KmmJ1xuICAgICAgICAgICAgICAgIHNldEVycm9yKGNvbmZsaWN0TWVzc2FnZSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5pyD6Kmx6KGd56qB6Yyv6KqkICg0MDkpOicsIGVyci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8IGVyci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5bu656uL5pyD6Kmx5aSx5pWXJ1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOW7uueri+e0lOethuiomOacg+ipseWkseaVlzonLCBlcnIpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgfSwgW2NsZWFyRXJyb3JdKVxuXG4gICAgY29uc3QgY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICh0aXRsZTogc3RyaW5nLCBjb250ZW50Pzogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPiA9PiB7XG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKVxuICAgICAgICBjbGVhckVycm9yKClcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGE6IFNlc3Npb25DcmVhdGVSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdyZWNvcmRpbmcnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBzZXNzaW9uQVBJLmNyZWF0ZVNlc3Npb24oc2Vzc2lvbkRhdGEpXG4gICAgICAgICAgICBzZXRDdXJyZW50U2Vzc2lvbihzZXNzaW9uKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDpjITpn7PmnIPoqbHlu7rnq4vmiJDlip86Jywgc2Vzc2lvbilcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8g54m55Yil6JmV55CGIDQwOSDooZ3nqoHpjK/oqqRcbiAgICAgICAgICAgIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyKSAmJiBlcnIucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmxpY3RNZXNzYWdlID0gJ+aqoua4rOWIsOa0u+i6jeacg+ipseihneeqge+8jOiri+mHjeaWsOaVtOeQhumggemdouW+jOWGjeippidcbiAgICAgICAgICAgICAgICBzZXRFcnJvcihjb25mbGljdE1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOacg+ipseihneeqgemMr+iqpCAoNDA5KTonLCBlcnIucmVzcG9uc2U/LmRhdGE/LmRldGFpbCB8fCBlcnIubWVzc2FnZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+W7uueri+mMhOmfs+acg+ipseWkseaVlydcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDlu7rnq4vpjITpn7PmnIPoqbHlpLHmlZc6JywgZXJyKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckVycm9yXSlcblxuICAgIGNvbnN0IHVwZ3JhZGVUb1JlY29yZGluZyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+ID0+IHtcbiAgICAgICAgaWYgKCFjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICAgICAgc2V0RXJyb3IoJ+aykuaciea0u+i6jeeahOacg+ipseWPr+S7peWNh+e0micpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uLnR5cGUgPT09ICdyZWNvcmRpbmcnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDmnIPoqbHlt7LntpPmmK/pjITpn7PmqKHlvI8nKVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZXNzaW9uXG4gICAgICAgIH1cblxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICAgICAgY2xlYXJFcnJvcigpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbkFQSS51cGdyYWRlVG9SZWNvcmRpbmcoY3VycmVudFNlc3Npb24uaWQpXG4gICAgICAgICAgICBzZXRDdXJyZW50U2Vzc2lvbih1cGRhdGVkU2Vzc2lvbilcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg5pyD6Kmx5Y2H57Sa54K66YyE6Z+z5qih5byP5oiQ5YqfOicsIHVwZGF0ZWRTZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRTZXNzaW9uXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfljYfntJrmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5Y2H57Sa5pyD6Kmx5aSx5pWXOicsIGVycilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICB9LCBbY3VycmVudFNlc3Npb24sIGNsZWFyRXJyb3JdKVxuXG4gICAgY29uc3QgZmluaXNoU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgaWYgKCFjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg5rKS5pyJ5rS76LqN55qE5pyD6Kmx6ZyA6KaB5a6M5oiQJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICAgIGNsZWFyRXJyb3IoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBzZXNzaW9uQVBJLmZpbmlzaFNlc3Npb24oY3VycmVudFNlc3Npb24uaWQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOacg+ipseWujOaIkOaIkOWKnzonLCBjdXJyZW50U2Vzc2lvbi5pZClcbiAgICAgICAgICAgIC8vIOS/neaMgSBzZXNzaW9uIOizh+aWme+8jOWPquabtOaWsOeLgOaFi1xuICAgICAgICAgICAgc2V0Q3VycmVudFNlc3Npb24oKHByZXY6IFNlc3Npb25SZXNwb25zZSB8IG51bGwpID0+IHByZXYgPyB7IC4uLnByZXYsIHN0YXR1czogJ2NvbXBsZXRlZCcgfSA6IG51bGwpXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICflrozmiJDmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5a6M5oiQ5pyD6Kmx5aSx5pWXOicsIGVycilcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50U2Vzc2lvbiwgY2xlYXJFcnJvcl0pXG5cbiAgICBjb25zdCBkZWxldGVTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDmspLmnInmtLvouo3nmoTmnIPoqbHpnIDopoHliKrpmaQnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICAgICAgY2xlYXJFcnJvcigpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHNlc3Npb25BUEkuZGVsZXRlU2Vzc2lvbihjdXJyZW50U2Vzc2lvbi5pZClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg5pyD6Kmx5Yiq6Zmk5oiQ5YqfOicsIGN1cnJlbnRTZXNzaW9uLmlkKVxuICAgICAgICAgICAgc2V0Q3VycmVudFNlc3Npb24obnVsbClcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+WIqumZpOacg+ipseWkseaVlydcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDliKrpmaTmnIPoqbHlpLHmlZc6JywgZXJyKVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRTZXNzaW9uLCBjbGVhckVycm9yXSlcblxuICAgIGNvbnN0IGNsZWFyU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0Q3VycmVudFNlc3Npb24obnVsbClcbiAgICAgICAgc2V0RXJyb3IobnVsbClcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQg5pyD6Kmx5bey5riF6ZmkJylcbiAgICB9LCBbXSlcblxuICAgIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGN1cnJlbnRTZXNzaW9uLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBjcmVhdGVOb3RlU2Vzc2lvbixcbiAgICAgICAgY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbixcbiAgICAgICAgdXBncmFkZVRvUmVjb3JkaW5nLFxuICAgICAgICBmaW5pc2hTZXNzaW9uLFxuICAgICAgICBkZWxldGVTZXNzaW9uLFxuICAgICAgICBjbGVhclNlc3Npb24sXG4gICAgICAgIGNoZWNrQWN0aXZlU2Vzc2lvbixcbiAgICB9KSwgW1xuICAgICAgICBjdXJyZW50U2Vzc2lvbixcbiAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgY3JlYXRlTm90ZVNlc3Npb24sXG4gICAgICAgIGNyZWF0ZVJlY29yZGluZ1Nlc3Npb24sXG4gICAgICAgIHVwZ3JhZGVUb1JlY29yZGluZyxcbiAgICAgICAgZmluaXNoU2Vzc2lvbixcbiAgICAgICAgZGVsZXRlU2Vzc2lvbixcbiAgICAgICAgY2xlYXJTZXNzaW9uLFxuICAgICAgICBjaGVja0FjdGl2ZVNlc3Npb24sXG4gICAgXSlcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsImF4aW9zIiwic2Vzc2lvbkFQSSIsInVzZVNlc3Npb24iLCJjdXJyZW50U2Vzc2lvbiIsInNldEN1cnJlbnRTZXNzaW9uIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImNsZWFyRXJyb3IiLCJjaGVja0FjdGl2ZVNlc3Npb24iLCJhY3RpdmVTZXNzaW9uIiwiZ2V0QWN0aXZlU2Vzc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJFcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsIndhcm4iLCJlcnJvck1lc3NhZ2UiLCJjcmVhdGVOb3RlU2Vzc2lvbiIsInRpdGxlIiwiY29udGVudCIsInNlc3Npb25EYXRhIiwidHlwZSIsInNlc3Npb24iLCJjcmVhdGVTZXNzaW9uIiwiaXNBeGlvc0Vycm9yIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjb25mbGljdE1lc3NhZ2UiLCJkYXRhIiwiZGV0YWlsIiwiY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbiIsInVwZ3JhZGVUb1JlY29yZGluZyIsInVwZGF0ZWRTZXNzaW9uIiwiaWQiLCJmaW5pc2hTZXNzaW9uIiwicHJldiIsImRlbGV0ZVNlc3Npb24iLCJjbGVhclNlc3Npb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-session.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-transcript.ts":
/*!*********************************!*\
  !*** ./hooks/use-transcript.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTranscript: () => (/* binding */ useTranscript)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/transcript-manager */ \"(ssr)/./lib/transcript-manager.ts\");\n/* __next_internal_client_entry_do_not_use__ useTranscript auto */ \n\nfunction useTranscript() {\n    const [transcripts, setTranscripts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isCompleted, setIsCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [autoScrollEnabled, setAutoScrollEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentSessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 處理逐字稿接收與合併邏輯\n    const handleTranscript = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[handleTranscript]\": (transcript)=>{\n            console.log('📝 [useTranscript] 收到逐字稿訊息:', {\n                type: transcript.type,\n                text: transcript.text,\n                textLength: transcript.text?.length || 0,\n                start_time: transcript.start_time,\n                end_time: transcript.end_time,\n                confidence: transcript.confidence,\n                sessionId: currentSessionIdRef.current,\n                currentTranscriptCount: transcripts.length,\n                timestamp: new Date().toISOString()\n            });\n            // 處理轉錄完成通知\n            if (transcript.type === 'transcript_complete' || transcript.message === 'transcription_complete') {\n                console.log('✅ [useTranscript] 逐字稿轉錄完成，設定 isCompleted=true');\n                setIsCompleted(true);\n                return;\n            }\n            // 處理轉錄錯誤 (需要類型轉換因為 TranscriptMessage 不包含錯誤類型)\n            const anyMessage = transcript;\n            if (anyMessage.type === 'error' || anyMessage.type === 'transcription_error') {\n                console.error('🚨 [useTranscript] 收到轉錄錯誤:', transcript);\n                const errorMessage = anyMessage.error_message || anyMessage.details || '轉錄過程中發生錯誤';\n                setError(errorMessage);\n                return;\n            }\n            // 只處理逐字稿片段類型的訊息\n            if (transcript.type !== 'transcript_segment') {\n                console.log('⚠️ [useTranscript] 跳過非逐字稿片段訊息:', transcript.type);\n                return;\n            }\n            if (!transcript.text) {\n                console.log('⚠️ [useTranscript] 跳過空文字逐字稿');\n                return;\n            }\n            console.log('🔄 [useTranscript] 開始處理逐字稿片段...');\n            setTranscripts({\n                \"useTranscript.useCallback[handleTranscript]\": (prev)=>{\n                    console.log('📊 [useTranscript] 合併前狀態:', {\n                        existingCount: prev.length,\n                        newSegmentText: transcript.text,\n                        newSegmentTime: transcript.start_time\n                    });\n                    const newTranscripts = mergeSegments(prev, transcript);\n                    console.log('📊 [useTranscript] 合併後狀態:', {\n                        newCount: newTranscripts.length,\n                        countChange: newTranscripts.length - prev.length,\n                        lastSegmentText: newTranscripts[newTranscripts.length - 1]?.text?.substring(0, 50) + '...'\n                    });\n                    console.log(`✅ [useTranscript] 逐字稿更新完成: ${prev.length} → ${newTranscripts.length} 個片段`);\n                    return newTranscripts;\n                }\n            }[\"useTranscript.useCallback[handleTranscript]\"]);\n        }\n    }[\"useTranscript.useCallback[handleTranscript]\"], [\n        transcripts.length\n    ]);\n    // 逐字稿片段合併邏輯 - 相鄰 ≤1 s 合併段落\n    const mergeSegments = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[mergeSegments]\": (existingSegments, newSegment)=>{\n            if (!newSegment.start_time) {\n                // 如果沒有時間戳，直接添加到末尾\n                return [\n                    ...existingSegments,\n                    newSegment\n                ];\n            }\n            const mergeThreshold = 1.0 // 1秒內的片段可以合併\n            ;\n            // 尋找可以合併的相鄰片段\n            const lastSegmentIndex = existingSegments.length - 1;\n            const lastSegment = existingSegments[lastSegmentIndex];\n            if (lastSegment && lastSegment.end_time && Math.abs(newSegment.start_time - lastSegment.end_time) <= mergeThreshold) {\n                // 合併片段\n                const mergedSegment = {\n                    ...lastSegment,\n                    text: (lastSegment.text || '') + ' ' + (newSegment.text || ''),\n                    end_time: newSegment.end_time || lastSegment.end_time,\n                    end_sequence: newSegment.end_sequence || lastSegment.end_sequence\n                };\n                return [\n                    ...existingSegments.slice(0, lastSegmentIndex),\n                    mergedSegment\n                ];\n            } else {\n                // 不需要合併，直接添加\n                return [\n                    ...existingSegments,\n                    newSegment\n                ];\n            }\n        }\n    }[\"useTranscript.useCallback[mergeSegments]\"], []);\n    // 自動捲動功能\n    const scrollToLatest = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[scrollToLatest]\": ()=>{\n            if (containerRef.current && autoScrollEnabled) {\n                containerRef.current.scrollTop = containerRef.current.scrollHeight;\n            }\n        }\n    }[\"useTranscript.useCallback[scrollToLatest]\"], [\n        autoScrollEnabled\n    ]);\n    // 檢測使用者滾動 - 離底部 >60px 時禁用自動捲動\n    const handleScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[handleScroll]\": (event)=>{\n            const container = event.target;\n            if (!container) return;\n            const { scrollTop, scrollHeight, clientHeight } = container;\n            const distanceFromBottom = scrollHeight - scrollTop - clientHeight;\n            if (distanceFromBottom > 60) {\n                setAutoScrollEnabled(false);\n            } else if (distanceFromBottom <= 10) {\n                setAutoScrollEnabled(true);\n            }\n        }\n    }[\"useTranscript.useCallback[handleScroll]\"], []);\n    // 設定自動捲動容器\n    const setScrollContainer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[setScrollContainer]\": (element)=>{\n            if (containerRef.current) {\n                containerRef.current.removeEventListener('scroll', handleScroll);\n            }\n            containerRef.current = element;\n            if (element) {\n                element.addEventListener('scroll', handleScroll);\n            }\n        }\n    }[\"useTranscript.useCallback[setScrollContainer]\"], [\n        handleScroll\n    ]);\n    // 啟用自動捲動\n    const enableAutoScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[enableAutoScroll]\": ()=>{\n            setAutoScrollEnabled(true);\n            scrollToLatest();\n        }\n    }[\"useTranscript.useCallback[enableAutoScroll]\"], [\n        scrollToLatest\n    ]);\n    // 禁用自動捲動\n    const disableAutoScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[disableAutoScroll]\": ()=>{\n            setAutoScrollEnabled(false);\n        }\n    }[\"useTranscript.useCallback[disableAutoScroll]\"], []);\n    // 連接 TranscriptManager\n    const connect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[connect]\": async (sessionId)=>{\n            try {\n                setError(null);\n                setIsCompleted(false);\n                // 移除舊的監聽器\n                if (currentSessionIdRef.current) {\n                    _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                }\n                // 連接到新的 session\n                await _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.connect(sessionId);\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.addListener(sessionId, handleTranscript);\n                currentSessionIdRef.current = sessionId;\n                setIsConnected(_lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.isConnected(sessionId));\n                console.log('✅ use-transcript 連接成功，Session ID:', sessionId);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '連接逐字稿服務失敗';\n                setError(errorMessage);\n                setIsConnected(false);\n                console.error('❌ use-transcript 連接失敗:', err);\n            }\n        }\n    }[\"useTranscript.useCallback[connect]\"], [\n        handleTranscript\n    ]);\n    // 斷開連接\n    const disconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[disconnect]\": ()=>{\n            if (currentSessionIdRef.current) {\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                // 注意：不呼叫 transcriptManager.disconnect，因為其他組件可能還在使用\n                currentSessionIdRef.current = null;\n            }\n            setIsConnected(false);\n            console.log('🔌 use-transcript 斷開連接');\n        }\n    }[\"useTranscript.useCallback[disconnect]\"], [\n        handleTranscript\n    ]);\n    // 清空逐字稿\n    const clearTranscripts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[clearTranscripts]\": ()=>{\n            setTranscripts([]);\n            setIsCompleted(false);\n            console.log('🔄 use-transcript 逐字稿已清除');\n        }\n    }[\"useTranscript.useCallback[clearTranscripts]\"], []);\n    // 自動捲動效果\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTranscript.useEffect\": ()=>{\n            if (transcripts.length > 0) {\n                scrollToLatest();\n            }\n        }\n    }[\"useTranscript.useEffect\"], [\n        transcripts,\n        scrollToLatest\n    ]);\n    // 清理資源\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTranscript.useEffect\": ()=>{\n            return ({\n                \"useTranscript.useEffect\": ()=>{\n                    if (currentSessionIdRef.current) {\n                        _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                    }\n                    if (containerRef.current) {\n                        containerRef.current.removeEventListener('scroll', handleScroll);\n                    }\n                }\n            })[\"useTranscript.useEffect\"];\n        }\n    }[\"useTranscript.useEffect\"], [\n        handleTranscript,\n        handleScroll\n    ]);\n    return {\n        transcripts,\n        isConnected,\n        isCompleted,\n        error,\n        connect,\n        disconnect,\n        clearTranscripts,\n        autoScrollEnabled,\n        enableAutoScroll,\n        disableAutoScroll,\n        scrollToLatest,\n        setScrollContainer\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixhQUFhYyxPQUFPLEVBQUU7d0JBQ3RCZCxhQUFhYyxPQUFPLENBQUN5QyxtQkFBbUIsQ0FBQyxVQUFVUjtvQkFDdkQ7Z0JBQ0o7O1FBQ0o7a0NBQUc7UUFBQzdDO1FBQWtCNkM7S0FBYTtJQUVuQyxPQUFPO1FBQ0h6RDtRQUNBRTtRQUNBRTtRQUNBRTtRQUNBK0Q7UUFDQUs7UUFDQUM7UUFDQW5FO1FBQ0EyRDtRQUNBQztRQUNBZDtRQUNBUztJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS10cmFuc2NyaXB0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHRyYW5zY3JpcHRNYW5hZ2VyLCBUcmFuc2NyaXB0TWVzc2FnZSB9IGZyb20gJy4uL2xpYi90cmFuc2NyaXB0LW1hbmFnZXInXG5cbmludGVyZmFjZSBVc2VUcmFuc2NyaXB0UmV0dXJuIHtcbiAgICB0cmFuc2NyaXB0czogVHJhbnNjcmlwdE1lc3NhZ2VbXVxuICAgIGlzQ29ubmVjdGVkOiBib29sZWFuXG4gICAgaXNDb21wbGV0ZWQ6IGJvb2xlYW5cbiAgICBlcnJvcjogc3RyaW5nIHwgbnVsbFxuICAgIGNvbm5lY3Q6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGRpc2Nvbm5lY3Q6ICgpID0+IHZvaWRcbiAgICBjbGVhclRyYW5zY3JpcHRzOiAoKSA9PiB2b2lkXG4gICAgLy8g6Ieq5YuV5o2y5YuV5Yqf6IO9XG4gICAgYXV0b1Njcm9sbEVuYWJsZWQ6IGJvb2xlYW5cbiAgICBlbmFibGVBdXRvU2Nyb2xsOiAoKSA9PiB2b2lkXG4gICAgZGlzYWJsZUF1dG9TY3JvbGw6ICgpID0+IHZvaWRcbiAgICBzY3JvbGxUb0xhdGVzdDogKCkgPT4gdm9pZFxuICAgIHNldFNjcm9sbENvbnRhaW5lcjogKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCkgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVHJhbnNjcmlwdCgpOiBVc2VUcmFuc2NyaXB0UmV0dXJuIHtcbiAgICBjb25zdCBbdHJhbnNjcmlwdHMsIHNldFRyYW5zY3JpcHRzXSA9IHVzZVN0YXRlPFRyYW5zY3JpcHRNZXNzYWdlW10+KFtdKVxuICAgIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gICAgY29uc3QgW2lzQ29tcGxldGVkLCBzZXRJc0NvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgW2F1dG9TY3JvbGxFbmFibGVkLCBzZXRBdXRvU2Nyb2xsRW5hYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKVxuXG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxFbGVtZW50IHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBjdXJyZW50U2Vzc2lvbklkUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgICAvLyDomZXnkIbpgJDlrZfnqL/mjqXmlLboiIflkIjkvbXpgo/ovK9cbiAgICBjb25zdCBoYW5kbGVUcmFuc2NyaXB0ID0gdXNlQ2FsbGJhY2soKHRyYW5zY3JpcHQ6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFt1c2VUcmFuc2NyaXB0XSDmlLbliLDpgJDlrZfnqL/oqIrmga86Jywge1xuICAgICAgICAgICAgdHlwZTogdHJhbnNjcmlwdC50eXBlLFxuICAgICAgICAgICAgdGV4dDogdHJhbnNjcmlwdC50ZXh0LFxuICAgICAgICAgICAgdGV4dExlbmd0aDogdHJhbnNjcmlwdC50ZXh0Py5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWU6IHRyYW5zY3JpcHQuc3RhcnRfdGltZSxcbiAgICAgICAgICAgIGVuZF90aW1lOiB0cmFuc2NyaXB0LmVuZF90aW1lLFxuICAgICAgICAgICAgY29uZmlkZW5jZTogdHJhbnNjcmlwdC5jb25maWRlbmNlLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjdXJyZW50VHJhbnNjcmlwdENvdW50OiB0cmFuc2NyaXB0cy5sZW5ndGgsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOiZleeQhui9iemMhOWujOaIkOmAmuefpVxuICAgICAgICBpZiAodHJhbnNjcmlwdC50eXBlID09PSAndHJhbnNjcmlwdF9jb21wbGV0ZScgfHwgdHJhbnNjcmlwdC5tZXNzYWdlID09PSAndHJhbnNjcmlwdGlvbl9jb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW3VzZVRyYW5zY3JpcHRdIOmAkOWtl+eov+i9iemMhOWujOaIkO+8jOioreWumiBpc0NvbXBsZXRlZD10cnVlJylcbiAgICAgICAgICAgIHNldElzQ29tcGxldGVkKHRydWUpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOiZleeQhui9iemMhOmMr+iqpCAo6ZyA6KaB6aGe5Z6L6L2J5o+b5Zug54K6IFRyYW5zY3JpcHRNZXNzYWdlIOS4jeWMheWQq+mMr+iqpOmhnuWeiylcbiAgICAgICAgY29uc3QgYW55TWVzc2FnZSA9IHRyYW5zY3JpcHQgYXMgYW55XG4gICAgICAgIGlmIChhbnlNZXNzYWdlLnR5cGUgPT09ICdlcnJvcicgfHwgYW55TWVzc2FnZS50eXBlID09PSAndHJhbnNjcmlwdGlvbl9lcnJvcicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggW3VzZVRyYW5zY3JpcHRdIOaUtuWIsOi9iemMhOmMr+iqpDonLCB0cmFuc2NyaXB0KVxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYW55TWVzc2FnZS5lcnJvcl9tZXNzYWdlIHx8IGFueU1lc3NhZ2UuZGV0YWlscyB8fCAn6L2J6YyE6YGO56iL5Lit55m855Sf6Yyv6KqkJ1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyDlj6romZXnkIbpgJDlrZfnqL/niYfmrrXpoZ7lnovnmoToqIrmga9cbiAgICAgICAgaWYgKHRyYW5zY3JpcHQudHlwZSAhPT0gJ3RyYW5zY3JpcHRfc2VnbWVudCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gW3VzZVRyYW5zY3JpcHRdIOi3s+mBjumdnumAkOWtl+eov+eJh+auteioiuaBrzonLCB0cmFuc2NyaXB0LnR5cGUpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdHJhbnNjcmlwdC50ZXh0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIFt1c2VUcmFuc2NyaXB0XSDot7PpgY7nqbrmloflrZfpgJDlrZfnqL8nKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbdXNlVHJhbnNjcmlwdF0g6ZaL5aeL6JmV55CG6YCQ5a2X56i/54mH5q61Li4uJylcblxuICAgICAgICBzZXRUcmFuc2NyaXB0cygocHJldikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW3VzZVRyYW5zY3JpcHRdIOWQiOS9teWJjeeLgOaFizonLCB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb3VudDogcHJldi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbmV3U2VnbWVudFRleHQ6IHRyYW5zY3JpcHQudGV4dCxcbiAgICAgICAgICAgICAgICBuZXdTZWdtZW50VGltZTogdHJhbnNjcmlwdC5zdGFydF90aW1lXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCBuZXdUcmFuc2NyaXB0cyA9IG1lcmdlU2VnbWVudHMocHJldiwgdHJhbnNjcmlwdClcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW3VzZVRyYW5zY3JpcHRdIOWQiOS9teW+jOeLgOaFizonLCB7XG4gICAgICAgICAgICAgICAgbmV3Q291bnQ6IG5ld1RyYW5zY3JpcHRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBjb3VudENoYW5nZTogbmV3VHJhbnNjcmlwdHMubGVuZ3RoIC0gcHJldi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRUZXh0OiBuZXdUcmFuc2NyaXB0c1tuZXdUcmFuc2NyaXB0cy5sZW5ndGggLSAxXT8udGV4dD8uc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFt1c2VUcmFuc2NyaXB0XSDpgJDlrZfnqL/mm7TmlrDlrozmiJA6ICR7cHJldi5sZW5ndGh9IOKGkiAke25ld1RyYW5zY3JpcHRzLmxlbmd0aH0g5YCL54mH5q61YClcbiAgICAgICAgICAgIHJldHVybiBuZXdUcmFuc2NyaXB0c1xuICAgICAgICB9KVxuICAgIH0sIFt0cmFuc2NyaXB0cy5sZW5ndGhdKVxuXG4gICAgLy8g6YCQ5a2X56i/54mH5q615ZCI5L216YKP6LyvIC0g55u46YSwIOKJpDEgcyDlkIjkvbXmrrXokL1cbiAgICBjb25zdCBtZXJnZVNlZ21lbnRzID0gdXNlQ2FsbGJhY2soKFxuICAgICAgICBleGlzdGluZ1NlZ21lbnRzOiBUcmFuc2NyaXB0TWVzc2FnZVtdLFxuICAgICAgICBuZXdTZWdtZW50OiBUcmFuc2NyaXB0TWVzc2FnZVxuICAgICk6IFRyYW5zY3JpcHRNZXNzYWdlW10gPT4ge1xuICAgICAgICBpZiAoIW5ld1NlZ21lbnQuc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgLy8g5aaC5p6c5rKS5pyJ5pmC6ZaT5oiz77yM55u05o6l5re75Yqg5Yiw5pyr5bC+XG4gICAgICAgICAgICByZXR1cm4gWy4uLmV4aXN0aW5nU2VnbWVudHMsIG5ld1NlZ21lbnRdXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtZXJnZVRocmVzaG9sZCA9IDEuMCAvLyAx56eS5YWn55qE54mH5q615Y+v5Lul5ZCI5L21XG5cbiAgICAgICAgLy8g5bCL5om+5Y+v5Lul5ZCI5L2155qE55u46YSw54mH5q61XG4gICAgICAgIGNvbnN0IGxhc3RTZWdtZW50SW5kZXggPSBleGlzdGluZ1NlZ21lbnRzLmxlbmd0aCAtIDFcbiAgICAgICAgY29uc3QgbGFzdFNlZ21lbnQgPSBleGlzdGluZ1NlZ21lbnRzW2xhc3RTZWdtZW50SW5kZXhdXG5cbiAgICAgICAgaWYgKGxhc3RTZWdtZW50ICYmXG4gICAgICAgICAgICBsYXN0U2VnbWVudC5lbmRfdGltZSAmJlxuICAgICAgICAgICAgTWF0aC5hYnMobmV3U2VnbWVudC5zdGFydF90aW1lIC0gbGFzdFNlZ21lbnQuZW5kX3RpbWUpIDw9IG1lcmdlVGhyZXNob2xkKSB7XG5cbiAgICAgICAgICAgIC8vIOWQiOS9teeJh+autVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkU2VnbWVudDogVHJhbnNjcmlwdE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgLi4ubGFzdFNlZ21lbnQsXG4gICAgICAgICAgICAgICAgdGV4dDogKGxhc3RTZWdtZW50LnRleHQgfHwgJycpICsgJyAnICsgKG5ld1NlZ21lbnQudGV4dCB8fCAnJyksXG4gICAgICAgICAgICAgICAgZW5kX3RpbWU6IG5ld1NlZ21lbnQuZW5kX3RpbWUgfHwgbGFzdFNlZ21lbnQuZW5kX3RpbWUsXG4gICAgICAgICAgICAgICAgZW5kX3NlcXVlbmNlOiBuZXdTZWdtZW50LmVuZF9zZXF1ZW5jZSB8fCBsYXN0U2VnbWVudC5lbmRfc2VxdWVuY2UsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLi4uZXhpc3RpbmdTZWdtZW50cy5zbGljZSgwLCBsYXN0U2VnbWVudEluZGV4KSxcbiAgICAgICAgICAgICAgICBtZXJnZWRTZWdtZW50XG4gICAgICAgICAgICBdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDkuI3pnIDopoHlkIjkvbXvvIznm7TmjqXmt7vliqBcbiAgICAgICAgICAgIHJldHVybiBbLi4uZXhpc3RpbmdTZWdtZW50cywgbmV3U2VnbWVudF1cbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Ieq5YuV5o2y5YuV5Yqf6IO9XG4gICAgY29uc3Qgc2Nyb2xsVG9MYXRlc3QgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCAmJiBhdXRvU2Nyb2xsRW5hYmxlZCkge1xuICAgICAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0XG4gICAgICAgIH1cbiAgICB9LCBbYXV0b1Njcm9sbEVuYWJsZWRdKVxuXG4gICAgLy8g5qqi5ris5L2/55So6ICF5ru+5YuVIC0g6Zui5bqV6YOoID42MHB4IOaZguemgeeUqOiHquWLleaNsuWLlVxuICAgIGNvbnN0IGhhbmRsZVNjcm9sbCA9IHVzZUNhbGxiYWNrKChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm5cblxuICAgICAgICBjb25zdCB7IHNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQgfSA9IGNvbnRhaW5lclxuICAgICAgICBjb25zdCBkaXN0YW5jZUZyb21Cb3R0b20gPSBzY3JvbGxIZWlnaHQgLSBzY3JvbGxUb3AgLSBjbGllbnRIZWlnaHRcblxuICAgICAgICBpZiAoZGlzdGFuY2VGcm9tQm90dG9tID4gNjApIHtcbiAgICAgICAgICAgIHNldEF1dG9TY3JvbGxFbmFibGVkKGZhbHNlKVxuICAgICAgICB9IGVsc2UgaWYgKGRpc3RhbmNlRnJvbUJvdHRvbSA8PSAxMCkge1xuICAgICAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQodHJ1ZSlcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Kit5a6a6Ieq5YuV5o2y5YuV5a655ZmoXG4gICAgY29uc3Qgc2V0U2Nyb2xsQ29udGFpbmVyID0gdXNlQ2FsbGJhY2soKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCkgPT4ge1xuICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50ID0gZWxlbWVudFxuXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbClcbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVTY3JvbGxdKVxuXG4gICAgLy8g5ZWf55So6Ieq5YuV5o2y5YuVXG4gICAgY29uc3QgZW5hYmxlQXV0b1Njcm9sbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQodHJ1ZSlcbiAgICAgICAgc2Nyb2xsVG9MYXRlc3QoKVxuICAgIH0sIFtzY3JvbGxUb0xhdGVzdF0pXG5cbiAgICAvLyDnpoHnlKjoh6rli5XmjbLli5VcbiAgICBjb25zdCBkaXNhYmxlQXV0b1Njcm9sbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQoZmFsc2UpXG4gICAgfSwgW10pXG5cbiAgICAvLyDpgKPmjqUgVHJhbnNjcmlwdE1hbmFnZXJcbiAgICBjb25zdCBjb25uZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKVxuICAgICAgICAgICAgc2V0SXNDb21wbGV0ZWQoZmFsc2UpXG5cbiAgICAgICAgICAgIC8vIOenu+mZpOiIiueahOebo+iBveWZqFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCwgaGFuZGxlVHJhbnNjcmlwdClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g6YCj5o6l5Yiw5paw55qEIHNlc3Npb25cbiAgICAgICAgICAgIGF3YWl0IHRyYW5zY3JpcHRNYW5hZ2VyLmNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgICAgICAgICAgdHJhbnNjcmlwdE1hbmFnZXIuYWRkTGlzdGVuZXIoc2Vzc2lvbklkLCBoYW5kbGVUcmFuc2NyaXB0KVxuXG4gICAgICAgICAgICBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQgPSBzZXNzaW9uSWRcbiAgICAgICAgICAgIHNldElzQ29ubmVjdGVkKHRyYW5zY3JpcHRNYW5hZ2VyLmlzQ29ubmVjdGVkKHNlc3Npb25JZCkpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgdXNlLXRyYW5zY3JpcHQg6YCj5o6l5oiQ5Yqf77yMU2Vzc2lvbiBJRDonLCBzZXNzaW9uSWQpXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+mAo+aOpemAkOWtl+eov+acjeWLmeWkseaVlydcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIHVzZS10cmFuc2NyaXB0IOmAo+aOpeWkseaVlzonLCBlcnIpXG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlVHJhbnNjcmlwdF0pXG5cbiAgICAvLyDmlrfplovpgKPmjqVcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICB0cmFuc2NyaXB0TWFuYWdlci5yZW1vdmVMaXN0ZW5lcihjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsIGhhbmRsZVRyYW5zY3JpcHQpXG4gICAgICAgICAgICAvLyDms6jmhI/vvJrkuI3lkbzlj6sgdHJhbnNjcmlwdE1hbmFnZXIuZGlzY29ubmVjdO+8jOWboOeCuuWFtuS7lue1hOS7tuWPr+iDvemChOWcqOS9v+eUqFxuICAgICAgICAgICAgY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SMIHVzZS10cmFuc2NyaXB0IOaWt+mWi+mAo+aOpScpXG4gICAgfSwgW2hhbmRsZVRyYW5zY3JpcHRdKVxuXG4gICAgLy8g5riF56m66YCQ5a2X56i/XG4gICAgY29uc3QgY2xlYXJUcmFuc2NyaXB0cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0VHJhbnNjcmlwdHMoW10pXG4gICAgICAgIHNldElzQ29tcGxldGVkKGZhbHNlKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCB1c2UtdHJhbnNjcmlwdCDpgJDlrZfnqL/lt7LmuIXpmaQnKVxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Ieq5YuV5o2y5YuV5pWI5p6cXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHRyYW5zY3JpcHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNjcm9sbFRvTGF0ZXN0KClcbiAgICAgICAgfVxuICAgIH0sIFt0cmFuc2NyaXB0cywgc2Nyb2xsVG9MYXRlc3RdKVxuXG4gICAgLy8g5riF55CG6LOH5rqQXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0TWFuYWdlci5yZW1vdmVMaXN0ZW5lcihjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsIGhhbmRsZVRyYW5zY3JpcHQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVUcmFuc2NyaXB0LCBoYW5kbGVTY3JvbGxdKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNjcmlwdHMsXG4gICAgICAgIGlzQ29ubmVjdGVkLFxuICAgICAgICBpc0NvbXBsZXRlZCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGNvbm5lY3QsXG4gICAgICAgIGRpc2Nvbm5lY3QsXG4gICAgICAgIGNsZWFyVHJhbnNjcmlwdHMsXG4gICAgICAgIGF1dG9TY3JvbGxFbmFibGVkLFxuICAgICAgICBlbmFibGVBdXRvU2Nyb2xsLFxuICAgICAgICBkaXNhYmxlQXV0b1Njcm9sbCxcbiAgICAgICAgc2Nyb2xsVG9MYXRlc3QsXG4gICAgICAgIHNldFNjcm9sbENvbnRhaW5lcixcbiAgICB9XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZUVmZmVjdCIsInRyYW5zY3JpcHRNYW5hZ2VyIiwidXNlVHJhbnNjcmlwdCIsInRyYW5zY3JpcHRzIiwic2V0VHJhbnNjcmlwdHMiLCJpc0Nvbm5lY3RlZCIsInNldElzQ29ubmVjdGVkIiwiaXNDb21wbGV0ZWQiLCJzZXRJc0NvbXBsZXRlZCIsImVycm9yIiwic2V0RXJyb3IiLCJhdXRvU2Nyb2xsRW5hYmxlZCIsInNldEF1dG9TY3JvbGxFbmFibGVkIiwiY29udGFpbmVyUmVmIiwiY3VycmVudFNlc3Npb25JZFJlZiIsImhhbmRsZVRyYW5zY3JpcHQiLCJ0cmFuc2NyaXB0IiwiY29uc29sZSIsImxvZyIsInR5cGUiLCJ0ZXh0IiwidGV4dExlbmd0aCIsImxlbmd0aCIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsImNvbmZpZGVuY2UiLCJzZXNzaW9uSWQiLCJjdXJyZW50IiwiY3VycmVudFRyYW5zY3JpcHRDb3VudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1lc3NhZ2UiLCJhbnlNZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JfbWVzc2FnZSIsImRldGFpbHMiLCJwcmV2IiwiZXhpc3RpbmdDb3VudCIsIm5ld1NlZ21lbnRUZXh0IiwibmV3U2VnbWVudFRpbWUiLCJuZXdUcmFuc2NyaXB0cyIsIm1lcmdlU2VnbWVudHMiLCJuZXdDb3VudCIsImNvdW50Q2hhbmdlIiwibGFzdFNlZ21lbnRUZXh0Iiwic3Vic3RyaW5nIiwiZXhpc3RpbmdTZWdtZW50cyIsIm5ld1NlZ21lbnQiLCJtZXJnZVRocmVzaG9sZCIsImxhc3RTZWdtZW50SW5kZXgiLCJsYXN0U2VnbWVudCIsIk1hdGgiLCJhYnMiLCJtZXJnZWRTZWdtZW50IiwiZW5kX3NlcXVlbmNlIiwic2xpY2UiLCJzY3JvbGxUb0xhdGVzdCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImhhbmRsZVNjcm9sbCIsImV2ZW50IiwiY29udGFpbmVyIiwidGFyZ2V0IiwiY2xpZW50SGVpZ2h0IiwiZGlzdGFuY2VGcm9tQm90dG9tIiwic2V0U2Nyb2xsQ29udGFpbmVyIiwiZWxlbWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZW5hYmxlQXV0b1Njcm9sbCIsImRpc2FibGVBdXRvU2Nyb2xsIiwiY29ubmVjdCIsInJlbW92ZUxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJlcnIiLCJFcnJvciIsImRpc2Nvbm5lY3QiLCJjbGVhclRyYW5zY3JpcHRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-transcript.ts\n");

/***/ }),

/***/ "(ssr)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   exportAPI: () => (/* binding */ exportAPI),\n/* harmony export */   getWebSocketURL: () => (/* binding */ getWebSocketURL),\n/* harmony export */   notesAPI: () => (/* binding */ notesAPI),\n/* harmony export */   sessionAPI: () => (/* binding */ sessionAPI)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js\");\n\n// API 基礎配置 - 使用環境變數\nconst API_BASE_URL = \"http://localhost:8000\" || 0;\nconst apiClient = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_BASE_URL,\n    timeout: 10000,\n    headers: {\n        'Content-Type': 'application/json'\n    }\n});\n// 請求攔截器 - 添加錯誤處理\napiClient.interceptors.response.use((response)=>response, (error)=>{\n    // 不顯示預期的 404 錯誤（例如：沒有活躍會話）\n    if (!(error.response?.status === 404 && error.config?.url?.includes('/api/session/active'))) {\n        console.error('API Error:', error.response?.data || error.message);\n    }\n    return Promise.reject(error);\n});\n// Session API\nconst sessionAPI = {\n    // 建立新會話\n    async createSession (data) {\n        const response = await apiClient.post('/api/session', data);\n        return response.data;\n    },\n    // 獲取活躍會話 - 增加重試機制\n    async getActiveSession () {\n        const maxRetries = 3;\n        const retryDelay = 1000 // 1 秒\n        ;\n        for(let attempt = 1; attempt <= maxRetries; attempt++){\n            try {\n                const response = await apiClient.get('/api/session/active');\n                return response.data;\n            } catch (error) {\n                // 如果沒有活躍會話，返回 null 而不是拋出錯誤\n                if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error) && error.response?.status === 404) {\n                    return null;\n                }\n                // 如果是網路錯誤且不是最後一次嘗試，則重試\n                if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error) && error.code === 'ERR_NETWORK' && attempt < maxRetries) {\n                    console.warn(`⚠️ 網路連線失敗 (嘗試 ${attempt}/${maxRetries})，${retryDelay}ms 後重試...`);\n                    await new Promise((resolve)=>setTimeout(resolve, retryDelay));\n                    continue;\n                }\n                throw error;\n            }\n        }\n        // 這裡不會被執行到，但為了 TypeScript 類型安全\n        return null;\n    },\n    // 完成會話\n    async finishSession (sessionId) {\n        await apiClient.patch(`/api/session/${sessionId}/finish`);\n    },\n    // 升級會話至錄音模式\n    async upgradeToRecording (sessionId) {\n        const response = await apiClient.patch(`/api/session/${sessionId}/upgrade`);\n        return response.data;\n    },\n    // 刪除會話及其所有相關數據\n    async deleteSession (sessionId) {\n        const response = await apiClient.delete(`/api/session/${sessionId}`);\n        return response.data;\n    }\n};\n// Notes API\nconst notesAPI = {\n    // 更新筆記內容\n    async updateNote (sessionId, data) {\n        const response = await apiClient.put(`/api/notes/${sessionId}`, data);\n        return response.data;\n    },\n    // 獲取筆記內容\n    async getNote (sessionId) {\n        const response = await apiClient.get(`/api/notes/${sessionId}`);\n        return response.data;\n    }\n};\n// Export API\nconst exportAPI = {\n    // 匯出會話資料\n    async exportSession (sessionId, type = 'zip') {\n        const response = await apiClient.get(`/api/export/${sessionId}`, {\n            params: {\n                type\n            },\n            responseType: 'blob'\n        });\n        return response.data;\n    }\n};\n// WebSocket URL 建構 - 使用環境變數\nconst getWebSocketURL = (path)=>{\n    const wsBaseURL = \"ws://localhost:8000\" || 0;\n    return `${wsBaseURL}${path}`;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUztJQUNULE1BQU0wQixTQUFRUixTQUFpQjtRQUM3QixNQUFNMUIsV0FBVyxNQUFNTixVQUFVeUIsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFTyxXQUFXO1FBQzlELE9BQU8xQixTQUFTUSxJQUFJO0lBQ3RCO0FBQ0YsRUFBQztBQUVELGFBQWE7QUFDTixNQUFNMkIsWUFBWTtJQUN2QixTQUFTO0lBQ1QsTUFBTUMsZUFBY1YsU0FBaUIsRUFBRVcsT0FBcUIsS0FBSztRQUMvRCxNQUFNckMsV0FBVyxNQUFNTixVQUFVeUIsR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFTyxXQUFXLEVBQUU7WUFDL0RZLFFBQVE7Z0JBQUVEO1lBQUs7WUFDZkUsY0FBYztRQUNoQjtRQUNBLE9BQU92QyxTQUFTUSxJQUFJO0lBQ3RCO0FBQ0YsRUFBQztBQUVELDRCQUE0QjtBQUNyQixNQUFNZ0Msa0JBQWtCLENBQUNDO0lBQzlCLE1BQU1DLFlBQVluRCxxQkFBOEIsSUFBSSxDQUFxQjtJQUN6RSxPQUFPLEdBQUdtRCxZQUFZRCxNQUFNO0FBQzlCLEVBQUM7QUFFRCxpRUFBZS9DLFNBQVNBLEVBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UsIEF4aW9zRXJyb3IgfSBmcm9tICdheGlvcydcblxuLy8gQVBJIOWfuuekjumFjee9riAtIOS9v+eUqOeSsOWig+iuiuaVuFxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJ1xuXG5jb25zdCBhcGlDbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICBiYXNlVVJMOiBBUElfQkFTRV9VUkwsXG4gIHRpbWVvdXQ6IDEwMDAwLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbn0pXG5cbi8vIOiri+axguaUlOaIquWZqCAtIOa3u+WKoOmMr+iqpOiZleeQhlxuYXBpQ2xpZW50LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gIChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4gcmVzcG9uc2UsXG4gIChlcnJvcjogQXhpb3NFcnJvcikgPT4ge1xuICAgIC8vIOS4jemhr+ekuumgkOacn+eahCA0MDQg6Yyv6Kqk77yI5L6L5aaC77ya5rKS5pyJ5rS76LqN5pyD6Kmx77yJXG4gICAgaWYgKCEoZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDA0ICYmIGVycm9yLmNvbmZpZz8udXJsPy5pbmNsdWRlcygnL2FwaS9zZXNzaW9uL2FjdGl2ZScpKSkge1xuICAgICAgY29uc29sZS5lcnJvcignQVBJIEVycm9yOicsIGVycm9yLnJlc3BvbnNlPy5kYXRhIHx8IGVycm9yLm1lc3NhZ2UpXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcilcbiAgfVxuKVxuXG4vLyDlnovliKXlrprnvqlcbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkNyZWF0ZVJlcXVlc3Qge1xuICB0aXRsZTogc3RyaW5nXG4gIHR5cGU6ICdub3RlX29ubHknIHwgJ3JlY29yZGluZydcbiAgY29udGVudD86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25SZXNwb25zZSB7XG4gIGlkOiBzdHJpbmdcbiAgdGl0bGU6IHN0cmluZ1xuICB0eXBlOiAnbm90ZV9vbmx5JyB8ICdyZWNvcmRpbmcnXG4gIHN0YXR1czogJ2RyYWZ0JyB8ICdhY3RpdmUnIHwgJ3Byb2Nlc3NpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InXG4gIGxhbmd1YWdlOiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVVcGRhdGVSZXF1ZXN0IHtcbiAgY29udGVudDogc3RyaW5nXG4gIGNsaWVudF90cz86IHN0cmluZyAgLy8gSVNPIOaZgumWk+aIs+Wtl+S4su+8jOWPr+mBuFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVVcGRhdGVSZXNwb25zZSB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgbWVzc2FnZTogc3RyaW5nXG4gIHNlcnZlcl90czogc3RyaW5nICAvLyBJU08g5pmC6ZaT5oiz5a2X5LiyXG4gIG5vdGU6IE5vdGVSZXNwb25zZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVSZXNwb25zZSB7XG4gIHNlc3Npb25faWQ6IHN0cmluZ1xuICBjb250ZW50OiBzdHJpbmdcbiAgY2xpZW50X3RzPzogc3RyaW5nICAvLyBJU08g5pmC6ZaT5oiz5a2X5Liy77yM5Y+v6YG4XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn1cblxuLy8gU2Vzc2lvbiBBUElcbmV4cG9ydCBjb25zdCBzZXNzaW9uQVBJID0ge1xuICAvLyDlu7rnq4vmlrDmnIPoqbFcbiAgYXN5bmMgY3JlYXRlU2Vzc2lvbihkYXRhOiBTZXNzaW9uQ3JlYXRlUmVxdWVzdCk6IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucG9zdCgnL2FwaS9zZXNzaW9uJywgZGF0YSlcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICB9LFxuXG4gIC8vIOeNsuWPlua0u+i6jeacg+ipsSAtIOWinuWKoOmHjeippuapn+WItlxuICBhc3luYyBnZXRBY3RpdmVTZXNzaW9uKCk6IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD4ge1xuICAgIGNvbnN0IG1heFJldHJpZXMgPSAzXG4gICAgY29uc3QgcmV0cnlEZWxheSA9IDEwMDAgLy8gMSDnp5JcblxuICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IG1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0KCcvYXBpL3Nlc3Npb24vYWN0aXZlJylcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIOWmguaenOaykuaciea0u+i6jeacg+ipse+8jOi/lOWbniBudWxsIOiAjOS4jeaYr+aLi+WHuumMr+iqpFxuICAgICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5aaC5p6c5piv57ay6Lev6Yyv6Kqk5LiU5LiN5piv5pyA5b6M5LiA5qyh5ZiX6Kmm77yM5YmH6YeN6KmmXG4gICAgICAgIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyb3IpICYmIGVycm9yLmNvZGUgPT09ICdFUlJfTkVUV09SSycgJiYgYXR0ZW1wdCA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDntrLot6/pgKPnt5rlpLHmlZcgKOWYl+ippiAke2F0dGVtcHR9LyR7bWF4UmV0cmllc30p77yMJHtyZXRyeURlbGF5fW1zIOW+jOmHjeippi4uLmApXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHJldHJ5RGVsYXkpKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOmAmeijoeS4jeacg+iiq+Wft+ihjOWIsO+8jOS9hueCuuS6hiBUeXBlU2NyaXB0IOmhnuWei+WuieWFqFxuICAgIHJldHVybiBudWxsXG4gIH0sXG5cbiAgLy8g5a6M5oiQ5pyD6KmxXG4gIGFzeW5jIGZpbmlzaFNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBhcGlDbGllbnQucGF0Y2goYC9hcGkvc2Vzc2lvbi8ke3Nlc3Npb25JZH0vZmluaXNoYClcbiAgfSxcblxuICAvLyDljYfntJrmnIPoqbHoh7PpjITpn7PmqKHlvI9cbiAgYXN5bmMgdXBncmFkZVRvUmVjb3JkaW5nKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wYXRjaChgL2FwaS9zZXNzaW9uLyR7c2Vzc2lvbklkfS91cGdyYWRlYClcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICB9LFxuXG4gIC8vIOWIqumZpOacg+ipseWPiuWFtuaJgOacieebuOmXnOaVuOaTmlxuICBhc3luYyBkZWxldGVTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZGVsZXRlKGAvYXBpL3Nlc3Npb24vJHtzZXNzaW9uSWR9YClcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICB9LFxufVxuXG4vLyBOb3RlcyBBUElcbmV4cG9ydCBjb25zdCBub3Rlc0FQSSA9IHtcbiAgLy8g5pu05paw562G6KiY5YWn5a65XG4gIGFzeW5jIHVwZGF0ZU5vdGUoc2Vzc2lvbklkOiBzdHJpbmcsIGRhdGE6IE5vdGVVcGRhdGVSZXF1ZXN0KTogUHJvbWlzZTxOb3RlVXBkYXRlUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wdXQoYC9hcGkvbm90ZXMvJHtzZXNzaW9uSWR9YCwgZGF0YSlcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICB9LFxuXG4gIC8vIOeNsuWPluethuiomOWFp+WuuVxuICBhc3luYyBnZXROb3RlKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxOb3RlUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoYC9hcGkvbm90ZXMvJHtzZXNzaW9uSWR9YClcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICB9LFxufVxuXG4vLyBFeHBvcnQgQVBJXG5leHBvcnQgY29uc3QgZXhwb3J0QVBJID0ge1xuICAvLyDljK/lh7rmnIPoqbHos4fmlplcbiAgYXN5bmMgZXhwb3J0U2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZywgdHlwZTogJ3ppcCcgfCAnbWQnID0gJ3ppcCcpOiBQcm9taXNlPEJsb2I+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoYC9hcGkvZXhwb3J0LyR7c2Vzc2lvbklkfWAsIHtcbiAgICAgIHBhcmFtczogeyB0eXBlIH0sXG4gICAgICByZXNwb25zZVR5cGU6ICdibG9iJyxcbiAgICB9KVxuICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gIH0sXG59XG5cbi8vIFdlYlNvY2tldCBVUkwg5bu65qeLIC0g5L2/55So55Kw5aKD6K6K5pW4XG5leHBvcnQgY29uc3QgZ2V0V2ViU29ja2V0VVJMID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHdzQmFzZVVSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dTX1VSTCB8fCAnd3M6Ly9sb2NhbGhvc3Q6ODAwMCdcbiAgcmV0dXJuIGAke3dzQmFzZVVSTH0ke3BhdGh9YFxufVxuXG5leHBvcnQgZGVmYXVsdCBhcGlDbGllbnRcbiJdLCJuYW1lcyI6WyJheGlvcyIsIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiYXBpQ2xpZW50IiwiY3JlYXRlIiwiYmFzZVVSTCIsInRpbWVvdXQiLCJoZWFkZXJzIiwiaW50ZXJjZXB0b3JzIiwicmVzcG9uc2UiLCJ1c2UiLCJlcnJvciIsInN0YXR1cyIsImNvbmZpZyIsInVybCIsImluY2x1ZGVzIiwiY29uc29sZSIsImRhdGEiLCJtZXNzYWdlIiwiUHJvbWlzZSIsInJlamVjdCIsInNlc3Npb25BUEkiLCJjcmVhdGVTZXNzaW9uIiwicG9zdCIsImdldEFjdGl2ZVNlc3Npb24iLCJtYXhSZXRyaWVzIiwicmV0cnlEZWxheSIsImF0dGVtcHQiLCJnZXQiLCJpc0F4aW9zRXJyb3IiLCJjb2RlIiwid2FybiIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZmluaXNoU2Vzc2lvbiIsInNlc3Npb25JZCIsInBhdGNoIiwidXBncmFkZVRvUmVjb3JkaW5nIiwiZGVsZXRlU2Vzc2lvbiIsImRlbGV0ZSIsIm5vdGVzQVBJIiwidXBkYXRlTm90ZSIsInB1dCIsImdldE5vdGUiLCJleHBvcnRBUEkiLCJleHBvcnRTZXNzaW9uIiwidHlwZSIsInBhcmFtcyIsInJlc3BvbnNlVHlwZSIsImdldFdlYlNvY2tldFVSTCIsInBhdGgiLCJ3c0Jhc2VVUkwiLCJORVhUX1BVQkxJQ19XU19VUkwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/api.ts\n");

/***/ }),

/***/ "(ssr)/./lib/audio-recorder.ts":
/*!*******************************!*\
  !*** ./lib/audio-recorder.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioRecorder: () => (/* binding */ AudioRecorder),\n/* harmony export */   checkAudioRecordingSupport: () => (/* binding */ checkAudioRecordingSupport),\n/* harmony export */   createAudioRecorder: () => (/* binding */ createAudioRecorder)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ AudioRecorder,createAudioRecorder,checkAudioRecordingSupport auto */ // 預設配置\nconst DEFAULT_CONFIG = {\n    chunkInterval: 12000,\n    mimeType: 'audio/webm;codecs=opus',\n    audioBitsPerSecond: 128000\n};\n// 支援的音訊格式列表（優先順序）\n// MP4 格式在 FFmpeg 7.1.1 中有更好的兼容性，因此放在第一位\nconst SUPPORTED_MIME_TYPES = [\n    'audio/webm;codecs=opus',\n    'audio/webm',\n    'audio/mp4',\n    'audio/ogg;codecs=opus',\n    'audio/wav'\n];\nclass AudioRecorder {\n    constructor(config = {}){\n        this.mediaRecorder = null;\n        this.mediaStream = null;\n        this.state = 'idle';\n        this.sequence = 0;\n        this.startTime = 0;\n        this.config = {\n            ...DEFAULT_CONFIG,\n            ...config\n        };\n        // 檢查瀏覽器相容性\n        if (!this.isSupported()) {\n            throw new Error('您的瀏覽器不支援音訊錄製功能');\n        }\n        // 選擇支援的音訊格式\n        this.config.mimeType = this.getSupportedMimeType();\n    }\n    // 檢查瀏覽器支援度\n    isSupported() {\n        return 'mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices && 'MediaRecorder' in window;\n    }\n    // 獲取支援的音訊格式\n    getSupportedMimeType() {\n        for (const mimeType of SUPPORTED_MIME_TYPES){\n            if (MediaRecorder.isTypeSupported(mimeType)) {\n                console.log('🎤 使用音訊格式:', mimeType);\n                return mimeType;\n            }\n        }\n        // 如果都不支援，使用預設格式\n        console.warn('⚠️ 使用預設音訊格式:', DEFAULT_CONFIG.mimeType);\n        return DEFAULT_CONFIG.mimeType;\n    }\n    // 初始化音訊串流\n    async initialize() {\n        try {\n            this.mediaStream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    autoGainControl: true,\n                    sampleRate: 16000\n                }\n            });\n            console.log('🎤 音訊權限已獲取');\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : '無法取得音訊權限';\n            this.handleError(new Error(`音訊初始化失敗: ${errorMessage}`));\n            throw error;\n        }\n    }\n    // 開始錄音\n    async startRecording() {\n        if (this.state === 'recording') {\n            return;\n        }\n        if (!this.mediaStream) {\n            await this.initialize();\n        }\n        if (!this.mediaStream) {\n            throw new Error('音訊串流未初始化');\n        }\n        try {\n            // 建立 MediaRecorder\n            this.mediaRecorder = new MediaRecorder(this.mediaStream, {\n                mimeType: this.config.mimeType,\n                audioBitsPerSecond: this.config.audioBitsPerSecond\n            });\n            // 設定事件處理器\n            this.setupMediaRecorderEvents();\n            // 開始錄音，使用 MediaRecorder 的自動切片功能\n            // 這比手動 requestData() 更可靠且簡潔\n            this.mediaRecorder.start(this.config.chunkInterval);\n            this.startTime = Date.now();\n            this.sequence = 0;\n            this.setState('recording');\n            console.log('🎤 開始錄音');\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : '錄音啟動失敗';\n            this.handleError(new Error(`錄音啟動失敗: ${errorMessage}`));\n            throw error;\n        }\n    }\n    // 停止錄音\n    stopRecording() {\n        if (this.state !== 'recording') {\n            return;\n        }\n        if (this.mediaRecorder) {\n            this.mediaRecorder.stop();\n        }\n        this.setState('idle');\n        console.log('🛑 停止錄音');\n    }\n    // 暫停錄音\n    pauseRecording() {\n        if (this.state !== 'recording' || !this.mediaRecorder) {\n            return;\n        }\n        this.mediaRecorder.pause();\n        this.setState('paused');\n        console.log('⏸️ 暫停錄音');\n    }\n    // 恢復錄音\n    resumeRecording() {\n        if (this.state !== 'paused' || !this.mediaRecorder) {\n            return;\n        }\n        this.mediaRecorder.resume();\n        this.setState('recording');\n        console.log('▶️ 恢復錄音');\n    }\n    // 清理資源\n    cleanup() {\n        this.stopRecording();\n        if (this.mediaStream) {\n            this.mediaStream.getTracks().forEach((track)=>track.stop());\n            this.mediaStream = null;\n        }\n        this.mediaRecorder = null;\n        console.log('🧹 音訊錄製器已清理');\n    }\n    // 注意：已移除 WebM 格式驗證，信任 MediaRecorder 和後端 FFmpeg 處理\n    // 設定 MediaRecorder 事件處理器\n    setupMediaRecorderEvents() {\n        if (!this.mediaRecorder) return;\n        this.mediaRecorder.ondataavailable = async (event)=>{\n            if (event.data && event.data.size > 0) {\n                // 基本大小檢查 - 降低門檻值以接受更多有效切片\n                if (event.data.size < 50) {\n                    console.warn(`⚠️ 音訊切片 #${this.sequence} 太小，跳過: ${event.data.size} bytes`);\n                    return;\n                }\n                // 信任 MediaRecorder 產生的資料，不做格式驗證\n                // 後端 FFmpeg 會用 -fflags +genpts 處理不完整的流式資料\n                const chunk = {\n                    blob: event.data,\n                    timestamp: Date.now(),\n                    duration: Date.now() - this.startTime,\n                    sequence: this.sequence++\n                };\n                console.log(`🎵 產生有效音訊切片 #${chunk.sequence}, 大小: ${chunk.blob.size} bytes, 類型: ${chunk.blob.type}`);\n                this.onChunkCallback?.(chunk);\n            } else {\n                console.warn(`⚠️ 收到空的音訊切片 #${this.sequence}`);\n            }\n        };\n        this.mediaRecorder.onerror = (event)=>{\n            const error = event.error || new Error('MediaRecorder 錯誤');\n            this.handleError(error);\n        };\n        this.mediaRecorder.onstart = ()=>{\n            console.log('🎤 MediaRecorder 已啟動');\n        };\n        this.mediaRecorder.onstop = ()=>{\n            console.log('🛑 MediaRecorder 已停止');\n        };\n    }\n    // 注意：不再需要手動定時器，MediaRecorder.start(interval) 會自動處理切片\n    // 設定狀態\n    setState(newState) {\n        this.state = newState;\n        this.onStateChangeCallback?.(newState);\n    }\n    // 錯誤處理\n    handleError(error) {\n        console.error('❌ AudioRecorder 錯誤:', error);\n        this.setState('error');\n        this.onErrorCallback?.(error);\n    }\n    // 事件回調設定\n    onChunk(callback) {\n        this.onChunkCallback = callback;\n    }\n    onStateChange(callback) {\n        this.onStateChangeCallback = callback;\n    }\n    onError(callback) {\n        this.onErrorCallback = callback;\n    }\n    // Getter\n    get currentState() {\n        return this.state;\n    }\n    get isRecording() {\n        return this.state === 'recording';\n    }\n    get isPaused() {\n        return this.state === 'paused';\n    }\n    get currentConfig() {\n        return {\n            ...this.config\n        };\n    }\n}\n// 工廠函數\nconst createAudioRecorder = (config)=>{\n    return new AudioRecorder(config);\n};\n// 瀏覽器相容性檢查函數\nconst checkAudioRecordingSupport = ()=>{\n    const errors = [];\n    if (!('mediaDevices' in navigator)) {\n        errors.push('不支援 MediaDevices API');\n    }\n    if (!('getUserMedia' in navigator.mediaDevices)) {\n        errors.push('不支援 getUserMedia API');\n    }\n    if (!('MediaRecorder' in window)) {\n        errors.push('不支援 MediaRecorder API');\n    }\n    // 檢查 HTTPS\n    if (location.protocol !== 'https:' && location.hostname !== 'localhost') {\n        errors.push('需要 HTTPS 連接才能使用音訊功能');\n    }\n    return {\n        supported: errors.length === 0,\n        errors\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkUsTUFBTTtRQUFDO0lBQzFCO0FBQ0Y7QUFFQSxPQUFPO0FBQ0EsTUFBTW9FLHNCQUFzQixDQUFDcEU7SUFDbEMsT0FBTyxJQUFJRixjQUFjRTtBQUMzQixFQUFDO0FBRUQsYUFBYTtBQUNOLE1BQU1xRSw2QkFBNkI7SUFJeEMsTUFBTUMsU0FBbUIsRUFBRTtJQUUzQixJQUFJLENBQUUsbUJBQWtCN0QsU0FBUSxHQUFJO1FBQ2xDNkQsT0FBT0MsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJLENBQUUsbUJBQWtCOUQsVUFBVUMsWUFBWSxHQUFHO1FBQy9DNEQsT0FBT0MsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJLENBQUUsb0JBQW1CNUQsTUFBSyxHQUFJO1FBQ2hDMkQsT0FBT0MsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxXQUFXO0lBQ1gsSUFBSUMsU0FBU0MsUUFBUSxLQUFLLFlBQVlELFNBQVNFLFFBQVEsS0FBSyxhQUFhO1FBQ3ZFSixPQUFPQyxJQUFJLENBQUM7SUFDZDtJQUVBLE9BQU87UUFDTEksV0FBV0wsT0FBT00sTUFBTSxLQUFLO1FBQzdCTjtJQUNGO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL2F1ZGlvLXJlY29yZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbi8vIOmfs+ioiumMhOijveeLgOaFi1xuZXhwb3J0IHR5cGUgQXVkaW9SZWNvcmRlclN0YXRlID0gJ2lkbGUnIHwgJ3JlY29yZGluZycgfCAncGF1c2VkJyB8ICdlcnJvcidcblxuLy8g6Z+z6KiK6YyE6KO96YWN572uXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvUmVjb3JkZXJDb25maWcge1xuICBjaHVua0ludGVydmFsOiBudW1iZXIgLy8g5YiH54mH6ZaT6ZqU77yI5q+r56eS77yJXG4gIG1pbWVUeXBlOiBzdHJpbmcgLy8g6Z+z6KiK5qC85byPXG4gIGF1ZGlvQml0c1BlclNlY29uZD86IG51bWJlciAvLyDpn7PoqIrkvY3lhYPnjodcbn1cblxuLy8g6Z+z6KiK5YiH54mH6LOH5paZXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvQ2h1bmsge1xuICBibG9iOiBCbG9iXG4gIHRpbWVzdGFtcDogbnVtYmVyXG4gIGR1cmF0aW9uOiBudW1iZXJcbiAgc2VxdWVuY2U6IG51bWJlclxufVxuXG4vLyDpoJDoqK3phY3nva5cbmNvbnN0IERFRkFVTFRfQ09ORklHOiBBdWRpb1JlY29yZGVyQ29uZmlnID0ge1xuICBjaHVua0ludGVydmFsOiAxMjAwMCwgLy8gMTIg56eS5YiH54mH77yI6IiH5b6M56uv5ZCM5q2l77yJXG4gIG1pbWVUeXBlOiAnYXVkaW8vd2VibTtjb2RlY3M9b3B1cycsXG4gIGF1ZGlvQml0c1BlclNlY29uZDogMTI4MDAwLCAvLyAxMjgga2Jwc1xufVxuXG4vLyDmlK/mj7TnmoTpn7PoqIrmoLzlvI/liJfooajvvIjlhKrlhYjpoIbluo/vvIlcbi8vIE1QNCDmoLzlvI/lnKggRkZtcGVnIDcuMS4xIOS4reacieabtOWlveeahOWFvOWuueaAp++8jOWboOatpOaUvuWcqOesrOS4gOS9jVxuY29uc3QgU1VQUE9SVEVEX01JTUVfVFlQRVMgPSBbXG4gICdhdWRpby93ZWJtO2NvZGVjcz1vcHVzJywgLy8g56ys5LiA5YSq5YWI77yaV2ViTSBPcHVzIOe3qOino+eivOWZqO+8jOmfs+izquWEquengOS4lOS4sua1geWPi+WlvVxuICAnYXVkaW8vd2VibScsICAgICAgICAgICAgIC8vIOesrOS6jOWEquWFiO+8mldlYk0g6YCa55So5qC85byPXG4gICdhdWRpby9tcDQnLCAgICAgICAgICAgICAgLy8g56ys5LiJ5YSq5YWI77yaTVA0IOS9nOeCuuWCmemBuOaWueahiFxuICAnYXVkaW8vb2dnO2NvZGVjcz1vcHVzJyxcbiAgJ2F1ZGlvL3dhdicsXG5dXG5cbmV4cG9ydCBjbGFzcyBBdWRpb1JlY29yZGVyIHtcbiAgcHJpdmF0ZSBtZWRpYVJlY29yZGVyOiBNZWRpYVJlY29yZGVyIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGNvbmZpZzogQXVkaW9SZWNvcmRlckNvbmZpZ1xuICBwcml2YXRlIHN0YXRlOiBBdWRpb1JlY29yZGVyU3RhdGUgPSAnaWRsZSdcbiAgcHJpdmF0ZSBzZXF1ZW5jZSA9IDBcbiAgcHJpdmF0ZSBzdGFydFRpbWUgPSAwXG5cbiAgLy8g5LqL5Lu25Zue6Kq/XG4gIHByaXZhdGUgb25DaHVua0NhbGxiYWNrPzogKGNodW5rOiBBdWRpb0NodW5rKSA9PiB2b2lkXG4gIHByaXZhdGUgb25TdGF0ZUNoYW5nZUNhbGxiYWNrPzogKHN0YXRlOiBBdWRpb1JlY29yZGVyU3RhdGUpID0+IHZvaWRcbiAgcHJpdmF0ZSBvbkVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkXG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBQYXJ0aWFsPEF1ZGlvUmVjb3JkZXJDb25maWc+ID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZyA9IHsgLi4uREVGQVVMVF9DT05GSUcsIC4uLmNvbmZpZyB9XG5cbiAgICAvLyDmqqLmn6XngI/opr3lmajnm7jlrrnmgKdcbiAgICBpZiAoIXRoaXMuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfmgqjnmoTngI/opr3lmajkuI3mlK/mj7Tpn7PoqIrpjIToo73lip/og70nKVxuICAgIH1cblxuICAgIC8vIOmBuOaTh+aUr+aPtOeahOmfs+ioiuagvOW8j1xuICAgIHRoaXMuY29uZmlnLm1pbWVUeXBlID0gdGhpcy5nZXRTdXBwb3J0ZWRNaW1lVHlwZSgpXG4gIH1cblxuICAvLyDmqqLmn6XngI/opr3lmajmlK/mj7TluqZcbiAgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICdtZWRpYURldmljZXMnIGluIG5hdmlnYXRvciAmJlxuICAgICAgJ2dldFVzZXJNZWRpYScgaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJlxuICAgICAgJ01lZGlhUmVjb3JkZXInIGluIHdpbmRvd1xuICAgIClcbiAgfVxuXG4gIC8vIOeNsuWPluaUr+aPtOeahOmfs+ioiuagvOW8j1xuICBwcml2YXRlIGdldFN1cHBvcnRlZE1pbWVUeXBlKCk6IHN0cmluZyB7XG4gICAgZm9yIChjb25zdCBtaW1lVHlwZSBvZiBTVVBQT1JURURfTUlNRV9UWVBFUykge1xuICAgICAgaWYgKE1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKG1pbWVUeXBlKSkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+OpCDkvb/nlKjpn7PoqIrmoLzlvI86JywgbWltZVR5cGUpXG4gICAgICAgIHJldHVybiBtaW1lVHlwZVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWmguaenOmDveS4jeaUr+aPtO+8jOS9v+eUqOmgkOioreagvOW8j1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIOS9v+eUqOmgkOioremfs+ioiuagvOW8jzonLCBERUZBVUxUX0NPTkZJRy5taW1lVHlwZSlcbiAgICByZXR1cm4gREVGQVVMVF9DT05GSUcubWltZVR5cGVcbiAgfVxuXG4gIC8vIOWIneWni+WMlumfs+ioiuS4sua1gVxuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLm1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgIGVjaG9DYW5jZWxsYXRpb246IHRydWUsXG4gICAgICAgICAgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSxcbiAgICAgICAgICBhdXRvR2FpbkNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgc2FtcGxlUmF0ZTogMTYwMDAsIC8vIDE2a0h6IOmBqeWQiOiqnumfs+i+qOitmFxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+OpCDpn7PoqIrmrIrpmZDlt7LnjbLlj5YnKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfnhKHms5Xlj5blvpfpn7PoqIrmrIrpmZAnXG4gICAgICB0aGlzLmhhbmRsZUVycm9yKG5ldyBFcnJvcihg6Z+z6KiK5Yid5aeL5YyW5aSx5pWXOiAke2Vycm9yTWVzc2FnZX1gKSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgLy8g6ZaL5aeL6YyE6Z+zXG4gIGFzeW5jIHN0YXJ0UmVjb3JkaW5nKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSAncmVjb3JkaW5nJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1lZGlhU3RyZWFtKSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKVxuICAgIH1cblxuICAgIGlmICghdGhpcy5tZWRpYVN0cmVhbSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfpn7PoqIrkuLLmtYHmnKrliJ3lp4vljJYnKVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyDlu7rnq4sgTWVkaWFSZWNvcmRlclxuICAgICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIodGhpcy5tZWRpYVN0cmVhbSwge1xuICAgICAgICBtaW1lVHlwZTogdGhpcy5jb25maWcubWltZVR5cGUsXG4gICAgICAgIGF1ZGlvQml0c1BlclNlY29uZDogdGhpcy5jb25maWcuYXVkaW9CaXRzUGVyU2Vjb25kLFxuICAgICAgfSlcblxuICAgICAgLy8g6Kit5a6a5LqL5Lu26JmV55CG5ZmoXG4gICAgICB0aGlzLnNldHVwTWVkaWFSZWNvcmRlckV2ZW50cygpXG5cbiAgICAgIC8vIOmWi+Wni+mMhOmfs++8jOS9v+eUqCBNZWRpYVJlY29yZGVyIOeahOiHquWLleWIh+eJh+WKn+iDvVxuICAgICAgLy8g6YCZ5q+U5omL5YuVIHJlcXVlc3REYXRhKCkg5pu05Y+v6Z2g5LiU57Ch5r2UXG4gICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQodGhpcy5jb25maWcuY2h1bmtJbnRlcnZhbClcbiAgICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICAgICAgdGhpcy5zZXF1ZW5jZSA9IDBcblxuICAgICAgdGhpcy5zZXRTdGF0ZSgncmVjb3JkaW5nJylcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIOmWi+Wni+mMhOmfsycpXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn6YyE6Z+z5ZWf5YuV5aSx5pWXJ1xuICAgICAgdGhpcy5oYW5kbGVFcnJvcihuZXcgRXJyb3IoYOmMhOmfs+WVn+WLleWkseaVlzogJHtlcnJvck1lc3NhZ2V9YCkpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8vIOWBnOatoumMhOmfs1xuICBzdG9wUmVjb3JkaW5nKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSAncmVjb3JkaW5nJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlcikge1xuICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoJ2lkbGUnKVxuICAgIGNvbnNvbGUubG9nKCfwn5uRIOWBnOatoumMhOmfsycpXG4gIH1cblxuICAvLyDmmqvlgZzpjITpn7NcbiAgcGF1c2VSZWNvcmRpbmcoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09ICdyZWNvcmRpbmcnIHx8ICF0aGlzLm1lZGlhUmVjb3JkZXIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMubWVkaWFSZWNvcmRlci5wYXVzZSgpXG4gICAgdGhpcy5zZXRTdGF0ZSgncGF1c2VkJylcbiAgICBjb25zb2xlLmxvZygn4o+477iPIOaaq+WBnOmMhOmfsycpXG4gIH1cblxuICAvLyDmgaLlvqnpjITpn7NcbiAgcmVzdW1lUmVjb3JkaW5nKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSAncGF1c2VkJyB8fCAhdGhpcy5tZWRpYVJlY29yZGVyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIucmVzdW1lKClcbiAgICB0aGlzLnNldFN0YXRlKCdyZWNvcmRpbmcnKVxuICAgIGNvbnNvbGUubG9nKCfilrbvuI8g5oGi5b6p6YyE6Z+zJylcbiAgfVxuXG4gIC8vIOa4heeQhuizh+a6kFxuICBjbGVhbnVwKCk6IHZvaWQge1xuICAgIHRoaXMuc3RvcFJlY29yZGluZygpXG5cbiAgICBpZiAodGhpcy5tZWRpYVN0cmVhbSkge1xuICAgICAgdGhpcy5tZWRpYVN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSlcbiAgICAgIHRoaXMubWVkaWFTdHJlYW0gPSBudWxsXG4gICAgfVxuXG4gICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbnVsbFxuICAgIGNvbnNvbGUubG9nKCfwn6e5IOmfs+ioiumMhOijveWZqOW3sua4heeQhicpXG4gIH1cblxuICAvLyDms6jmhI/vvJrlt7Lnp7vpmaQgV2ViTSDmoLzlvI/pqZforYnvvIzkv6Hku7sgTWVkaWFSZWNvcmRlciDlkozlvoznq68gRkZtcGVnIOiZleeQhlxuXG4gIC8vIOioreWumiBNZWRpYVJlY29yZGVyIOS6i+S7tuiZleeQhuWZqFxuICBwcml2YXRlIHNldHVwTWVkaWFSZWNvcmRlckV2ZW50cygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubWVkaWFSZWNvcmRlcikgcmV0dXJuXG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLnNpemUgPiAwKSB7XG4gICAgICAgIC8vIOWfuuacrOWkp+Wwj+aqouafpSAtIOmZjeS9jumWgOaqu+WAvOS7peaOpeWPl+abtOWkmuacieaViOWIh+eJh1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5zaXplIDwgNTApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDpn7PoqIrliIfniYcgIyR7dGhpcy5zZXF1ZW5jZX0g5aSq5bCP77yM6Lez6YGOOiAke2V2ZW50LmRhdGEuc2l6ZX0gYnl0ZXNgKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5L+h5Lu7IE1lZGlhUmVjb3JkZXIg55Si55Sf55qE6LOH5paZ77yM5LiN5YGa5qC85byP6amX6K2JXG4gICAgICAgIC8vIOW+jOerryBGRm1wZWcg5pyD55SoIC1mZmxhZ3MgK2dlbnB0cyDomZXnkIbkuI3lrozmlbTnmoTmtYHlvI/os4fmlplcblxuICAgICAgICBjb25zdCBjaHVuazogQXVkaW9DaHVuayA9IHtcbiAgICAgICAgICBibG9iOiBldmVudC5kYXRhLFxuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lLFxuICAgICAgICAgIHNlcXVlbmNlOiB0aGlzLnNlcXVlbmNlKyssXG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+OtSDnlKLnlJ/mnInmlYjpn7PoqIrliIfniYcgIyR7Y2h1bmsuc2VxdWVuY2V9LCDlpKflsI86ICR7Y2h1bmsuYmxvYi5zaXplfSBieXRlcywg6aGe5Z6LOiAke2NodW5rLmJsb2IudHlwZX1gKVxuXG4gICAgICAgIHRoaXMub25DaHVua0NhbGxiYWNrPy4oY2h1bmspXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDmlLbliLDnqbrnmoTpn7PoqIrliIfniYcgIyR7dGhpcy5zZXF1ZW5jZX1gKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IGV2ZW50LmVycm9yIHx8IG5ldyBFcnJvcignTWVkaWFSZWNvcmRlciDpjK/oqqQnKVxuICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcilcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25zdGFydCA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIE1lZGlhUmVjb3JkZXIg5bey5ZWf5YuVJylcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25zdG9wID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/Cfm5EgTWVkaWFSZWNvcmRlciDlt7LlgZzmraInKVxuICAgIH1cbiAgfVxuXG4gIC8vIOazqOaEj++8muS4jeWGjemcgOimgeaJi+WLleWumuaZguWZqO+8jE1lZGlhUmVjb3JkZXIuc3RhcnQoaW50ZXJ2YWwpIOacg+iHquWLleiZleeQhuWIh+eJh1xuXG4gIC8vIOioreWumueLgOaFi1xuICBwcml2YXRlIHNldFN0YXRlKG5ld1N0YXRlOiBBdWRpb1JlY29yZGVyU3RhdGUpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGVcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VDYWxsYmFjaz8uKG5ld1N0YXRlKVxuICB9XG5cbiAgLy8g6Yyv6Kqk6JmV55CGXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IEVycm9yKTogdm9pZCB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEF1ZGlvUmVjb3JkZXIg6Yyv6KqkOicsIGVycm9yKVxuICAgIHRoaXMuc2V0U3RhdGUoJ2Vycm9yJylcbiAgICB0aGlzLm9uRXJyb3JDYWxsYmFjaz8uKGVycm9yKVxuICB9XG5cbiAgLy8g5LqL5Lu25Zue6Kq/6Kit5a6aXG4gIG9uQ2h1bmsoY2FsbGJhY2s6IChjaHVuazogQXVkaW9DaHVuaykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25DaHVua0NhbGxiYWNrID0gY2FsbGJhY2tcbiAgfVxuXG4gIG9uU3RhdGVDaGFuZ2UoY2FsbGJhY2s6IChzdGF0ZTogQXVkaW9SZWNvcmRlclN0YXRlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG5cbiAgb25FcnJvcihjYWxsYmFjazogKGVycm9yOiBFcnJvcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25FcnJvckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgfVxuXG4gIC8vIEdldHRlclxuICBnZXQgY3VycmVudFN0YXRlKCk6IEF1ZGlvUmVjb3JkZXJTdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVcbiAgfVxuXG4gIGdldCBpc1JlY29yZGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gJ3JlY29yZGluZydcbiAgfVxuXG4gIGdldCBpc1BhdXNlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gJ3BhdXNlZCdcbiAgfVxuXG4gIGdldCBjdXJyZW50Q29uZmlnKCk6IEF1ZGlvUmVjb3JkZXJDb25maWcge1xuICAgIHJldHVybiB7IC4uLnRoaXMuY29uZmlnIH1cbiAgfVxufVxuXG4vLyDlt6Xlu6Dlh73mlbhcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb1JlY29yZGVyID0gKGNvbmZpZz86IFBhcnRpYWw8QXVkaW9SZWNvcmRlckNvbmZpZz4pOiBBdWRpb1JlY29yZGVyID0+IHtcbiAgcmV0dXJuIG5ldyBBdWRpb1JlY29yZGVyKGNvbmZpZylcbn1cblxuLy8g54CP6Ka95Zmo55u45a655oCn5qqi5p+l5Ye95pW4XG5leHBvcnQgY29uc3QgY2hlY2tBdWRpb1JlY29yZGluZ1N1cHBvcnQgPSAoKToge1xuICBzdXBwb3J0ZWQ6IGJvb2xlYW5cbiAgZXJyb3JzOiBzdHJpbmdbXVxufSA9PiB7XG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXVxuXG4gIGlmICghKCdtZWRpYURldmljZXMnIGluIG5hdmlnYXRvcikpIHtcbiAgICBlcnJvcnMucHVzaCgn5LiN5pSv5o+0IE1lZGlhRGV2aWNlcyBBUEknKVxuICB9XG5cbiAgaWYgKCEoJ2dldFVzZXJNZWRpYScgaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykpIHtcbiAgICBlcnJvcnMucHVzaCgn5LiN5pSv5o+0IGdldFVzZXJNZWRpYSBBUEknKVxuICB9XG5cbiAgaWYgKCEoJ01lZGlhUmVjb3JkZXInIGluIHdpbmRvdykpIHtcbiAgICBlcnJvcnMucHVzaCgn5LiN5pSv5o+0IE1lZGlhUmVjb3JkZXIgQVBJJylcbiAgfVxuXG4gIC8vIOaqouafpSBIVFRQU1xuICBpZiAobG9jYXRpb24ucHJvdG9jb2wgIT09ICdodHRwczonICYmIGxvY2F0aW9uLmhvc3RuYW1lICE9PSAnbG9jYWxob3N0Jykge1xuICAgIGVycm9ycy5wdXNoKCfpnIDopoEgSFRUUFMg6YCj5o6l5omN6IO95L2/55So6Z+z6KiK5Yqf6IO9JylcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3VwcG9ydGVkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgIGVycm9yc1xuICB9XG59XG4iXSwibmFtZXMiOlsiREVGQVVMVF9DT05GSUciLCJjaHVua0ludGVydmFsIiwibWltZVR5cGUiLCJhdWRpb0JpdHNQZXJTZWNvbmQiLCJTVVBQT1JURURfTUlNRV9UWVBFUyIsIkF1ZGlvUmVjb3JkZXIiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsIm1lZGlhUmVjb3JkZXIiLCJtZWRpYVN0cmVhbSIsInN0YXRlIiwic2VxdWVuY2UiLCJzdGFydFRpbWUiLCJpc1N1cHBvcnRlZCIsIkVycm9yIiwiZ2V0U3VwcG9ydGVkTWltZVR5cGUiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJ3aW5kb3ciLCJNZWRpYVJlY29yZGVyIiwiaXNUeXBlU3VwcG9ydGVkIiwiY29uc29sZSIsImxvZyIsIndhcm4iLCJpbml0aWFsaXplIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJlY2hvQ2FuY2VsbGF0aW9uIiwibm9pc2VTdXBwcmVzc2lvbiIsImF1dG9HYWluQ29udHJvbCIsInNhbXBsZVJhdGUiLCJlcnJvciIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJoYW5kbGVFcnJvciIsInN0YXJ0UmVjb3JkaW5nIiwic2V0dXBNZWRpYVJlY29yZGVyRXZlbnRzIiwic3RhcnQiLCJEYXRlIiwibm93Iiwic2V0U3RhdGUiLCJzdG9wUmVjb3JkaW5nIiwic3RvcCIsInBhdXNlUmVjb3JkaW5nIiwicGF1c2UiLCJyZXN1bWVSZWNvcmRpbmciLCJyZXN1bWUiLCJjbGVhbnVwIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwib25kYXRhYXZhaWxhYmxlIiwiZXZlbnQiLCJkYXRhIiwic2l6ZSIsImNodW5rIiwiYmxvYiIsInRpbWVzdGFtcCIsImR1cmF0aW9uIiwidHlwZSIsIm9uQ2h1bmtDYWxsYmFjayIsIm9uZXJyb3IiLCJvbnN0YXJ0Iiwib25zdG9wIiwibmV3U3RhdGUiLCJvblN0YXRlQ2hhbmdlQ2FsbGJhY2siLCJvbkVycm9yQ2FsbGJhY2siLCJvbkNodW5rIiwiY2FsbGJhY2siLCJvblN0YXRlQ2hhbmdlIiwib25FcnJvciIsImN1cnJlbnRTdGF0ZSIsImlzUmVjb3JkaW5nIiwiaXNQYXVzZWQiLCJjdXJyZW50Q29uZmlnIiwiY3JlYXRlQXVkaW9SZWNvcmRlciIsImNoZWNrQXVkaW9SZWNvcmRpbmdTdXBwb3J0IiwiZXJyb3JzIiwicHVzaCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInN1cHBvcnRlZCIsImxlbmd0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/audio-recorder.ts\n");

/***/ }),

/***/ "(ssr)/./lib/transcript-manager.ts":
/*!***********************************!*\
  !*** ./lib/transcript-manager.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transcriptManager: () => (/* binding */ transcriptManager)\n/* harmony export */ });\n/* harmony import */ var _websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./websocket */ \"(ssr)/./lib/websocket.ts\");\n/* __next_internal_client_entry_do_not_use__ transcriptManager auto */ \n/**\n * TranscriptManager - 統一管理 transcript WebSocket 連接的 Singleton\n *\n * 功能：\n * - 確保每個 session 只有一個 transcript 連接\n * - 統一管理連接狀態、心跳、重連\n * - 提供簡潔的 API 給其他組件使用\n */ class TranscriptManager {\n    static{\n        this.instance = null;\n    }\n    constructor(){\n        this.connections = new Map();\n        this.listeners = new Map();\n        this.connectionStates = new Map();\n        this.heartbeatIntervals = new Map();\n        this.reconnectAttempts = new Map();\n        this.maxReconnectAttempts = 5;\n        this.heartbeatInterval = 10000 // 10秒，避免伺服器過早判定逾時\n        ;\n        this.reconnectDelay = 2000 // 2秒\n        ;\n        // Singleton pattern - 私有建構子\n        // 開發模式下將實例掛到全域以利除錯\n        if (false) {}\n    }\n    /**\n   * 取得 TranscriptManager 實例\n   */ static getInstance() {\n        if (!TranscriptManager.instance) {\n            TranscriptManager.instance = new TranscriptManager();\n        }\n        return TranscriptManager.instance;\n    }\n    /**\n   * 連接到指定 session 的 transcript feed\n   */ async connect(sessionId) {\n        // 如果已經有連接，直接返回\n        if (this.connections.has(sessionId) && this.connectionStates.get(sessionId)) {\n            console.log(`📱 [TranscriptManager] Session ${sessionId} 已連接，跳過重複連接`);\n            return;\n        }\n        try {\n            console.log(`📱 [TranscriptManager] 開始連接 session ${sessionId}`);\n            // 清理舊連接（如果存在）\n            await this.disconnect(sessionId);\n            // 重置重連計數\n            this.reconnectAttempts.set(sessionId, 0);\n            // 建立新連接\n            await this.establishConnection(sessionId);\n            // 等待連線完全就緒\n            await this.waitForConnectionReady(sessionId);\n            console.log(`✅ [TranscriptManager] Session ${sessionId} 連接並就緒`);\n        } catch (error) {\n            console.error(`❌ [TranscriptManager] Session ${sessionId} 連接失敗:`, error);\n            this.connectionStates.set(sessionId, false);\n            // 嘗試重連\n            this.scheduleReconnect(sessionId);\n            throw error;\n        }\n    }\n    /**\n * 等待連線完全就緒\n */ async waitForConnectionReady(sessionId, timeout = 5000) {\n        return new Promise((resolve, reject)=>{\n            const startTime = Date.now();\n            const checkReady = ()=>{\n                const ws = this.connections.get(sessionId);\n                const isConnected = this.connectionStates.get(sessionId);\n                console.log(`🔍 [TranscriptManager] 檢查連線就緒狀態:`, {\n                    sessionId,\n                    hasWebSocket: !!ws,\n                    isConnected: !!isConnected,\n                    wsReadyState: ws?.readyState,\n                    wsIsConnected: ws?.isConnected || false,\n                    elapsedTime: Date.now() - startTime\n                });\n                // 修正：檢查 WebSocket 狀態更寬鬆，支援測試環境\n                const wsReady = ws && (ws.isConnected || ws.readyState === WebSocket.OPEN ||  false && 0 // 測試環境兼容\n                );\n                if (ws && isConnected && wsReady) {\n                    console.log(`✅ [TranscriptManager] Session ${sessionId} 連線就緒`);\n                    resolve();\n                    return;\n                }\n                // 檢查超時\n                if (Date.now() - startTime > timeout) {\n                    console.error(`⏰ [TranscriptManager] Session ${sessionId} 連線就緒等待超時`);\n                    console.error(`   最終狀態: ws=${!!ws}, isConnected=${!!isConnected}, wsReady=${!!wsReady}`);\n                    reject(new Error(`連線就緒等待超時 (${timeout}ms)`));\n                    return;\n                }\n                // 繼續等待\n                setTimeout(checkReady, 100);\n            };\n            checkReady();\n        });\n    }\n    /**\n   * 建立 WebSocket 連接\n   */ async establishConnection(sessionId) {\n        const ws = new _websocket__WEBPACK_IMPORTED_MODULE_0__.TranscriptWebSocket(sessionId);\n        // 設定訊息處理\n        ws.onMessage((message)=>{\n            this.handleMessage(sessionId, message);\n        });\n        // 設定連接關閉處理\n        this.setupConnectionHandlers(ws, sessionId);\n        // 連接 WebSocket\n        await ws.connect();\n        // 儲存連接\n        this.connections.set(sessionId, ws);\n        this.connectionStates.set(sessionId, true);\n        // 發送初始 ping 啟動後端處理循環\n        this.sendPing(sessionId);\n        // 啟動心跳\n        this.startHeartbeat(sessionId);\n        console.log(`✅ TranscriptManager: Session ${sessionId} 連接成功`);\n    }\n    /**\n* 設定連接處理器\n*/ setupConnectionHandlers(ws, sessionId) {\n        // 監聽 WebSocket 關閉事件\n        ws.onClose((event)=>{\n            console.log(`🔌 TranscriptManager: Session ${sessionId} 連接關閉:`, event.code, event.reason);\n            // 更新狀態\n            this.connectionStates.set(sessionId, false);\n            this.stopHeartbeat(sessionId);\n            // 如果不是手動關閉，嘗試重連\n            if (event.code !== 1000) {\n                this.scheduleReconnect(sessionId);\n            }\n        });\n    }\n    /**\n   * 處理收到的訊息\n   */ handleMessage(sessionId, message) {\n        console.log('📨 [TranscriptManager] 收到訊息:', {\n            sessionId,\n            type: message.type,\n            message: message,\n            timestamp: new Date().toISOString(),\n            listenerCount: this.listeners.get(sessionId)?.size || 0\n        });\n        // 處理不同類型的訊息\n        if (message.type === 'transcript_segment') {\n            console.log('📝 [TranscriptManager] 逐字稿片段詳情:', {\n                sessionId,\n                text: message.text,\n                textLength: message.text?.length || 0,\n                textPreview: message.text?.substring(0, 50) + (message.text?.length > 50 ? '...' : ''),\n                start_time: message.start_time,\n                end_time: message.end_time,\n                confidence: message.confidence\n            });\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'connection_established') {\n            console.log('✅ [TranscriptManager] 連接已建立:', {\n                sessionId,\n                message: message.message,\n                timestamp: message.timestamp\n            });\n        } else if (message.type === 'transcript_complete') {\n            console.log('🎯 [TranscriptManager] 轉錄完成:', {\n                sessionId,\n                message: message.message,\n                timestamp: message.timestamp\n            });\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'heartbeat_ack') {\n            console.log('💓 [TranscriptManager] 心跳回應:', {\n                sessionId,\n                timestamp: message.timestamp\n            });\n        } else if (message.type === 'pong') {\n            console.log('🏓 [TranscriptManager] Pong 回應:', {\n                sessionId,\n                timestamp: message.timestamp\n            });\n        } else if (message.phase === 'waiting') {\n            console.log('⏳ [TranscriptManager] 收到 waiting phase:', {\n                sessionId,\n                phase: message.phase,\n                timestamp: new Date().toISOString()\n            });\n        } else if (message.phase === 'active') {\n            console.log('✅ [TranscriptManager] 收到 active phase，轉錄已開始:', {\n                sessionId,\n                phase: message.phase,\n                timestamp: new Date().toISOString()\n            });\n        } else if (message.type === 'error' || message.type === 'transcription_error') {\n            console.error('🚨 [TranscriptManager] 收到轉錄錯誤:', {\n                sessionId,\n                type: message.type,\n                error_type: message.error_type,\n                error_message: message.error_message,\n                details: message.details,\n                timestamp: new Date().toISOString()\n            });\n            // 廣播錯誤訊息給監聽器\n            this.broadcastToListeners(sessionId, message);\n        } else {\n            console.log('📨 [TranscriptManager] 未知訊息類型:', {\n                sessionId,\n                type: message.type,\n                fullMessage: message\n            });\n        }\n    }\n    /**\n   * 廣播訊息給所有監聽器\n   */ broadcastToListeners(sessionId, message) {\n        const sessionListeners = this.listeners.get(sessionId);\n        console.log('📡 [TranscriptManager] 廣播訊息給監聽器:', {\n            sessionId,\n            messageType: message.type,\n            listenerCount: sessionListeners?.size || 0,\n            hasListeners: !!sessionListeners\n        });\n        if (sessionListeners) {\n            let successCount = 0;\n            let errorCount = 0;\n            sessionListeners.forEach((callback)=>{\n                try {\n                    callback(message);\n                    successCount++;\n                    console.log(`✅ [TranscriptManager] 監聽器回調成功 (${successCount}/${sessionListeners.size})`);\n                } catch (error) {\n                    errorCount++;\n                    console.error(`❌ [TranscriptManager] 監聽器回調錯誤 (${errorCount}/${sessionListeners.size}):`, error);\n                }\n            });\n            console.log(`📡 [TranscriptManager] 廣播完成: ${successCount} 成功, ${errorCount} 失敗`);\n        } else {\n            console.warn(`⚠️ [TranscriptManager] 沒有找到 session ${sessionId} 的監聽器`);\n        }\n    }\n    /**\n   * 發送 ping\n   */ sendPing(sessionId) {\n        const ws = this.connections.get(sessionId);\n        if (ws && ws.isConnected) {\n            ws.sendJson({\n                type: 'ping'\n            });\n            console.log(`🏓 TranscriptManager: 向 session ${sessionId} 發送 ping`);\n        }\n    }\n    /**\n   * 發送心跳\n   */ sendHeartbeat(sessionId) {\n        const ws = this.connections.get(sessionId);\n        if (ws && ws.isConnected) {\n            ws.sendJson({\n                type: 'heartbeat',\n                timestamp: Date.now()\n            });\n            console.log(`💓 TranscriptManager: 向 session ${sessionId} 發送心跳`);\n        } else {\n            // 連接已斷開，停止心跳並嘗試重連\n            this.stopHeartbeat(sessionId);\n            this.connectionStates.set(sessionId, false);\n            this.scheduleReconnect(sessionId);\n        }\n    }\n    /**\n   * 啟動心跳機制\n   */ startHeartbeat(sessionId) {\n        this.stopHeartbeat(sessionId);\n        const interval = setInterval(()=>{\n            this.sendHeartbeat(sessionId);\n        }, this.heartbeatInterval);\n        this.heartbeatIntervals.set(sessionId, interval);\n        console.log(`💓 TranscriptManager: 為 session ${sessionId} 啟動心跳`);\n    }\n    /**\n   * 停止心跳機制\n   */ stopHeartbeat(sessionId) {\n        const interval = this.heartbeatIntervals.get(sessionId);\n        if (interval) {\n            clearInterval(interval);\n            this.heartbeatIntervals.delete(sessionId);\n            console.log(`💓 TranscriptManager: 為 session ${sessionId} 停止心跳`);\n        }\n    }\n    /**\n   * 安排重連\n   */ scheduleReconnect(sessionId) {\n        const attempts = this.reconnectAttempts.get(sessionId) ?? 0;\n        if (attempts >= this.maxReconnectAttempts) {\n            console.error(`❌ TranscriptManager: Session ${sessionId} 重連次數已達上限`);\n            return;\n        }\n        this.reconnectAttempts.set(sessionId, attempts + 1);\n        const delay = this.reconnectDelay * Math.pow(2, attempts) // 指數退避\n        ;\n        console.log(`🔄 TranscriptManager: Session ${sessionId} 將在 ${delay}ms 後重連 (第 ${attempts + 1} 次)`);\n        setTimeout(async ()=>{\n            try {\n                await this.establishConnection(sessionId);\n                this.reconnectAttempts.set(sessionId, 0) // 重連成功，重置計數\n                ;\n            } catch (error) {\n                console.error(`❌ TranscriptManager: Session ${sessionId} 重連失敗:`, error);\n            }\n        }, delay);\n    }\n    /**\n   * 斷開指定 session 的連接\n   */ async disconnect(sessionId) {\n        console.log(`📱 TranscriptManager: 斷開 session ${sessionId}`);\n        // 停止心跳\n        this.stopHeartbeat(sessionId);\n        // 斷開 WebSocket\n        const ws = this.connections.get(sessionId);\n        if (ws) {\n            ws.disconnect();\n            this.connections.delete(sessionId);\n        }\n        // 更新狀態\n        this.connectionStates.set(sessionId, false);\n        // 清理監聽器\n        this.listeners.delete(sessionId);\n        // 清理重連計數\n        this.reconnectAttempts.delete(sessionId);\n    }\n    /**\n   * 添加訊息監聽器\n   */ addListener(sessionId, callback) {\n        if (!this.listeners.has(sessionId)) {\n            this.listeners.set(sessionId, new Set());\n        }\n        this.listeners.get(sessionId).add(callback);\n        console.log(`📱 TranscriptManager: 為 session ${sessionId} 添加監聽器`);\n    }\n    /**\n   * 移除訊息監聽器\n   */ removeListener(sessionId, callback) {\n        const sessionListeners = this.listeners.get(sessionId);\n        if (sessionListeners) {\n            sessionListeners.delete(callback);\n            if (sessionListeners.size === 0) {\n                this.listeners.delete(sessionId);\n            }\n        }\n        console.log(`📱 TranscriptManager: 為 session ${sessionId} 移除監聽器`);\n    }\n    /**\n   * 檢查連接狀態\n   */ isConnected(sessionId) {\n        const ws = this.connections.get(sessionId);\n        const stateConnected = this.connectionStates.get(sessionId) ?? false;\n        const wsConnected = ws?.isConnected ?? false;\n        // 雙重檢查確保狀態一致\n        if (stateConnected !== wsConnected) {\n            this.connectionStates.set(sessionId, wsConnected);\n            return wsConnected;\n        }\n        return stateConnected;\n    }\n    /**\n   * 取得連接數量\n   */ getConnectionCount() {\n        return Array.from(this.connections.values()).filter((ws)=>ws.isConnected).length;\n    }\n    /**\n   * 清理所有連接\n   */ async disconnectAll() {\n        console.log('📱 TranscriptManager: 清理所有連接');\n        const sessionIds = Array.from(this.connections.keys());\n        await Promise.all(sessionIds.map((sessionId)=>this.disconnect(sessionId)));\n    }\n}\n// 匯出 Singleton 實例\nconst transcriptManager = TranscriptManager.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLEdBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi90cmFuc2NyaXB0LW1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgVHJhbnNjcmlwdFdlYlNvY2tldCwgVHJhbnNjcmlwdE1lc3NhZ2UgfSBmcm9tICcuL3dlYnNvY2tldCdcblxuLyoqXG4gKiBUcmFuc2NyaXB0TWFuYWdlciAtIOe1seS4gOeuoeeQhiB0cmFuc2NyaXB0IFdlYlNvY2tldCDpgKPmjqXnmoQgU2luZ2xldG9uXG4gKlxuICog5Yqf6IO977yaXG4gKiAtIOeiuuS/neavj+WAiyBzZXNzaW9uIOWPquacieS4gOWAiyB0cmFuc2NyaXB0IOmAo+aOpVxuICogLSDntbHkuIDnrqHnkIbpgKPmjqXni4DmhYvjgIHlv4Pot7PjgIHph43pgKNcbiAqIC0g5o+Q5L6b57Ch5r2U55qEIEFQSSDntablhbbku5bntYTku7bkvb/nlKhcbiAqL1xuY2xhc3MgVHJhbnNjcmlwdE1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogVHJhbnNjcmlwdE1hbmFnZXIgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGNvbm5lY3Rpb25zOiBNYXA8c3RyaW5nLCBUcmFuc2NyaXB0V2ViU29ja2V0PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGxpc3RlbmVyczogTWFwPHN0cmluZywgU2V0PChtZXNzYWdlOiBUcmFuc2NyaXB0TWVzc2FnZSkgPT4gdm9pZD4+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgY29ubmVjdGlvblN0YXRlczogTWFwPHN0cmluZywgYm9vbGVhbj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBoZWFydGJlYXRJbnRlcnZhbHM6IE1hcDxzdHJpbmcsIE5vZGVKUy5UaW1lb3V0PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHJlY29ubmVjdEF0dGVtcHRzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgbWF4UmVjb25uZWN0QXR0ZW1wdHMgPSA1XG4gIHByaXZhdGUgaGVhcnRiZWF0SW50ZXJ2YWwgPSAxMDAwMCAvLyAxMOenku+8jOmBv+WFjeS8uuacjeWZqOmBjuaXqeWIpOWumumAvuaZglxuICBwcml2YXRlIHJlY29ubmVjdERlbGF5ID0gMjAwMCAvLyAy56eSXG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBTaW5nbGV0b24gcGF0dGVybiAtIOengeacieW7uuani+WtkFxuXG4gICAgLy8g6ZaL55m85qih5byP5LiL5bCH5a+m5L6L5o6b5Yiw5YWo5Z+f5Lul5Yip6Zmk6YyvXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICA7ICh3aW5kb3cgYXMgYW55KS50cmFuc2NyaXB0TWFuYWdlciA9IHRoaXNcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5Y+W5b6XIFRyYW5zY3JpcHRNYW5hZ2VyIOWvpuS+i1xuICAgKi9cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IFRyYW5zY3JpcHRNYW5hZ2VyIHtcbiAgICBpZiAoIVRyYW5zY3JpcHRNYW5hZ2VyLmluc3RhbmNlKSB7XG4gICAgICBUcmFuc2NyaXB0TWFuYWdlci5pbnN0YW5jZSA9IG5ldyBUcmFuc2NyaXB0TWFuYWdlcigpXG4gICAgfVxuICAgIHJldHVybiBUcmFuc2NyaXB0TWFuYWdlci5pbnN0YW5jZVxuICB9XG5cbiAgLyoqXG4gICAqIOmAo+aOpeWIsOaMh+WumiBzZXNzaW9uIOeahCB0cmFuc2NyaXB0IGZlZWRcbiAgICovXG4gIGFzeW5jIGNvbm5lY3Qoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyDlpoLmnpzlt7LntpPmnInpgKPmjqXvvIznm7TmjqXov5Tlm55cbiAgICBpZiAodGhpcy5jb25uZWN0aW9ucy5oYXMoc2Vzc2lvbklkKSAmJiB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuZ2V0KHNlc3Npb25JZCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OxIFtUcmFuc2NyaXB0TWFuYWdlcl0gU2Vzc2lvbiAke3Nlc3Npb25JZH0g5bey6YCj5o6l77yM6Lez6YGO6YeN6KSH6YCj5o6lYClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+TsSBbVHJhbnNjcmlwdE1hbmFnZXJdIOmWi+Wni+mAo+aOpSBzZXNzaW9uICR7c2Vzc2lvbklkfWApXG5cbiAgICAgIC8vIOa4heeQhuiIiumAo+aOpe+8iOWmguaenOWtmOWcqO+8iVxuICAgICAgYXdhaXQgdGhpcy5kaXNjb25uZWN0KHNlc3Npb25JZClcblxuICAgICAgLy8g6YeN572u6YeN6YCj6KiI5pW4XG4gICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldChzZXNzaW9uSWQsIDApXG5cbiAgICAgIC8vIOW7uueri+aWsOmAo+aOpVxuICAgICAgYXdhaXQgdGhpcy5lc3RhYmxpc2hDb25uZWN0aW9uKHNlc3Npb25JZClcblxuICAgICAgLy8g562J5b6F6YCj57ea5a6M5YWo5bCx57eSXG4gICAgICBhd2FpdCB0aGlzLndhaXRGb3JDb25uZWN0aW9uUmVhZHkoc2Vzc2lvbklkKVxuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFtUcmFuc2NyaXB0TWFuYWdlcl0gU2Vzc2lvbiAke3Nlc3Npb25JZH0g6YCj5o6l5Lim5bCx57eSYClcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgW1RyYW5zY3JpcHRNYW5hZ2VyXSBTZXNzaW9uICR7c2Vzc2lvbklkfSDpgKPmjqXlpLHmlZc6YCwgZXJyb3IpXG4gICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuc2V0KHNlc3Npb25JZCwgZmFsc2UpXG5cbiAgICAgIC8vIOWYl+ippumHjemAo1xuICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdChzZXNzaW9uSWQpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICog562J5b6F6YCj57ea5a6M5YWo5bCx57eSXG4gKi9cbiAgcHJpdmF0ZSBhc3luYyB3YWl0Rm9yQ29ubmVjdGlvblJlYWR5KHNlc3Npb25JZDogc3RyaW5nLCB0aW1lb3V0OiBudW1iZXIgPSA1MDAwKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcblxuICAgICAgY29uc3QgY2hlY2tSZWFkeSA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgd3MgPSB0aGlzLmNvbm5lY3Rpb25zLmdldChzZXNzaW9uSWQpXG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gdGhpcy5jb25uZWN0aW9uU3RhdGVzLmdldChzZXNzaW9uSWQpXG5cbiAgICAgICAgY29uc29sZS5sb2coYPCflI0gW1RyYW5zY3JpcHRNYW5hZ2VyXSDmqqLmn6XpgKPnt5rlsLHnt5Lni4DmhYs6YCwge1xuICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICBoYXNXZWJTb2NrZXQ6ICEhd3MsXG4gICAgICAgICAgaXNDb25uZWN0ZWQ6ICEhaXNDb25uZWN0ZWQsXG4gICAgICAgICAgd3NSZWFkeVN0YXRlOiB3cz8ucmVhZHlTdGF0ZSxcbiAgICAgICAgICB3c0lzQ29ubmVjdGVkOiB3cz8uaXNDb25uZWN0ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgZWxhcHNlZFRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDkv67mraPvvJrmqqLmn6UgV2ViU29ja2V0IOeLgOaFi+abtOWvrOmshu+8jOaUr+aPtOa4rOippueSsOWig1xuICAgICAgICBjb25zdCB3c1JlYWR5ID0gd3MgJiYgKFxuICAgICAgICAgIHdzLmlzQ29ubmVjdGVkIHx8XG4gICAgICAgICAgd3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHxcbiAgICAgICAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LldlYlNvY2tldCAmJiB3cy5yZWFkeVN0YXRlID09PSAxKSAvLyDmuKzoqabnkrDlooPlhbzlrrlcbiAgICAgICAgKVxuXG4gICAgICAgIGlmICh3cyAmJiBpc0Nvbm5lY3RlZCAmJiB3c1JlYWR5KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBbVHJhbnNjcmlwdE1hbmFnZXJdIFNlc3Npb24gJHtzZXNzaW9uSWR9IOmAo+e3muWwsee3kmApXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyDmqqLmn6XotoXmmYJcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4o+wIFtUcmFuc2NyaXB0TWFuYWdlcl0gU2Vzc2lvbiAke3Nlc3Npb25JZH0g6YCj57ea5bCx57eS562J5b6F6LaF5pmCYClcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGAgICDmnIDntYLni4DmhYs6IHdzPSR7ISF3c30sIGlzQ29ubmVjdGVkPSR7ISFpc0Nvbm5lY3RlZH0sIHdzUmVhZHk9JHshIXdzUmVhZHl9YClcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGDpgKPnt5rlsLHnt5LnrYnlvoXotoXmmYIgKCR7dGltZW91dH1tcylgKSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOe5vOe6jOetieW+hVxuICAgICAgICBzZXRUaW1lb3V0KGNoZWNrUmVhZHksIDEwMClcbiAgICAgIH1cblxuICAgICAgY2hlY2tSZWFkeSgpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiDlu7rnq4sgV2ViU29ja2V0IOmAo+aOpVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBlc3RhYmxpc2hDb25uZWN0aW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgd3MgPSBuZXcgVHJhbnNjcmlwdFdlYlNvY2tldChzZXNzaW9uSWQpXG5cbiAgICAvLyDoqK3lrproqIrmga/omZXnkIZcbiAgICB3cy5vbk1lc3NhZ2UoKG1lc3NhZ2UpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZShzZXNzaW9uSWQsIG1lc3NhZ2UpXG4gICAgfSlcblxuICAgIC8vIOioreWumumAo+aOpemXnOmWieiZleeQhlxuICAgIHRoaXMuc2V0dXBDb25uZWN0aW9uSGFuZGxlcnMod3MsIHNlc3Npb25JZClcblxuICAgIC8vIOmAo+aOpSBXZWJTb2NrZXRcbiAgICBhd2FpdCB3cy5jb25uZWN0KClcblxuICAgIC8vIOWEsuWtmOmAo+aOpVxuICAgIHRoaXMuY29ubmVjdGlvbnMuc2V0KHNlc3Npb25JZCwgd3MpXG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIHRydWUpXG5cbiAgICAvLyDnmbzpgIHliJ3lp4sgcGluZyDllZ/li5Xlvoznq6/omZXnkIblvqrnkrBcbiAgICB0aGlzLnNlbmRQaW5nKHNlc3Npb25JZClcblxuICAgIC8vIOWVn+WLleW/g+i3s1xuICAgIHRoaXMuc3RhcnRIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgY29uc29sZS5sb2coYOKchSBUcmFuc2NyaXB0TWFuYWdlcjogU2Vzc2lvbiAke3Nlc3Npb25JZH0g6YCj5o6l5oiQ5YqfYClcbiAgfVxuXG4gIC8qKlxuKiDoqK3lrprpgKPmjqXomZXnkIblmahcbiovXG4gIHByaXZhdGUgc2V0dXBDb25uZWN0aW9uSGFuZGxlcnMod3M6IFRyYW5zY3JpcHRXZWJTb2NrZXQsIHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgLy8g55uj6IG9IFdlYlNvY2tldCDpl5zplonkuovku7ZcbiAgICB3cy5vbkNsb3NlKChldmVudCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYPCflIwgVHJhbnNjcmlwdE1hbmFnZXI6IFNlc3Npb24gJHtzZXNzaW9uSWR9IOmAo+aOpemXnOmWiTpgLCBldmVudC5jb2RlLCBldmVudC5yZWFzb24pXG5cbiAgICAgIC8vIOabtOaWsOeLgOaFi1xuICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIGZhbHNlKVxuICAgICAgdGhpcy5zdG9wSGVhcnRiZWF0KHNlc3Npb25JZClcblxuICAgICAgLy8g5aaC5p6c5LiN5piv5omL5YuV6Zec6ZaJ77yM5ZiX6Kmm6YeN6YCjXG4gICAgICBpZiAoZXZlbnQuY29kZSAhPT0gMTAwMCkgeyAvLyAxMDAwID0g5q2j5bi46Zec6ZaJXG4gICAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICog6JmV55CG5pS25Yiw55qE6KiK5oGvXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZU1lc3NhZ2Uoc2Vzc2lvbklkOiBzdHJpbmcsIG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKCfwn5OoIFtUcmFuc2NyaXB0TWFuYWdlcl0g5pS25Yiw6KiK5oGvOicsIHtcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGxpc3RlbmVyQ291bnQ6IHRoaXMubGlzdGVuZXJzLmdldChzZXNzaW9uSWQpPy5zaXplIHx8IDBcbiAgICB9KVxuXG4gICAgLy8g6JmV55CG5LiN5ZCM6aGe5Z6L55qE6KiK5oGvXG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3RyYW5zY3JpcHRfc2VnbWVudCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFtUcmFuc2NyaXB0TWFuYWdlcl0g6YCQ5a2X56i/54mH5q616Kmz5oOFOicsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB0ZXh0OiBtZXNzYWdlLnRleHQsXG4gICAgICAgIHRleHRMZW5ndGg6IG1lc3NhZ2UudGV4dD8ubGVuZ3RoIHx8IDAsXG4gICAgICAgIHRleHRQcmV2aWV3OiBtZXNzYWdlLnRleHQ/LnN1YnN0cmluZygwLCA1MCkgKyAobWVzc2FnZS50ZXh0Py5sZW5ndGggPiA1MCA/ICcuLi4nIDogJycpLFxuICAgICAgICBzdGFydF90aW1lOiBtZXNzYWdlLnN0YXJ0X3RpbWUsXG4gICAgICAgIGVuZF90aW1lOiBtZXNzYWdlLmVuZF90aW1lLFxuICAgICAgICBjb25maWRlbmNlOiBtZXNzYWdlLmNvbmZpZGVuY2VcbiAgICAgIH0pXG4gICAgICB0aGlzLmJyb2FkY2FzdFRvTGlzdGVuZXJzKHNlc3Npb25JZCwgbWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ2Nvbm5lY3Rpb25fZXN0YWJsaXNoZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIFtUcmFuc2NyaXB0TWFuYWdlcl0g6YCj5o6l5bey5bu656uLOicsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLm1lc3NhZ2UsXG4gICAgICAgIHRpbWVzdGFtcDogbWVzc2FnZS50aW1lc3RhbXBcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICd0cmFuc2NyaXB0X2NvbXBsZXRlJykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfjq8gW1RyYW5zY3JpcHRNYW5hZ2VyXSDovYnpjITlrozmiJA6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UubWVzc2FnZSxcbiAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlLnRpbWVzdGFtcFxuICAgICAgfSlcbiAgICAgIHRoaXMuYnJvYWRjYXN0VG9MaXN0ZW5lcnMoc2Vzc2lvbklkLCBtZXNzYWdlKVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnaGVhcnRiZWF0X2FjaycpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KTIFtUcmFuc2NyaXB0TWFuYWdlcl0g5b+D6Lez5Zue5oeJOicsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB0aW1lc3RhbXA6IG1lc3NhZ2UudGltZXN0YW1wXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAncG9uZycpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn4+TIFtUcmFuc2NyaXB0TWFuYWdlcl0gUG9uZyDlm57mh4k6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHRpbWVzdGFtcDogbWVzc2FnZS50aW1lc3RhbXBcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnBoYXNlID09PSAnd2FpdGluZycpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfij7MgW1RyYW5zY3JpcHRNYW5hZ2VyXSDmlLbliLAgd2FpdGluZyBwaGFzZTonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgcGhhc2U6IG1lc3NhZ2UucGhhc2UsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5waGFzZSA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgW1RyYW5zY3JpcHRNYW5hZ2VyXSDmlLbliLAgYWN0aXZlIHBoYXNl77yM6L2J6YyE5bey6ZaL5aeLOicsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICBwaGFzZTogbWVzc2FnZS5waGFzZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdlcnJvcicgfHwgbWVzc2FnZS50eXBlID09PSAndHJhbnNjcmlwdGlvbl9lcnJvcicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggW1RyYW5zY3JpcHRNYW5hZ2VyXSDmlLbliLDovYnpjITpjK/oqqQ6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgICAgZXJyb3JfdHlwZTogbWVzc2FnZS5lcnJvcl90eXBlLFxuICAgICAgICBlcnJvcl9tZXNzYWdlOiBtZXNzYWdlLmVycm9yX21lc3NhZ2UsXG4gICAgICAgIGRldGFpbHM6IG1lc3NhZ2UuZGV0YWlscyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gICAgICAvLyDlu6Pmkq3pjK/oqqToqIrmga/ntabnm6Pogb3lmahcbiAgICAgIHRoaXMuYnJvYWRjYXN0VG9MaXN0ZW5lcnMoc2Vzc2lvbklkLCBtZXNzYWdlKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+TqCBbVHJhbnNjcmlwdE1hbmFnZXJdIOacquefpeioiuaBr+mhnuWeizonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgdHlwZTogbWVzc2FnZS50eXBlLFxuICAgICAgICBmdWxsTWVzc2FnZTogbWVzc2FnZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5buj5pKt6KiK5oGv57Wm5omA5pyJ55uj6IG95ZmoXG4gICAqL1xuICBwcml2YXRlIGJyb2FkY2FzdFRvTGlzdGVuZXJzKHNlc3Npb25JZDogc3RyaW5nLCBtZXNzYWdlOiBUcmFuc2NyaXB0TWVzc2FnZSk6IHZvaWQge1xuICAgIGNvbnN0IHNlc3Npb25MaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQoc2Vzc2lvbklkKVxuICAgIGNvbnNvbGUubG9nKCfwn5OhIFtUcmFuc2NyaXB0TWFuYWdlcl0g5buj5pKt6KiK5oGv57Wm55uj6IG95ZmoOicsIHtcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIG1lc3NhZ2VUeXBlOiBtZXNzYWdlLnR5cGUsXG4gICAgICBsaXN0ZW5lckNvdW50OiBzZXNzaW9uTGlzdGVuZXJzPy5zaXplIHx8IDAsXG4gICAgICBoYXNMaXN0ZW5lcnM6ICEhc2Vzc2lvbkxpc3RlbmVyc1xuICAgIH0pXG5cbiAgICBpZiAoc2Vzc2lvbkxpc3RlbmVycykge1xuICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDBcbiAgICAgIGxldCBlcnJvckNvdW50ID0gMFxuXG4gICAgICBzZXNzaW9uTGlzdGVuZXJzLmZvckVhY2goY2FsbGJhY2sgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UpXG4gICAgICAgICAgc3VjY2Vzc0NvdW50KytcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFtUcmFuc2NyaXB0TWFuYWdlcl0g55uj6IG95Zmo5Zue6Kq/5oiQ5YqfICgke3N1Y2Nlc3NDb3VudH0vJHtzZXNzaW9uTGlzdGVuZXJzLnNpemV9KWApXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZXJyb3JDb3VudCsrXG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFtUcmFuc2NyaXB0TWFuYWdlcl0g55uj6IG95Zmo5Zue6Kq/6Yyv6KqkICgke2Vycm9yQ291bnR9LyR7c2Vzc2lvbkxpc3RlbmVycy5zaXplfSk6YCwgZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGNvbnNvbGUubG9nKGDwn5OhIFtUcmFuc2NyaXB0TWFuYWdlcl0g5buj5pKt5a6M5oiQOiAke3N1Y2Nlc3NDb3VudH0g5oiQ5YqfLCAke2Vycm9yQ291bnR9IOWkseaVl2ApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIFtUcmFuc2NyaXB0TWFuYWdlcl0g5rKS5pyJ5om+5YiwIHNlc3Npb24gJHtzZXNzaW9uSWR9IOeahOebo+iBveWZqGApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOeZvOmAgSBwaW5nXG4gICAqL1xuICBwcml2YXRlIHNlbmRQaW5nKHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3Qgd3MgPSB0aGlzLmNvbm5lY3Rpb25zLmdldChzZXNzaW9uSWQpXG4gICAgaWYgKHdzICYmIHdzLmlzQ29ubmVjdGVkKSB7XG4gICAgICB3cy5zZW5kSnNvbih7IHR5cGU6ICdwaW5nJyB9KVxuICAgICAgY29uc29sZS5sb2coYPCfj5MgVHJhbnNjcmlwdE1hbmFnZXI6IOWQkSBzZXNzaW9uICR7c2Vzc2lvbklkfSDnmbzpgIEgcGluZ2ApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOeZvOmAgeW/g+i3s1xuICAgKi9cbiAgcHJpdmF0ZSBzZW5kSGVhcnRiZWF0KHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3Qgd3MgPSB0aGlzLmNvbm5lY3Rpb25zLmdldChzZXNzaW9uSWQpXG4gICAgaWYgKHdzICYmIHdzLmlzQ29ubmVjdGVkKSB7XG4gICAgICB3cy5zZW5kSnNvbih7XG4gICAgICAgIHR5cGU6ICdoZWFydGJlYXQnLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH0pXG4gICAgICBjb25zb2xlLmxvZyhg8J+SkyBUcmFuc2NyaXB0TWFuYWdlcjog5ZCRIHNlc3Npb24gJHtzZXNzaW9uSWR9IOeZvOmAgeW/g+i3s2ApXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOmAo+aOpeW3suaWt+mWi++8jOWBnOatouW/g+i3s+S4puWYl+ippumHjemAo1xuICAgICAgdGhpcy5zdG9wSGVhcnRiZWF0KHNlc3Npb25JZClcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBmYWxzZSlcbiAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDllZ/li5Xlv4Pot7PmqZ/liLZcbiAgICovXG4gIHByaXZhdGUgc3RhcnRIZWFydGJlYXQoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnNlbmRIZWFydGJlYXQoc2Vzc2lvbklkKVxuICAgIH0sIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwpXG5cbiAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFscy5zZXQoc2Vzc2lvbklkLCBpbnRlcnZhbClcbiAgICBjb25zb2xlLmxvZyhg8J+SkyBUcmFuc2NyaXB0TWFuYWdlcjog54K6IHNlc3Npb24gJHtzZXNzaW9uSWR9IOWVn+WLleW/g+i3s2ApXG4gIH1cblxuICAvKipcbiAgICog5YGc5q2i5b+D6Lez5qmf5Yi2XG4gICAqL1xuICBwcml2YXRlIHN0b3BIZWFydGJlYXQoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxzLmdldChzZXNzaW9uSWQpXG4gICAgaWYgKGludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKVxuICAgICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbHMuZGVsZXRlKHNlc3Npb25JZClcbiAgICAgIGNvbnNvbGUubG9nKGDwn5KTIFRyYW5zY3JpcHRNYW5hZ2VyOiDngrogc2Vzc2lvbiAke3Nlc3Npb25JZH0g5YGc5q2i5b+D6LezYClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5a6J5o6S6YeN6YCjXG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlUmVjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYXR0ZW1wdHMgPSB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLmdldChzZXNzaW9uSWQpID8/IDBcblxuICAgIGlmIChhdHRlbXB0cyA+PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgVHJhbnNjcmlwdE1hbmFnZXI6IFNlc3Npb24gJHtzZXNzaW9uSWR9IOmHjemAo+asoeaVuOW3sumBlOS4iumZkGApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldChzZXNzaW9uSWQsIGF0dGVtcHRzICsgMSlcblxuICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5yZWNvbm5lY3REZWxheSAqIE1hdGgucG93KDIsIGF0dGVtcHRzKSAvLyDmjIfmlbjpgIDpgb9cbiAgICBjb25zb2xlLmxvZyhg8J+UhCBUcmFuc2NyaXB0TWFuYWdlcjogU2Vzc2lvbiAke3Nlc3Npb25JZH0g5bCH5ZyoICR7ZGVsYXl9bXMg5b6M6YeN6YCjICjnrKwgJHthdHRlbXB0cyArIDF9IOasoSlgKVxuXG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmVzdGFibGlzaENvbm5lY3Rpb24oc2Vzc2lvbklkKVxuICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldChzZXNzaW9uSWQsIDApIC8vIOmHjemAo+aIkOWKn++8jOmHjee9ruioiOaVuFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFRyYW5zY3JpcHRNYW5hZ2VyOiBTZXNzaW9uICR7c2Vzc2lvbklkfSDph43pgKPlpLHmlZc6YCwgZXJyb3IpXG4gICAgICB9XG4gICAgfSwgZGVsYXkpXG4gIH1cblxuICAvKipcbiAgICog5pa36ZaL5oyH5a6aIHNlc3Npb24g55qE6YCj5o6lXG4gICAqL1xuICBhc3luYyBkaXNjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS5sb2coYPCfk7EgVHJhbnNjcmlwdE1hbmFnZXI6IOaWt+mWiyBzZXNzaW9uICR7c2Vzc2lvbklkfWApXG5cbiAgICAvLyDlgZzmraLlv4Pot7NcbiAgICB0aGlzLnN0b3BIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgLy8g5pa36ZaLIFdlYlNvY2tldFxuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGlmICh3cykge1xuICAgICAgd3MuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLmNvbm5lY3Rpb25zLmRlbGV0ZShzZXNzaW9uSWQpXG4gICAgfVxuXG4gICAgLy8g5pu05paw54uA5oWLXG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIGZhbHNlKVxuXG4gICAgLy8g5riF55CG55uj6IG95ZmoXG4gICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKHNlc3Npb25JZClcblxuICAgIC8vIOa4heeQhumHjemAo+ioiOaVuFxuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuZGVsZXRlKHNlc3Npb25JZClcbiAgfVxuXG4gIC8qKlxuICAgKiDmt7vliqDoqIrmga/nm6Pogb3lmahcbiAgICovXG4gIGFkZExpc3RlbmVyKHNlc3Npb25JZDogc3RyaW5nLCBjYWxsYmFjazogKG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVycy5oYXMoc2Vzc2lvbklkKSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHNlc3Npb25JZCwgbmV3IFNldCgpKVxuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycy5nZXQoc2Vzc2lvbklkKSEuYWRkKGNhbGxiYWNrKVxuICAgIGNvbnNvbGUubG9nKGDwn5OxIFRyYW5zY3JpcHRNYW5hZ2VyOiDngrogc2Vzc2lvbiAke3Nlc3Npb25JZH0g5re75Yqg55uj6IG95ZmoYClcbiAgfVxuXG4gIC8qKlxuICAgKiDnp7vpmaToqIrmga/nm6Pogb3lmahcbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKHNlc3Npb25JZDogc3RyaW5nLCBjYWxsYmFjazogKG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3Qgc2Vzc2lvbkxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChzZXNzaW9uSWQpXG4gICAgaWYgKHNlc3Npb25MaXN0ZW5lcnMpIHtcbiAgICAgIHNlc3Npb25MaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKVxuICAgICAgaWYgKHNlc3Npb25MaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoc2Vzc2lvbklkKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhg8J+TsSBUcmFuc2NyaXB0TWFuYWdlcjog54K6IHNlc3Npb24gJHtzZXNzaW9uSWR9IOenu+mZpOebo+iBveWZqGApXG4gIH1cblxuICAvKipcbiAgICog5qqi5p+l6YCj5o6l54uA5oWLXG4gICAqL1xuICBpc0Nvbm5lY3RlZChzZXNzaW9uSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGNvbnN0IHN0YXRlQ29ubmVjdGVkID0gdGhpcy5jb25uZWN0aW9uU3RhdGVzLmdldChzZXNzaW9uSWQpID8/IGZhbHNlXG4gICAgY29uc3Qgd3NDb25uZWN0ZWQgPSB3cz8uaXNDb25uZWN0ZWQgPz8gZmFsc2VcblxuICAgIC8vIOmbmemHjeaqouafpeeiuuS/neeLgOaFi+S4gOiHtFxuICAgIGlmIChzdGF0ZUNvbm5lY3RlZCAhPT0gd3NDb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCB3c0Nvbm5lY3RlZClcbiAgICAgIHJldHVybiB3c0Nvbm5lY3RlZFxuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZUNvbm5lY3RlZFxuICB9XG5cbiAgLyoqXG4gICAqIOWPluW+l+mAo+aOpeaVuOmHj1xuICAgKi9cbiAgZ2V0Q29ubmVjdGlvbkNvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jb25uZWN0aW9ucy52YWx1ZXMoKSkuZmlsdGVyKHdzID0+IHdzLmlzQ29ubmVjdGVkKS5sZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbmiYDmnInpgKPmjqVcbiAgICovXG4gIGFzeW5jIGRpc2Nvbm5lY3RBbGwoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS5sb2coJ/Cfk7EgVHJhbnNjcmlwdE1hbmFnZXI6IOa4heeQhuaJgOaciemAo+aOpScpXG5cbiAgICBjb25zdCBzZXNzaW9uSWRzID0gQXJyYXkuZnJvbSh0aGlzLmNvbm5lY3Rpb25zLmtleXMoKSlcbiAgICBhd2FpdCBQcm9taXNlLmFsbChzZXNzaW9uSWRzLm1hcChzZXNzaW9uSWQgPT4gdGhpcy5kaXNjb25uZWN0KHNlc3Npb25JZCkpKVxuICB9XG59XG5cbi8vIOWMr+WHuiBTaW5nbGV0b24g5a+m5L6LXG5leHBvcnQgY29uc3QgdHJhbnNjcmlwdE1hbmFnZXIgPSBUcmFuc2NyaXB0TWFuYWdlci5nZXRJbnN0YW5jZSgpXG5cbi8vIOWMr+WHuumhnuWei1xuZXhwb3J0IHR5cGUgeyBUcmFuc2NyaXB0TWVzc2FnZSB9XG4iXSwibmFtZXMiOlsiVHJhbnNjcmlwdFdlYlNvY2tldCIsIlRyYW5zY3JpcHRNYW5hZ2VyIiwiaW5zdGFuY2UiLCJjb25uZWN0aW9ucyIsIk1hcCIsImxpc3RlbmVycyIsImNvbm5lY3Rpb25TdGF0ZXMiLCJoZWFydGJlYXRJbnRlcnZhbHMiLCJyZWNvbm5lY3RBdHRlbXB0cyIsIm1heFJlY29ubmVjdEF0dGVtcHRzIiwiaGVhcnRiZWF0SW50ZXJ2YWwiLCJyZWNvbm5lY3REZWxheSIsIndpbmRvdyIsInRyYW5zY3JpcHRNYW5hZ2VyIiwiZ2V0SW5zdGFuY2UiLCJjb25uZWN0Iiwic2Vzc2lvbklkIiwiaGFzIiwiZ2V0IiwiY29uc29sZSIsImxvZyIsImRpc2Nvbm5lY3QiLCJzZXQiLCJlc3RhYmxpc2hDb25uZWN0aW9uIiwid2FpdEZvckNvbm5lY3Rpb25SZWFkeSIsImVycm9yIiwic2NoZWR1bGVSZWNvbm5lY3QiLCJ0aW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiY2hlY2tSZWFkeSIsIndzIiwiaXNDb25uZWN0ZWQiLCJoYXNXZWJTb2NrZXQiLCJ3c1JlYWR5U3RhdGUiLCJyZWFkeVN0YXRlIiwid3NJc0Nvbm5lY3RlZCIsImVsYXBzZWRUaW1lIiwid3NSZWFkeSIsIldlYlNvY2tldCIsIk9QRU4iLCJFcnJvciIsInNldFRpbWVvdXQiLCJvbk1lc3NhZ2UiLCJtZXNzYWdlIiwiaGFuZGxlTWVzc2FnZSIsInNldHVwQ29ubmVjdGlvbkhhbmRsZXJzIiwic2VuZFBpbmciLCJzdGFydEhlYXJ0YmVhdCIsIm9uQ2xvc2UiLCJldmVudCIsImNvZGUiLCJyZWFzb24iLCJzdG9wSGVhcnRiZWF0IiwidHlwZSIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwibGlzdGVuZXJDb3VudCIsInNpemUiLCJ0ZXh0IiwidGV4dExlbmd0aCIsImxlbmd0aCIsInRleHRQcmV2aWV3Iiwic3Vic3RyaW5nIiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwiY29uZmlkZW5jZSIsImJyb2FkY2FzdFRvTGlzdGVuZXJzIiwicGhhc2UiLCJlcnJvcl90eXBlIiwiZXJyb3JfbWVzc2FnZSIsImRldGFpbHMiLCJmdWxsTWVzc2FnZSIsInNlc3Npb25MaXN0ZW5lcnMiLCJtZXNzYWdlVHlwZSIsImhhc0xpc3RlbmVycyIsInN1Y2Nlc3NDb3VudCIsImVycm9yQ291bnQiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJ3YXJuIiwic2VuZEpzb24iLCJzZW5kSGVhcnRiZWF0IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkZWxldGUiLCJhdHRlbXB0cyIsImRlbGF5IiwiTWF0aCIsInBvdyIsImFkZExpc3RlbmVyIiwiU2V0IiwiYWRkIiwicmVtb3ZlTGlzdGVuZXIiLCJzdGF0ZUNvbm5lY3RlZCIsIndzQ29ubmVjdGVkIiwiZ2V0Q29ubmVjdGlvbkNvdW50IiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmlsdGVyIiwiZGlzY29ubmVjdEFsbCIsInNlc3Npb25JZHMiLCJrZXlzIiwiYWxsIiwibWFwIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/transcript-manager.ts\n");

/***/ }),

/***/ "(ssr)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/.pnpm/tailwind-merge@2.5.5/node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQ0o7QUFFakMsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN4QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3RCIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xzeCwgdHlwZSBDbGFzc1ZhbHVlIH0gZnJvbSBcImNsc3hcIlxuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gXCJ0YWlsd2luZC1tZXJnZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpXG59XG4iXSwibmFtZXMiOlsiY2xzeCIsInR3TWVyZ2UiLCJjbiIsImlucHV0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/utils.ts\n");

/***/ }),

/***/ "(ssr)/./lib/websocket.ts":
/*!**************************!*\
  !*** ./lib/websocket.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioUploadWebSocket: () => (/* binding */ AudioUploadWebSocket),\n/* harmony export */   TranscriptWebSocket: () => (/* binding */ TranscriptWebSocket),\n/* harmony export */   WebSocketManager: () => (/* binding */ WebSocketManager),\n/* harmony export */   createAudioUploadWebSocket: () => (/* binding */ createAudioUploadWebSocket),\n/* harmony export */   createTranscriptWebSocket: () => (/* binding */ createTranscriptWebSocket)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"(ssr)/./lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ WebSocketManager,AudioUploadWebSocket,TranscriptWebSocket,createAudioUploadWebSocket,createTranscriptWebSocket auto */ \n// WebSocket 管理類別\nclass WebSocketManager {\n    constructor(url){\n        this.ws = null;\n        this.reconnectAttempts = 0;\n        this.maxReconnectAttempts = 5;\n        this.reconnectDelay = 1000;\n        this.isManualClose = false;\n        this.url = url;\n    }\n    connect() {\n        return new Promise((resolve, reject)=>{\n            try {\n                this.ws = new WebSocket(this.url);\n                this.isManualClose = false;\n                this.ws.onopen = ()=>{\n                    console.log('✅ WebSocket 連接成功:', this.url);\n                    this.reconnectAttempts = 0;\n                    resolve();\n                };\n                this.ws.onerror = (error)=>{\n                    console.error('❌ WebSocket 連接錯誤:', error);\n                    reject(error);\n                };\n                this.ws.onclose = (event)=>{\n                    console.log('🔌 WebSocket 連接關閉:', event.code, event.reason);\n                    if (!this.isManualClose && this.reconnectAttempts < this.maxReconnectAttempts) {\n                        this.reconnectAttempts++;\n                        console.log(`🔄 嘗試重新連接 (${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\n                        setTimeout(()=>{\n                            this.connect();\n                        }, this.reconnectDelay * this.reconnectAttempts);\n                    }\n                };\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n    disconnect() {\n        this.isManualClose = true;\n        if (this.ws) {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    send(data) {\n        if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n            this.ws.send(data);\n        } else {\n            console.warn('⚠️ WebSocket 未連接，無法發送資料');\n        }\n    }\n    onMessage(callback) {\n        if (this.ws) {\n            this.ws.onmessage = callback;\n        }\n    }\n    onClose(callback) {\n        if (this.ws) {\n            const originalOnClose = this.ws.onclose;\n            const ws = this.ws // 保存引用避免 null 問題\n            ;\n            this.ws.onclose = (event)=>{\n                // 先調用新的回調\n                callback(event);\n                // 再調用原始的處理器\n                if (originalOnClose) {\n                    originalOnClose.call(ws, event);\n                }\n            };\n        }\n    }\n    get readyState() {\n        return this.ws?.readyState ?? WebSocket.CLOSED;\n    }\n    get isConnected() {\n        return this.ws?.readyState === WebSocket.OPEN;\n    }\n}\n// 音檔上傳 WebSocket 管理\nclass AudioUploadWebSocket extends WebSocketManager {\n    constructor(sessionId){\n        super((0,_api__WEBPACK_IMPORTED_MODULE_0__.getWebSocketURL)(`/ws/upload_audio/${sessionId}`)), this.sequenceNumber = 0;\n    }\n    uploadAudioChunk(audioBlob) {\n        if (!this.isConnected) {\n            console.warn('⚠️ WebSocket 未連接，無法上傳音檔');\n            return;\n        }\n        // 建立包含序號的資料包\n        const sequenceBuffer = new ArrayBuffer(4);\n        const sequenceView = new DataView(sequenceBuffer);\n        sequenceView.setUint32(0, this.sequenceNumber, true) // little-endian\n        ;\n        // 合併序號和音檔資料\n        audioBlob.arrayBuffer().then((audioBuffer)=>{\n            const combinedBuffer = new ArrayBuffer(sequenceBuffer.byteLength + audioBuffer.byteLength);\n            const combinedView = new Uint8Array(combinedBuffer);\n            combinedView.set(new Uint8Array(sequenceBuffer), 0);\n            combinedView.set(new Uint8Array(audioBuffer), sequenceBuffer.byteLength);\n            this.send(combinedBuffer);\n            console.log(`📤 上傳音檔切片 #${this.sequenceNumber}, 大小: ${audioBlob.size} bytes`);\n            this.sequenceNumber++;\n        });\n    }\n    onAckMissing(callback) {\n        this.onMessage((event)=>{\n            try {\n                const message = JSON.parse(event.data);\n                // 根據消息類型進行分發\n                switch(message.type){\n                    case 'ack_missing':\n                        // 確認 data.missing 存在且是陣列\n                        if (message.missing && Array.isArray(message.missing)) {\n                            callback(message);\n                        } else {\n                            console.error('❌ 收到的 ack_missing 訊息格式不正確:', message);\n                        }\n                        break;\n                    case 'ack':\n                        // 處理音檔切片確認訊息\n                        console.log('✅ 音檔切片確認:', message.chunk_sequence || 'unknown');\n                        break;\n                    case 'heartbeat_ack':\n                        // 處理音檔上傳心跳確認\n                        console.log('💓 音檔上傳心跳確認');\n                        break;\n                    case 'connection_established':\n                        console.log('✅ 音檔上傳 WebSocket 連接已建立');\n                        break;\n                    case 'error':\n                        console.error('❌ 音檔上傳服務端錯誤:', message.message);\n                        break;\n                    default:\n                        console.warn('⚠️ 收到未知的音檔上傳訊息類型:', message.type);\n                }\n            } catch (error) {\n                console.error('❌ 解析音檔上傳服務訊息失敗:', error);\n            }\n        });\n    }\n    resetSequence() {\n        this.sequenceNumber = 0;\n    }\n}\n// 逐字稿接收 WebSocket 管理 - 簡化版，只負責基礎連接\nclass TranscriptWebSocket extends WebSocketManager {\n    constructor(sessionId){\n        super((0,_api__WEBPACK_IMPORTED_MODULE_0__.getWebSocketURL)(`/ws/transcript_feed/${sessionId}`));\n    }\n    // 設定訊息處理回調\n    onMessage(callback) {\n        super.onMessage((event)=>{\n            try {\n                const data = JSON.parse(event.data);\n                callback(data);\n            } catch (error) {\n                console.error('❌ TranscriptWebSocket 解析訊息失敗:', error);\n            }\n        });\n    }\n    // 發送 JSON 訊息\n    sendJson(message) {\n        if (this.isConnected) {\n            this.send(JSON.stringify(message));\n        }\n    }\n}\n// WebSocket 工廠函數\nconst createAudioUploadWebSocket = (sessionId)=>{\n    return new AudioUploadWebSocket(sessionId);\n};\nconst createTranscriptWebSocket = (sessionId)=>{\n    return new TranscriptWebSocket(sessionId);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ1g7WUFDZixJQUFJO2dCQUNGLE1BQU1PLE9BQU9pQyxLQUFLQyxLQUFLLENBQUN6QyxNQUFNTyxJQUFJO2dCQUNsQ0ssU0FBU0w7WUFDWCxFQUFFLE9BQU9ULE9BQU87Z0JBQ2RILFFBQVFHLEtBQUssQ0FBQyxpQ0FBaUNBO1lBQ2pEO1FBQ0Y7SUFDRjtJQUVBLGFBQWE7SUFDYm1ELFNBQVNWLE9BQVksRUFBUTtRQUMzQixJQUFJLElBQUksQ0FBQ3JCLFdBQVcsRUFBRTtZQUNwQixJQUFJLENBQUNaLElBQUksQ0FBQ2tDLEtBQUtVLFNBQVMsQ0FBQ1g7UUFDM0I7SUFDRjtBQUNGO0FBRUEsaUJBQWlCO0FBQ1YsTUFBTVksNkJBQTZCLENBQUMvQjtJQUN6QyxPQUFPLElBQUlELHFCQUFxQkM7QUFDbEMsRUFBQztBQUVNLE1BQU1nQyw0QkFBNEIsQ0FBQ2hDO0lBQ3hDLE9BQU8sSUFBSTRCLG9CQUFvQjVCO0FBQ2pDLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi93ZWJzb2NrZXQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgZ2V0V2ViU29ja2V0VVJMIH0gZnJvbSAnLi9hcGknXG5cbi8vIFdlYlNvY2tldCDpgKPmjqXni4DmhYtcbmV4cG9ydCB0eXBlIFdlYlNvY2tldFN0YXRlID0gJ2Nvbm5lY3RpbmcnIHwgJ2Nvbm5lY3RlZCcgfCAnZGlzY29ubmVjdGVkJyB8ICdlcnJvcidcblxuLy8g6YCQ5a2X56i/5o6l5pS25LuL6Z2iICjoiIflvoznq6/mjqjpgIHmoLzlvI/kuIDoh7QpXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRNZXNzYWdlIHtcbiAgdHlwZTogJ3RyYW5zY3JpcHRfc2VnbWVudCcgfCAndHJhbnNjcmlwdF9jb21wbGV0ZScgfCAnY29ubmVjdGlvbl9lc3RhYmxpc2hlZCcgfCAnaGVhcnRiZWF0X2FjaycgfCAncG9uZydcbiAgc2Vzc2lvbl9pZD86IHN0cmluZ1xuICBzZWdtZW50X2lkPzogc3RyaW5nXG4gIHRleHQ/OiBzdHJpbmdcbiAgbWVzc2FnZT86IHN0cmluZyAgLy8g55So5pa86YCj5o6l56K66KqN6KiK5oGv5oiW5a6M5oiQ6YCa55+lXG4gIHN0YXJ0X3NlcXVlbmNlPzogbnVtYmVyXG4gIGVuZF9zZXF1ZW5jZT86IG51bWJlclxuICBzdGFydF90aW1lPzogbnVtYmVyXG4gIGVuZF90aW1lPzogbnVtYmVyXG4gIGxhbmd1YWdlPzogc3RyaW5nXG4gIGNvbmZpZGVuY2U/OiBudW1iZXJcbiAgdGltZXN0YW1wPzogbnVtYmVyXG59XG5cbi8vIEFDSy9NaXNzaW5nIOioiuaBr+S7i+mdolxuZXhwb3J0IGludGVyZmFjZSBBY2tNaXNzaW5nTWVzc2FnZSB7XG4gIGFjazogbnVtYmVyXG4gIG1pc3Npbmc6IG51bWJlcltdXG59XG5cbi8vIFdlYlNvY2tldCDnrqHnkIbpoZ7liKVcbmV4cG9ydCBjbGFzcyBXZWJTb2NrZXRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSB3czogV2ViU29ja2V0IHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSB1cmw6IHN0cmluZ1xuICBwcml2YXRlIHJlY29ubmVjdEF0dGVtcHRzID0gMFxuICBwcml2YXRlIG1heFJlY29ubmVjdEF0dGVtcHRzID0gNVxuICBwcml2YXRlIHJlY29ubmVjdERlbGF5ID0gMTAwMFxuICBwcml2YXRlIGlzTWFudWFsQ2xvc2UgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy51cmwgPSB1cmxcbiAgfVxuXG4gIGNvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHRoaXMudXJsKVxuICAgICAgICB0aGlzLmlzTWFudWFsQ2xvc2UgPSBmYWxzZVxuXG4gICAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgV2ViU29ja2V0IOmAo+aOpeaIkOWKnzonLCB0aGlzLnVybClcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID0gMFxuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlYlNvY2tldCDpgKPmjqXpjK/oqqQ6JywgZXJyb3IpXG4gICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIwgV2ViU29ja2V0IOmAo+aOpemXnOmWiTonLCBldmVudC5jb2RlLCBldmVudC5yZWFzb24pXG5cbiAgICAgICAgICBpZiAoIXRoaXMuaXNNYW51YWxDbG9zZSAmJiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzIDwgdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cysrXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCDlmJfoqabph43mlrDpgKPmjqUgKCR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30vJHt0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzfSlgKVxuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5jb25uZWN0KClcbiAgICAgICAgICAgIH0sIHRoaXMucmVjb25uZWN0RGVsYXkgKiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBkaXNjb25uZWN0KCk6IHZvaWQge1xuICAgIHRoaXMuaXNNYW51YWxDbG9zZSA9IHRydWVcbiAgICBpZiAodGhpcy53cykge1xuICAgICAgdGhpcy53cy5jbG9zZSgpXG4gICAgICB0aGlzLndzID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHNlbmQoZGF0YTogc3RyaW5nIHwgQXJyYXlCdWZmZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLndzLnNlbmQoZGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gV2ViU29ja2V0IOacqumAo+aOpe+8jOeEoeazleeZvOmAgeizh+aWmScpXG4gICAgfVxuICB9XG5cbiAgb25NZXNzYWdlKGNhbGxiYWNrOiAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLndzKSB7XG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IGNhbGxiYWNrXG4gICAgfVxuICB9XG5cbiAgb25DbG9zZShjYWxsYmFjazogKGV2ZW50OiBDbG9zZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKHRoaXMud3MpIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsT25DbG9zZSA9IHRoaXMud3Mub25jbG9zZVxuICAgICAgY29uc3Qgd3MgPSB0aGlzLndzIC8vIOS/neWtmOW8leeUqOmBv+WFjSBudWxsIOWVj+mhjFxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIC8vIOWFiOiqv+eUqOaWsOeahOWbnuiqv1xuICAgICAgICBjYWxsYmFjayhldmVudClcbiAgICAgICAgLy8g5YaN6Kq/55So5Y6f5aeL55qE6JmV55CG5ZmoXG4gICAgICAgIGlmIChvcmlnaW5hbE9uQ2xvc2UpIHtcbiAgICAgICAgICBvcmlnaW5hbE9uQ2xvc2UuY2FsbCh3cywgZXZlbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgcmVhZHlTdGF0ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLndzPy5yZWFkeVN0YXRlID8/IFdlYlNvY2tldC5DTE9TRURcbiAgfVxuXG4gIGdldCBpc0Nvbm5lY3RlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy53cz8ucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU5cbiAgfVxufVxuXG4vLyDpn7PmqpTkuIrlgrMgV2ViU29ja2V0IOeuoeeQhlxuZXhwb3J0IGNsYXNzIEF1ZGlvVXBsb2FkV2ViU29ja2V0IGV4dGVuZHMgV2ViU29ja2V0TWFuYWdlciB7XG4gIHByaXZhdGUgc2VxdWVuY2VOdW1iZXIgPSAwXG5cbiAgY29uc3RydWN0b3Ioc2Vzc2lvbklkOiBzdHJpbmcpIHtcbiAgICBzdXBlcihnZXRXZWJTb2NrZXRVUkwoYC93cy91cGxvYWRfYXVkaW8vJHtzZXNzaW9uSWR9YCkpXG4gIH1cblxuICB1cGxvYWRBdWRpb0NodW5rKGF1ZGlvQmxvYjogQmxvYik6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gV2ViU29ja2V0IOacqumAo+aOpe+8jOeEoeazleS4iuWCs+mfs+aqlCcpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyDlu7rnq4vljIXlkKvluo/omZ/nmoTos4fmlpnljIVcbiAgICBjb25zdCBzZXF1ZW5jZUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig0KVxuICAgIGNvbnN0IHNlcXVlbmNlVmlldyA9IG5ldyBEYXRhVmlldyhzZXF1ZW5jZUJ1ZmZlcilcbiAgICBzZXF1ZW5jZVZpZXcuc2V0VWludDMyKDAsIHRoaXMuc2VxdWVuY2VOdW1iZXIsIHRydWUpIC8vIGxpdHRsZS1lbmRpYW5cblxuICAgIC8vIOWQiOS9teW6j+iZn+WSjOmfs+aqlOizh+aWmVxuICAgIGF1ZGlvQmxvYi5hcnJheUJ1ZmZlcigpLnRoZW4oYXVkaW9CdWZmZXIgPT4ge1xuICAgICAgY29uc3QgY29tYmluZWRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoc2VxdWVuY2VCdWZmZXIuYnl0ZUxlbmd0aCArIGF1ZGlvQnVmZmVyLmJ5dGVMZW5ndGgpXG4gICAgICBjb25zdCBjb21iaW5lZFZpZXcgPSBuZXcgVWludDhBcnJheShjb21iaW5lZEJ1ZmZlcilcblxuICAgICAgY29tYmluZWRWaWV3LnNldChuZXcgVWludDhBcnJheShzZXF1ZW5jZUJ1ZmZlciksIDApXG4gICAgICBjb21iaW5lZFZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGF1ZGlvQnVmZmVyKSwgc2VxdWVuY2VCdWZmZXIuYnl0ZUxlbmd0aClcblxuICAgICAgdGhpcy5zZW5kKGNvbWJpbmVkQnVmZmVyKVxuICAgICAgY29uc29sZS5sb2coYPCfk6Qg5LiK5YKz6Z+z5qqU5YiH54mHICMke3RoaXMuc2VxdWVuY2VOdW1iZXJ9LCDlpKflsI86ICR7YXVkaW9CbG9iLnNpemV9IGJ5dGVzYClcblxuICAgICAgdGhpcy5zZXF1ZW5jZU51bWJlcisrXG4gICAgfSlcbiAgfVxuXG4gIG9uQWNrTWlzc2luZyhjYWxsYmFjazogKGRhdGE6IEFja01pc3NpbmdNZXNzYWdlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5vbk1lc3NhZ2UoKGV2ZW50KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKVxuXG4gICAgICAgIC8vIOagueaTmua2iOaBr+mhnuWei+mAsuihjOWIhueZvFxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Fja19taXNzaW5nJzpcbiAgICAgICAgICAgIC8vIOeiuuiqjSBkYXRhLm1pc3Npbmcg5a2Y5Zyo5LiU5piv6Zmj5YiXXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5taXNzaW5nICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS5taXNzaW5nKSkge1xuICAgICAgICAgICAgICBjYWxsYmFjayhtZXNzYWdlIGFzIEFja01pc3NpbmdNZXNzYWdlKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOaUtuWIsOeahCBhY2tfbWlzc2luZyDoqIrmga/moLzlvI/kuI3mraPnoro6JywgbWVzc2FnZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnYWNrJzpcbiAgICAgICAgICAgIC8vIOiZleeQhumfs+aqlOWIh+eJh+eiuuiqjeioiuaBr1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDpn7PmqpTliIfniYfnorroqo06JywgbWVzc2FnZS5jaHVua19zZXF1ZW5jZSB8fCAndW5rbm93bicpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2hlYXJ0YmVhdF9hY2snOlxuICAgICAgICAgICAgLy8g6JmV55CG6Z+z5qqU5LiK5YKz5b+D6Lez56K66KqNXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SkyDpn7PmqpTkuIrlgrPlv4Pot7Pnorroqo0nKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdjb25uZWN0aW9uX2VzdGFibGlzaGVkJzpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg6Z+z5qqU5LiK5YKzIFdlYlNvY2tldCDpgKPmjqXlt7Llu7rnq4snKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg6Z+z5qqU5LiK5YKz5pyN5YuZ56uv6Yyv6KqkOicsIG1lc3NhZ2UubWVzc2FnZSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOaUtuWIsOacquefpeeahOmfs+aqlOS4iuWCs+ioiuaBr+mhnuWeizonLCBtZXNzYWdlLnR5cGUpXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDop6PmnpDpn7PmqpTkuIrlgrPmnI3li5noqIrmga/lpLHmlZc6JywgZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJlc2V0U2VxdWVuY2UoKTogdm9pZCB7XG4gICAgdGhpcy5zZXF1ZW5jZU51bWJlciA9IDBcbiAgfVxufVxuXG4vLyDpgJDlrZfnqL/mjqXmlLYgV2ViU29ja2V0IOeuoeeQhiAtIOewoeWMlueJiO+8jOWPquiyoOiyrOWfuuekjumAo+aOpVxuZXhwb3J0IGNsYXNzIFRyYW5zY3JpcHRXZWJTb2NrZXQgZXh0ZW5kcyBXZWJTb2NrZXRNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Ioc2Vzc2lvbklkOiBzdHJpbmcpIHtcbiAgICBzdXBlcihnZXRXZWJTb2NrZXRVUkwoYC93cy90cmFuc2NyaXB0X2ZlZWQvJHtzZXNzaW9uSWR9YCkpXG4gIH1cblxuICAvLyDoqK3lrproqIrmga/omZXnkIblm57oqr9cbiAgb25NZXNzYWdlKGNhbGxiYWNrOiAoZGF0YTogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgc3VwZXIub25NZXNzYWdlKChldmVudCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSlcbiAgICAgICAgY2FsbGJhY2soZGF0YSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBUcmFuc2NyaXB0V2ViU29ja2V0IOino+aekOioiuaBr+WkseaVlzonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8g55m86YCBIEpTT04g6KiK5oGvXG4gIHNlbmRKc29uKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICB0aGlzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpXG4gICAgfVxuICB9XG59XG5cbi8vIFdlYlNvY2tldCDlt6Xlu6Dlh73mlbhcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb1VwbG9hZFdlYlNvY2tldCA9IChzZXNzaW9uSWQ6IHN0cmluZyk6IEF1ZGlvVXBsb2FkV2ViU29ja2V0ID0+IHtcbiAgcmV0dXJuIG5ldyBBdWRpb1VwbG9hZFdlYlNvY2tldChzZXNzaW9uSWQpXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVUcmFuc2NyaXB0V2ViU29ja2V0ID0gKHNlc3Npb25JZDogc3RyaW5nKTogVHJhbnNjcmlwdFdlYlNvY2tldCA9PiB7XG4gIHJldHVybiBuZXcgVHJhbnNjcmlwdFdlYlNvY2tldChzZXNzaW9uSWQpXG59XG4iXSwibmFtZXMiOlsiZ2V0V2ViU29ja2V0VVJMIiwiV2ViU29ja2V0TWFuYWdlciIsImNvbnN0cnVjdG9yIiwidXJsIiwid3MiLCJyZWNvbm5lY3RBdHRlbXB0cyIsIm1heFJlY29ubmVjdEF0dGVtcHRzIiwicmVjb25uZWN0RGVsYXkiLCJpc01hbnVhbENsb3NlIiwiY29ubmVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiV2ViU29ja2V0Iiwib25vcGVuIiwiY29uc29sZSIsImxvZyIsIm9uZXJyb3IiLCJlcnJvciIsIm9uY2xvc2UiLCJldmVudCIsImNvZGUiLCJyZWFzb24iLCJzZXRUaW1lb3V0IiwiZGlzY29ubmVjdCIsImNsb3NlIiwic2VuZCIsImRhdGEiLCJyZWFkeVN0YXRlIiwiT1BFTiIsIndhcm4iLCJvbk1lc3NhZ2UiLCJjYWxsYmFjayIsIm9ubWVzc2FnZSIsIm9uQ2xvc2UiLCJvcmlnaW5hbE9uQ2xvc2UiLCJjYWxsIiwiQ0xPU0VEIiwiaXNDb25uZWN0ZWQiLCJBdWRpb1VwbG9hZFdlYlNvY2tldCIsInNlc3Npb25JZCIsInNlcXVlbmNlTnVtYmVyIiwidXBsb2FkQXVkaW9DaHVuayIsImF1ZGlvQmxvYiIsInNlcXVlbmNlQnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJzZXF1ZW5jZVZpZXciLCJEYXRhVmlldyIsInNldFVpbnQzMiIsImFycmF5QnVmZmVyIiwidGhlbiIsImF1ZGlvQnVmZmVyIiwiY29tYmluZWRCdWZmZXIiLCJieXRlTGVuZ3RoIiwiY29tYmluZWRWaWV3IiwiVWludDhBcnJheSIsInNldCIsInNpemUiLCJvbkFja01pc3NpbmciLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwidHlwZSIsIm1pc3NpbmciLCJBcnJheSIsImlzQXJyYXkiLCJjaHVua19zZXF1ZW5jZSIsInJlc2V0U2VxdWVuY2UiLCJUcmFuc2NyaXB0V2ViU29ja2V0Iiwic2VuZEpzb24iLCJzdHJpbmdpZnkiLCJjcmVhdGVBdWRpb1VwbG9hZFdlYlNvY2tldCIsImNyZWF0ZVRyYW5zY3JpcHRXZWJTb2NrZXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/websocket.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZlcnJvci1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmh0dHAtYWNjZXNzLWZhbGxiYWNrJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbWV0YWRhdGElMkZhc3luYy1tZXRhZGF0YS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm1ldGFkYXRhJTJGbWV0YWRhdGEtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxnZEFBcVE7QUFDclE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxnZ0JBQTZSO0FBQzdSO0FBQ0Esb2RBQXVRO0FBQ3ZRO0FBQ0Esd2VBQWlSO0FBQ2pSO0FBQ0EsOGVBQW9SO0FBQ3BSO0FBQ0Esa2ZBQXNSIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXNlZ21lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9odHRwLWFjY2Vzcy1mYWxsYmFjay9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbWV0YWRhdGEvYXN5bmMtbWV0YWRhdGEuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL21ldGFkYXRhL21ldGFkYXRhLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fstudy-scriber.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fstudy-scriber.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./study-scriber.tsx */ \"(ssr)/./study-scriber.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRnN0dWR5LXNjcmliZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyZGVmYXVsdCUyMiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa0pBQXNJIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJkZWZhdWx0XCJdICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvc3R1ZHktc2NyaWJlci50c3hcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fstudy-scriber.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./study-scriber.tsx":
/*!***************************!*\
  !*** ./study-scriber.tsx ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dynamic */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var easymde_dist_easymde_min_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! easymde/dist/easymde.min.css */ \"(ssr)/./node_modules/.pnpm/easymde@2.20.0/node_modules/easymde/dist/easymde.min.css\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Download,RotateCcw!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js\");\n/* harmony import */ var _barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Download,RotateCcw!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _hooks_use_app_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hooks/use-app-state */ \"(ssr)/./hooks/use-app-state.ts\");\n/* harmony import */ var _components_default_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/default-state */ \"(ssr)/./components/default-state.tsx\");\n/* harmony import */ var _components_recording_state__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/recording-state */ \"(ssr)/./components/recording-state.tsx\");\n/* harmony import */ var _components_waiting_state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/waiting-state */ \"(ssr)/./components/waiting-state.tsx\");\n/* harmony import */ var _components_finish_state__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/finish-state */ \"(ssr)/./components/finish-state.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n// 動態匯入 SimpleMDE 以避免 SSR 問題\nconst SimpleMDE = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(async ()=>{\n     true && /*require.resolve*/(null /* weak dependency, without id */);\n}, {\n    loadableGenerated: {\n        modules: [\n            \"study-scriber.tsx -> \" + \"react-simplemde-editor\"\n        ]\n    },\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex items-center justify-center text-muted-foreground\",\n            children: \"載入編輯器中...\"\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n            lineNumber: 13,\n            columnNumber: 18\n        }, undefined)\n});\n\n\n\n\n\nfunction Component() {\n    const { appData, isLoading, error, startRecording, stopRecording, newNote, saveLocalDraft, session } = (0,_hooks_use_app_state__WEBPACK_IMPORTED_MODULE_6__.useAppState)();\n    const [draftTitle, setDraftTitle] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"\");\n    // 追蹤狀態流轉\n    console.log(\"[DEBUG] appData.state:\", appData.state);\n    console.log(\"[DEBUG] appData.isRecording:\", appData.isRecording);\n    if (session) {\n        console.log(\"[DEBUG] session.status:\", session.status, \"session.type:\", session.type);\n    } else {\n        console.log(\"[DEBUG] session: null\");\n    }\n    const editorOptions = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"Component.useMemo[editorOptions]\": ()=>{\n            return {\n                spellChecker: false,\n                placeholder: \"Start writing your notes...\",\n                status: false,\n                toolbar: [\n                    \"bold\",\n                    \"italic\",\n                    \"strikethrough\",\n                    \"|\",\n                    \"heading-1\",\n                    \"heading-2\",\n                    \"heading-3\",\n                    \"|\",\n                    \"quote\",\n                    \"unordered-list\",\n                    \"ordered-list\",\n                    \"|\",\n                    \"link\",\n                    \"image\",\n                    \"table\",\n                    \"|\",\n                    \"preview\",\n                    \"side-by-side\",\n                    \"fullscreen\"\n                ],\n                autofocus: true,\n                tabSize: 2\n            };\n        }\n    }[\"Component.useMemo[editorOptions]\"], []);\n    const renderRightPanel = ()=>{\n        switch(appData.state){\n            case \"default\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_default_state__WEBPACK_IMPORTED_MODULE_7__.DefaultState, {\n                    onStartRecording: ()=>{\n                        console.log(\"📱 StudyScriber: 準備調用 startRecording，標題:\", draftTitle);\n                        startRecording(draftTitle);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 68,\n                    columnNumber: 16\n                }, this);\n            case \"recording_active\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_recording_state__WEBPACK_IMPORTED_MODULE_8__.RecordingState, {\n                    transcriptEntries: appData.transcriptEntries,\n                    recordingTime: appData.recordingTime,\n                    onStopRecording: stopRecording\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 76,\n                    columnNumber: 11\n                }, this);\n            case \"recording_waiting\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_recording_state__WEBPACK_IMPORTED_MODULE_8__.RecordingState, {\n                    transcriptEntries: [],\n                    recordingTime: appData.recordingTime,\n                    onStopRecording: stopRecording\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 84,\n                    columnNumber: 11\n                }, this);\n            case \"processing\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_waiting_state__WEBPACK_IMPORTED_MODULE_9__.WaitingState, {}, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 91,\n                    columnNumber: 16\n                }, this);\n            case \"finished\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_finish_state__WEBPACK_IMPORTED_MODULE_10__.FinishState, {\n                    transcriptEntries: appData.transcriptEntries,\n                    onExport: ()=>{\n                        // TODO: 實現匯出功能\n                        console.log('Export functionality not implemented yet');\n                    },\n                    onToLatest: ()=>{\n                        // TODO: 實現捲動到最新功能\n                        console.log('To Latest functionality not implemented yet');\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 11\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_default_state__WEBPACK_IMPORTED_MODULE_7__.DefaultState, {\n                    onStartRecording: ()=>{\n                        console.log(\"📱 StudyScriber: 準備調用 startRecording (default)，標題:\", draftTitle);\n                        startRecording(draftTitle);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 107,\n                    columnNumber: 16\n                }, this);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen bg-background flex flex-col\",\n        suppressHydrationWarning: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-background border-b border-border px-6 flex-shrink-0 w-full h-20 flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-semibold text-foreground\",\n                        children: \"Study Scriber\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 120,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            (appData.state === \"default\" && !!session || appData.state === \"recording_waiting\" || appData.state === \"recording_active\" || appData.state === \"finished\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                variant: \"outline\",\n                                onClick: newNote,\n                                size: \"sm\",\n                                className: \"px-4 h-8 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                        lineNumber: 130,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"New note\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                lineNumber: 129,\n                                columnNumber: 15\n                            }, this),\n                            appData.state === \"finished\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                onClick: ()=>console.log('Export functionality'),\n                                size: \"sm\",\n                                className: \"px-4 h-8 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                        lineNumber: 138,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Export\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                lineNumber: 137,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 123,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                lineNumber: 119,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex h-[calc(100vh-80px)]\",\n                suppressHydrationWarning: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 bg-background border-r border-border h-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full p-6 flex flex-col gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_4__.Input, {\n                                    placeholder: \"請輸入標題...\",\n                                    className: \"text-lg font-semibold\",\n                                    value: draftTitle,\n                                    onChange: (e)=>setDraftTitle(e.target.value),\n                                    disabled: appData.state === 'processing' || appData.state === 'finished' || appData.isRecording\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                    lineNumber: 150,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full editor-container flex-grow\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SimpleMDE, {\n                                        options: editorOptions,\n                                        value: appData.editorContent,\n                                        onChange: saveLocalDraft\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                        lineNumber: 158,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                    lineNumber: 157,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                            lineNumber: 149,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 148,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-80 bg-background flex-shrink-0 h-full\",\n                        children: renderRightPanel()\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 168,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                lineNumber: 146,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n        lineNumber: 117,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zdHVkeS1zY3JpYmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVrQztBQUNHO0FBQ0k7QUFDSTtBQUNFO0FBQ0c7QUFFbEQsNEJBQTRCO0FBQzVCLE1BQU1PLFlBQVlQLHdEQUFPQTs7Ozs7Ozs7SUFDdkJRLEtBQUs7SUFDTEMsU0FBUyxrQkFBTSw4REFBQ0M7WUFBSUMsV0FBVTtzQkFBZ0U7Ozs7Ozs7QUFFN0M7QUFDTTtBQUNJO0FBQ0o7QUFDRjtBQUV4QyxTQUFTTTtJQUN0QixNQUFNLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxLQUFLLEVBQUVDLGNBQWMsRUFBRUMsYUFBYSxFQUFFQyxPQUFPLEVBQUVDLGNBQWMsRUFBRUMsT0FBTyxFQUFFLEdBQUdiLGlFQUFXQTtJQUNsSCxNQUFNLENBQUNjLFlBQVlDLGNBQWMsR0FBR3pCLCtDQUFRQSxDQUFDO0lBRTdDLFNBQVM7SUFDVDBCLFFBQVFDLEdBQUcsQ0FBQywwQkFBMEJYLFFBQVFZLEtBQUs7SUFDbkRGLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NYLFFBQVFhLFdBQVc7SUFDL0QsSUFBSU4sU0FBUztRQUNYRyxRQUFRQyxHQUFHLENBQUMsMkJBQTJCSixRQUFRTyxNQUFNLEVBQUUsaUJBQWlCUCxRQUFRUSxJQUFJO0lBQ3RGLE9BQU87UUFDTEwsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7SUFFQSxNQUFNSyxnQkFBZ0JqQyw4Q0FBT0E7NENBQUM7WUFDNUIsT0FBTztnQkFDTGtDLGNBQWM7Z0JBQ2RDLGFBQWE7Z0JBQ2JKLFFBQVE7Z0JBQ1JLLFNBQVM7b0JBQ1A7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7b0JBQ0E7aUJBQ0Q7Z0JBQ0RDLFdBQVc7Z0JBQ1hDLFNBQVM7WUFDWDtRQUNGOzJDQUFHLEVBQUU7SUFFTCxNQUFNQyxtQkFBbUI7UUFDdkIsT0FBUXRCLFFBQVFZLEtBQUs7WUFDbkIsS0FBSztnQkFDSCxxQkFBTyw4REFBQ2pCLG1FQUFZQTtvQkFDbEI0QixrQkFBa0I7d0JBQ2hCYixRQUFRQyxHQUFHLENBQUMsNENBQTRDSDt3QkFDeERMLGVBQWVLO29CQUNqQjs7Ozs7O1lBRUosS0FBSztnQkFDSCxxQkFDRSw4REFBQ1osdUVBQWNBO29CQUNiNEIsbUJBQW1CeEIsUUFBUXdCLGlCQUFpQjtvQkFDNUNDLGVBQWV6QixRQUFReUIsYUFBYTtvQkFDcENDLGlCQUFpQnRCOzs7Ozs7WUFHdkIsS0FBSztnQkFDSCxxQkFDRSw4REFBQ1IsdUVBQWNBO29CQUNiNEIsbUJBQW1CLEVBQUU7b0JBQ3JCQyxlQUFlekIsUUFBUXlCLGFBQWE7b0JBQ3BDQyxpQkFBaUJ0Qjs7Ozs7O1lBR3ZCLEtBQUs7Z0JBQ0gscUJBQU8sOERBQUNQLG1FQUFZQTs7Ozs7WUFDdEIsS0FBSztnQkFDSCxxQkFDRSw4REFBQ0Msa0VBQVdBO29CQUNWMEIsbUJBQW1CeEIsUUFBUXdCLGlCQUFpQjtvQkFDNUNHLFVBQVU7d0JBQ1IsZUFBZTt3QkFDZmpCLFFBQVFDLEdBQUcsQ0FBQztvQkFDZDtvQkFDQWlCLFlBQVk7d0JBQ1Ysa0JBQWtCO3dCQUNsQmxCLFFBQVFDLEdBQUcsQ0FBQztvQkFDZDs7Ozs7O1lBR047Z0JBQ0UscUJBQU8sOERBQUNoQixtRUFBWUE7b0JBQ2xCNEIsa0JBQWtCO3dCQUNoQmIsUUFBUUMsR0FBRyxDQUFDLHNEQUFzREg7d0JBQ2xFTCxlQUFlSztvQkFDakI7Ozs7OztRQUVOO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ2hCO1FBQUlDLFdBQVU7UUFBdUNvQywwQkFBMEI7OzBCQUU5RSw4REFBQ3JDO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ3FDO3dCQUFHckMsV0FBVTtrQ0FBeUM7Ozs7OztrQ0FHdkQsOERBQUNEO3dCQUFJQyxXQUFVOzs0QkFFWCxTQUFTbUIsS0FBSyxLQUFLLGFBQWEsQ0FBQyxDQUFDTCxXQUNsQ1AsUUFBUVksS0FBSyxLQUFLLHVCQUNsQlosUUFBUVksS0FBSyxLQUFLLHNCQUNsQlosUUFBUVksS0FBSyxLQUFLLFVBQVMsbUJBQ3pCLDhEQUFDMUIseURBQU1BO2dDQUFDNkMsU0FBUTtnQ0FBVUMsU0FBUzNCO2dDQUFTNEIsTUFBSztnQ0FBS3hDLFdBQVU7O2tEQUM5RCw4REFBQ04sK0ZBQVNBO3dDQUFDTSxXQUFVOzs7Ozs7b0NBQVk7Ozs7Ozs7NEJBTXRDTyxRQUFRWSxLQUFLLEtBQUssNEJBQ2pCLDhEQUFDMUIseURBQU1BO2dDQUFDOEMsU0FBUyxJQUFNdEIsUUFBUUMsR0FBRyxDQUFDO2dDQUF5QnNCLE1BQUs7Z0NBQUt4QyxXQUFVOztrREFDOUUsOERBQUNMLCtGQUFRQTt3Q0FBQ0ssV0FBVTs7Ozs7O29DQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVF4Qyw4REFBQ0Q7Z0JBQUlDLFdBQVU7Z0JBQTRCb0MsMEJBQTBCOztrQ0FFbkUsOERBQUNyQzt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDUix1REFBS0E7b0NBQ0ppQyxhQUFZO29DQUNaekIsV0FBVTtvQ0FDVnlDLE9BQU8xQjtvQ0FDUDJCLFVBQVUsQ0FBQ0MsSUFBTTNCLGNBQWMyQixFQUFFQyxNQUFNLENBQUNILEtBQUs7b0NBQzdDSSxVQUFVdEMsUUFBUVksS0FBSyxLQUFLLGdCQUFnQlosUUFBUVksS0FBSyxLQUFLLGNBQWNaLFFBQVFhLFdBQVc7Ozs7Ozs4Q0FFakcsOERBQUNyQjtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0o7d0NBQ0NrRCxTQUFTdkI7d0NBQ1RrQixPQUFPbEMsUUFBUXdDLGFBQWE7d0NBQzVCTCxVQUFVN0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBT2xCLDhEQUFDZDt3QkFBSUMsV0FBVTtrQ0FBMkM2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSWxFIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9zdHVkeS1zY3JpYmVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgZHluYW1pYyBmcm9tIFwibmV4dC9keW5hbWljXCJcbmltcG9ydCBcImVhc3ltZGUvZGlzdC9lYXN5bWRlLm1pbi5jc3NcIlxuaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IFJvdGF0ZUNjdywgRG93bmxvYWQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcblxuLy8g5YuV5oWL5Yyv5YWlIFNpbXBsZU1ERSDku6Xpgb/lhY0gU1NSIOWVj+mhjFxuY29uc3QgU2ltcGxlTURFID0gZHluYW1pYygoKSA9PiBpbXBvcnQoXCJyZWFjdC1zaW1wbGVtZGUtZWRpdG9yXCIpLCB7XG4gIHNzcjogZmFsc2UsXG4gIGxvYWRpbmc6ICgpID0+IDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPui8ieWFpee3qOi8r+WZqOS4rS4uLjwvZGl2PlxufSlcbmltcG9ydCB7IHVzZUFwcFN0YXRlIH0gZnJvbSBcIi4vaG9va3MvdXNlLWFwcC1zdGF0ZVwiXG5pbXBvcnQgeyBEZWZhdWx0U3RhdGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2RlZmF1bHQtc3RhdGVcIlxuaW1wb3J0IHsgUmVjb3JkaW5nU3RhdGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL3JlY29yZGluZy1zdGF0ZVwiXG5pbXBvcnQgeyBXYWl0aW5nU3RhdGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dhaXRpbmctc3RhdGVcIlxuaW1wb3J0IHsgRmluaXNoU3RhdGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2ZpbmlzaC1zdGF0ZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcbiAgY29uc3QgeyBhcHBEYXRhLCBpc0xvYWRpbmcsIGVycm9yLCBzdGFydFJlY29yZGluZywgc3RvcFJlY29yZGluZywgbmV3Tm90ZSwgc2F2ZUxvY2FsRHJhZnQsIHNlc3Npb24gfSA9IHVzZUFwcFN0YXRlKClcbiAgY29uc3QgW2RyYWZ0VGl0bGUsIHNldERyYWZ0VGl0bGVdID0gdXNlU3RhdGUoXCJcIilcblxuICAvLyDov73ouaTni4DmhYvmtYHovYlcbiAgY29uc29sZS5sb2coXCJbREVCVUddIGFwcERhdGEuc3RhdGU6XCIsIGFwcERhdGEuc3RhdGUpXG4gIGNvbnNvbGUubG9nKFwiW0RFQlVHXSBhcHBEYXRhLmlzUmVjb3JkaW5nOlwiLCBhcHBEYXRhLmlzUmVjb3JkaW5nKVxuICBpZiAoc2Vzc2lvbikge1xuICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHXSBzZXNzaW9uLnN0YXR1czpcIiwgc2Vzc2lvbi5zdGF0dXMsIFwic2Vzc2lvbi50eXBlOlwiLCBzZXNzaW9uLnR5cGUpXG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJbREVCVUddIHNlc3Npb246IG51bGxcIilcbiAgfVxuXG4gIGNvbnN0IGVkaXRvck9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3BlbGxDaGVja2VyOiBmYWxzZSxcbiAgICAgIHBsYWNlaG9sZGVyOiBcIlN0YXJ0IHdyaXRpbmcgeW91ciBub3Rlcy4uLlwiLFxuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIHRvb2xiYXI6IFtcbiAgICAgICAgXCJib2xkXCIsXG4gICAgICAgIFwiaXRhbGljXCIsXG4gICAgICAgIFwic3RyaWtldGhyb3VnaFwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJoZWFkaW5nLTFcIixcbiAgICAgICAgXCJoZWFkaW5nLTJcIixcbiAgICAgICAgXCJoZWFkaW5nLTNcIixcbiAgICAgICAgXCJ8XCIsXG4gICAgICAgIFwicXVvdGVcIixcbiAgICAgICAgXCJ1bm9yZGVyZWQtbGlzdFwiLFxuICAgICAgICBcIm9yZGVyZWQtbGlzdFwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJsaW5rXCIsXG4gICAgICAgIFwiaW1hZ2VcIixcbiAgICAgICAgXCJ0YWJsZVwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJwcmV2aWV3XCIsXG4gICAgICAgIFwic2lkZS1ieS1zaWRlXCIsXG4gICAgICAgIFwiZnVsbHNjcmVlblwiLFxuICAgICAgXSBhcyBjb25zdCxcbiAgICAgIGF1dG9mb2N1czogdHJ1ZSxcbiAgICAgIHRhYlNpemU6IDIsXG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCByZW5kZXJSaWdodFBhbmVsID0gKCkgPT4ge1xuICAgIHN3aXRjaCAoYXBwRGF0YS5zdGF0ZSkge1xuICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgcmV0dXJuIDxEZWZhdWx0U3RhdGVcbiAgICAgICAgICBvblN0YXJ0UmVjb3JkaW5nPXsoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfk7EgU3R1ZHlTY3JpYmVyOiDmupblgpnoqr/nlKggc3RhcnRSZWNvcmRpbmfvvIzmqJnpoYw6XCIsIGRyYWZ0VGl0bGUpXG4gICAgICAgICAgICBzdGFydFJlY29yZGluZyhkcmFmdFRpdGxlKVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICBjYXNlIFwicmVjb3JkaW5nX2FjdGl2ZVwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZWNvcmRpbmdTdGF0ZVxuICAgICAgICAgICAgdHJhbnNjcmlwdEVudHJpZXM9e2FwcERhdGEudHJhbnNjcmlwdEVudHJpZXN9XG4gICAgICAgICAgICByZWNvcmRpbmdUaW1lPXthcHBEYXRhLnJlY29yZGluZ1RpbWV9XG4gICAgICAgICAgICBvblN0b3BSZWNvcmRpbmc9e3N0b3BSZWNvcmRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgY2FzZSBcInJlY29yZGluZ193YWl0aW5nXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlY29yZGluZ1N0YXRlXG4gICAgICAgICAgICB0cmFuc2NyaXB0RW50cmllcz17W119XG4gICAgICAgICAgICByZWNvcmRpbmdUaW1lPXthcHBEYXRhLnJlY29yZGluZ1RpbWV9XG4gICAgICAgICAgICBvblN0b3BSZWNvcmRpbmc9e3N0b3BSZWNvcmRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgY2FzZSBcInByb2Nlc3NpbmdcIjpcbiAgICAgICAgcmV0dXJuIDxXYWl0aW5nU3RhdGUgLz5cbiAgICAgIGNhc2UgXCJmaW5pc2hlZFwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxGaW5pc2hTdGF0ZVxuICAgICAgICAgICAgdHJhbnNjcmlwdEVudHJpZXM9e2FwcERhdGEudHJhbnNjcmlwdEVudHJpZXN9XG4gICAgICAgICAgICBvbkV4cG9ydD17KCkgPT4ge1xuICAgICAgICAgICAgICAvLyBUT0RPOiDlr6bnj77ljK/lh7rlip/og71cbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0V4cG9ydCBmdW5jdGlvbmFsaXR5IG5vdCBpbXBsZW1lbnRlZCB5ZXQnKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uVG9MYXRlc3Q9eygpID0+IHtcbiAgICAgICAgICAgICAgLy8gVE9ETzog5a+m54++5o2y5YuV5Yiw5pyA5paw5Yqf6IO9XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUbyBMYXRlc3QgZnVuY3Rpb25hbGl0eSBub3QgaW1wbGVtZW50ZWQgeWV0JylcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDxEZWZhdWx0U3RhdGVcbiAgICAgICAgICBvblN0YXJ0UmVjb3JkaW5nPXsoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfk7EgU3R1ZHlTY3JpYmVyOiDmupblgpnoqr/nlKggc3RhcnRSZWNvcmRpbmcgKGRlZmF1bHQp77yM5qiZ6aGMOlwiLCBkcmFmdFRpdGxlKVxuICAgICAgICAgICAgc3RhcnRSZWNvcmRpbmcoZHJhZnRUaXRsZSlcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLXNjcmVlbiBiZy1iYWNrZ3JvdW5kIGZsZXggZmxleC1jb2xcIiBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc9e3RydWV9PlxuICAgICAgey8qIEZ1bGwgV2lkdGggSGVhZGVyIC0gRml4ZWQgaGVpZ2h0IG9mIDgwcHggKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJhY2tncm91bmQgYm9yZGVyLWIgYm9yZGVyLWJvcmRlciBweC02IGZsZXgtc2hyaW5rLTAgdy1mdWxsIGgtMjAgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPlN0dWR5IFNjcmliZXI8L2gxPlxuXG4gICAgICAgIHsvKiBIZWFkZXIgYWN0aW9uIGJ1dHRvbnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIHsvKiBOZXcgbm90ZSDmjInpiJUgLSDlnKjmnInmtLvouo3mnIPoqbHmiJbpnIDopoHnmoTni4DmhYvkuIvpoa/npLogKi99XG4gICAgICAgICAgeygoYXBwRGF0YS5zdGF0ZSA9PT0gXCJkZWZhdWx0XCIgJiYgISFzZXNzaW9uKSB8fFxuICAgICAgICAgICAgYXBwRGF0YS5zdGF0ZSA9PT0gXCJyZWNvcmRpbmdfd2FpdGluZ1wiIHx8XG4gICAgICAgICAgICBhcHBEYXRhLnN0YXRlID09PSBcInJlY29yZGluZ19hY3RpdmVcIiB8fFxuICAgICAgICAgICAgYXBwRGF0YS5zdGF0ZSA9PT0gXCJmaW5pc2hlZFwiKSAmJiAoXG4gICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXtuZXdOb3RlfSBzaXplPVwic21cIiBjbGFzc05hbWU9XCJweC00IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxSb3RhdGVDY3cgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgTmV3IG5vdGVcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIEV4cG9ydCDmjInpiJUgLSDlj6rlnKggZmluaXNoZWQg54uA5oWL6aGv56S6ICovfVxuICAgICAgICAgIHthcHBEYXRhLnN0YXRlID09PSBcImZpbmlzaGVkXCIgJiYgKFxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBjb25zb2xlLmxvZygnRXhwb3J0IGZ1bmN0aW9uYWxpdHknKX0gc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwicHgtNCBoLTggZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPERvd25sb2FkIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICBFeHBvcnRcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNYWluIENvbnRlbnQgLSBUd28gUGFuZWwgTGF5b3V0IC0gQWRqdXN0ZWQgZm9yIGZpeGVkIGhlYWRlciBoZWlnaHQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC1bY2FsYygxMDB2aC04MHB4KV1cIiBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc9e3RydWV9PlxuICAgICAgICB7LyogTGVmdCBQYW5lbCAtIFNpbXBsZU1ERSBFZGl0b3IgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWJhY2tncm91bmQgYm9yZGVyLXIgYm9yZGVyLWJvcmRlciBoLWZ1bGxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBwLTYgZmxleCBmbGV4LWNvbCBnYXAtNFwiPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6KuL6Ly45YWl5qiZ6aGMLi4uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2RyYWZ0VGl0bGV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RHJhZnRUaXRsZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXthcHBEYXRhLnN0YXRlID09PSAncHJvY2Vzc2luZycgfHwgYXBwRGF0YS5zdGF0ZSA9PT0gJ2ZpbmlzaGVkJyB8fCBhcHBEYXRhLmlzUmVjb3JkaW5nfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGVkaXRvci1jb250YWluZXIgZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgIDxTaW1wbGVNREVcbiAgICAgICAgICAgICAgICBvcHRpb25zPXtlZGl0b3JPcHRpb25zfVxuICAgICAgICAgICAgICAgIHZhbHVlPXthcHBEYXRhLmVkaXRvckNvbnRlbnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3NhdmVMb2NhbERyYWZ0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBSaWdodCBQYW5lbCAtIFN0YXRlLWRlcGVuZGVudCBjb250ZW50ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctODAgYmctYmFja2dyb3VuZCBmbGV4LXNocmluay0wIGgtZnVsbFwiPntyZW5kZXJSaWdodFBhbmVsKCl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbImR5bmFtaWMiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJJbnB1dCIsIkJ1dHRvbiIsIlJvdGF0ZUNjdyIsIkRvd25sb2FkIiwiU2ltcGxlTURFIiwic3NyIiwibG9hZGluZyIsImRpdiIsImNsYXNzTmFtZSIsInVzZUFwcFN0YXRlIiwiRGVmYXVsdFN0YXRlIiwiUmVjb3JkaW5nU3RhdGUiLCJXYWl0aW5nU3RhdGUiLCJGaW5pc2hTdGF0ZSIsIkNvbXBvbmVudCIsImFwcERhdGEiLCJpc0xvYWRpbmciLCJlcnJvciIsInN0YXJ0UmVjb3JkaW5nIiwic3RvcFJlY29yZGluZyIsIm5ld05vdGUiLCJzYXZlTG9jYWxEcmFmdCIsInNlc3Npb24iLCJkcmFmdFRpdGxlIiwic2V0RHJhZnRUaXRsZSIsImNvbnNvbGUiLCJsb2ciLCJzdGF0ZSIsImlzUmVjb3JkaW5nIiwic3RhdHVzIiwidHlwZSIsImVkaXRvck9wdGlvbnMiLCJzcGVsbENoZWNrZXIiLCJwbGFjZWhvbGRlciIsInRvb2xiYXIiLCJhdXRvZm9jdXMiLCJ0YWJTaXplIiwicmVuZGVyUmlnaHRQYW5lbCIsIm9uU3RhcnRSZWNvcmRpbmciLCJ0cmFuc2NyaXB0RW50cmllcyIsInJlY29yZGluZ1RpbWUiLCJvblN0b3BSZWNvcmRpbmciLCJvbkV4cG9ydCIsIm9uVG9MYXRlc3QiLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJoMSIsInZhcmlhbnQiLCJvbkNsaWNrIiwic2l6ZSIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJvcHRpb25zIiwiZWRpdG9yQ29udGVudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./study-scriber.tsx\n");

/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/axios@1.10.0","vendor-chunks/lucide-react@0.454.0_react@19.0.0","vendor-chunks/asynckit@0.4.0","vendor-chunks/math-intrinsics@1.1.0","vendor-chunks/es-errors@1.3.0","vendor-chunks/call-bind-apply-helpers@1.0.2","vendor-chunks/@swc+helpers@0.5.15","vendor-chunks/debug@4.4.1","vendor-chunks/get-proto@1.0.1","vendor-chunks/mime-db@1.52.0","vendor-chunks/has-symbols@1.1.0","vendor-chunks/gopd@1.2.0","vendor-chunks/function-bind@1.1.2","vendor-chunks/form-data@4.0.3","vendor-chunks/follow-redirects@1.15.9","vendor-chunks/tailwind-merge@2.5.5","vendor-chunks/clsx@2.1.1","vendor-chunks/class-variance-authority@0.7.1","vendor-chunks/@radix-ui+react-use-layout-effect@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-use-callback-ref@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-slot@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-scroll-area@1.2.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom_4cec18677bb44dd61a9e69790aff2bfb","vendor-chunks/@radix-ui+react-primitive@2.0.1_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@radix-ui+react-presence@1.1.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@radix-ui+react-direction@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-context@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-compose-refs@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+primitive@1.1.1","vendor-chunks/@radix-ui+number@1.1.0","vendor-chunks/easymde@2.20.0","vendor-chunks/proxy-from-env@1.1.0","vendor-chunks/mime-types@2.1.35","vendor-chunks/hasown@2.0.2","vendor-chunks/has-tostringtag@1.0.2","vendor-chunks/get-intrinsic@1.3.0","vendor-chunks/es-set-tostringtag@2.1.0","vendor-chunks/es-object-atoms@1.1.1","vendor-chunks/es-define-property@1.0.1","vendor-chunks/dunder-proto@1.0.1","vendor-chunks/delayed-stream@1.0.0","vendor-chunks/combined-stream@1.0.8","vendor-chunks/supports-color@7.2.0","vendor-chunks/ms@2.1.3","vendor-chunks/has-flag@4.0.0"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
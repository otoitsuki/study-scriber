/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"69fb6c842ea3\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2FwcC9nbG9iYWxzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjY5ZmI2Yzg0MmVhM1wiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _providers_app_state_provider_wrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../providers/app-state-provider-wrapper */ \"(rsc)/./providers/app-state-provider-wrapper.tsx\");\n\n\n\nconst metadata = {\n    title: 'study-scriber',\n    description: 'study-scriber',\n    generator: 'study-scriber'\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_providers_app_state_provider_wrapper__WEBPACK_IMPORTED_MODULE_2__.AppStateProviderWrapper, {\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\",\n                lineNumber: 19,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\",\n            lineNumber: 18,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3NCO0FBQzJEO0FBRTFFLE1BQU1DLFdBQXFCO0lBQ2hDQyxPQUFPO0lBQ1BDLGFBQWE7SUFDYkMsV0FBVztBQUNiLEVBQUM7QUFFYyxTQUFTQyxXQUFXLEVBQ2pDQyxRQUFRLEVBR1I7SUFDQSxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztrQkFDVCw0RUFBQ0M7c0JBQ0MsNEVBQUNULDBGQUF1QkE7MEJBQ3JCTTs7Ozs7Ozs7Ozs7Ozs7OztBQUtYIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvbGF5b3V0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE1ldGFkYXRhIH0gZnJvbSAnbmV4dCdcbmltcG9ydCAnLi9nbG9iYWxzLmNzcydcbmltcG9ydCB7IEFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyIH0gZnJvbSAnLi4vcHJvdmlkZXJzL2FwcC1zdGF0ZS1wcm92aWRlci13cmFwcGVyJ1xuXG5leHBvcnQgY29uc3QgbWV0YWRhdGE6IE1ldGFkYXRhID0ge1xuICB0aXRsZTogJ3N0dWR5LXNjcmliZXInLFxuICBkZXNjcmlwdGlvbjogJ3N0dWR5LXNjcmliZXInLFxuICBnZW5lcmF0b3I6ICdzdHVkeS1zY3JpYmVyJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XG4gIGNoaWxkcmVuLFxufTogUmVhZG9ubHk8e1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG59Pikge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiPlxuICAgICAgPGJvZHk+XG4gICAgICAgIDxBcHBTdGF0ZVByb3ZpZGVyV3JhcHBlcj5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvQXBwU3RhdGVQcm92aWRlcldyYXBwZXI+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICApXG59XG4iXSwibmFtZXMiOlsiQXBwU3RhdGVQcm92aWRlcldyYXBwZXIiLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJnZW5lcmF0b3IiLCJSb290TGF5b3V0IiwiY2hpbGRyZW4iLCJodG1sIiwibGFuZyIsImJvZHkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call the default export of \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx",
"default",
));


/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/module.compiled.js?aeea\");\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\nconst module0 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\"));\nconst module1 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/not-found-error.js\", 23));\nconst module2 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/forbidden-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/forbidden-error.js\", 23));\nconst module3 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/unauthorized-error */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/unauthorized-error.js\", 23));\nconst page4 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page4, \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [module0, \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/layout.tsx\"],\n'not-found': [module1, \"next/dist/client/components/not-found-error\"],\n'forbidden': [module2, \"next/dist/client/components/forbidden-error\"],\n'unauthorized': [module3, \"next/dist/client/components/unauthorized-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGcGFnZSZwYWdlPSUyRnBhZ2UmYXBwUGF0aHM9JTJGcGFnZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRnBhZ2UudHN4JmFwcERpcj0lMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNCQUFzQiw0SUFBc0c7QUFDNUgsc0JBQXNCLGdWQUFnRjtBQUN0RyxzQkFBc0IsZ1ZBQWdGO0FBQ3RHLHNCQUFzQixzVkFBbUY7QUFDekcsb0JBQW9CLHdJQUFvRztBQUd0SDtBQUdBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDdUI7QUFHckI7QUFDRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFHRTtBQUNGO0FBQ08sd0JBQXdCLHVHQUFrQjtBQUNqRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb2R1bGUwID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvbGF5b3V0LnRzeFwiKTtcbmNvbnN0IG1vZHVsZTEgPSAoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIik7XG5jb25zdCBtb2R1bGUyID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZm9yYmlkZGVuLWVycm9yXCIpO1xuY29uc3QgbW9kdWxlMyA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3VuYXV0aG9yaXplZC1lcnJvclwiKTtcbmNvbnN0IHBhZ2U0ID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIik7XG5pbXBvcnQgeyBBcHBQYWdlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNzcidcbn07XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCIgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc2VydmVyLXV0aWxpdHknXG59O1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFtwYWdlNCwgXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbbW9kdWxlMCwgXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbbW9kdWxlMSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuJ2ZvcmJpZGRlbic6IFttb2R1bGUyLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9mb3JiaWRkZW4tZXJyb3JcIl0sXG4ndW5hdXRob3JpemVkJzogW21vZHVsZTMsIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3VuYXV0aG9yaXplZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnlcIiB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zZXJ2ZXItdXRpbGl0eSdcbn07XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNlcnZlci11dGlsaXR5J1xufTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJycsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./providers/app-state-provider-wrapper.tsx */ \"(rsc)/./providers/app-state-provider-wrapper.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCUyRmdsb2JhbHMuY3NzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGcHJvdmlkZXJzJTJGYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyQXBwU3RhdGVQcm92aWRlcldyYXBwZXIlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdNQUE2SyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQXBwU3RhdGVQcm92aWRlcldyYXBwZXJcIl0gKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9wcm92aWRlcnMvYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSx3SUFBb0ciLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js */ \"(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZlcnJvci1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmh0dHAtYWNjZXNzLWZhbGxiYWNrJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbWV0YWRhdGElMkZhc3luYy1tZXRhZGF0YS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm1ldGFkYXRhJTJGbWV0YWRhdGEtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxnZEFBcVE7QUFDclE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxnZ0JBQTZSO0FBQzdSO0FBQ0Esb2RBQXVRO0FBQ3ZRO0FBQ0Esd2VBQWlSO0FBQ2pSO0FBQ0EsOGVBQW9SO0FBQ3BSO0FBQ0Esa2ZBQXNSIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXNlZ21lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9odHRwLWFjY2Vzcy1mYWxsYmFjay9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbWV0YWRhdGEvYXN5bmMtbWV0YWRhdGEuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL21ldGFkYXRhL21ldGFkYXRhLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./providers/app-state-provider-wrapper.tsx":
/*!**************************************************!*\
  !*** ./providers/app-state-provider-wrapper.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppStateProviderWrapper: () => (/* binding */ AppStateProviderWrapper)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__);

const AppStateProviderWrapper = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call AppStateProviderWrapper() from the server but AppStateProviderWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/itsuki/Documents/Git/study-scriber/frontend/providers/app-state-provider-wrapper.tsx",
"AppStateProviderWrapper",
);

/***/ }),

/***/ "(ssr)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _study_scriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../study-scriber */ \"(ssr)/./study-scriber.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n// 添加全局除錯功能\nif (false) {}\nfunction Page() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_study_scriber__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/app/page.tsx\",\n        lineNumber: 346,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHd0M7QUFFeEMsV0FBVztBQUNYLElBQUksS0FBNkIsRUFBRSxFQWdWbEM7QUFFYyxTQUFTMkY7SUFDdEIscUJBQU8sOERBQUMzRixzREFBU0E7Ozs7O0FBQ25CIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9hcHAvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IGR5bmFtaWMgZnJvbSBcIm5leHQvZHluYW1pY1wiXG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuLi9zdHVkeS1zY3JpYmVyXCJcblxuLy8g5re75Yqg5YWo5bGA6Zmk6Yyv5Yqf6IO9XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgKHdpbmRvdyBhcyBhbnkpLmRlYnVnVHJhbnNjcmlwdCA9ICgpID0+IHtcbiAgICBjb25zdCB0ZXN0TWVzc2FnZSA9IHtcbiAgICAgIHR5cGU6ICd0cmFuc2NyaXB0X3NlZ21lbnQnLFxuICAgICAgdGV4dDogJ+a4rOippumAkOWtl+eov+WFp+WuuSAtIOWmguaenOeci+WIsOmAmeWAi+ihqOekuuWJjeerr+WPr+S7peato+W4uOiZleeQhicsXG4gICAgICBzdGFydF90aW1lOiAwLFxuICAgICAgZW5kX3RpbWU6IDEyLFxuICAgICAgc3RhcnRfc2VxdWVuY2U6IDAsXG4gICAgICBjb25maWRlbmNlOiAwLjk1XG4gICAgfTtcblxuICAgIC8vIOWPluW+l+eVtuWJjSBzZXNzaW9uIElEXG4gICAgY29uc3QgYXBwRGF0YSA9ICh3aW5kb3cgYXMgYW55KS5hcHBEYXRhO1xuICAgIGNvbnN0IHNlc3Npb25JZCA9IGFwcERhdGE/LnNlc3Npb24/LmlkIHx8ICc4NjFmOGNlZS0xZjU3LTQ3NmMtODgxOS0wZmZlOWVjMDg0YzgnO1xuXG4gICAgY29uc29sZS5sb2coJ/CflI0g5ris6Kmm6YCQ5a2X56i/5o6l5pS277yMU2Vzc2lvbiBJRDonLCBzZXNzaW9uSWQpO1xuXG4gICAgLy8g55u05o6l6Ke455m8IFRyYW5zY3JpcHRNYW5hZ2VyIOeahOioiuaBr+iZleeQhlxuICAgIGNvbnN0IG1hbmFnZXIgPSAod2luZG93IGFzIGFueSkudHJhbnNjcmlwdE1hbmFnZXI7XG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IG1hbmFnZXIubGlzdGVuZXJzLmdldChzZXNzaW9uSWQpO1xuICAgICAgaWYgKGxpc3RlbmVycyAmJiBsaXN0ZW5lcnMuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk6Eg5om+5YiwICR7bGlzdGVuZXJzLnNpemV9IOWAi+ebo+iBveWZqO+8jOmWi+Wni+W7o+aSrea4rOippuioiuaBr2ApO1xuICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgoY2FsbGJhY2s6IGFueSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFjayh0ZXN0TWVzc2FnZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOa4rOippuioiuaBr+W3sueZvOmAgScpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg55m86YCB5ris6Kmm6KiK5oGv5aSx5pWXOicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOaykuacieaJvuWIsOebo+iBveWZqO+8jOiri+eiuuiqjSBXZWJTb2NrZXQg5bey6YCj5o6lJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBUcmFuc2NyaXB0TWFuYWdlciDmnKrliJ3lp4vljJYnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g5paw5aKe77ya6Ki65pa35Ye95pW4XG4gICh3aW5kb3cgYXMgYW55KS5kZWJ1Z1N0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGFwcERhdGEgPSAod2luZG93IGFzIGFueSkuYXBwRGF0YTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSDlrozmlbTmh4nnlKjni4DmhYvoqLrmlrfvvJonKTtcbiAgICBjb25zb2xlLmxvZygnMS4gQXBwRGF0YTonLCBhcHBEYXRhKTtcbiAgICBjb25zb2xlLmxvZygnMi4gU2Vzc2lvbjonLCBhcHBEYXRhPy5zZXNzaW9uKTtcbiAgICBjb25zb2xlLmxvZygnMy4g6YyE6Z+z54uA5oWLOicsIHtcbiAgICAgIGlzUmVjb3JkaW5nOiBhcHBEYXRhPy5pc1JlY29yZGluZyxcbiAgICAgIHJlY29yZGluZ1RpbWU6IGFwcERhdGE/LnJlY29yZGluZ1RpbWUsXG4gICAgICBzdGF0ZTogYXBwRGF0YT8uc3RhdGVcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygnNC4g6YCQ5a2X56i/OicsIHtcbiAgICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBhcHBEYXRhPy50cmFuc2NyaXB0RW50cmllcyxcbiAgICAgIGNvdW50OiBhcHBEYXRhPy50cmFuc2NyaXB0RW50cmllcz8ubGVuZ3RoIHx8IDBcbiAgICB9KTtcblxuICAgIC8vIOaqouafpSB0cmFuc2NyaXB0TWFuYWdlciDnmoTlhafpg6jni4DmhYtcbiAgICBjb25zdCBtYW5hZ2VyID0gKHdpbmRvdyBhcyBhbnkpLnRyYW5zY3JpcHRNYW5hZ2VyO1xuICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICBjb25zb2xlLmxvZygnNS4gVHJhbnNjcmlwdE1hbmFnZXI6Jyk7XG4gICAgICBjb25zb2xlLmxvZygnICAgLSDpgKPmjqXmlbg6JywgbWFuYWdlci5nZXRDb25uZWN0aW9uQ291bnQoKSk7XG4gICAgICBjb25zb2xlLmxvZygnICAgLSDpgKPmjqVNYXA6JywgbWFuYWdlci5jb25uZWN0aW9ucyk7XG4gICAgICBjb25zb2xlLmxvZygnICAgLSDnm6Pogb3lmahNYXA6JywgbWFuYWdlci5saXN0ZW5lcnMpO1xuICAgIH1cblxuICAgIC8vIOaqouafpeeCuuS7gOm6vOeLgOaFi+aYryBkZWZhdWx0XG4gICAgY29uc29sZS5sb2coJzYuIOeLgOaFi+aYoOWwhOaineS7tjonKTtcbiAgICBjb25zb2xlLmxvZygnICAgLSBoYXNTZXNzaW9uOicsICEhYXBwRGF0YT8uc2Vzc2lvbik7XG4gICAgY29uc29sZS5sb2coJyAgIC0gc2Vzc2lvblN0YXR1czonLCBhcHBEYXRhPy5zZXNzaW9uPy5zdGF0dXMpO1xuICAgIGNvbnNvbGUubG9nKCcgICAtIHNlc3Npb25UeXBlOicsIGFwcERhdGE/LnNlc3Npb24/LnR5cGUpO1xuICAgIGNvbnNvbGUubG9nKCcgICAtIGlzUmVjb3JkaW5nOicsIGFwcERhdGE/LmlzUmVjb3JkaW5nKTtcbiAgICBjb25zb2xlLmxvZygnICAgLSB0cmFuc2NyaXB0Q291bnQ6JywgYXBwRGF0YT8udHJhbnNjcmlwdEVudHJpZXM/Lmxlbmd0aCB8fCAwKTtcbiAgfTtcblxuICAvLyDmlrDlop7vvJrnm6Pogb3pgJDlrZfnqL/mm7TmlrBcbiAgKHdpbmRvdyBhcyBhbnkpLndhdGNoVHJhbnNjcmlwdHMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbklkID0gJzg2MWY4Y2VlLTFmNTctNDc2Yy04ODE5LTBmZmU5ZWMwODRjOCc7XG5cbiAgICAvLyDmt7vliqDkuIDlgIvmuKzoqabnm6Pogb3lmahcbiAgICBjb25zdCB0ZXN0TGlzdGVuZXIgPSAobWVzc2FnZTogYW55KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn8J+OryBb5ris6Kmm55uj6IG95ZmoXSDmlLbliLDoqIrmga86Jywge1xuICAgICAgICB0eXBlOiBtZXNzYWdlLnR5cGUsXG4gICAgICAgIHRleHQ6IG1lc3NhZ2UudGV4dCxcbiAgICAgICAgdGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgbWFuYWdlciA9ICh3aW5kb3cgYXMgYW55KS50cmFuc2NyaXB0TWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgbWFuYWdlci5hZGRMaXN0ZW5lcihzZXNzaW9uSWQsIHRlc3RMaXN0ZW5lcik7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIOa4rOippuebo+iBveWZqOW3sua3u+WKoO+8jOetieW+hemAkOWtl+eov+ioiuaBry4uLicpO1xuXG4gICAgICAvLyDov5Tlm57np7vpmaTlh73mlbhcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIG1hbmFnZXIucmVtb3ZlTGlzdGVuZXIoc2Vzc2lvbklkLCB0ZXN0TGlzdGVuZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygn4p2MIOa4rOippuebo+iBveWZqOW3suenu+mZpCcpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFRyYW5zY3JpcHRNYW5hZ2VyIOacquWIneWni+WMlicpO1xuICAgICAgcmV0dXJuICgpID0+IHsgfTtcbiAgICB9XG4gIH07XG5cbiAgLy8g5paw5aKe77ya5omL5YuV5o6o6YCB6YCQ5a2X56i/XG4gICh3aW5kb3cgYXMgYW55KS5wdXNoVHJhbnNjcmlwdCA9ICh0ZXh0OiBzdHJpbmcsIHN0YXJ0VGltZTogbnVtYmVyID0gMCkgPT4ge1xuICAgIGNvbnN0IGFwcERhdGEgPSAod2luZG93IGFzIGFueSkuYXBwRGF0YTtcbiAgICBpZiAoIWFwcERhdGEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBhcHBEYXRhIOacquWumue+qScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOioiOeul+aZgumWk+agvOW8j1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHN0YXJ0VGltZSAvIDYwKTtcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihzdGFydFRpbWUgJSA2MCk7XG4gICAgY29uc3QgdGltZVN0ciA9IGAke21pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gO1xuXG4gICAgLy8g5Ym15bu65paw55qE6YCQ5a2X56i/6aCF55uuXG4gICAgY29uc3QgbmV3RW50cnkgPSB7XG4gICAgICB0aW1lOiB0aW1lU3RyLFxuICAgICAgdGV4dDogdGV4dFxuICAgIH07XG5cbiAgICAvLyDmm7TmlrAgYXBwRGF0YVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyaWVzID0gYXBwRGF0YS50cmFuc2NyaXB0RW50cmllcyB8fCBbXTtcbiAgICBjb25zdCBuZXdFbnRyaWVzID0gWy4uLmN1cnJlbnRFbnRyaWVzLCBuZXdFbnRyeV07XG5cbiAgICAvLyDmiYvli5Xop7jnmbzni4DmhYvmm7TmlrBcbiAgICBjb25zb2xlLmxvZygn8J+TnSDmiYvli5XmjqjpgIHpgJDlrZfnqL86JywgbmV3RW50cnkpO1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIOabtOaWsOWJjTonLCBjdXJyZW50RW50cmllcy5sZW5ndGgsICfmop0nKTtcbiAgICBjb25zb2xlLmxvZygn8J+TiiDmm7TmlrDlvow6JywgbmV3RW50cmllcy5sZW5ndGgsICfmop0nKTtcblxuICAgIC8vIOabtOaWsOeLgOaFi1xuICAgIGFwcERhdGEudHJhbnNjcmlwdEVudHJpZXMgPSBuZXdFbnRyaWVzO1xuXG4gICAgLy8g5aaC5p6c54uA5oWL6YKE5pivIHJlY29yZGluZ193YWl0aW5n77yM5pS554K6IHJlY29yZGluZ19hY3RpdmVcbiAgICBpZiAoYXBwRGF0YS5zdGF0ZSA9PT0gJ3JlY29yZGluZ193YWl0aW5nJyAmJiBuZXdFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFwcERhdGEuc3RhdGUgPSAncmVjb3JkaW5nX2FjdGl2ZSc7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIOeLgOaFi+abtOaWsDogcmVjb3JkaW5nX3dhaXRpbmcg4oaSIHJlY29yZGluZ19hY3RpdmUnKTtcbiAgICB9XG5cbiAgICAvLyDlvLfliLbph43mlrDmuLLmn5NcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH07XG5cbiAgLy8g5paw5aKe77ya6Ki65pa3IFdlYlNvY2tldCDlkozni4DmhYtcbiAgKHdpbmRvdyBhcyBhbnkpLmRpYWdub3NlID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SNID09PT09PT09PT0g6Ki65pa36ZaL5aeLID09PT09PT09PT0nKTtcblxuICAgIC8vIDEuIOaqouafpSBhcHBEYXRhIOeLgOaFi1xuICAgIGNvbnN0IGFwcERhdGEgPSAod2luZG93IGFzIGFueSkuYXBwRGF0YTtcbiAgICBjb25zb2xlLmxvZygn8J+TiiBbMV0gYXBwRGF0YSDni4DmhYs6Jywge1xuICAgICAgc3RhdGU6IGFwcERhdGE/LnN0YXRlLFxuICAgICAgaXNSZWNvcmRpbmc6IGFwcERhdGE/LmlzUmVjb3JkaW5nLFxuICAgICAgdHJhbnNjcmlwdEVudHJpZXM6IGFwcERhdGE/LnRyYW5zY3JpcHRFbnRyaWVzPy5sZW5ndGggfHwgMCxcbiAgICAgIHNlc3Npb246IGFwcERhdGE/LnNlc3Npb24gPyB7XG4gICAgICAgIGlkOiBhcHBEYXRhLnNlc3Npb24uaWQsXG4gICAgICAgIHN0YXR1czogYXBwRGF0YS5zZXNzaW9uLnN0YXR1cyxcbiAgICAgICAgdHlwZTogYXBwRGF0YS5zZXNzaW9uLnR5cGVcbiAgICAgIH0gOiB1bmRlZmluZWRcbiAgICB9KTtcblxuICAgIC8vIDIuIOaqouafpSByZWNvcmRpbmcgaG9vayDni4DmhYtcbiAgICBjb25zdCByZWNvcmRpbmdIb29rID0gKHdpbmRvdyBhcyBhbnkpLnJlY29yZGluZ0hvb2s7XG4gICAgaWYgKHJlY29yZGluZ0hvb2spIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIFsyXSByZWNvcmRpbmcgaG9vayDni4DmhYs6Jywge1xuICAgICAgICBpc1JlY29yZGluZzogcmVjb3JkaW5nSG9vay5pc1JlY29yZGluZyxcbiAgICAgICAgdHJhbnNjcmlwdHNDb3VudDogcmVjb3JkaW5nSG9vay50cmFuc2NyaXB0cz8ubGVuZ3RoIHx8IDAsXG4gICAgICAgIHRyYW5zY3JpcHRzOiByZWNvcmRpbmdIb29rLnRyYW5zY3JpcHRzXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFsyXSByZWNvcmRpbmcgaG9vayDmnKrmib7liLAnKTtcbiAgICB9XG5cbiAgICAvLyAyLjUg5qqi5p+lIHNlc3Npb24gaG9vayDni4DmhYtcbiAgICBjb25zdCBzZXNzaW9uSG9vayA9ICh3aW5kb3cgYXMgYW55KS5zZXNzaW9uSG9vaztcbiAgICBpZiAoc2Vzc2lvbkhvb2spIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SQIFsyLjVdIHNlc3Npb24gaG9vayDni4DmhYs6Jywge1xuICAgICAgICBjdXJyZW50U2Vzc2lvbjogc2Vzc2lvbkhvb2suY3VycmVudFNlc3Npb24sXG4gICAgICAgIGlzTG9hZGluZzogc2Vzc2lvbkhvb2suaXNMb2FkaW5nLFxuICAgICAgICBlcnJvcjogc2Vzc2lvbkhvb2suZXJyb3JcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgWzIuNV0gc2Vzc2lvbiBob29rIOacquaJvuWIsCcpO1xuICAgIH1cblxuICAgIC8vIDMuIOaqouafpSBUcmFuc2NyaXB0TWFuYWdlciDni4DmhYtcbiAgICBjb25zdCBtYW5hZ2VyID0gKHdpbmRvdyBhcyBhbnkpLnRyYW5zY3JpcHRNYW5hZ2VyO1xuICAgIGNvbnN0IHNlc3Npb25JZCA9IGFwcERhdGE/LnNlc3Npb24/LmlkIHx8IHNlc3Npb25Ib29rPy5jdXJyZW50U2Vzc2lvbj8uaWQ7XG5cbiAgICBpZiAobWFuYWdlciAmJiBzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KsIFszXSBUcmFuc2NyaXB0TWFuYWdlciDni4DmhYs6Jywge1xuICAgICAgICBpc0Nvbm5lY3RlZDogbWFuYWdlci5pc0Nvbm5lY3RlZChzZXNzaW9uSWQpLFxuICAgICAgICBsaXN0ZW5lcnM6IG1hbmFnZXIubGlzdGVuZXJzLnNpemUsXG4gICAgICAgIHdlYnNvY2tldDogbWFuYWdlci53ZWJzb2NrZXQgPyAn5a2Y5ZyoJyA6ICfkuI3lrZjlnKgnLFxuICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbM10gc2Vzc2lvbiBJRCDmnKrlrprnvqkg5oiWIFRyYW5zY3JpcHRNYW5hZ2VyIOacquaJvuWIsCcsIHtcbiAgICAgICAgbWFuYWdlcjogISFtYW5hZ2VyLFxuICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gNC4g5qqi5p+lIFdlYlNvY2tldCDoqbPmg4VcbiAgICBpZiAobWFuYWdlciAmJiBzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gbWFuYWdlci5jb25uZWN0aW9ucztcbiAgICAgIGNvbnN0IHdzID0gY29ubmVjdGlvbnMuZ2V0KHNlc3Npb25JZCk7XG4gICAgICBpZiAod3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIwgWzRdIFdlYlNvY2tldCDoqbPmg4U6Jywge1xuICAgICAgICAgIHJlYWR5U3RhdGU6IHdzLnJlYWR5U3RhdGUsXG4gICAgICAgICAgcmVhZHlTdGF0ZVRleHQ6IFsnQ09OTkVDVElORycsICdPUEVOJywgJ0NMT1NJTkcnLCAnQ0xPU0VEJ11bd3MucmVhZHlTdGF0ZV0sXG4gICAgICAgICAgdXJsOiB3cy51cmwgfHwgd3Mud3NVcmwsXG4gICAgICAgICAgaXNDb25uZWN0ZWQ6IHdzLmlzQ29ubmVjdGVkLFxuICAgICAgICAgIGJ1ZmZlcmVkQW1vdW50OiB3cy5idWZmZXJlZEFtb3VudCB8fCAnTi9BJyxcbiAgICAgICAgICBwcm90b2NvbDogd3MucHJvdG9jb2wgfHwgJ04vQSdcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgWzRdIFdlYlNvY2tldCDpgKPmjqXmnKrmib7liLAgZm9yIHNlc3Npb246Jywgc2Vzc2lvbklkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFs0XSBUcmFuc2NyaXB0TWFuYWdlciDmiJYgc2Vzc2lvbklkIOacquWumue+qScpO1xuICAgIH1cblxuICAgIC8vIDUuIOaqouafpSBsb2NhbFN0b3JhZ2VcbiAgICBjb25zb2xlLmxvZygn8J+SviBbNV0gbG9jYWxTdG9yYWdlIOWFp+WuuTonLCB7XG4gICAgICBkcmFmdF9ub3RlOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZHJhZnRfbm90ZScpPy5zdWJzdHJpbmcoMCwgMTAwKSArICcuLi4nLFxuICAgICAgaGFzT3RoZXJTZXNzaW9uS2V5czogT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5maWx0ZXIoayA9PiBrLmluY2x1ZGVzKCdzZXNzaW9uJykpLmxlbmd0aCA+IDBcbiAgICB9KTtcblxuICAgIC8vIDYuIOaJi+WLleW7uueriyBXZWJTb2NrZXQg6YCj5o6l5ris6KmmXG4gICAgY29uc29sZS5sb2coJ/Cfp6ogWzZdIOa4rOippiBXZWJTb2NrZXQg6YCj5o6lLi4uJyk7XG4gICAgY29uc3QgdGVzdFNlc3Npb25JZCA9IHNlc3Npb25JZCB8fCAnMjNmNmJiZmUtYTg0Ni00NGRiLWJhMWItMjc1MWFkYWZlMGJjJzsgLy8g5L2/55So5b6M56uv5pel6KqM5Lit55qEIHNlc3Npb24gSURcbiAgICBjb25zdCB3c1VybCA9IGB3czovL2xvY2FsaG9zdDo4MDAwL3dzL3RyYW5zY3JpcHRfZmVlZC8ke3Rlc3RTZXNzaW9uSWR9YDtcbiAgICBjb25zb2xlLmxvZygn8J+nqiDmuKzoqaYgVVJMOicsIHdzVXJsKTtcblxuICAgIC8vIDcuIOaqouafpSBhcHBEYXRhIOS4reaJgOacieWPr+eUqOeahOWxrOaAp1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFs3XSBhcHBEYXRhIOWujOaVtOWFp+WuuTonLCBhcHBEYXRhKTtcblxuICAgIGNvbnNvbGUubG9nKCfwn5SNID09PT09PT09PT0g6Ki65pa357WQ5p2fID09PT09PT09PT0nKTtcbiAgfTtcblxuICAvLyDmlrDlop7vvJrlvLfliLblkIzmraXni4DmhYtcbiAgKHdpbmRvdyBhcyBhbnkpLnN5bmNTdGF0ZXMgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQg5by35Yi25ZCM5q2l5omA5pyJ54uA5oWLLi4uJyk7XG5cbiAgICBjb25zdCByZWNvcmRpbmdIb29rID0gKHdpbmRvdyBhcyBhbnkpLnJlY29yZGluZ0hvb2s7XG4gICAgY29uc3Qgc2Vzc2lvbkhvb2sgPSAod2luZG93IGFzIGFueSkuc2Vzc2lvbkhvb2s7XG4gICAgY29uc3QgYXBwRGF0YSA9ICh3aW5kb3cgYXMgYW55KS5hcHBEYXRhO1xuXG4gICAgaWYgKHJlY29yZGluZ0hvb2sgJiYgc2Vzc2lvbkhvb2sgJiYgYXBwRGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgW+WQjOatpeWJjV0g54uA5oWL5bCN5q+UOicsIHtcbiAgICAgICAgJ2FwcERhdGEuaXNSZWNvcmRpbmcnOiBhcHBEYXRhLmlzUmVjb3JkaW5nLFxuICAgICAgICAncmVjb3JkaW5nLmlzUmVjb3JkaW5nJzogcmVjb3JkaW5nSG9vay5pc1JlY29yZGluZyxcbiAgICAgICAgJ2FwcERhdGEuc3RhdGUnOiBhcHBEYXRhLnN0YXRlLFxuICAgICAgICAnc2Vzc2lvbi5zdGF0dXMnOiBzZXNzaW9uSG9vay5jdXJyZW50U2Vzc2lvbj8uc3RhdHVzLFxuICAgICAgICAnc2Vzc2lvbi50eXBlJzogc2Vzc2lvbkhvb2suY3VycmVudFNlc3Npb24/LnR5cGUsXG4gICAgICAgICdyZWNvcmRpbmcudHJhbnNjcmlwdHMubGVuZ3RoJzogcmVjb3JkaW5nSG9vay50cmFuc2NyaXB0cz8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICdhcHBEYXRhLnRyYW5zY3JpcHRFbnRyaWVzLmxlbmd0aCc6IGFwcERhdGEudHJhbnNjcmlwdEVudHJpZXM/Lmxlbmd0aCB8fCAwXG4gICAgICB9KTtcblxuICAgICAgLy8g5by35Yi26Ke455m854uA5oWL6YeN5paw6KiI566XXG4gICAgICBjb25zdCBmb3JjZVVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgLy8g6Ke455m85LiA5YCL5b6u5bCP55qE54uA5oWL6K6K5YyW5L6G5by35Yi26YeN5paw5riy5p+TXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gYXBwRGF0YS5yZWNvcmRpbmdUaW1lIHx8IDA7XG4gICAgICAgIGFwcERhdGEucmVjb3JkaW5nVGltZSA9IGN1cnJlbnRUaW1lICsgMC4wMDE7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYXBwRGF0YS5yZWNvcmRpbmdUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSDlvLfliLblkIzmraXlrozmiJAnKTtcbiAgICAgICAgfSwgNTApO1xuICAgICAgfTtcblxuICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIOeEoeazleaJvuWIsOW/heimgeeahCBob29rcycpO1xuICAgIH1cbiAgfTtcblxuICAvLyDmlrDlop7vvJrkv67lvqnni4DmhYvkuI3kuIDoh7RcbiAgKHdpbmRvdyBhcyBhbnkpLmZpeFN0YXRlcyA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UpyDmiYvli5Xkv67lvqnni4DmhYvkuI3kuIDoh7QuLi4nKTtcblxuICAgIGNvbnN0IHJlY29yZGluZ0hvb2sgPSAod2luZG93IGFzIGFueSkucmVjb3JkaW5nSG9vaztcbiAgICBjb25zdCBhcHBEYXRhID0gKHdpbmRvdyBhcyBhbnkpLmFwcERhdGE7XG5cbiAgICBpZiAocmVjb3JkaW5nSG9vayAmJiBhcHBEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UpyBb5L+u5b6p5YmNXSDni4DmhYs6Jywge1xuICAgICAgICAnYXBwRGF0YS5pc1JlY29yZGluZyc6IGFwcERhdGEuaXNSZWNvcmRpbmcsXG4gICAgICAgICdyZWNvcmRpbmcuaXNSZWNvcmRpbmcnOiByZWNvcmRpbmdIb29rLmlzUmVjb3JkaW5nLFxuICAgICAgICAnYXBwRGF0YS5zdGF0ZSc6IGFwcERhdGEuc3RhdGVcbiAgICAgIH0pO1xuXG4gICAgICAvLyDlvLfliLbkv67lvqkgaXNSZWNvcmRpbmcg54uA5oWLXG4gICAgICBpZiAoYXBwRGF0YS5pc1JlY29yZGluZyAhPT0gcmVjb3JkaW5nSG9vay5pc1JlY29yZGluZykge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UpyDkv67lvqkgaXNSZWNvcmRpbmcg54uA5oWL5LiN5LiA6Ie0Jyk7XG4gICAgICAgIGFwcERhdGEuaXNSZWNvcmRpbmcgPSByZWNvcmRpbmdIb29rLmlzUmVjb3JkaW5nO1xuXG4gICAgICAgIC8vIOWmguaenOmMhOmfs+W3suWBnOatouS9hueLgOaFi+mChOaYryByZWNvcmRpbmdfd2FpdGluZ++8jOaUueeCuiBkZWZhdWx0XG4gICAgICAgIGlmICghcmVjb3JkaW5nSG9vay5pc1JlY29yZGluZyAmJiBhcHBEYXRhLnN0YXRlID09PSAncmVjb3JkaW5nX3dhaXRpbmcnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflKcg5L+u5b6p54uA5oWLOiByZWNvcmRpbmdfd2FpdGluZyDihpIgZGVmYXVsdCcpO1xuICAgICAgICAgIGFwcERhdGEuc3RhdGUgPSAnZGVmYXVsdCc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDop7jnmbzph43mlrDmuLLmn5NcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSDni4DmhYvlt7LkuIDoh7TvvIznhKHpnIDkv67lvqknKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIOeEoeazleaJvuWIsOW/heimgeeahCBob29rcycpO1xuICAgIH1cbiAgfTtcblxuICAvLyDmlrDlop7vvJrlvLfliLYgUmVhY3Qg6YeN5paw5riy5p+TXG4gICh3aW5kb3cgYXMgYW55KS5mb3JjZVVwZGF0ZSA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCDlvLfliLYgUmVhY3Qg6YeN5paw5riy5p+TLi4uJyk7XG5cbiAgICAvLyDmlrnms5UgMe+8muWJteW7uuS4gOWAi+W+ruWwj+eahOeLgOaFi+iuiuWMluS+huinuOeZvOmHjeaWsOa4suafk1xuICAgIGNvbnN0IGFwcERhdGEgPSAod2luZG93IGFzIGFueSkuYXBwRGF0YTtcbiAgICBpZiAoYXBwRGF0YSkge1xuICAgICAgY29uc3Qgb3JpZ2luYWxSZWNvcmRpbmdUaW1lID0gYXBwRGF0YS5yZWNvcmRpbmdUaW1lO1xuICAgICAgYXBwRGF0YS5yZWNvcmRpbmdUaW1lID0gb3JpZ2luYWxSZWNvcmRpbmdUaW1lICsgMC4xO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYXBwRGF0YS5yZWNvcmRpbmdUaW1lID0gb3JpZ2luYWxSZWNvcmRpbmdUaW1lO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIOW8t+WItuabtOaWsOWujOaIkCcpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG5cbiAgICAvLyDmlrnms5UgMu+8muWmguaenOS4iumdouS4jeW3peS9nO+8jOmHjeaWsOi8ieWFpemggemdolxuICAgIGNvbnNvbGUubG9nKCflpoLmnpxVSemChOaYr+aykuacieabtOaWsO+8jOWwh+WcqDPnp5Llvozph43mlrDovInlhaXpoIHpnaIuLi4nKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChjb25maXJtKCdVSSDmspLmnInmm7TmlrDvvIzmmK/lkKbph43mlrDovInlhaXpoIHpnaLvvJ8nKSkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9XG4gICAgfSwgMzAwMCk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2UoKSB7XG4gIHJldHVybiA8Q29tcG9uZW50IC8+XG59XG4iXSwibmFtZXMiOlsiQ29tcG9uZW50Iiwid2luZG93IiwiZGVidWdUcmFuc2NyaXB0IiwidGVzdE1lc3NhZ2UiLCJ0eXBlIiwidGV4dCIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsInN0YXJ0X3NlcXVlbmNlIiwiY29uZmlkZW5jZSIsImFwcERhdGEiLCJzZXNzaW9uSWQiLCJzZXNzaW9uIiwiaWQiLCJjb25zb2xlIiwibG9nIiwibWFuYWdlciIsInRyYW5zY3JpcHRNYW5hZ2VyIiwibGlzdGVuZXJzIiwiZ2V0Iiwic2l6ZSIsImZvckVhY2giLCJjYWxsYmFjayIsImVycm9yIiwiZGVidWdTdGF0ZSIsImlzUmVjb3JkaW5nIiwicmVjb3JkaW5nVGltZSIsInN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJjb3VudCIsImxlbmd0aCIsImdldENvbm5lY3Rpb25Db3VudCIsImNvbm5lY3Rpb25zIiwic3RhdHVzIiwid2F0Y2hUcmFuc2NyaXB0cyIsInRlc3RMaXN0ZW5lciIsIm1lc3NhZ2UiLCJ0aW1lIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsInB1c2hUcmFuc2NyaXB0Iiwic3RhcnRUaW1lIiwibWludXRlcyIsIk1hdGgiLCJmbG9vciIsInNlY29uZHMiLCJ0aW1lU3RyIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIm5ld0VudHJ5IiwiY3VycmVudEVudHJpZXMiLCJuZXdFbnRyaWVzIiwibG9jYXRpb24iLCJyZWxvYWQiLCJkaWFnbm9zZSIsInVuZGVmaW5lZCIsInJlY29yZGluZ0hvb2siLCJ0cmFuc2NyaXB0c0NvdW50IiwidHJhbnNjcmlwdHMiLCJzZXNzaW9uSG9vayIsImN1cnJlbnRTZXNzaW9uIiwiaXNMb2FkaW5nIiwiaXNDb25uZWN0ZWQiLCJ3ZWJzb2NrZXQiLCJ3cyIsInJlYWR5U3RhdGUiLCJyZWFkeVN0YXRlVGV4dCIsInVybCIsIndzVXJsIiwiYnVmZmVyZWRBbW91bnQiLCJwcm90b2NvbCIsImRyYWZ0X25vdGUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3Vic3RyaW5nIiwiaGFzT3RoZXJTZXNzaW9uS2V5cyIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJrIiwiaW5jbHVkZXMiLCJ0ZXN0U2Vzc2lvbklkIiwic3luY1N0YXRlcyIsImZvcmNlVXBkYXRlIiwiY3VycmVudFRpbWUiLCJzZXRUaW1lb3V0IiwiZml4U3RhdGVzIiwib3JpZ2luYWxSZWNvcmRpbmdUaW1lIiwiY29uZmlybSIsIlBhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./components/default-state.tsx":
/*!**************************************!*\
  !*** ./components/default-state.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultState: () => (/* binding */ DefaultState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Upload!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Upload!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* __next_internal_client_entry_do_not_use__ DefaultState auto */ \n\n\nfunction DefaultState({ onStartRecording }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col items-center justify-center p-6 space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                onClick: onStartRecording,\n                size: \"lg\",\n                className: \"flex items-center gap-3 px-8 py-4 text-base\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-5 h-5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 14,\n                        columnNumber: 9\n                    }, this),\n                    \"Start Recording\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center text-muted-foreground text-sm space-y-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"flex items-center justify-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                                lineNumber: 20,\n                                columnNumber: 11\n                            }, this),\n                            \"或直接開始編寫筆記\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 19,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"錄音功能隨時可以啟用\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                        lineNumber: 23,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n                lineNumber: 18,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/default-state.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2RlZmF1bHQtc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFK0M7QUFDQTtBQU14QyxTQUFTRyxhQUFhLEVBQUVDLGdCQUFnQixFQUFxQjtJQUNsRSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNOLHlEQUFNQTtnQkFBQ08sU0FBU0g7Z0JBQWtCSSxNQUFLO2dCQUFLRixXQUFVOztrQ0FDckQsOERBQUNMLDJGQUFNQTt3QkFBQ0ssV0FBVTs7Ozs7O29CQUFZOzs7Ozs7OzBCQUloQyw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRzt3QkFBRUgsV0FBVTs7MENBQ1gsOERBQUNKLDJGQUFRQTtnQ0FBQ0ksV0FBVTs7Ozs7OzRCQUFZOzs7Ozs7O2tDQUdsQyw4REFBQ0c7a0NBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlYIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL2RlZmF1bHQtc3RhdGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IFVwbG9hZCwgRmlsZVRleHQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcblxuaW50ZXJmYWNlIERlZmF1bHRTdGF0ZVByb3BzIHtcbiAgb25TdGFydFJlY29yZGluZzogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdFN0YXRlKHsgb25TdGFydFJlY29yZGluZyB9OiBEZWZhdWx0U3RhdGVQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNiBzcGFjZS15LTZcIj5cbiAgICAgIDxCdXR0b24gb25DbGljaz17b25TdGFydFJlY29yZGluZ30gc2l6ZT1cImxnXCIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtOCBweS00IHRleHQtYmFzZVwiPlxuICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICBTdGFydCBSZWNvcmRpbmdcbiAgICAgIDwvQnV0dG9uPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXNtIHNwYWNlLXktMVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICDmiJbnm7TmjqXplovlp4vnt6jlr6vnrYboqJhcbiAgICAgICAgPC9wPlxuICAgICAgICA8cD7pjITpn7Plip/og73pmqjmmYLlj6/ku6XllZ/nlKg8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIkJ1dHRvbiIsIlVwbG9hZCIsIkZpbGVUZXh0IiwiRGVmYXVsdFN0YXRlIiwib25TdGFydFJlY29yZGluZyIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJzaXplIiwicCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/default-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/finish-state.tsx":
/*!*************************************!*\
  !*** ./components/finish-state.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FinishState: () => (/* binding */ FinishState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* __next_internal_client_entry_do_not_use__ FinishState auto */ \n\n\n\nfunction FinishState({ transcriptEntries, onExport, onToLatest }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_1__.ScrollArea, {\n                className: \"flex-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6 space-y-4\",\n                    children: transcriptEntries.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-muted-foreground font-mono text-xs mt-1 min-w-[40px] flex-shrink-0\",\n                                    children: entry.time\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                    lineNumber: 21,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-foreground leading-relaxed\",\n                                    children: entry.text\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                    lineNumber: 24,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                            lineNumber: 20,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                    lineNumber: 18,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border space-y-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-center gap-2\",\n                    children: onToLatest && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: onToLatest,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 15\n                            }, this),\n                            \"To Latest\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/finish-state.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2ZpbmlzaC1zdGF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUV3RDtBQUNUO0FBQ0s7QUFTN0MsU0FBU0csWUFBWSxFQUFFQyxpQkFBaUIsRUFBRUMsUUFBUSxFQUFFQyxVQUFVLEVBQW9CO0lBQ3ZGLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ1Isa0VBQVVBO2dCQUFDUSxXQUFVOzBCQUNwQiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1pKLGtCQUFrQkssR0FBRyxDQUFDLENBQUNDLE9BQU9DLHNCQUM3Qiw4REFBQ0o7NEJBQWdCQyxXQUFVOzs4Q0FDekIsOERBQUNJO29DQUFLSixXQUFVOzhDQUNiRSxNQUFNRyxJQUFJOzs7Ozs7OENBRWIsOERBQUNEO29DQUFLSixXQUFVOzhDQUFtQ0UsTUFBTUksSUFBSTs7Ozs7OzsyQkFKckRIOzs7Ozs7Ozs7Ozs7Ozs7MEJBVWhCLDhEQUFDSjtnQkFBSUMsV0FBVTswQkFFYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1pGLDRCQUNDLDhEQUFDTCx5REFBTUE7d0JBQ0xjLFNBQVNUO3dCQUNUVSxTQUFRO3dCQUNSQyxNQUFLO3dCQUNMVCxXQUFVOzswQ0FFViw4REFBQ04sdUZBQVdBO2dDQUFDTSxXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUWpEIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL2ZpbmlzaC1zdGF0ZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWFcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgRG93bmxvYWQsIENoZXZyb25Eb3duIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgRmluaXNoU3RhdGVQcm9wcyB7XG4gIHRyYW5zY3JpcHRFbnRyaWVzOiBUcmFuc2NyaXB0RW50cnlbXVxuICBvbkV4cG9ydD86ICgpID0+IHZvaWRcbiAgb25Ub0xhdGVzdD86ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpbmlzaFN0YXRlKHsgdHJhbnNjcmlwdEVudHJpZXMsIG9uRXhwb3J0LCBvblRvTGF0ZXN0IH06IEZpbmlzaFN0YXRlUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgc3BhY2UteS00XCI+XG4gICAgICAgICAge3RyYW5zY3JpcHRFbnRyaWVzLm1hcCgoZW50cnksIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9udC1tb25vIHRleHQteHMgbXQtMSBtaW4tdy1bNDBweF0gZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgIHtlbnRyeS50aW1lfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZm9yZWdyb3VuZCBsZWFkaW5nLXJlbGF4ZWRcIj57ZW50cnkudGV4dH08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1Njcm9sbEFyZWE+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJvcmRlci1ib3JkZXIgc3BhY2UteS0yXCI+XG4gICAgICAgIHsvKiBBY3Rpb24gYnV0dG9ucyByb3cgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIHtvblRvTGF0ZXN0ICYmIChcbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17b25Ub0xhdGVzdH1cbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIFRvIExhdGVzdFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlNjcm9sbEFyZWEiLCJCdXR0b24iLCJDaGV2cm9uRG93biIsIkZpbmlzaFN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJvbkV4cG9ydCIsIm9uVG9MYXRlc3QiLCJkaXYiLCJjbGFzc05hbWUiLCJtYXAiLCJlbnRyeSIsImluZGV4Iiwic3BhbiIsInRpbWUiLCJ0ZXh0Iiwib25DbGljayIsInZhcmlhbnQiLCJzaXplIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/finish-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-active-state.tsx":
/*!***********************************************!*\
  !*** ./components/recording-active-state.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingActiveState: () => (/* binding */ RecordingActiveState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock-open.js\");\n/* harmony import */ var _barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/square.js\");\n/* __next_internal_client_entry_do_not_use__ RecordingActiveState auto */ \n\n\n\n\nfunction RecordingActiveState({ transcriptEntries, onStopRecording }) {\n    const scrollAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isAutoScrollLocked, setIsAutoScrollLocked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [userScrollTimeout, setUserScrollTimeout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // 自動捲動到底部\n    const autoScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[autoScroll]\": ()=>{\n            if (isAutoScrollLocked && scrollAreaRef.current) {\n                const scrollContainer = scrollAreaRef.current.querySelector('[data-radix-scroll-area-viewport]');\n                if (scrollContainer) {\n                    scrollContainer.scrollTop = scrollContainer.scrollHeight;\n                }\n            }\n        }\n    }[\"RecordingActiveState.useCallback[autoScroll]\"], [\n        isAutoScrollLocked\n    ]);\n    // 檢測使用者捲動行為\n    const unlockOnScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[unlockOnScroll]\": (event)=>{\n            const target = event.target;\n            if (target) {\n                const { scrollTop, scrollHeight, clientHeight } = target;\n                const isAtBottom = Math.abs(scrollHeight - clientHeight - scrollTop) < 10;\n                if (!isAtBottom && isAutoScrollLocked) {\n                    setIsAutoScrollLocked(false);\n                } else if (isAtBottom && !isAutoScrollLocked) {\n                    setIsAutoScrollLocked(true);\n                }\n                if (userScrollTimeout) clearTimeout(userScrollTimeout);\n                const timeout = setTimeout({\n                    \"RecordingActiveState.useCallback[unlockOnScroll].timeout\": ()=>{\n                        if (!isAutoScrollLocked) setIsAutoScrollLocked(true);\n                    }\n                }[\"RecordingActiveState.useCallback[unlockOnScroll].timeout\"], 3000);\n                setUserScrollTimeout(timeout);\n            }\n        }\n    }[\"RecordingActiveState.useCallback[unlockOnScroll]\"], [\n        isAutoScrollLocked,\n        userScrollTimeout\n    ]);\n    // 手動切換自動捲動鎖定狀態\n    const toggleAutoScrollLock = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[toggleAutoScrollLock]\": ()=>setIsAutoScrollLocked({\n                \"RecordingActiveState.useCallback[toggleAutoScrollLock]\": (prev)=>!prev\n            }[\"RecordingActiveState.useCallback[toggleAutoScrollLock]\"])\n    }[\"RecordingActiveState.useCallback[toggleAutoScrollLock]\"], []);\n    // 合併相近段落，減少行數\n    const mergeSegments = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingActiveState.useCallback[mergeSegments]\": (entries)=>{\n            if (entries.length <= 1) return entries;\n            const merged = [];\n            let current = {\n                ...entries[0]\n            };\n            for(let i = 1; i < entries.length; i++){\n                const next = entries[i];\n                const diff = Math.abs(parseInt(next.time.split(\":\")[0]) * 60 + parseInt(next.time.split(\":\")[1]) - (parseInt(current.time.split(\":\")[0]) * 60 + parseInt(current.time.split(\":\")[1])));\n                if (diff <= 5 && current.text.length + next.text.length < 200) {\n                    current = {\n                        time: current.time,\n                        text: current.text.trim() + \" \" + next.text.trim()\n                    };\n                } else {\n                    merged.push(current);\n                    current = {\n                        ...next\n                    };\n                }\n            }\n            merged.push(current);\n            return merged;\n        }\n    }[\"RecordingActiveState.useCallback[mergeSegments]\"], []);\n    // 自動捲動\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            autoScroll();\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        transcriptEntries,\n        autoScroll\n    ]);\n    // 監聽捲動\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            const scrollContainer = scrollAreaRef.current?.querySelector('[data-radix-scroll-area-viewport]');\n            if (scrollContainer) {\n                scrollContainer.addEventListener(\"scroll\", unlockOnScroll);\n                return ({\n                    \"RecordingActiveState.useEffect\": ()=>scrollContainer.removeEventListener(\"scroll\", unlockOnScroll)\n                })[\"RecordingActiveState.useEffect\"];\n            }\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        unlockOnScroll\n    ]);\n    // 清理計時器\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RecordingActiveState.useEffect\": ()=>{\n            return ({\n                \"RecordingActiveState.useEffect\": ()=>{\n                    if (userScrollTimeout) {\n                        clearTimeout(userScrollTimeout);\n                    }\n                }\n            })[\"RecordingActiveState.useEffect\"];\n        }\n    }[\"RecordingActiveState.useEffect\"], [\n        userScrollTimeout\n    ]);\n    const mergedEntries = mergeSegments(transcriptEntries);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__.ScrollArea, {\n                className: \"flex-1\",\n                ref: scrollAreaRef,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6 space-y-4\",\n                    children: mergedEntries.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-muted-foreground font-mono text-xs mt-1 min-w-[40px] flex-shrink-0\",\n                                    children: entry.time\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 112,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-foreground leading-relaxed\",\n                                    children: entry.text\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 115,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                            lineNumber: 111,\n                            columnNumber: 25\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 17\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                lineNumber: 108,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: toggleAutoScrollLock,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2 text-muted-foreground\",\n                        children: isAutoScrollLocked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 130,\n                                    columnNumber: 29\n                                }, this),\n                                \"Auto-scroll\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                    lineNumber: 135,\n                                    columnNumber: 29\n                                }, this),\n                                \"Manual\"\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                        lineNumber: 122,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: onStopRecording,\n                        variant: \"destructive\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 21\n                            }, this),\n                            \"Stop\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                        lineNumber: 141,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n                lineNumber: 121,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-active-state.tsx\",\n        lineNumber: 107,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy1hY3RpdmUtc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRWdFO0FBQ1I7QUFDVDtBQUNJO0FBUTVDLFNBQVNTLHFCQUFxQixFQUFFQyxpQkFBaUIsRUFBRUMsZUFBZSxFQUE2QjtJQUNsRyxNQUFNQyxnQkFBZ0JYLDZDQUFNQSxDQUFpQjtJQUM3QyxNQUFNLENBQUNZLG9CQUFvQkMsc0JBQXNCLEdBQUdaLCtDQUFRQSxDQUFDO0lBQzdELE1BQU0sQ0FBQ2EsbUJBQW1CQyxxQkFBcUIsR0FBR2QsK0NBQVFBLENBQXdCO0lBRWxGLFVBQVU7SUFDVixNQUFNZSxhQUFhZCxrREFBV0E7d0RBQUM7WUFDM0IsSUFBSVUsc0JBQXNCRCxjQUFjTSxPQUFPLEVBQUU7Z0JBQzdDLE1BQU1DLGtCQUFrQlAsY0FBY00sT0FBTyxDQUFDRSxhQUFhLENBQUM7Z0JBQzVELElBQUlELGlCQUFpQjtvQkFDakJBLGdCQUFnQkUsU0FBUyxHQUFHRixnQkFBZ0JHLFlBQVk7Z0JBQzVEO1lBQ0o7UUFDSjt1REFBRztRQUFDVDtLQUFtQjtJQUV2QixZQUFZO0lBQ1osTUFBTVUsaUJBQWlCcEIsa0RBQVdBOzREQUM5QixDQUFDcUI7WUFDRyxNQUFNQyxTQUFTRCxNQUFNQyxNQUFNO1lBQzNCLElBQUlBLFFBQVE7Z0JBQ1IsTUFBTSxFQUFFSixTQUFTLEVBQUVDLFlBQVksRUFBRUksWUFBWSxFQUFFLEdBQUdEO2dCQUNsRCxNQUFNRSxhQUFhQyxLQUFLQyxHQUFHLENBQUNQLGVBQWVJLGVBQWVMLGFBQWE7Z0JBRXZFLElBQUksQ0FBQ00sY0FBY2Qsb0JBQW9CO29CQUNuQ0Msc0JBQXNCO2dCQUMxQixPQUFPLElBQUlhLGNBQWMsQ0FBQ2Qsb0JBQW9CO29CQUMxQ0Msc0JBQXNCO2dCQUMxQjtnQkFFQSxJQUFJQyxtQkFBbUJlLGFBQWFmO2dCQUVwQyxNQUFNZ0IsVUFBVUM7Z0ZBQVc7d0JBQ3ZCLElBQUksQ0FBQ25CLG9C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LFNBQVE7d0JBQ1JDLE1BQUs7d0JBQ0xSLFdBQVU7a0NBRVR2QyxtQ0FDRzs7OENBQ0ksOERBQUNOLDhGQUFJQTtvQ0FBQzZDLFdBQVU7Ozs7OztnQ0FBWTs7eURBSWhDOzs4Q0FDSSw4REFBQzVDLDhGQUFNQTtvQ0FBQzRDLFdBQVU7Ozs7OztnQ0FBWTs7Ozs7Ozs7a0NBTTFDLDhEQUFDL0MseURBQU1BO3dCQUFDcUQsU0FBUy9DO3dCQUFpQmdELFNBQVE7d0JBQWNDLE1BQUs7d0JBQUtSLFdBQVU7OzBDQUN4RSw4REFBQzlDLDhGQUFNQTtnQ0FBQzhDLFdBQVU7Ozs7Ozs0QkFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1sRCIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvY29tcG9uZW50cy9yZWNvcmRpbmctYWN0aXZlLXN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhXCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IFNxdWFyZSwgTG9jaywgVW5sb2NrIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgUmVjb3JkaW5nQWN0aXZlU3RhdGVQcm9wcyB7XG4gICAgdHJhbnNjcmlwdEVudHJpZXM6IFRyYW5zY3JpcHRFbnRyeVtdXG4gICAgb25TdG9wUmVjb3JkaW5nOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRpbmdBY3RpdmVTdGF0ZSh7IHRyYW5zY3JpcHRFbnRyaWVzLCBvblN0b3BSZWNvcmRpbmcgfTogUmVjb3JkaW5nQWN0aXZlU3RhdGVQcm9wcykge1xuICAgIGNvbnN0IHNjcm9sbEFyZWFSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gICAgY29uc3QgW2lzQXV0b1Njcm9sbExvY2tlZCwgc2V0SXNBdXRvU2Nyb2xsTG9ja2VkXSA9IHVzZVN0YXRlKHRydWUpXG4gICAgY29uc3QgW3VzZXJTY3JvbGxUaW1lb3V0LCBzZXRVc2VyU2Nyb2xsVGltZW91dF0gPSB1c2VTdGF0ZTxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG5cbiAgICAvLyDoh6rli5XmjbLli5XliLDlupXpg6hcbiAgICBjb25zdCBhdXRvU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaXNBdXRvU2Nyb2xsTG9ja2VkICYmIHNjcm9sbEFyZWFSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gc2Nyb2xsQXJlYVJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXJhZGl4LXNjcm9sbC1hcmVhLXZpZXdwb3J0XScpXG4gICAgICAgICAgICBpZiAoc2Nyb2xsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA9IHNjcm9sbENvbnRhaW5lci5zY3JvbGxIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtpc0F1dG9TY3JvbGxMb2NrZWRdKVxuXG4gICAgLy8g5qqi5ris5L2/55So6ICF5o2y5YuV6KGM54K6XG4gICAgY29uc3QgdW5sb2NrT25TY3JvbGwgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCwgY2xpZW50SGVpZ2h0IH0gPSB0YXJnZXRcbiAgICAgICAgICAgICAgICBjb25zdCBpc0F0Qm90dG9tID0gTWF0aC5hYnMoc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0IC0gc2Nyb2xsVG9wKSA8IDEwXG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzQXRCb3R0b20gJiYgaXNBdXRvU2Nyb2xsTG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzQXV0b1Njcm9sbExvY2tlZChmYWxzZSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXRCb3R0b20gJiYgIWlzQXV0b1Njcm9sbExvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0F1dG9TY3JvbGxMb2NrZWQodHJ1ZSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlclNjcm9sbFRpbWVvdXQpIGNsZWFyVGltZW91dCh1c2VyU2Nyb2xsVGltZW91dClcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0F1dG9TY3JvbGxMb2NrZWQpIHNldElzQXV0b1Njcm9sbExvY2tlZCh0cnVlKVxuICAgICAgICAgICAgICAgIH0sIDMwMDApXG5cbiAgICAgICAgICAgICAgICBzZXRVc2VyU2Nyb2xsVGltZW91dCh0aW1lb3V0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbaXNBdXRvU2Nyb2xsTG9ja2VkLCB1c2VyU2Nyb2xsVGltZW91dF1cbiAgICApXG5cbiAgICAvLyDmiYvli5XliIfmj5voh6rli5XmjbLli5Xpjpblrprni4DmhYtcbiAgICBjb25zdCB0b2dnbGVBdXRvU2Nyb2xsTG9jayA9IHVzZUNhbGxiYWNrKCgpID0+IHNldElzQXV0b1Njcm9sbExvY2tlZChwcmV2ID0+ICFwcmV2KSwgW10pXG5cbiAgICAvLyDlkIjkvbXnm7jov5HmrrXokL3vvIzmuJvlsJHooYzmlbhcbiAgICBjb25zdCBtZXJnZVNlZ21lbnRzID0gdXNlQ2FsbGJhY2soKGVudHJpZXM6IFRyYW5zY3JpcHRFbnRyeVtdKTogVHJhbnNjcmlwdEVudHJ5W10gPT4ge1xuICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPD0gMSkgcmV0dXJuIGVudHJpZXNcbiAgICAgICAgY29uc3QgbWVyZ2VkOiBUcmFuc2NyaXB0RW50cnlbXSA9IFtdXG4gICAgICAgIGxldCBjdXJyZW50ID0geyAuLi5lbnRyaWVzWzBdIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gZW50cmllc1tpXVxuICAgICAgICAgICAgY29uc3QgZGlmZiA9XG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KG5leHQudGltZS5zcGxpdChcIjpcIilbMF0pICogNjAgKyBwYXJzZUludChuZXh0LnRpbWUuc3BsaXQoXCI6XCIpWzFdKSAtXG4gICAgICAgICAgICAgICAgICAgIChwYXJzZUludChjdXJyZW50LnRpbWUuc3BsaXQoXCI6XCIpWzBdKSAqIDYwICsgcGFyc2VJbnQoY3VycmVudC50aW1lLnNwbGl0KFwiOlwiKVsxXSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKGRpZmYgPD0gNSAmJiBjdXJyZW50LnRleHQubGVuZ3RoICsgbmV4dC50ZXh0Lmxlbmd0aCA8IDIwMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB7IHRpbWU6IGN1cnJlbnQudGltZSwgdGV4dDogY3VycmVudC50ZXh0LnRyaW0oKSArIFwiIFwiICsgbmV4dC50ZXh0LnRyaW0oKSB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lcmdlZC5wdXNoKGN1cnJlbnQpXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHsgLi4ubmV4dCB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWVyZ2VkLnB1c2goY3VycmVudClcbiAgICAgICAgcmV0dXJuIG1lcmdlZFxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Ieq5YuV5o2y5YuVXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgYXV0b1Njcm9sbCgpXG4gICAgfSwgW3RyYW5zY3JpcHRFbnRyaWVzLCBhdXRvU2Nyb2xsXSlcblxuICAgIC8vIOebo+iBveaNsuWLlVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IHNjcm9sbEFyZWFSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcignW2RhdGEtcmFkaXgtc2Nyb2xsLWFyZWEtdmlld3BvcnRdJylcbiAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lcikge1xuICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdW5sb2NrT25TY3JvbGwpXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gc2Nyb2xsQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdW5sb2NrT25TY3JvbGwpXG4gICAgICAgIH1cbiAgICB9LCBbdW5sb2NrT25TY3JvbGxdKVxuXG4gICAgLy8g5riF55CG6KiI5pmC5ZmoXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmICh1c2VyU2Nyb2xsVGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh1c2VyU2Nyb2xsVGltZW91dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFt1c2VyU2Nyb2xsVGltZW91dF0pXG5cbiAgICBjb25zdCBtZXJnZWRFbnRyaWVzID0gbWVyZ2VTZWdtZW50cyh0cmFuc2NyaXB0RW50cmllcylcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT1cImZsZXgtMVwiIHJlZj17c2Nyb2xsQXJlYVJlZn0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIHttZXJnZWRFbnRyaWVzLm1hcCgoZW50cnksIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb250LW1vbm8gdGV4dC14cyBtdC0xIG1pbi13LVs0MHB4XSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRyeS50aW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWZvcmVncm91bmQgbGVhZGluZy1yZWxheGVkXCI+e2VudHJ5LnRleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9TY3JvbGxBcmVhPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItYm9yZGVyIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlQXV0b1Njcm9sbExvY2t9XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNBdXRvU2Nyb2xsTG9ja2VkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9jayBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRvLXNjcm9sbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVbmxvY2sgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFudWFsXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17b25TdG9wUmVjb3JkaW5nfSB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8U3F1YXJlIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICBTdG9wXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJTY3JvbGxBcmVhIiwiQnV0dG9uIiwiU3F1YXJlIiwiTG9jayIsIlVubG9jayIsIlJlY29yZGluZ0FjdGl2ZVN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJvblN0b3BSZWNvcmRpbmciLCJzY3JvbGxBcmVhUmVmIiwiaXNBdXRvU2Nyb2xsTG9ja2VkIiwic2V0SXNBdXRvU2Nyb2xsTG9ja2VkIiwidXNlclNjcm9sbFRpbWVvdXQiLCJzZXRVc2VyU2Nyb2xsVGltZW91dCIsImF1dG9TY3JvbGwiLCJjdXJyZW50Iiwic2Nyb2xsQ29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVubG9ja09uU2Nyb2xsIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbGllbnRIZWlnaHQiLCJpc0F0Qm90dG9tIiwiTWF0aCIsImFicyIsImNsZWFyVGltZW91dCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidG9nZ2xlQXV0b1Njcm9sbExvY2siLCJwcmV2IiwibWVyZ2VTZWdtZW50cyIsImVudHJpZXMiLCJsZW5ndGgiLCJtZXJnZWQiLCJpIiwibmV4dCIsImRpZmYiLCJwYXJzZUludCIsInRpbWUiLCJzcGxpdCIsInRleHQiLCJ0cmltIiwicHVzaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibWVyZ2VkRW50cmllcyIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsIm1hcCIsImVudHJ5IiwiaW5kZXgiLCJzcGFuIiwib25DbGljayIsInZhcmlhbnQiLCJzaXplIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-active-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-state.tsx":
/*!****************************************!*\
  !*** ./components/recording-state.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingState: () => (/* binding */ RecordingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _recording_waiting_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recording-waiting-state */ \"(ssr)/./components/recording-waiting-state.tsx\");\n/* harmony import */ var _recording_active_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./recording-active-state */ \"(ssr)/./components/recording-active-state.tsx\");\n/* __next_internal_client_entry_do_not_use__ RecordingState auto */ \n\n\nfunction RecordingState({ transcriptEntries, recordingTime, onStopRecording, error }) {\n    if (transcriptEntries.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_recording_waiting_state__WEBPACK_IMPORTED_MODULE_1__.RecordingWaitingState, {\n            recordingTime: recordingTime,\n            onStopRecording: onStopRecording,\n            transcriptEntries: transcriptEntries,\n            error: error\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-state.tsx\",\n            lineNumber: 17,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_recording_active_state__WEBPACK_IMPORTED_MODULE_2__.RecordingActiveState, {\n        transcriptEntries: transcriptEntries,\n        onStopRecording: onStopRecording\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-state.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy1zdGF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRWlFO0FBQ0Y7QUFVeEQsU0FBU0UsZUFBZSxFQUFFQyxpQkFBaUIsRUFBRUMsYUFBYSxFQUFFQyxlQUFlLEVBQUVDLEtBQUssRUFBdUI7SUFDOUcsSUFBSUgsa0JBQWtCSSxNQUFNLEtBQUssR0FBRztRQUNsQyxxQkFDRSw4REFBQ1AsMkVBQXFCQTtZQUNwQkksZUFBZUE7WUFDZkMsaUJBQWlCQTtZQUNqQkYsbUJBQW1CQTtZQUNuQkcsT0FBT0E7Ozs7OztJQUdiO0lBQ0EscUJBQ0UsOERBQUNMLHlFQUFvQkE7UUFDbkJFLG1CQUFtQkE7UUFDbkJFLGlCQUFpQkE7Ozs7OztBQUd2QiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvY29tcG9uZW50cy9yZWNvcmRpbmctc3RhdGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IFJlY29yZGluZ1dhaXRpbmdTdGF0ZSB9IGZyb20gXCIuL3JlY29yZGluZy13YWl0aW5nLXN0YXRlXCJcbmltcG9ydCB7IFJlY29yZGluZ0FjdGl2ZVN0YXRlIH0gZnJvbSBcIi4vcmVjb3JkaW5nLWFjdGl2ZS1zdGF0ZVwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgUmVjb3JkaW5nU3RhdGVQcm9wcyB7XG4gIHRyYW5zY3JpcHRFbnRyaWVzOiBUcmFuc2NyaXB0RW50cnlbXVxuICByZWNvcmRpbmdUaW1lOiBudW1iZXJcbiAgb25TdG9wUmVjb3JkaW5nOiAoKSA9PiB2b2lkXG4gIGVycm9yPzogc3RyaW5nIHwgbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkaW5nU3RhdGUoeyB0cmFuc2NyaXB0RW50cmllcywgcmVjb3JkaW5nVGltZSwgb25TdG9wUmVjb3JkaW5nLCBlcnJvciB9OiBSZWNvcmRpbmdTdGF0ZVByb3BzKSB7XG4gIGlmICh0cmFuc2NyaXB0RW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlY29yZGluZ1dhaXRpbmdTdGF0ZVxuICAgICAgICByZWNvcmRpbmdUaW1lPXtyZWNvcmRpbmdUaW1lfVxuICAgICAgICBvblN0b3BSZWNvcmRpbmc9e29uU3RvcFJlY29yZGluZ31cbiAgICAgICAgdHJhbnNjcmlwdEVudHJpZXM9e3RyYW5zY3JpcHRFbnRyaWVzfVxuICAgICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICAvPlxuICAgIClcbiAgfVxuICByZXR1cm4gKFxuICAgIDxSZWNvcmRpbmdBY3RpdmVTdGF0ZVxuICAgICAgdHJhbnNjcmlwdEVudHJpZXM9e3RyYW5zY3JpcHRFbnRyaWVzfVxuICAgICAgb25TdG9wUmVjb3JkaW5nPXtvblN0b3BSZWNvcmRpbmd9XG4gICAgLz5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlJlY29yZGluZ1dhaXRpbmdTdGF0ZSIsIlJlY29yZGluZ0FjdGl2ZVN0YXRlIiwiUmVjb3JkaW5nU3RhdGUiLCJ0cmFuc2NyaXB0RW50cmllcyIsInJlY29yZGluZ1RpbWUiLCJvblN0b3BSZWNvcmRpbmciLCJlcnJvciIsImxlbmd0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/recording-waiting-state.tsx":
/*!************************************************!*\
  !*** ./components/recording-waiting-state.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordingWaitingState: () => (/* binding */ RecordingWaitingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/circle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/lock-open.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock,Square,Unlock!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/square.js\");\n/* harmony import */ var _components_ui_alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/alert */ \"(ssr)/./components/ui/alert.tsx\");\n/* __next_internal_client_entry_do_not_use__ RecordingWaitingState auto */ \n\n\n\n\n\nfunction RecordingWaitingState({ recordingTime, onStopRecording, transcriptEntries, error }) {\n    const [isAutoScrollLocked, setIsAutoScrollLocked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const toggleAutoScrollLock = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"RecordingWaitingState.useCallback[toggleAutoScrollLock]\": ()=>{\n            setIsAutoScrollLocked({\n                \"RecordingWaitingState.useCallback[toggleAutoScrollLock]\": (prev)=>!prev\n            }[\"RecordingWaitingState.useCallback[toggleAutoScrollLock]\"]);\n        }\n    }[\"RecordingWaitingState.useCallback[toggleAutoScrollLock]\"], []);\n    const formatTime = (seconds)=>{\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_2__.ScrollArea, {\n                className: \"flex-1\",\n                children: [\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_alert__WEBPACK_IMPORTED_MODULE_4__.Alert, {\n                        variant: \"destructive\",\n                        className: \"m-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"h-4 w-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 25\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_alert__WEBPACK_IMPORTED_MODULE_4__.AlertDescription, {\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 41,\n                                columnNumber: 25\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 21\n                    }, this),\n                    transcriptEntries.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 space-y-4\",\n                        children: transcriptEntries.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-4 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-muted-foreground font-mono\",\n                                        children: entry.time\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                        lineNumber: 49,\n                                        columnNumber: 33\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex-1\",\n                                        children: entry.text\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                        lineNumber: 50,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 48,\n                                columnNumber: 29\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 21\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col items-center justify-center h-full p-8 text-muted-foreground text-center space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    \"Recording… \",\n                                    formatTime(recordingTime)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 56,\n                                columnNumber: 25\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs\",\n                                children: error ? \"轉錄過程中發生錯誤\" : \"等待逐字稿...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 59,\n                                columnNumber: 25\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                lineNumber: 37,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-border flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: toggleAutoScrollLock,\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2 text-muted-foreground\",\n                        children: isAutoScrollLocked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                    lineNumber: 75,\n                                    columnNumber: 29\n                                }, this),\n                                \"Auto-scroll\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                    lineNumber: 80,\n                                    columnNumber: 29\n                                }, this),\n                                \"Manual\"\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 67,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: onStopRecording,\n                        variant: \"destructive\",\n                        size: \"sm\",\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_Square_Unlock_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                                lineNumber: 87,\n                                columnNumber: 21\n                            }, this),\n                            \"Stop\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                        lineNumber: 86,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n                lineNumber: 66,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/recording-waiting-state.tsx\",\n        lineNumber: 36,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JlY29yZGluZy13YWl0aW5nLXN0YXRlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRTZDO0FBQ1c7QUFDVDtBQUNpQjtBQUNEO0FBVXhELFNBQVNVLHNCQUFzQixFQUNsQ0MsYUFBYSxFQUNiQyxlQUFlLEVBQ2ZDLGlCQUFpQixFQUNqQkMsS0FBSyxFQUNvQjtJQUN6QixNQUFNLENBQUNDLG9CQUFvQkMsc0JBQXNCLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUU3RCxNQUFNaUIsdUJBQXVCaEIsa0RBQVdBO21FQUFDO1lBQ3JDZTsyRUFBc0JFLENBQUFBLE9BQVEsQ0FBQ0E7O1FBQ25DO2tFQUFHLEVBQUU7SUFFTCxNQUFNQyxhQUFhLENBQUNDO1FBQ2hCLE1BQU1DLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ0gsVUFBVTtRQUNsQyxNQUFNSSxPQUFPSixVQUFVO1FBQ3ZCLE9BQU8sR0FBR0MsS0FBS0ksUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUMsRUFBRUYsS0FBS0MsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRyxNQUFNO0lBQ3BGO0lBRUEscUJBQ0ksOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNYLDhEQUFDMUIsa0VBQVVBO2dCQUFDMEIsV0FBVTs7b0JBQ2pCZCx1QkFDRyw4REFBQ04sdURBQUtBO3dCQUFDcUIsU0FBUTt3QkFBY0QsV0FBVTs7MENBQ25DLDhEQUFDckIsMEdBQVdBO2dDQUFDcUIsV0FBVTs7Ozs7OzBDQUN2Qiw4REFBQ25CLGtFQUFnQkE7MENBQUVLOzs7Ozs7Ozs7Ozs7b0JBSTFCRCxrQkFBa0JpQixNQUFNLEdBQUcsa0JBQ3hCLDhEQUFDSDt3QkFBSUMsV0FBVTtrQ0FDVmYsa0JBQWtCa0IsR0FBRyxDQUFDLENBQUNDLE9BQU9DLHNCQUMzQiw4REFBQ047Z0NBQWdCQyxXQUFVOztrREFDdkIsOERBQUNNO3dDQUFLTixXQUFVO2tEQUFtQ0ksTUFBTUcsSUFBSTs7Ozs7O2tEQUM3RCw4REFBQ0Q7d0NBQUtOLFdBQVU7a0RBQVVJLE1BQU1JLElBQUk7Ozs7Ozs7K0JBRjlCSDs7Ozs7Ozs7OzZDQU9sQiw4REFBQ047d0JBQUlDLFdBQVU7OzBDQUNYLDhEQUFDRDtnQ0FBSUMsV0FBVTs7b0NBQVU7b0NBQ1RULFdBQVdSOzs7Ozs7OzBDQUUzQiw4REFBQ2dCO2dDQUFJQyxXQUFVOzBDQUNWZCxRQUFRLGNBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFNdkMsOERBQUNhO2dCQUFJQyxXQUFVOztrQ0FDWCw4REFBQ3pCLHlEQUFNQTt3QkFDSGtDLFNBQVNwQjt3QkFDVFksU0FBUTt3QkFDUlMsTUFBSzt3QkFDTFYsV0FBVTtrQ0FFVGIsbUNBQ0c7OzhDQUNJLDhEQUFDViwwR0FBSUE7b0NBQUN1QixXQUFVOzs7Ozs7Z0NBQVk7O3lEQUloQzs7OENBQ0ksOERBQUN0QiwwR0FBTUE7b0NBQUNzQixXQUFVOzs7Ozs7Z0NBQVk7Ozs7Ozs7O2tDQU0xQyw4REFBQ3pCLHlEQUFNQTt3QkFBQ2tDLFNBQVN6Qjt3QkFBaUJpQixTQUFRO3dCQUFjUyxNQUFLO3dCQUFLVixXQUFVOzswQ0FDeEUsOERBQUN4QiwwR0FBTUE7Z0NBQUN3QixXQUFVOzs7Ozs7NEJBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNbEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvcmVjb3JkaW5nLXdhaXRpbmctc3RhdGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYVwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQgeyBTcXVhcmUsIExvY2ssIFVubG9jaywgQWxlcnRDaXJjbGUgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcbmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9hbGVydFwiXG5pbXBvcnQgdHlwZSB7IFRyYW5zY3JpcHRFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5pbnRlcmZhY2UgUmVjb3JkaW5nV2FpdGluZ1N0YXRlUHJvcHMge1xuICAgIHJlY29yZGluZ1RpbWU6IG51bWJlclxuICAgIG9uU3RvcFJlY29yZGluZzogKCkgPT4gdm9pZFxuICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBUcmFuc2NyaXB0RW50cnlbXVxuICAgIGVycm9yPzogc3RyaW5nIHwgbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkaW5nV2FpdGluZ1N0YXRlKHtcbiAgICByZWNvcmRpbmdUaW1lLFxuICAgIG9uU3RvcFJlY29yZGluZyxcbiAgICB0cmFuc2NyaXB0RW50cmllcyxcbiAgICBlcnJvclxufTogUmVjb3JkaW5nV2FpdGluZ1N0YXRlUHJvcHMpIHtcbiAgICBjb25zdCBbaXNBdXRvU2Nyb2xsTG9ja2VkLCBzZXRJc0F1dG9TY3JvbGxMb2NrZWRdID0gdXNlU3RhdGUodHJ1ZSlcblxuICAgIGNvbnN0IHRvZ2dsZUF1dG9TY3JvbGxMb2NrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRJc0F1dG9TY3JvbGxMb2NrZWQocHJldiA9PiAhcHJldilcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IGZvcm1hdFRpbWUgPSAoc2Vjb25kczogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MClcbiAgICAgICAgY29uc3Qgc2VjcyA9IHNlY29uZHMgJSA2MFxuICAgICAgICByZXR1cm4gYCR7bWlucy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX06JHtzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfWBcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8QWxlcnQgdmFyaWFudD1cImRlc3RydWN0aXZlXCIgY2xhc3NOYW1lPVwibS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRDaXJjbGUgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj57ZXJyb3J9PC9BbGVydERlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7dHJhbnNjcmlwdEVudHJpZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNjcmlwdEVudHJpZXMubWFwKChlbnRyeSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9udC1tb25vXCI+e2VudHJ5LnRpbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTFcIj57ZW50cnkudGV4dH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGwgcC04IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlY29yZGluZ+KApiB7Zm9ybWF0VGltZShyZWNvcmRpbmdUaW1lKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Vycm9yID8gXCLovYnpjITpgY7nqIvkuK3nmbznlJ/pjK/oqqRcIiA6IFwi562J5b6F6YCQ5a2X56i/Li4uXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvU2Nyb2xsQXJlYT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUF1dG9TY3JvbGxMb2NrfVxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LW11dGVkLWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzQXV0b1Njcm9sbExvY2tlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvY2sgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0by1zY3JvbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VW5sb2NrIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hbnVhbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e29uU3RvcFJlY29yZGluZ30gdmFyaWFudD1cImRlc3RydWN0aXZlXCIgc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNxdWFyZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgU3RvcFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiU2Nyb2xsQXJlYSIsIkJ1dHRvbiIsIlNxdWFyZSIsIkxvY2siLCJVbmxvY2siLCJBbGVydENpcmNsZSIsIkFsZXJ0IiwiQWxlcnREZXNjcmlwdGlvbiIsIlJlY29yZGluZ1dhaXRpbmdTdGF0ZSIsInJlY29yZGluZ1RpbWUiLCJvblN0b3BSZWNvcmRpbmciLCJ0cmFuc2NyaXB0RW50cmllcyIsImVycm9yIiwiaXNBdXRvU2Nyb2xsTG9ja2VkIiwic2V0SXNBdXRvU2Nyb2xsTG9ja2VkIiwidG9nZ2xlQXV0b1Njcm9sbExvY2siLCJwcmV2IiwiZm9ybWF0VGltZSIsInNlY29uZHMiLCJtaW5zIiwiTWF0aCIsImZsb29yIiwic2VjcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJkaXYiLCJjbGFzc05hbWUiLCJ2YXJpYW50IiwibGVuZ3RoIiwibWFwIiwiZW50cnkiLCJpbmRleCIsInNwYW4iLCJ0aW1lIiwidGV4dCIsIm9uQ2xpY2siLCJzaXplIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/recording-waiting-state.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/alert.tsx":
/*!*********************************!*\
  !*** ./components/ui/alert.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Alert: () => (/* binding */ Alert),\n/* harmony export */   AlertDescription: () => (/* binding */ AlertDescription),\n/* harmony export */   AlertTitle: () => (/* binding */ AlertTitle)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\nconst alertVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\", {\n    variants: {\n        variant: {\n            default: \"bg-background text-foreground\",\n            destructive: \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\"\n    }\n});\nconst Alert = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        role: \"alert\",\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(alertVariants({\n            variant\n        }), className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/alert.tsx\",\n        lineNumber: 26,\n        columnNumber: 3\n    }, undefined));\nAlert.displayName = \"Alert\";\nconst AlertTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"mb-1 font-medium leading-none tracking-tight\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/alert.tsx\",\n        lineNumber: 39,\n        columnNumber: 3\n    }, undefined));\nAlertTitle.displayName = \"AlertTitle\";\nconst AlertDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"text-sm [&_p]:leading-relaxed\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/alert.tsx\",\n        lineNumber: 51,\n        columnNumber: 3\n    }, undefined));\nAlertDescription.displayName = \"AlertDescription\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2FsZXJ0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQThCO0FBQ21DO0FBRWpDO0FBRWhDLE1BQU1HLGdCQUFnQkYsNkRBQUdBLENBQ3ZCLDZKQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUFTO1lBQ1RDLGFBQ0U7UUFDSjtJQUNGO0lBQ0FDLGlCQUFpQjtRQUNmSCxTQUFTO0lBQ1g7QUFDRjtBQUdGLE1BQU1JLHNCQUFRVCw2Q0FBZ0IsQ0FHNUIsQ0FBQyxFQUFFVyxTQUFTLEVBQUVOLE9BQU8sRUFBRSxHQUFHTyxPQUFPLEVBQUVDLG9CQUNuQyw4REFBQ0M7UUFDQ0QsS0FBS0E7UUFDTEUsTUFBSztRQUNMSixXQUFXVCw4Q0FBRUEsQ0FBQ0MsY0FBYztZQUFFRTtRQUFRLElBQUlNO1FBQ3pDLEdBQUdDLEtBQUs7Ozs7OztBQUdiSCxNQUFNTyxXQUFXLEdBQUc7QUFFcEIsTUFBTUMsMkJBQWFqQiw2Q0FBZ0IsQ0FHakMsQ0FBQyxFQUFFVyxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNLO1FBQ0NMLEtBQUtBO1FBQ0xGLFdBQVdULDhDQUFFQSxDQUFDLGdEQUFnRFM7UUFDN0QsR0FBR0MsS0FBSzs7Ozs7O0FBR2JLLFdBQVdELFdBQVcsR0FBRztBQUV6QixNQUFNRyxpQ0FBbUJuQiw2Q0FBZ0IsQ0FHdkMsQ0FBQyxFQUFFVyxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNDO1FBQ0NELEtBQUtBO1FBQ0xGLFdBQVdULDhDQUFFQSxDQUFDLGlDQUFpQ1M7UUFDOUMsR0FBR0MsS0FBSzs7Ozs7O0FBR2JPLGlCQUFpQkgsV0FBVyxHQUFHO0FBRWUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvdWkvYWxlcnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgYWxlcnRWYXJpYW50cyA9IGN2YShcbiAgXCJyZWxhdGl2ZSB3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgcC00IFsmPnN2Z34qXTpwbC03IFsmPnN2ZytkaXZdOnRyYW5zbGF0ZS15LVstM3B4XSBbJj5zdmddOmFic29sdXRlIFsmPnN2Z106bGVmdC00IFsmPnN2Z106dG9wLTQgWyY+c3ZnXTp0ZXh0LWZvcmVncm91bmRcIixcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6IFwiYmctYmFja2dyb3VuZCB0ZXh0LWZvcmVncm91bmRcIixcbiAgICAgICAgZGVzdHJ1Y3RpdmU6XG4gICAgICAgICAgXCJib3JkZXItZGVzdHJ1Y3RpdmUvNTAgdGV4dC1kZXN0cnVjdGl2ZSBkYXJrOmJvcmRlci1kZXN0cnVjdGl2ZSBbJj5zdmddOnRleHQtZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICAgIH0sXG4gIH1cbilcblxuY29uc3QgQWxlcnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+ICYgVmFyaWFudFByb3BzPHR5cGVvZiBhbGVydFZhcmlhbnRzPlxuPigoeyBjbGFzc05hbWUsIHZhcmlhbnQsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2XG4gICAgcmVmPXtyZWZ9XG4gICAgcm9sZT1cImFsZXJ0XCJcbiAgICBjbGFzc05hbWU9e2NuKGFsZXJ0VmFyaWFudHMoeyB2YXJpYW50IH0pLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5BbGVydC5kaXNwbGF5TmFtZSA9IFwiQWxlcnRcIlxuXG5jb25zdCBBbGVydFRpdGxlID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTFBhcmFncmFwaEVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxIZWFkaW5nRWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPGg1XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcIm1iLTEgZm9udC1tZWRpdW0gbGVhZGluZy1ub25lIHRyYWNraW5nLXRpZ2h0XCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkFsZXJ0VGl0bGUuZGlzcGxheU5hbWUgPSBcIkFsZXJ0VGl0bGVcIlxuXG5jb25zdCBBbGVydERlc2NyaXB0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTFBhcmFncmFwaEVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcInRleHQtc20gWyZfcF06bGVhZGluZy1yZWxheGVkXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkFsZXJ0RGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSBcIkFsZXJ0RGVzY3JpcHRpb25cIlxuXG5leHBvcnQgeyBBbGVydCwgQWxlcnRUaXRsZSwgQWxlcnREZXNjcmlwdGlvbiB9XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjdmEiLCJjbiIsImFsZXJ0VmFyaWFudHMiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0IiwiZGVzdHJ1Y3RpdmUiLCJkZWZhdWx0VmFyaWFudHMiLCJBbGVydCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJwcm9wcyIsInJlZiIsImRpdiIsInJvbGUiLCJkaXNwbGF5TmFtZSIsIkFsZXJ0VGl0bGUiLCJoNSIsIkFsZXJ0RGVzY3JpcHRpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/alert.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/button.tsx":
/*!**********************************!*\
  !*** ./components/ui/button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   buttonVariants: () => (/* binding */ buttonVariants)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-slot@1.1.1_@types+react@19.0.0_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\n\nconst buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n            destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n            outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n            secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n            ghost: \"hover:bg-accent hover:text-accent-foreground\",\n            link: \"text-primary underline-offset-4 hover:underline\"\n        },\n        size: {\n            default: \"h-10 px-4 py-2\",\n            sm: \"h-9 rounded-md px-3\",\n            lg: \"h-11 rounded-md px-8\",\n            icon: \"h-10 w-10\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nconst Button = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, size, asChild = false, ...props }, ref)=>{\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__.Slot : \"button\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Comp, {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(buttonVariants({\n            variant,\n            size,\n            className\n        })),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/button.tsx\",\n        lineNumber: 46,\n        columnNumber: 7\n    }, undefined);\n});\nButton.displayName = \"Button\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNhO0FBQ3NCO0FBRWpDO0FBRWhDLE1BQU1JLGlCQUFpQkYsNkRBQUdBLENBQ3hCLDRWQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUFTO1lBQ1RDLGFBQ0U7WUFDRkMsU0FDRTtZQUNGQyxXQUNFO1lBQ0ZDLE9BQU87WUFDUEMsTUFBTTtRQUNSO1FBQ0FDLE1BQU07WUFDSk4sU0FBUztZQUNUTyxJQUFJO1lBQ0pDLElBQUk7WUFDSkMsTUFBTTtRQUNSO0lBQ0Y7SUFDQUMsaUJBQWlCO1FBQ2ZYLFNBQVM7UUFDVE8sTUFBTTtJQUNSO0FBQ0Y7QUFTRixNQUFNSyx1QkFBU2xCLDZDQUFnQixDQUM3QixDQUFDLEVBQUVvQixTQUFTLEVBQUVkLE9BQU8sRUFBRU8sSUFBSSxFQUFFUSxVQUFVLEtBQUssRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hELE1BQU1DLE9BQU9ILFVBQVVwQixzREFBSUEsR0FBRztJQUM5QixxQkFDRSw4REFBQ3VCO1FBQ0NKLFdBQVdqQiw4Q0FBRUEsQ0FBQ0MsZUFBZTtZQUFFRTtZQUFTTztZQUFNTztRQUFVO1FBQ3hERyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE9BQU9PLFdBQVcsR0FBRztBQUVZIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIlxuaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gXCJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHlcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IGJ1dHRvblZhcmlhbnRzID0gY3ZhKFxuICBcImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiB3aGl0ZXNwYWNlLW5vd3JhcCByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW0gcmluZy1vZmZzZXQtYmFja2dyb3VuZCB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmddOnNpemUtNCBbJl9zdmddOnNocmluay0wXCIsXG4gIHtcbiAgICB2YXJpYW50czoge1xuICAgICAgdmFyaWFudDoge1xuICAgICAgICBkZWZhdWx0OiBcImJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgaG92ZXI6YmctcHJpbWFyeS85MFwiLFxuICAgICAgICBkZXN0cnVjdGl2ZTpcbiAgICAgICAgICBcImJnLWRlc3RydWN0aXZlIHRleHQtZGVzdHJ1Y3RpdmUtZm9yZWdyb3VuZCBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MFwiLFxuICAgICAgICBvdXRsaW5lOlxuICAgICAgICAgIFwiYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIGhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIHNlY29uZGFyeTpcbiAgICAgICAgICBcImJnLXNlY29uZGFyeSB0ZXh0LXNlY29uZGFyeS1mb3JlZ3JvdW5kIGhvdmVyOmJnLXNlY29uZGFyeS84MFwiLFxuICAgICAgICBnaG9zdDogXCJob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiLFxuICAgICAgICBsaW5rOiBcInRleHQtcHJpbWFyeSB1bmRlcmxpbmUtb2Zmc2V0LTQgaG92ZXI6dW5kZXJsaW5lXCIsXG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICBkZWZhdWx0OiBcImgtMTAgcHgtNCBweS0yXCIsXG4gICAgICAgIHNtOiBcImgtOSByb3VuZGVkLW1kIHB4LTNcIixcbiAgICAgICAgbGc6IFwiaC0xMSByb3VuZGVkLW1kIHB4LThcIixcbiAgICAgICAgaWNvbjogXCJoLTEwIHctMTBcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICAgICAgc2l6ZTogXCJkZWZhdWx0XCIsXG4gICAgfSxcbiAgfVxuKVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1dHRvblByb3BzXG4gIGV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+LFxuICAgIFZhcmlhbnRQcm9wczx0eXBlb2YgYnV0dG9uVmFyaWFudHM+IHtcbiAgYXNDaGlsZD86IGJvb2xlYW5cbn1cblxuY29uc3QgQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KFxuICAoeyBjbGFzc05hbWUsIHZhcmlhbnQsIHNpemUsIGFzQ2hpbGQgPSBmYWxzZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90IDogXCJidXR0b25cIlxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcFxuICAgICAgICBjbGFzc05hbWU9e2NuKGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgY2xhc3NOYW1lIH0pKX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKVxuICB9XG4pXG5CdXR0b24uZGlzcGxheU5hbWUgPSBcIkJ1dHRvblwiXG5cbmV4cG9ydCB7IEJ1dHRvbiwgYnV0dG9uVmFyaWFudHMgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU2xvdCIsImN2YSIsImNuIiwiYnV0dG9uVmFyaWFudHMiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0IiwiZGVzdHJ1Y3RpdmUiLCJvdXRsaW5lIiwic2Vjb25kYXJ5IiwiZ2hvc3QiLCJsaW5rIiwic2l6ZSIsInNtIiwibGciLCJpY29uIiwiZGVmYXVsdFZhcmlhbnRzIiwiQnV0dG9uIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsImFzQ2hpbGQiLCJwcm9wcyIsInJlZiIsIkNvbXAiLCJkaXNwbGF5TmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/input.tsx":
/*!*********************************!*\
  !*** ./components/ui/input.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Input = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, type, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n        type: type,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\", className),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/input.tsx\",\n        lineNumber: 8,\n        columnNumber: 7\n    }, undefined);\n});\nInput.displayName = \"Input\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBRUU7QUFFaEMsTUFBTUUsc0JBQVFGLDZDQUFnQixDQUM1QixDQUFDLEVBQUVJLFNBQVMsRUFBRUMsSUFBSSxFQUFFLEdBQUdDLE9BQU8sRUFBRUM7SUFDOUIscUJBQ0UsOERBQUNDO1FBQ0NILE1BQU1BO1FBQ05ELFdBQVdILDhDQUFFQSxDQUNYLGtZQUNBRztRQUVGRyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE1BQU1PLFdBQVcsR0FBRztBQUVKIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9jb21wb25lbnRzL3VpL2lucHV0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IElucHV0ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MSW5wdXRFbGVtZW50LCBSZWFjdC5Db21wb25lbnRQcm9wczxcImlucHV0XCI+PihcbiAgKHsgY2xhc3NOYW1lLCB0eXBlLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgXCJmbGV4IGgtMTAgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHB4LTMgcHktMiB0ZXh0LWJhc2UgcmluZy1vZmZzZXQtYmFja2dyb3VuZCBmaWxlOmJvcmRlci0wIGZpbGU6YmctdHJhbnNwYXJlbnQgZmlsZTp0ZXh0LXNtIGZpbGU6Zm9udC1tZWRpdW0gZmlsZTp0ZXh0LWZvcmVncm91bmQgcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBtZDp0ZXh0LXNtXCIsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIClcbiAgfVxuKVxuSW5wdXQuZGlzcGxheU5hbWUgPSBcIklucHV0XCJcblxuZXhwb3J0IHsgSW5wdXQgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY24iLCJJbnB1dCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJ0eXBlIiwicHJvcHMiLCJyZWYiLCJpbnB1dCIsImRpc3BsYXlOYW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/input.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/scroll-area.tsx":
/*!***************************************!*\
  !*** ./components/ui/scroll-area.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollArea: () => (/* binding */ ScrollArea),\n/* harmony export */   ScrollBar: () => (/* binding */ ScrollBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-scroll-area */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-scroll-area@1.2.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom_4cec18677bb44dd61a9e69790aff2bfb/node_modules/@radix-ui/react-scroll-area/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ ScrollArea,ScrollBar auto */ \n\n\n\nconst ScrollArea = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative overflow-hidden\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Viewport, {\n                className: \"h-full w-full rounded-[inherit]\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 17,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScrollBar, {}, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 20,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Corner, {}, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n                lineNumber: 21,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n        lineNumber: 12,\n        columnNumber: 3\n    }, undefined));\nScrollArea.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root.displayName;\nconst ScrollBar = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, orientation = \"vertical\", ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar, {\n        ref: ref,\n        orientation: orientation,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex touch-none select-none transition-colors\", orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\", orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\", className),\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaThumb, {\n            className: \"relative flex-1 rounded-full bg-border\"\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n            lineNumber: 43,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/ui/scroll-area.tsx\",\n        lineNumber: 30,\n        columnNumber: 3\n    }, undefined));\nScrollBar.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFDb0M7QUFFbEM7QUFFaEMsTUFBTUcsMkJBQWFILDZDQUFnQixDQUdqQyxDQUFDLEVBQUVLLFNBQVMsRUFBRUMsUUFBUSxFQUFFLEdBQUdDLE9BQU8sRUFBRUMsb0JBQ3BDLDhEQUFDUCw2REFBd0I7UUFDdkJPLEtBQUtBO1FBQ0xILFdBQVdILDhDQUFFQSxDQUFDLDRCQUE0Qkc7UUFDekMsR0FBR0UsS0FBSzs7MEJBRVQsOERBQUNOLGlFQUE0QjtnQkFBQ0ksV0FBVTswQkFDckNDOzs7Ozs7MEJBRUgsOERBQUNLOzs7OzswQkFDRCw4REFBQ1YsK0RBQTBCOzs7Ozs7Ozs7OztBQUcvQkUsV0FBV1UsV0FBVyxHQUFHWiw2REFBd0IsQ0FBQ1ksV0FBVztBQUU3RCxNQUFNRiwwQkFBWVgsNkNBQWdCLENBR2hDLENBQUMsRUFBRUssU0FBUyxFQUFFUyxjQUFjLFVBQVUsRUFBRSxHQUFHUCxPQUFPLEVBQUVDLG9CQUNwRCw4REFBQ1AsNEVBQXVDO1FBQ3RDTyxLQUFLQTtRQUNMTSxhQUFhQTtRQUNiVCxXQUFXSCw4Q0FBRUEsQ0FDWCxpREFDQVksZ0JBQWdCLGNBQ2Qsc0RBQ0ZBLGdCQUFnQixnQkFDZCx3REFDRlQ7UUFFRCxHQUFHRSxLQUFLO2tCQUVULDRFQUFDTix3RUFBbUM7WUFBQ0ksV0FBVTs7Ozs7Ozs7Ozs7QUFHbkRNLFVBQVVFLFdBQVcsR0FBR1osNEVBQXVDLENBQUNZLFdBQVc7QUFFM0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBTY3JvbGxBcmVhUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2Nyb2xsLWFyZWFcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IFNjcm9sbEFyZWEgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3Q+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdD5cbj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3RcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwicmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPFNjcm9sbEFyZWFQcmltaXRpdmUuVmlld3BvcnQgY2xhc3NOYW1lPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLVtpbmhlcml0XVwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5WaWV3cG9ydD5cbiAgICA8U2Nyb2xsQmFyIC8+XG4gICAgPFNjcm9sbEFyZWFQcmltaXRpdmUuQ29ybmVyIC8+XG4gIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5Sb290PlxuKSlcblNjcm9sbEFyZWEuZGlzcGxheU5hbWUgPSBTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3QuZGlzcGxheU5hbWVcblxuY29uc3QgU2Nyb2xsQmFyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXI+XG4+KCh7IGNsYXNzTmFtZSwgb3JpZW50YXRpb24gPSBcInZlcnRpY2FsXCIsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8U2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyXG4gICAgcmVmPXtyZWZ9XG4gICAgb3JpZW50YXRpb249e29yaWVudGF0aW9ufVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICBcImZsZXggdG91Y2gtbm9uZSBzZWxlY3Qtbm9uZSB0cmFuc2l0aW9uLWNvbG9yc1wiLFxuICAgICAgb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiAmJlxuICAgICAgICBcImgtZnVsbCB3LTIuNSBib3JkZXItbCBib3JkZXItbC10cmFuc3BhcmVudCBwLVsxcHhdXCIsXG4gICAgICBvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgJiZcbiAgICAgICAgXCJoLTIuNSBmbGV4LWNvbCBib3JkZXItdCBib3JkZXItdC10cmFuc3BhcmVudCBwLVsxcHhdXCIsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgPlxuICAgIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFUaHVtYiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LTEgcm91bmRlZC1mdWxsIGJnLWJvcmRlclwiIC8+XG4gIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyPlxuKSlcblNjcm9sbEJhci5kaXNwbGF5TmFtZSA9IFNjcm9sbEFyZWFQcmltaXRpdmUuU2Nyb2xsQXJlYVNjcm9sbGJhci5kaXNwbGF5TmFtZVxuXG5leHBvcnQgeyBTY3JvbGxBcmVhLCBTY3JvbGxCYXIgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU2Nyb2xsQXJlYVByaW1pdGl2ZSIsImNuIiwiU2Nyb2xsQXJlYSIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsInByb3BzIiwicmVmIiwiUm9vdCIsIlZpZXdwb3J0IiwiU2Nyb2xsQmFyIiwiQ29ybmVyIiwiZGlzcGxheU5hbWUiLCJvcmllbnRhdGlvbiIsIlNjcm9sbEFyZWFTY3JvbGxiYXIiLCJTY3JvbGxBcmVhVGh1bWIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/scroll-area.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/use-toast.ts":
/*!************************************!*\
  !*** ./components/ui/use-toast.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reducer: () => (/* binding */ reducer),\n/* harmony export */   toast: () => (/* binding */ toast),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ reducer,useToast,toast auto */ // Inspired by react-hot-toast library\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\nconst actionTypes = {\n    ADD_TOAST: \"ADD_TOAST\",\n    UPDATE_TOAST: \"UPDATE_TOAST\",\n    DISMISS_TOAST: \"DISMISS_TOAST\",\n    REMOVE_TOAST: \"REMOVE_TOAST\"\n};\nlet count = 0;\nfunction genId() {\n    count = (count + 1) % Number.MAX_SAFE_INTEGER;\n    return count.toString();\n}\nconst toastTimeouts = new Map();\nconst addToRemoveQueue = (toastId)=>{\n    if (toastTimeouts.has(toastId)) {\n        return;\n    }\n    const timeout = setTimeout(()=>{\n        toastTimeouts.delete(toastId);\n        dispatch({\n            type: \"REMOVE_TOAST\",\n            toastId: toastId\n        });\n    }, TOAST_REMOVE_DELAY);\n    toastTimeouts.set(toastId, timeout);\n};\nconst reducer = (state, action)=>{\n    switch(action.type){\n        case \"ADD_TOAST\":\n            return {\n                ...state,\n                toasts: [\n                    action.toast,\n                    ...state.toasts\n                ].slice(0, TOAST_LIMIT)\n            };\n        case \"UPDATE_TOAST\":\n            return {\n                ...state,\n                toasts: state.toasts.map((t)=>t.id === action.toast.id ? {\n                        ...t,\n                        ...action.toast\n                    } : t)\n            };\n        case \"DISMISS_TOAST\":\n            {\n                const { toastId } = action;\n                // ! Side effects ! - This could be extracted into a dismissToast() action,\n                // but I'll keep it here for simplicity\n                if (toastId) {\n                    addToRemoveQueue(toastId);\n                } else {\n                    state.toasts.forEach((toast)=>{\n                        addToRemoveQueue(toast.id);\n                    });\n                }\n                return {\n                    ...state,\n                    toasts: state.toasts.map((t)=>t.id === toastId || toastId === undefined ? {\n                            ...t,\n                            open: false\n                        } : t)\n                };\n            }\n        case \"REMOVE_TOAST\":\n            if (action.toastId === undefined) {\n                return {\n                    ...state,\n                    toasts: []\n                };\n            }\n            return {\n                ...state,\n                toasts: state.toasts.filter((t)=>t.id !== action.toastId)\n            };\n    }\n};\nconst listeners = [];\nlet memoryState = {\n    toasts: []\n};\nfunction dispatch(action) {\n    memoryState = reducer(memoryState, action);\n    listeners.forEach((listener)=>{\n        listener(memoryState);\n    });\n}\nfunction toast({ ...props }) {\n    const id = genId();\n    const update = (props)=>dispatch({\n            type: \"UPDATE_TOAST\",\n            toast: {\n                ...props,\n                id\n            }\n        });\n    const dismiss = ()=>dispatch({\n            type: \"DISMISS_TOAST\",\n            toastId: id\n        });\n    dispatch({\n        type: \"ADD_TOAST\",\n        toast: {\n            ...props,\n            id,\n            open: true,\n            onOpenChange: (open)=>{\n                if (!open) dismiss();\n            }\n        }\n    });\n    return {\n        id: id,\n        dismiss,\n        update\n    };\n}\nfunction useToast() {\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(memoryState);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"useToast.useEffect\": ()=>{\n            listeners.push(setState);\n            return ({\n                \"useToast.useEffect\": ()=>{\n                    const index = listeners.indexOf(setState);\n                    if (index > -1) {\n                        listeners.splice(index, 1);\n                    }\n                }\n            })[\"useToast.useEffect\"];\n        }\n    }[\"useToast.useEffect\"], [\n        state\n    ]);\n    return {\n        ...state,\n        toast,\n        dismiss: (toastId)=>dispatch({\n                type: \"DISMISS_TOAST\",\n                toastId\n            })\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTVUsVUFBVSxJQUFNckIsU0FBUztZQUFFQyxNQUFNO1lBQWlCTixTQUFTZ0I7UUFBRztJQUVwRVgsU0FBUztRQUNQQyxNQUFNO1FBQ05NLE9BQU87WUFDTCxHQUFHWSxLQUFLO1lBQ1JSO1lBQ0FHLE1BQU07WUFDTlEsY0FBYyxDQUFDUjtnQkFDYixJQUFJLENBQUNBLE1BQU1PO1lBQ2I7UUFDRjtJQUNGO0lBRUEsT0FBTztRQUNMVixJQUFJQTtRQUNKVTtRQUNBRDtJQUNGO0FBQ0Y7QUFFQSxTQUFTRztJQUNQLE1BQU0sQ0FBQ25CLE9BQU9vQixTQUFTLEdBQUc3QywyQ0FBYyxDQUFRc0M7SUFFaER0Qyw0Q0FBZTs4QkFBQztZQUNkcUMsVUFBVVcsSUFBSSxDQUFDSDtZQUNmO3NDQUFPO29CQUNMLE1BQU1JLFFBQVFaLFVBQVVhLE9BQU8sQ0FBQ0w7b0JBQ2hDLElBQUlJLFFBQVEsQ0FBQyxHQUFHO3dCQUNkWixVQUFVYyxNQUFNLENBQUNGLE9BQU87b0JBQzFCO2dCQUNGOztRQUNGOzZCQUFHO1FBQUN4QjtLQUFNO0lBRVYsT0FBTztRQUNMLEdBQUdBLEtBQUs7UUFDUkc7UUFDQWMsU0FBUyxDQUFDMUIsVUFBcUJLLFNBQVM7Z0JBQUVDLE1BQU07Z0JBQWlCTjtZQUFRO0lBQzNFO0FBQ0Y7QUFFMEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2NvbXBvbmVudHMvdWkvdXNlLXRvYXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbi8vIEluc3BpcmVkIGJ5IHJlYWN0LWhvdC10b2FzdCBsaWJyYXJ5XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgdHlwZSB7XG4gIFRvYXN0QWN0aW9uRWxlbWVudCxcbiAgVG9hc3RQcm9wcyxcbn0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90b2FzdFwiXG5cbmNvbnN0IFRPQVNUX0xJTUlUID0gMVxuY29uc3QgVE9BU1RfUkVNT1ZFX0RFTEFZID0gMTAwMDAwMFxuXG50eXBlIFRvYXN0ZXJUb2FzdCA9IFRvYXN0UHJvcHMgJiB7XG4gIGlkOiBzdHJpbmdcbiAgdGl0bGU/OiBSZWFjdC5SZWFjdE5vZGVcbiAgZGVzY3JpcHRpb24/OiBSZWFjdC5SZWFjdE5vZGVcbiAgYWN0aW9uPzogVG9hc3RBY3Rpb25FbGVtZW50XG59XG5cbmNvbnN0IGFjdGlvblR5cGVzID0ge1xuICBBRERfVE9BU1Q6IFwiQUREX1RPQVNUXCIsXG4gIFVQREFURV9UT0FTVDogXCJVUERBVEVfVE9BU1RcIixcbiAgRElTTUlTU19UT0FTVDogXCJESVNNSVNTX1RPQVNUXCIsXG4gIFJFTU9WRV9UT0FTVDogXCJSRU1PVkVfVE9BU1RcIixcbn0gYXMgY29uc3RcblxubGV0IGNvdW50ID0gMFxuXG5mdW5jdGlvbiBnZW5JZCgpIHtcbiAgY291bnQgPSAoY291bnQgKyAxKSAlIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4gIHJldHVybiBjb3VudC50b1N0cmluZygpXG59XG5cbnR5cGUgQWN0aW9uVHlwZSA9IHR5cGVvZiBhY3Rpb25UeXBlc1xuXG50eXBlIEFjdGlvbiA9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZVtcIkFERF9UT0FTVFwiXVxuICAgICAgdG9hc3Q6IFRvYXN0ZXJUb2FzdFxuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlW1wiVVBEQVRFX1RPQVNUXCJdXG4gICAgICB0b2FzdDogUGFydGlhbDxUb2FzdGVyVG9hc3Q+XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVbXCJESVNNSVNTX1RPQVNUXCJdXG4gICAgICB0b2FzdElkPzogVG9hc3RlclRvYXN0W1wiaWRcIl1cbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZVtcIlJFTU9WRV9UT0FTVFwiXVxuICAgICAgdG9hc3RJZD86IFRvYXN0ZXJUb2FzdFtcImlkXCJdXG4gICAgfVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICB0b2FzdHM6IFRvYXN0ZXJUb2FzdFtdXG59XG5cbmNvbnN0IHRvYXN0VGltZW91dHMgPSBuZXcgTWFwPHN0cmluZywgUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4+KClcblxuY29uc3QgYWRkVG9SZW1vdmVRdWV1ZSA9ICh0b2FzdElkOiBzdHJpbmcpID0+IHtcbiAgaWYgKHRvYXN0VGltZW91dHMuaGFzKHRvYXN0SWQpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgdG9hc3RUaW1lb3V0cy5kZWxldGUodG9hc3RJZClcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBcIlJFTU9WRV9UT0FTVFwiLFxuICAgICAgdG9hc3RJZDogdG9hc3RJZCxcbiAgICB9KVxuICB9LCBUT0FTVF9SRU1PVkVfREVMQVkpXG5cbiAgdG9hc3RUaW1lb3V0cy5zZXQodG9hc3RJZCwgdGltZW91dClcbn1cblxuZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSAoc3RhdGU6IFN0YXRlLCBhY3Rpb246IEFjdGlvbik6IFN0YXRlID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgXCJBRERfVE9BU1RcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IFthY3Rpb24udG9hc3QsIC4uLnN0YXRlLnRvYXN0c10uc2xpY2UoMCwgVE9BU1RfTElNSVQpLFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlVQREFURV9UT0FTVFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLm1hcCgodCkgPT5cbiAgICAgICAgICB0LmlkID09PSBhY3Rpb24udG9hc3QuaWQgPyB7IC4uLnQsIC4uLmFjdGlvbi50b2FzdCB9IDogdFxuICAgICAgICApLFxuICAgICAgfVxuXG4gICAgY2FzZSBcIkRJU01JU1NfVE9BU1RcIjoge1xuICAgICAgY29uc3QgeyB0b2FzdElkIH0gPSBhY3Rpb25cblxuICAgICAgLy8gISBTaWRlIGVmZmVjdHMgISAtIFRoaXMgY291bGQgYmUgZXh0cmFjdGVkIGludG8gYSBkaXNtaXNzVG9hc3QoKSBhY3Rpb24sXG4gICAgICAvLyBidXQgSSdsbCBrZWVwIGl0IGhlcmUgZm9yIHNpbXBsaWNpdHlcbiAgICAgIGlmICh0b2FzdElkKSB7XG4gICAgICAgIGFkZFRvUmVtb3ZlUXVldWUodG9hc3RJZClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRvYXN0cy5mb3JFYWNoKCh0b2FzdCkgPT4ge1xuICAgICAgICAgIGFkZFRvUmVtb3ZlUXVldWUodG9hc3QuaWQpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IHN0YXRlLnRvYXN0cy5tYXAoKHQpID0+XG4gICAgICAgICAgdC5pZCA9PT0gdG9hc3RJZCB8fCB0b2FzdElkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAgICAgb3BlbjogZmFsc2UsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdFxuICAgICAgICApLFxuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIFwiUkVNT1ZFX1RPQVNUXCI6XG4gICAgICBpZiAoYWN0aW9uLnRvYXN0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIHRvYXN0czogW10sXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IHN0YXRlLnRvYXN0cy5maWx0ZXIoKHQpID0+IHQuaWQgIT09IGFjdGlvbi50b2FzdElkKSxcbiAgICAgIH1cbiAgfVxufVxuXG5jb25zdCBsaXN0ZW5lcnM6IEFycmF5PChzdGF0ZTogU3RhdGUpID0+IHZvaWQ+ID0gW11cblxubGV0IG1lbW9yeVN0YXRlOiBTdGF0ZSA9IHsgdG9hc3RzOiBbXSB9XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbjogQWN0aW9uKSB7XG4gIG1lbW9yeVN0YXRlID0gcmVkdWNlcihtZW1vcnlTdGF0ZSwgYWN0aW9uKVxuICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcihtZW1vcnlTdGF0ZSlcbiAgfSlcbn1cblxudHlwZSBUb2FzdCA9IE9taXQ8VG9hc3RlclRvYXN0LCBcImlkXCI+XG5cbmZ1bmN0aW9uIHRvYXN0KHsgLi4ucHJvcHMgfTogVG9hc3QpIHtcbiAgY29uc3QgaWQgPSBnZW5JZCgpXG5cbiAgY29uc3QgdXBkYXRlID0gKHByb3BzOiBUb2FzdGVyVG9hc3QpID0+XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogXCJVUERBVEVfVE9BU1RcIixcbiAgICAgIHRvYXN0OiB7IC4uLnByb3BzLCBpZCB9LFxuICAgIH0pXG4gIGNvbnN0IGRpc21pc3MgPSAoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwiRElTTUlTU19UT0FTVFwiLCB0b2FzdElkOiBpZCB9KVxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBcIkFERF9UT0FTVFwiLFxuICAgIHRvYXN0OiB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGlkLFxuICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgIG9uT3BlbkNoYW5nZTogKG9wZW4pID0+IHtcbiAgICAgICAgaWYgKCFvcGVuKSBkaXNtaXNzKClcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcblxuICByZXR1cm4ge1xuICAgIGlkOiBpZCxcbiAgICBkaXNtaXNzLFxuICAgIHVwZGF0ZSxcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VUb2FzdCgpIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZTxTdGF0ZT4obWVtb3J5U3RhdGUpXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsaXN0ZW5lcnMucHVzaChzZXRTdGF0ZSlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihzZXRTdGF0ZSlcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB9XG4gICAgfVxuICB9LCBbc3RhdGVdKVxuXG4gIHJldHVybiB7XG4gICAgLi4uc3RhdGUsXG4gICAgdG9hc3QsXG4gICAgZGlzbWlzczogKHRvYXN0SWQ/OiBzdHJpbmcpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJESVNNSVNTX1RPQVNUXCIsIHRvYXN0SWQgfSksXG4gIH1cbn1cblxuZXhwb3J0IHsgdXNlVG9hc3QsIHRvYXN0IH1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlRPQVNUX0xJTUlUIiwiVE9BU1RfUkVNT1ZFX0RFTEFZIiwiYWN0aW9uVHlwZXMiLCJBRERfVE9BU1QiLCJVUERBVEVfVE9BU1QiLCJESVNNSVNTX1RPQVNUIiwiUkVNT1ZFX1RPQVNUIiwiY291bnQiLCJnZW5JZCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJ0b1N0cmluZyIsInRvYXN0VGltZW91dHMiLCJNYXAiLCJhZGRUb1JlbW92ZVF1ZXVlIiwidG9hc3RJZCIsImhhcyIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGVsZXRlIiwiZGlzcGF0Y2giLCJ0eXBlIiwic2V0IiwicmVkdWNlciIsInN0YXRlIiwiYWN0aW9uIiwidG9hc3RzIiwidG9hc3QiLCJzbGljZSIsIm1hcCIsInQiLCJpZCIsImZvckVhY2giLCJ1bmRlZmluZWQiLCJvcGVuIiwiZmlsdGVyIiwibGlzdGVuZXJzIiwibWVtb3J5U3RhdGUiLCJsaXN0ZW5lciIsInByb3BzIiwidXBkYXRlIiwiZGlzbWlzcyIsIm9uT3BlbkNoYW5nZSIsInVzZVRvYXN0Iiwic2V0U3RhdGUiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInB1c2giLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/use-toast.ts\n");

/***/ }),

/***/ "(ssr)/./components/waiting-state.tsx":
/*!**************************************!*\
  !*** ./components/waiting-state.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WaitingState: () => (/* binding */ WaitingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* __next_internal_client_entry_do_not_use__ WaitingState auto */ \n\nfunction WaitingState() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full flex flex-col items-center justify-center p-6 space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                className: \"w-8 h-8 animate-spin text-muted-foreground\"\n            }, void 0, false, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-lg font-medium text-foreground\",\n                        children: \"Transcription in progress,\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                        lineNumber: 10,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-lg font-medium text-foreground\",\n                        children: \"please wait.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                        lineNumber: 11,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n                lineNumber: 9,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/components/waiting-state.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dhaXRpbmctc3RhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRXNDO0FBRS9CLFNBQVNDO0lBQ2QscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDSCxtRkFBT0E7Z0JBQUNHLFdBQVU7Ozs7OzswQkFDbkIsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQXNDOzs7Ozs7a0NBQ3JELDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBc0M7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUk3RCIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvY29tcG9uZW50cy93YWl0aW5nLXN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBMb2FkZXIyIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBXYWl0aW5nU3RhdGUoKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC02IHNwYWNlLXktNFwiPlxuICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPlRyYW5zY3JpcHRpb24gaW4gcHJvZ3Jlc3MsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5wbGVhc2Ugd2FpdC48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsiTG9hZGVyMiIsIldhaXRpbmdTdGF0ZSIsImRpdiIsImNsYXNzTmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/waiting-state.tsx\n");

/***/ }),

/***/ "(ssr)/./hooks/use-app-state-adapter.ts":
/*!****************************************!*\
  !*** ./hooks/use-app-state-adapter.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAppState: () => (/* binding */ useAppState),\n/* harmony export */   useAppStateLegacy: () => (/* reexport safe */ _use_app_state__WEBPACK_IMPORTED_MODULE_0__.useAppState),\n/* harmony export */   useAppStateNew: () => (/* reexport safe */ _use_app_state_new__WEBPACK_IMPORTED_MODULE_1__.useAppStateNew)\n/* harmony export */ });\n/* harmony import */ var _use_app_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-app-state */ \"(ssr)/./hooks/use-app-state.ts\");\n/* harmony import */ var _use_app_state_new__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-app-state-new */ \"(ssr)/./hooks/use-app-state-new.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ useAppState,useAppStateLegacy,useAppStateNew auto */ \n\n\n/**\n * useAppState 適配器 Hook\n * 根據功能開關決定使用新舊版本的 useAppState\n * 確保 API 完全相容，現有組件無需修改\n */ function useAppState() {\n    const useNewAppStateHook = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('useNewAppStateHook');\n    const useNewStateManagement = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('useNewStateManagement');\n    console.log('🔄 [useAppStateAdapter] 功能開關狀態:', {\n        useNewAppStateHook,\n        useNewStateManagement,\n        willUseNewVersion: useNewAppStateHook || useNewStateManagement\n    });\n    // 如果啟用新 AppState Hook 或新狀態管理，使用新版本\n    if (useNewAppStateHook || useNewStateManagement) {\n        console.log('🔄 [useAppStateAdapter] 使用新版本 useAppStateNew');\n        return (0,_use_app_state_new__WEBPACK_IMPORTED_MODULE_1__.useAppStateNew)();\n    }\n    // 否則使用舊版本\n    console.log('🔄 [useAppStateAdapter] 使用舊版本 useAppState');\n    return (0,_use_app_state__WEBPACK_IMPORTED_MODULE_0__.useAppState)();\n}\n// 導出舊版本供直接使用（用於測試或特殊情況）\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2UtYXBwLXN0YXRlLWFkYXB0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O2tHQUVrRTtBQUNkO0FBQ0c7QUF5Q3ZEOzs7O0NBSUMsR0FDTSxTQUFTQTtJQUNaLE1BQU1JLHFCQUFxQkQsb0VBQWdCQSxDQUFDO0lBQzVDLE1BQU1FLHdCQUF3QkYsb0VBQWdCQSxDQUFDO0lBRS9DRyxRQUFRQyxHQUFHLENBQUMsbUNBQW1DO1FBQzNDSDtRQUNBQztRQUNBRyxtQkFBbUJKLHNCQUFzQkM7SUFDN0M7SUFFQSxtQ0FBbUM7SUFDbkMsSUFBSUQsc0JBQXNCQyx1QkFBdUI7UUFDN0NDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9MLGtFQUFjQTtJQUN6QjtJQUVBLFVBQVU7SUFDVkksUUFBUUMsR0FBRyxDQUFDO0lBQ1osT0FBT04sMkRBQWlCQTtBQUM1QjtBQUVBLHdCQUF3QjtBQUMwQztBQUNkIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ob29rcy91c2UtYXBwLXN0YXRlLWFkYXB0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgdXNlQXBwU3RhdGUgYXMgdXNlQXBwU3RhdGVMZWdhY3kgfSBmcm9tICcuL3VzZS1hcHAtc3RhdGUnXG5pbXBvcnQgeyB1c2VBcHBTdGF0ZU5ldyB9IGZyb20gJy4vdXNlLWFwcC1zdGF0ZS1uZXcnXG5pbXBvcnQgeyBpc0ZlYXR1cmVFbmFibGVkIH0gZnJvbSAnLi4vbGliL2ZlYXR1cmUtZmxhZ3MnXG5pbXBvcnQgdHlwZSB7IEFwcERhdGEgfSBmcm9tICcuLi90eXBlcy9hcHAtc3RhdGUnXG5cbi8vIOe1seS4gOeahCBVc2VBcHBTdGF0ZSDku4vpnaJcbmludGVyZmFjZSBVc2VBcHBTdGF0ZVJldHVybiB7XG4gICAgLy8g5oeJ55So54uA5oWLXG4gICAgYXBwRGF0YTogQXBwRGF0YVxuICAgIGlzTG9hZGluZzogYm9vbGVhblxuICAgIGVycm9yOiBzdHJpbmcgfCBudWxsXG5cbiAgICAvLyDmnIPoqbHnrqHnkIZcbiAgICBjcmVhdGVOb3RlU2Vzc2lvbjogKHRpdGxlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD5cbiAgICBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uOiAodGl0bGU6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICAgIHVwZ3JhZGVUb1JlY29yZGluZzogKCkgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGZpbmlzaFNlc3Npb246ICgpID0+IFByb21pc2U8dm9pZD5cbiAgICBuZXdOb3RlOiAoKSA9PiBQcm9taXNlPHZvaWQ+XG5cbiAgICAvLyDpjITpn7PmjqfliLZcbiAgICBzdGFydFJlY29yZGluZzogKHRpdGxlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD5cbiAgICBzdG9wUmVjb3JkaW5nOiAoKSA9PiBQcm9taXNlPHZvaWQ+XG5cbiAgICAvLyDmnKzlnLDojYnnqL9cbiAgICBzYXZlTG9jYWxEcmFmdDogKGNvbnRlbnQ6IHN0cmluZykgPT4gdm9pZFxuXG4gICAgLy8g5aSW6YOo54uA5oWLXG4gICAgc2Vzc2lvbjogYW55XG4gICAgc2Vzc2lvbkxvYWRpbmc6IGJvb2xlYW5cbiAgICBzZXNzaW9uRXJyb3I6IHN0cmluZyB8IG51bGxcblxuICAgIC8vIOmMhOmfs+eLgOaFi1xuICAgIHJlY29yZGluZ0Vycm9yOiBzdHJpbmcgfCBudWxsXG5cbiAgICAvLyDpgJDlrZfnqL/ni4DmhYtcbiAgICB0cmFuc2NyaXB0Q29ubmVjdGVkOiBib29sZWFuXG4gICAgdHJhbnNjcmlwdEVycm9yOiBzdHJpbmcgfCBudWxsXG4gICAgdHJhbnNjcmlwdEF1dG9TY3JvbGw6IGJvb2xlYW5cbiAgICBlbmFibGVBdXRvU2Nyb2xsOiAoKSA9PiB2b2lkXG4gICAgZGlzYWJsZUF1dG9TY3JvbGw6ICgpID0+IHZvaWRcbiAgICBzY3JvbGxUb0xhdGVzdDogKCkgPT4gdm9pZFxufVxuXG4vKipcbiAqIHVzZUFwcFN0YXRlIOmBqemFjeWZqCBIb29rXG4gKiDmoLnmk5rlip/og73plovpl5zmsbrlrprkvb/nlKjmlrDoiIrniYjmnKznmoQgdXNlQXBwU3RhdGVcbiAqIOeiuuS/nSBBUEkg5a6M5YWo55u45a6577yM54++5pyJ57WE5Lu254Sh6ZyA5L+u5pS5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBcHBTdGF0ZSgpOiBVc2VBcHBTdGF0ZVJldHVybiB7XG4gICAgY29uc3QgdXNlTmV3QXBwU3RhdGVIb29rID0gaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3QXBwU3RhdGVIb29rJylcbiAgICBjb25zdCB1c2VOZXdTdGF0ZU1hbmFnZW1lbnQgPSBpc0ZlYXR1cmVFbmFibGVkKCd1c2VOZXdTdGF0ZU1hbmFnZW1lbnQnKVxuXG4gICAgY29uc29sZS5sb2coJ/CflIQgW3VzZUFwcFN0YXRlQWRhcHRlcl0g5Yqf6IO96ZaL6Zec54uA5oWLOicsIHtcbiAgICAgICAgdXNlTmV3QXBwU3RhdGVIb29rLFxuICAgICAgICB1c2VOZXdTdGF0ZU1hbmFnZW1lbnQsXG4gICAgICAgIHdpbGxVc2VOZXdWZXJzaW9uOiB1c2VOZXdBcHBTdGF0ZUhvb2sgfHwgdXNlTmV3U3RhdGVNYW5hZ2VtZW50XG4gICAgfSlcblxuICAgIC8vIOWmguaenOWVn+eUqOaWsCBBcHBTdGF0ZSBIb29rIOaIluaWsOeLgOaFi+euoeeQhu+8jOS9v+eUqOaWsOeJiOacrFxuICAgIGlmICh1c2VOZXdBcHBTdGF0ZUhvb2sgfHwgdXNlTmV3U3RhdGVNYW5hZ2VtZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VBcHBTdGF0ZUFkYXB0ZXJdIOS9v+eUqOaWsOeJiOacrCB1c2VBcHBTdGF0ZU5ldycpXG4gICAgICAgIHJldHVybiB1c2VBcHBTdGF0ZU5ldygpXG4gICAgfVxuXG4gICAgLy8g5ZCm5YmH5L2/55So6IiK54mI5pysXG4gICAgY29uc29sZS5sb2coJ/CflIQgW3VzZUFwcFN0YXRlQWRhcHRlcl0g5L2/55So6IiK54mI5pysIHVzZUFwcFN0YXRlJylcbiAgICByZXR1cm4gdXNlQXBwU3RhdGVMZWdhY3koKVxufVxuXG4vLyDlsI7lh7roiIrniYjmnKzkvpvnm7TmjqXkvb/nlKjvvIjnlKjmlrzmuKzoqabmiJbnibnmrormg4Xms4HvvIlcbmV4cG9ydCB7IHVzZUFwcFN0YXRlIGFzIHVzZUFwcFN0YXRlTGVnYWN5IH0gZnJvbSAnLi91c2UtYXBwLXN0YXRlJ1xuZXhwb3J0IHsgdXNlQXBwU3RhdGVOZXcgfSBmcm9tICcuL3VzZS1hcHAtc3RhdGUtbmV3J1xuIl0sIm5hbWVzIjpbInVzZUFwcFN0YXRlIiwidXNlQXBwU3RhdGVMZWdhY3kiLCJ1c2VBcHBTdGF0ZU5ldyIsImlzRmVhdHVyZUVuYWJsZWQiLCJ1c2VOZXdBcHBTdGF0ZUhvb2siLCJ1c2VOZXdTdGF0ZU1hbmFnZW1lbnQiLCJjb25zb2xlIiwibG9nIiwid2lsbFVzZU5ld1ZlcnNpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-app-state-adapter.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-app-state-context.ts":
/*!****************************************!*\
  !*** ./hooks/use-app-state-context.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppStateContext: () => (/* binding */ AppStateContext),\n/* harmony export */   AppStateProvider: () => (/* binding */ AppStateProvider),\n/* harmony export */   useAppStateContext: () => (/* binding */ useAppStateContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types_app_state_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/app-state-context */ \"(ssr)/./types/app-state-context.ts\");\n/* harmony import */ var _lib_app_state_reducer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/app-state-reducer */ \"(ssr)/./lib/app-state-reducer.ts\");\n/* harmony import */ var _lib_initial_state_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/initial-state-loader */ \"(ssr)/./lib/initial-state-loader.ts\");\n/* __next_internal_client_entry_do_not_use__ AppStateProvider,useAppStateContext,AppStateContext auto */ \n\n\n\nconst AppStateContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction AppStateProvider({ children }) {\n    const [state, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(_lib_app_state_reducer__WEBPACK_IMPORTED_MODULE_2__.appStateReducer, _types_app_state_context__WEBPACK_IMPORTED_MODULE_1__.initialContextState);\n    // 載入初始狀態\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"AppStateProvider.useEffect\": ()=>{\n            console.log('🔄 [AppStateProvider] 載入初始狀態...');\n            // 檢查是否在瀏覽器環境\n            if (false) {}\n        }\n    }[\"AppStateProvider.useEffect\"], []);\n    // 狀態持久化\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"AppStateProvider.useEffect\": ()=>{\n            // 檢查是否在瀏覽器環境且狀態已初始化\n            if (false) {}\n        }\n    }[\"AppStateProvider.useEffect\"], [\n        state.appData\n    ]);\n    const setState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setState]\": (newState)=>{\n            dispatch({\n                type: \"SET_STATE\",\n                payload: newState\n            });\n        }\n    }[\"AppStateProvider.useCallback[setState]\"], []);\n    const setRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setRecording]\": (isRecording)=>{\n            dispatch({\n                type: \"SET_RECORDING\",\n                payload: isRecording\n            });\n        }\n    }[\"AppStateProvider.useCallback[setRecording]\"], []);\n    const setRecordingTime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setRecordingTime]\": (time)=>{\n            dispatch({\n                type: \"SET_RECORDING_TIME\",\n                payload: time\n            });\n        }\n    }[\"AppStateProvider.useCallback[setRecordingTime]\"], []);\n    const setEditorContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setEditorContent]\": (content)=>{\n            dispatch({\n                type: \"SET_EDITOR_CONTENT\",\n                payload: content\n            });\n        }\n    }[\"AppStateProvider.useCallback[setEditorContent]\"], []);\n    const setTranscriptEntries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setTranscriptEntries]\": (entries)=>{\n            dispatch({\n                type: \"SET_TRANSCRIPT_ENTRIES\",\n                payload: entries\n            });\n        }\n    }[\"AppStateProvider.useCallback[setTranscriptEntries]\"], []);\n    const addTranscriptEntry = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[addTranscriptEntry]\": (entry)=>{\n            dispatch({\n                type: \"ADD_TRANSCRIPT_ENTRY\",\n                payload: entry\n            });\n        }\n    }[\"AppStateProvider.useCallback[addTranscriptEntry]\"], []);\n    const setSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setSession]\": (session)=>{\n            dispatch({\n                type: \"SET_SESSION\",\n                payload: session\n            });\n        }\n    }[\"AppStateProvider.useCallback[setSession]\"], []);\n    const updateSessionStatus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[updateSessionStatus]\": (status)=>{\n            dispatch({\n                type: \"UPDATE_SESSION_STATUS\",\n                payload: status\n            });\n        }\n    }[\"AppStateProvider.useCallback[updateSessionStatus]\"], []);\n    const resetState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[resetState]\": ()=>{\n            dispatch({\n                type: \"RESET_STATE\"\n            });\n        }\n    }[\"AppStateProvider.useCallback[resetState]\"], []);\n    const setLoading = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setLoading]\": (loading)=>{\n            dispatch({\n                type: \"SET_LOADING\",\n                payload: loading\n            });\n        }\n    }[\"AppStateProvider.useCallback[setLoading]\"], []);\n    const setError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"AppStateProvider.useCallback[setError]\": (error)=>{\n            dispatch({\n                type: \"SET_ERROR\",\n                payload: error\n            });\n        }\n    }[\"AppStateProvider.useCallback[setError]\"], []);\n    const contextValue = {\n        appData: state.appData,\n        isLoading: state.isLoading,\n        error: state.error,\n        dispatch,\n        setState,\n        setRecording,\n        setRecordingTime,\n        setEditorContent,\n        setTranscriptEntries,\n        addTranscriptEntry,\n        setSession,\n        updateSessionStatus,\n        resetState,\n        setLoading,\n        setError\n    };\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AppStateContext.Provider, {\n        value: contextValue\n    }, children);\n}\nfunction useAppStateContext() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AppStateContext);\n    if (!context) {\n        throw new Error(\"useAppStateContext 必須在 AppStateProvider 內使用\");\n    }\n    return context;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2QsTUFBTUMsVUFBVXhELGlEQUFVQSxDQUFDTztJQUMzQixJQUFJLENBQUNpRCxTQUFTO1FBQ1osTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVDtBQUUwQiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvaG9va3MvdXNlLWFwcC1zdGF0ZS1jb250ZXh0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VSZWR1Y2VyLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IEFwcFN0YXRlQ29udGV4dFZhbHVlLCBpbml0aWFsQ29udGV4dFN0YXRlIH0gZnJvbSBcIi4uL3R5cGVzL2FwcC1zdGF0ZS1jb250ZXh0XCJcbmltcG9ydCB7IGFwcFN0YXRlUmVkdWNlciwgQXBwU3RhdGVSZWR1Y2VyU3RhdGUgfSBmcm9tIFwiLi4vbGliL2FwcC1zdGF0ZS1yZWR1Y2VyXCJcbmltcG9ydCB7IEluaXRpYWxTdGF0ZUxvYWRlciB9IGZyb20gXCIuLi9saWIvaW5pdGlhbC1zdGF0ZS1sb2FkZXJcIlxuaW1wb3J0IHsgQXBwU3RhdGUsIFNlc3Npb25TdGF0dXMsIFNlc3Npb25UeXBlLCBUcmFuc2NyaXB0RW50cnkgfSBmcm9tIFwiLi4vdHlwZXMvYXBwLXN0YXRlXCJcblxuY29uc3QgQXBwU3RhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBcHBTdGF0ZUNvbnRleHRWYWx1ZSB8IG51bGw+KG51bGwpXG5cbmV4cG9ydCBmdW5jdGlvbiBBcHBTdGF0ZVByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGFwcFN0YXRlUmVkdWNlciwgaW5pdGlhbENvbnRleHRTdGF0ZSBhcyBBcHBTdGF0ZVJlZHVjZXJTdGF0ZSlcblxuICAvLyDovInlhaXliJ3lp4vni4DmhYtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBbQXBwU3RhdGVQcm92aWRlcl0g6LyJ5YWl5Yid5aeL54uA5oWLLi4uJylcblxuICAgIC8vIOaqouafpeaYr+WQpuWcqOeAj+imveWZqOeSsOWig1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5pdGlhbEFwcERhdGEgPSBJbml0aWFsU3RhdGVMb2FkZXIubG9hZEluaXRpYWxBcHBEYXRhKClcblxuICAgICAgICAvLyDmm7TmlrAgQ29udGV4dCDni4DmhYtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9BUFBfU1RBVEVcIiwgcGF5bG9hZDogaW5pdGlhbEFwcERhdGEuc3RhdGUgfSlcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9FRElUT1JfQ09OVEVOVFwiLCBwYXlsb2FkOiBpbml0aWFsQXBwRGF0YS5lZGl0b3JDb250ZW50IH0pXG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfVFJBTlNDUklQVF9FTlRSSUVTXCIsIHBheWxvYWQ6IGluaXRpYWxBcHBEYXRhLnRyYW5zY3JpcHRFbnRyaWVzIH0pXG5cbiAgICAgICAgaWYgKGluaXRpYWxBcHBEYXRhLnNlc3Npb24pIHtcbiAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX1NFU1NJT05cIiwgcGF5bG9hZDogaW5pdGlhbEFwcERhdGEuc2Vzc2lvbiB9KVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBbQXBwU3RhdGVQcm92aWRlcl0g5Yid5aeL54uA5oWL6LyJ5YWl5a6M5oiQOicsIHtcbiAgICAgICAgICBzdGF0ZTogaW5pdGlhbEFwcERhdGEuc3RhdGUsXG4gICAgICAgICAgaGFzU2Vzc2lvbjogISFpbml0aWFsQXBwRGF0YS5zZXNzaW9uLFxuICAgICAgICAgIHRyYW5zY3JpcHRDb3VudDogaW5pdGlhbEFwcERhdGEudHJhbnNjcmlwdEVudHJpZXMubGVuZ3RoLFxuICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGluaXRpYWxBcHBEYXRhLmVkaXRvckNvbnRlbnQubGVuZ3RoXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0FwcFN0YXRlUHJvdmlkZXJdIOi8ieWFpeWIneWni+eLgOaFi+WkseaVlzonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIOeLgOaFi+aMgeS5heWMllxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOaqouafpeaYr+WQpuWcqOeAj+imveWZqOeSsOWig+S4lOeLgOaFi+W3suWIneWni+WMllxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBzdGF0ZS5hcHBEYXRhKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyDlu7bpgbLlhLLlrZjvvIzpgb/lhY3lnKjliJ3lp4vovInlhaXmmYLnq4vljbPlhLLlrZhcbiAgICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgSW5pdGlhbFN0YXRlTG9hZGVyLnNhdmVBcHBTdGF0ZShzdGF0ZS5hcHBEYXRhKVxuICAgICAgICB9LCAxMDAwKSAvLyAx56eS5bu26YGyXG5cbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0FwcFN0YXRlUHJvdmlkZXJdIOeLgOaFi+aMgeS5heWMluWkseaVlzonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzdGF0ZS5hcHBEYXRhXSlcblxuICBjb25zdCBzZXRTdGF0ZSA9IHVzZUNhbGxiYWNrKChuZXdTdGF0ZTogQXBwU3RhdGUpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX1NUQVRFXCIsIHBheWxvYWQ6IG5ld1N0YXRlIH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHNldFJlY29yZGluZyA9IHVzZUNhbGxiYWNrKChpc1JlY29yZGluZzogYm9vbGVhbikgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfUkVDT1JESU5HXCIsIHBheWxvYWQ6IGlzUmVjb3JkaW5nIH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHNldFJlY29yZGluZ1RpbWUgPSB1c2VDYWxsYmFjaygodGltZTogbnVtYmVyKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9SRUNPUkRJTkdfVElNRVwiLCBwYXlsb2FkOiB0aW1lIH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHNldEVkaXRvckNvbnRlbnQgPSB1c2VDYWxsYmFjaygoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9FRElUT1JfQ09OVEVOVFwiLCBwYXlsb2FkOiBjb250ZW50IH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHNldFRyYW5zY3JpcHRFbnRyaWVzID0gdXNlQ2FsbGJhY2soKGVudHJpZXM6IFRyYW5zY3JpcHRFbnRyeVtdKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9UUkFOU0NSSVBUX0VOVFJJRVNcIiwgcGF5bG9hZDogZW50cmllcyB9KVxuICB9LCBbXSlcblxuICBjb25zdCBhZGRUcmFuc2NyaXB0RW50cnkgPSB1c2VDYWxsYmFjaygoZW50cnk6IFRyYW5zY3JpcHRFbnRyeSkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJBRERfVFJBTlNDUklQVF9FTlRSWVwiLCBwYXlsb2FkOiBlbnRyeSB9KVxuICB9LCBbXSlcblxuICBjb25zdCBzZXRTZXNzaW9uID0gdXNlQ2FsbGJhY2soKHNlc3Npb246IHsgaWQ6IHN0cmluZzsgc3RhdHVzOiBTZXNzaW9uU3RhdHVzOyB0eXBlOiBTZXNzaW9uVHlwZSB9IHwgbnVsbCkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfU0VTU0lPTlwiLCBwYXlsb2FkOiBzZXNzaW9uIH0pXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHVwZGF0ZVNlc3Npb25TdGF0dXMgPSB1c2VDYWxsYmFjaygoc3RhdHVzOiBTZXNzaW9uU3RhdHVzKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlVQREFURV9TRVNTSU9OX1NUQVRVU1wiLCBwYXlsb2FkOiBzdGF0dXMgfSlcbiAgfSwgW10pXG5cbiAgY29uc3QgcmVzZXRTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiUkVTRVRfU1RBVEVcIiB9KVxuICB9LCBbXSlcblxuICBjb25zdCBzZXRMb2FkaW5nID0gdXNlQ2FsbGJhY2soKGxvYWRpbmc6IGJvb2xlYW4pID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX0xPQURJTkdcIiwgcGF5bG9hZDogbG9hZGluZyB9KVxuICB9LCBbXSlcblxuICBjb25zdCBzZXRFcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcjogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfRVJST1JcIiwgcGF5bG9hZDogZXJyb3IgfSlcbiAgfSwgW10pXG5cbiAgY29uc3QgY29udGV4dFZhbHVlOiBBcHBTdGF0ZUNvbnRleHRWYWx1ZSA9IHtcbiAgICBhcHBEYXRhOiBzdGF0ZS5hcHBEYXRhLFxuICAgIGlzTG9hZGluZzogc3RhdGUuaXNMb2FkaW5nLFxuICAgIGVycm9yOiBzdGF0ZS5lcnJvcixcbiAgICBkaXNwYXRjaCxcbiAgICBzZXRTdGF0ZSxcbiAgICBzZXRSZWNvcmRpbmcsXG4gICAgc2V0UmVjb3JkaW5nVGltZSxcbiAgICBzZXRFZGl0b3JDb250ZW50LFxuICAgIHNldFRyYW5zY3JpcHRFbnRyaWVzLFxuICAgIGFkZFRyYW5zY3JpcHRFbnRyeSxcbiAgICBzZXRTZXNzaW9uLFxuICAgIHVwZGF0ZVNlc3Npb25TdGF0dXMsXG4gICAgcmVzZXRTdGF0ZSxcbiAgICBzZXRMb2FkaW5nLFxuICAgIHNldEVycm9yLFxuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgQXBwU3RhdGVDb250ZXh0LlByb3ZpZGVyLFxuICAgIHsgdmFsdWU6IGNvbnRleHRWYWx1ZSB9LFxuICAgIGNoaWxkcmVuXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFwcFN0YXRlQ29udGV4dCgpOiBBcHBTdGF0ZUNvbnRleHRWYWx1ZSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEFwcFN0YXRlQ29udGV4dClcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQXBwU3RhdGVDb250ZXh0IOW/hemgiOWcqCBBcHBTdGF0ZVByb3ZpZGVyIOWFp+S9v+eUqFwiKVxuICB9XG4gIHJldHVybiBjb250ZXh0XG59XG5cbmV4cG9ydCB7IEFwcFN0YXRlQ29udGV4dCB9XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVJlZHVjZXIiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsImluaXRpYWxDb250ZXh0U3RhdGUiLCJhcHBTdGF0ZVJlZHVjZXIiLCJJbml0aWFsU3RhdGVMb2FkZXIiLCJBcHBTdGF0ZUNvbnRleHQiLCJBcHBTdGF0ZVByb3ZpZGVyIiwiY2hpbGRyZW4iLCJzdGF0ZSIsImRpc3BhdGNoIiwiY29uc29sZSIsImxvZyIsImluaXRpYWxBcHBEYXRhIiwibG9hZEluaXRpYWxBcHBEYXRhIiwidHlwZSIsInBheWxvYWQiLCJlZGl0b3JDb250ZW50IiwidHJhbnNjcmlwdEVudHJpZXMiLCJzZXNzaW9uIiwiaGFzU2Vzc2lvbiIsInRyYW5zY3JpcHRDb3VudCIsImxlbmd0aCIsImNvbnRlbnRMZW5ndGgiLCJlcnJvciIsImFwcERhdGEiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0Iiwic2F2ZUFwcFN0YXRlIiwiY2xlYXJUaW1lb3V0Iiwic2V0U3RhdGUiLCJuZXdTdGF0ZSIsInNldFJlY29yZGluZyIsImlzUmVjb3JkaW5nIiwic2V0UmVjb3JkaW5nVGltZSIsInRpbWUiLCJzZXRFZGl0b3JDb250ZW50IiwiY29udGVudCIsInNldFRyYW5zY3JpcHRFbnRyaWVzIiwiZW50cmllcyIsImFkZFRyYW5zY3JpcHRFbnRyeSIsImVudHJ5Iiwic2V0U2Vzc2lvbiIsInVwZGF0ZVNlc3Npb25TdGF0dXMiLCJzdGF0dXMiLCJyZXNldFN0YXRlIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJzZXRFcnJvciIsImNvbnRleHRWYWx1ZSIsImlzTG9hZGluZyIsImNyZWF0ZUVsZW1lbnQiLCJQcm92aWRlciIsInZhbHVlIiwidXNlQXBwU3RhdGVDb250ZXh0IiwiY29udGV4dCIsIkVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-app-state-context.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-app-state-new.ts":
/*!************************************!*\
  !*** ./hooks/use-app-state-new.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAppStateNew: () => (/* binding */ useAppStateNew)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _use_app_state_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-app-state-context */ \"(ssr)/./hooks/use-app-state-context.ts\");\n/* harmony import */ var _use_session_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-session-adapter */ \"(ssr)/./hooks/use-session-adapter.ts\");\n/* harmony import */ var _use_recording_adapter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-recording-adapter */ \"(ssr)/./hooks/use-recording-adapter.ts\");\n/* harmony import */ var _use_notes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-notes */ \"(ssr)/./hooks/use-notes.ts\");\n/* harmony import */ var _use_transcript_adapter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./use-transcript-adapter */ \"(ssr)/./hooks/use-transcript-adapter.ts\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(ssr)/./components/ui/use-toast.ts\");\n/* __next_internal_client_entry_do_not_use__ useAppStateNew auto */ \n\n\n\n\n\n\n/**\n * 新版本的 useAppState Hook\n * 使用 Context 狀態管理，大幅簡化原本 868 行的複雜邏輯\n * 將狀態管理委託給 AppStateContext，Hook 只負責業務邏輯\n */ function useAppStateNew() {\n    const { appData, isLoading, error, dispatch } = (0,_use_app_state_context__WEBPACK_IMPORTED_MODULE_1__.useAppStateContext)();\n    const session = (0,_use_session_adapter__WEBPACK_IMPORTED_MODULE_2__.useSession)();\n    const recording = (0,_use_recording_adapter__WEBPACK_IMPORTED_MODULE_3__.useRecording)();\n    const notes = (0,_use_notes__WEBPACK_IMPORTED_MODULE_4__.useNotes)();\n    const transcript = (0,_use_transcript_adapter__WEBPACK_IMPORTED_MODULE_5__.useTranscript)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_6__.useToast)();\n    console.log('🔄 [useAppStateNew] Hook 初始化:', {\n        currentState: appData.state,\n        isRecording: appData.isRecording,\n        sessionId: appData.session?.id,\n        transcriptCount: appData.transcriptEntries.length\n    });\n    // 建立純筆記會話\n    const createNoteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppStateNew.useCallback[createNoteSession]\": async (title)=>{\n            dispatch({\n                type: 'SET_LOADING',\n                payload: true\n            });\n            dispatch({\n                type: 'CLEAR_ERROR'\n            });\n            try {\n                const newSession = await session.createNoteSession(title);\n                if (newSession) {\n                    dispatch({\n                        type: 'SET_SESSION',\n                        payload: newSession\n                    });\n                    // 載入筆記內容\n                    await notes.loadNote(newSession.id);\n                    // 清除本地草稿\n                    localStorage.removeItem('draft_note');\n                    console.log('✅ [useAppStateNew] 純筆記會話建立成功');\n                    toast({\n                        title: '筆記會話已建立',\n                        description: `會話 \"${title}\" 建立成功`\n                    });\n                }\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '建立筆記會話失敗';\n                dispatch({\n                    type: 'SET_ERROR',\n                    payload: errorMessage\n                });\n                console.error('❌ [useAppStateNew] 建立筆記會話失敗:', err);\n                toast({\n                    title: '建立失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                dispatch({\n                    type: 'SET_LOADING',\n                    payload: false\n                });\n            }\n        }\n    }[\"useAppStateNew.useCallback[createNoteSession]\"], [\n        session,\n        notes,\n        toast,\n        dispatch\n    ]);\n    // 建立錄音會話\n    const createRecordingSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppStateNew.useCallback[createRecordingSession]\": async (title)=>{\n            dispatch({\n                type: 'SET_LOADING',\n                payload: true\n            });\n            dispatch({\n                type: 'CLEAR_ERROR'\n            });\n            try {\n                const newSession = await session.createRecordingSession(title, appData.editorContent);\n                if (newSession) {\n                    dispatch({\n                        type: 'SET_SESSION',\n                        payload: newSession\n                    });\n                    // 載入筆記內容\n                    await notes.loadNote(newSession.id);\n                    // 清除本地草稿\n                    localStorage.removeItem('draft_note');\n                    console.log('✅ [useAppStateNew] 錄音會話建立成功');\n                    toast({\n                        title: '錄音會話已建立',\n                        description: `會話 \"${title}\" 建立成功`\n                    });\n                }\n            } catch (err) {\n                // 特別處理會話衝突錯誤\n                if (err instanceof Error && err.message.includes('檢測到活躍會話衝突')) {\n                    const conflictMsg = '偵測到會話衝突，請重新整理頁面後再試';\n                    dispatch({\n                        type: 'SET_ERROR',\n                        payload: conflictMsg\n                    });\n                    toast({\n                        title: '會話衝突',\n                        description: '目前已有活躍會話，請重新整理頁面後再試，或等待當前會話結束',\n                        variant: 'destructive'\n                    });\n                    return;\n                }\n                const errorMessage = err instanceof Error ? err.message : '建立錄音會話失敗';\n                dispatch({\n                    type: 'SET_ERROR',\n                    payload: errorMessage\n                });\n                console.error('❌ [useAppStateNew] 建立錄音會話失敗:', err);\n                toast({\n                    title: '建立失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                dispatch({\n                    type: 'SET_LOADING',\n                    payload: false\n                });\n            }\n        }\n    }[\"useAppStateNew.useCallback[createRecordingSession]\"], [\n        session,\n        notes,\n        toast,\n        dispatch,\n        appData.editorContent\n    ]);\n    // 開始錄音\n    const startRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppStateNew.useCallback[startRecording]\": async (title)=>{\n            console.log(\"🎤 [useAppStateNew] startRecording: 流程開始\");\n            dispatch({\n                type: 'SET_LOADING',\n                payload: true\n            });\n            try {\n                // 檢查活躍會話狀態\n                const latestActiveSession = await session.checkActiveSession();\n                let sessionToRecord = latestActiveSession || session.currentSession;\n                console.log(\"🎤 [useAppStateNew] 會話狀態檢查:\", {\n                    latestActiveSession: latestActiveSession?.id,\n                    currentSession: session.currentSession?.id,\n                    finalSessionToUse: sessionToRecord?.id\n                });\n                if (!sessionToRecord) {\n                    console.log(\"🎤 [useAppStateNew] 建立新的錄音 session\");\n                    const newSession = await session.createRecordingSession(title, appData.editorContent);\n                    if (!newSession) {\n                        throw new Error('無法建立新的錄音會話');\n                    }\n                    sessionToRecord = newSession;\n                    dispatch({\n                        type: 'SET_SESSION',\n                        payload: newSession\n                    });\n                    localStorage.removeItem('draft_note');\n                } else if (sessionToRecord.type === 'note_only') {\n                    console.log(\"🎤 [useAppStateNew] 升級 note_only session\");\n                    const upgradedSession = await session.upgradeToRecording();\n                    if (!upgradedSession) {\n                        throw new Error('無法升級會話');\n                    }\n                    sessionToRecord = upgradedSession;\n                    dispatch({\n                        type: 'SET_SESSION',\n                        payload: upgradedSession\n                    });\n                }\n                // 更新狀態為 recording_waiting\n                dispatch({\n                    type: 'SET_APP_STATE',\n                    payload: 'recording_waiting'\n                });\n                // 開始錄音\n                await recording.startRecording(sessionToRecord.id);\n                console.log(\"🎤 [useAppStateNew] 錄音開始成功\");\n                toast({\n                    title: '錄音開始'\n                });\n            } catch (err) {\n                // 處理會話衝突錯誤\n                if (err instanceof Error && err.message.includes('檢測到活躍會話衝突')) {\n                    const conflictMsg = '偵測到會話衝突，請重新整理頁面後再試';\n                    dispatch({\n                        type: 'SET_ERROR',\n                        payload: conflictMsg\n                    });\n                    toast({\n                        title: '會話衝突',\n                        description: '目前已有活躍會話，請重新整理頁面後再試，或等待當前會話結束',\n                        variant: 'destructive'\n                    });\n                    return;\n                }\n                const msg = err instanceof Error ? err.message : '開始錄音失敗';\n                dispatch({\n                    type: 'SET_ERROR',\n                    payload: msg\n                });\n                console.error(\"🎤 [useAppStateNew] 錄音失敗:\", msg);\n                toast({\n                    title: '錄音失敗',\n                    description: msg,\n                    variant: 'destructive'\n                });\n            } finally{\n                dispatch({\n                    type: 'SET_LOADING',\n                    payload: false\n                });\n            }\n        }\n    }[\"useAppStateNew.useCallback[startRecording]\"], [\n        session,\n        recording,\n        toast,\n        dispatch,\n        appData.editorContent\n    ]);\n    // 升級會話為錄音模式\n    const upgradeToRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppStateNew.useCallback[upgradeToRecording]\": async ()=>{\n            dispatch({\n                type: 'SET_LOADING',\n                payload: true\n            });\n            dispatch({\n                type: 'CLEAR_ERROR'\n            });\n            try {\n                const updatedSession = await session.upgradeToRecording();\n                if (updatedSession) {\n                    dispatch({\n                        type: 'SET_SESSION',\n                        payload: updatedSession\n                    });\n                    console.log('✅ [useAppStateNew] 會話升級為錄音模式成功');\n                    toast({\n                        title: '升級成功',\n                        description: '會話已升級為錄音模式'\n                    });\n                }\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '升級會話失敗';\n                dispatch({\n                    type: 'SET_ERROR',\n                    payload: errorMessage\n                });\n                console.error('❌ [useAppStateNew] 升級會話失敗:', err);\n                toast({\n                    title: '升級失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                dispatch({\n                    type: 'SET_LOADING',\n                    payload: false\n                });\n            }\n        }\n    }[\"useAppStateNew.useCallback[upgradeToRecording]\"], [\n        session,\n        toast,\n        dispatch\n    ]);\n    // 停止錄音\n    const stopRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppStateNew.useCallback[stopRecording]\": async ()=>{\n            dispatch({\n                type: 'SET_LOADING',\n                payload: true\n            });\n            dispatch({\n                type: 'CLEAR_ERROR'\n            });\n            try {\n                await recording.stopRecording();\n                // 斷開 transcript 連接\n                transcript.disconnect();\n                // 狀態轉為 processing\n                dispatch({\n                    type: 'SET_APP_STATE',\n                    payload: 'processing'\n                });\n                console.log('✅ [useAppStateNew] 錄音停止，開始處理逐字稿');\n                toast({\n                    title: '處理中',\n                    description: '正在處理錄音內容，請稍候...'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '停止錄音失敗';\n                dispatch({\n                    type: 'SET_ERROR',\n                    payload: errorMessage\n                });\n                console.error('❌ [useAppStateNew] 停止錄音失敗:', err);\n                toast({\n                    title: '停止失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                dispatch({\n                    type: 'SET_LOADING',\n                    payload: false\n                });\n            }\n        }\n    }[\"useAppStateNew.useCallback[stopRecording]\"], [\n        recording,\n        transcript,\n        toast,\n        dispatch\n    ]);\n    // 完成會話\n    const finishSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppStateNew.useCallback[finishSession]\": async ()=>{\n            dispatch({\n                type: 'SET_LOADING',\n                payload: true\n            });\n            dispatch({\n                type: 'CLEAR_ERROR'\n            });\n            try {\n                await session.finishSession();\n                dispatch({\n                    type: 'SET_APP_STATE',\n                    payload: 'finished'\n                });\n                console.log('✅ [useAppStateNew] 會話完成');\n                toast({\n                    title: '會話完成',\n                    description: '您可以匯出筆記或開始新的筆記'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '完成會話失敗';\n                dispatch({\n                    type: 'SET_ERROR',\n                    payload: errorMessage\n                });\n                console.error('❌ [useAppStateNew] 完成會話失敗:', err);\n                toast({\n                    title: '完成失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                dispatch({\n                    type: 'SET_LOADING',\n                    payload: false\n                });\n            }\n        }\n    }[\"useAppStateNew.useCallback[finishSession]\"], [\n        session,\n        toast,\n        dispatch\n    ]);\n    // 開新筆記\n    const newNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppStateNew.useCallback[newNote]\": async ()=>{\n            dispatch({\n                type: 'SET_LOADING',\n                payload: true\n            });\n            dispatch({\n                type: 'CLEAR_ERROR'\n            });\n            try {\n                // 如果有活躍會話，先刪除它\n                if (session.currentSession) {\n                    console.log('🗑️ [useAppStateNew] 刪除當前活躍會話:', session.currentSession.id);\n                    await session.deleteSession();\n                }\n                // 重置所有狀態\n                dispatch({\n                    type: 'RESET_STATE'\n                });\n                // 清除相關狀態\n                recording.clearTranscripts();\n                transcript.clearTranscripts();\n                notes.clearNote();\n                // 清除本地草稿\n                localStorage.removeItem('draft_note');\n                console.log('🔄 [useAppStateNew] 已開始新筆記');\n                toast({\n                    title: '新筆記',\n                    description: '已清空內容，可以開始新的筆記'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '開始新筆記失敗';\n                dispatch({\n                    type: 'SET_ERROR',\n                    payload: errorMessage\n                });\n                console.error('❌ [useAppStateNew] 開始新筆記失敗:', err);\n                toast({\n                    title: '操作失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                dispatch({\n                    type: 'SET_LOADING',\n                    payload: false\n                });\n            }\n        }\n    }[\"useAppStateNew.useCallback[newNote]\"], [\n        session,\n        recording,\n        transcript,\n        notes,\n        toast,\n        dispatch\n    ]);\n    // 自動儲存筆記內容到本地草稿\n    const saveLocalDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppStateNew.useCallback[saveLocalDraft]\": (content)=>{\n            if (!session.currentSession && content.trim()) {\n                localStorage.setItem('draft_note', content);\n            }\n            dispatch({\n                type: 'SET_EDITOR_CONTENT',\n                payload: content\n            });\n        }\n    }[\"useAppStateNew.useCallback[saveLocalDraft]\"], [\n        session.currentSession,\n        dispatch\n    ]);\n    return {\n        // 應用狀態（向後相容）\n        appData,\n        isLoading,\n        error,\n        // 會話管理\n        createNoteSession,\n        createRecordingSession,\n        upgradeToRecording,\n        finishSession,\n        newNote,\n        // 錄音控制\n        startRecording,\n        stopRecording,\n        // 本地草稿\n        saveLocalDraft,\n        // 外部狀態（向後相容）\n        session: session.currentSession,\n        sessionLoading: session.isLoading,\n        sessionError: session.error,\n        // 錄音狀態\n        recordingError: recording.error,\n        // 逐字稿狀態\n        transcriptConnected: transcript.isConnected,\n        transcriptError: transcript.error,\n        transcriptAutoScroll: transcript.autoScrollEnabled,\n        enableAutoScroll: transcript.enableAutoScroll,\n        disableAutoScroll: transcript.disableAutoScroll,\n        scrollToLatest: transcript.scrollToLatest\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkQ7UUFDSjs4Q0FBRztRQUFDbEI7UUFBU0M7UUFBV0U7UUFBWUQ7UUFBT0U7UUFBT0w7S0FBUztJQUUzRCxnQkFBZ0I7SUFDaEIsTUFBTW1ELGlCQUFpQjlELGtEQUFXQTtzREFBQyxDQUFDK0Q7WUFDaEMsSUFBSSxDQUFDbkQsUUFBUXFDLGNBQWMsSUFBSWMsUUFBUUMsSUFBSSxJQUFJO2dCQUMzQy9CLGFBQWFnQyxPQUFPLENBQUMsY0FBY0Y7WUFDdkM7WUFDQXBELFNBQVM7Z0JBQUVrQixNQUFNO2dCQUFzQkMsU0FBU2lDO1lBQVE7UUFDNUQ7cURBQUc7UUFBQ25ELFFBQVFxQyxjQUFjO1FBQUV0QztLQUFTO0lBRXJDLE9BQU87UUFDSCxhQUFhO1FBQ2JIO1FBQ0FDO1FBQ0FDO1FBRUEsT0FBTztRQUNQaUI7UUFDQWM7UUFDQVc7UUFDQUs7UUFDQUM7UUFFQSxPQUFPO1FBQ1BiO1FBQ0FVO1FBRUEsT0FBTztRQUNQTztRQUVBLGFBQWE7UUFDYmxELFNBQVNBLFFBQVFxQyxjQUFjO1FBQy9CaUIsZ0JBQWdCdEQsUUFBUUgsU0FBUztRQUNqQzBELGNBQWN2RCxRQUFRRixLQUFLO1FBRTNCLE9BQU87UUFDUDBELGdCQUFnQnZELFVBQVVILEtBQUs7UUFFL0IsUUFBUTtRQUNSMkQscUJBQXFCdEQsV0FBV3VELFdBQVc7UUFDM0NDLGlCQUFpQnhELFdBQVdMLEtBQUs7UUFDakM4RCxzQkFBc0J6RCxXQUFXMEQsaUJBQWlCO1FBQ2xEQyxrQkFBa0IzRCxXQUFXMkQsZ0JBQWdCO1FBQzdDQyxtQkFBbUI1RCxXQUFXNEQsaUJBQWlCO1FBQy9DQyxnQkFBZ0I3RCxXQUFXNkQsY0FBYztJQUM3QztBQUNKIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ob29rcy91c2UtYXBwLXN0YXRlLW5ldy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1c2VBcHBTdGF0ZUNvbnRleHQgfSBmcm9tIFwiLi91c2UtYXBwLXN0YXRlLWNvbnRleHRcIlxuaW1wb3J0IHsgdXNlU2Vzc2lvbiB9IGZyb20gXCIuL3VzZS1zZXNzaW9uLWFkYXB0ZXJcIlxuaW1wb3J0IHsgdXNlUmVjb3JkaW5nIH0gZnJvbSBcIi4vdXNlLXJlY29yZGluZy1hZGFwdGVyXCJcbmltcG9ydCB7IHVzZU5vdGVzIH0gZnJvbSBcIi4vdXNlLW5vdGVzXCJcbmltcG9ydCB7IHVzZVRyYW5zY3JpcHQgfSBmcm9tIFwiLi91c2UtdHJhbnNjcmlwdC1hZGFwdGVyXCJcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS91c2UtdG9hc3RcIlxuaW1wb3J0IHR5cGUgeyBBcHBEYXRhIH0gZnJvbSBcIi4uL3R5cGVzL2FwcC1zdGF0ZVwiXG5cbi8qKlxuICog5paw54mI5pys55qEIHVzZUFwcFN0YXRlIEhvb2tcbiAqIOS9v+eUqCBDb250ZXh0IOeLgOaFi+euoeeQhu+8jOWkp+W5heewoeWMluWOn+acrCA4Njgg6KGM55qE6KSH6Zuc6YKP6LyvXG4gKiDlsIfni4DmhYvnrqHnkIblp5ToqJfntaYgQXBwU3RhdGVDb250ZXh077yMSG9vayDlj6rosqDosqzmpa3li5npgo/ovK9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFwcFN0YXRlTmV3KCkge1xuICAgIGNvbnN0IHsgYXBwRGF0YSwgaXNMb2FkaW5nLCBlcnJvciwgZGlzcGF0Y2ggfSA9IHVzZUFwcFN0YXRlQ29udGV4dCgpXG4gICAgY29uc3Qgc2Vzc2lvbiA9IHVzZVNlc3Npb24oKVxuICAgIGNvbnN0IHJlY29yZGluZyA9IHVzZVJlY29yZGluZygpXG4gICAgY29uc3Qgbm90ZXMgPSB1c2VOb3RlcygpXG4gICAgY29uc3QgdHJhbnNjcmlwdCA9IHVzZVRyYW5zY3JpcHQoKVxuICAgIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KClcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VBcHBTdGF0ZU5ld10gSG9vayDliJ3lp4vljJY6Jywge1xuICAgICAgICBjdXJyZW50U3RhdGU6IGFwcERhdGEuc3RhdGUsXG4gICAgICAgIGlzUmVjb3JkaW5nOiBhcHBEYXRhLmlzUmVjb3JkaW5nLFxuICAgICAgICBzZXNzaW9uSWQ6IGFwcERhdGEuc2Vzc2lvbj8uaWQsXG4gICAgICAgIHRyYW5zY3JpcHRDb3VudDogYXBwRGF0YS50cmFuc2NyaXB0RW50cmllcy5sZW5ndGhcbiAgICB9KVxuXG4gICAgLy8g5bu656uL57SU562G6KiY5pyD6KmxXG4gICAgY29uc3QgY3JlYXRlTm90ZVNlc3Npb24gPSB1c2VDYWxsYmFjayhhc3luYyAodGl0bGU6IHN0cmluZykgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTE9BRElORycsIHBheWxvYWQ6IHRydWUgfSlcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnQ0xFQVJfRVJST1InIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Nlc3Npb24gPSBhd2FpdCBzZXNzaW9uLmNyZWF0ZU5vdGVTZXNzaW9uKHRpdGxlKVxuICAgICAgICAgICAgaWYgKG5ld1Nlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfU0VTU0lPTicsIHBheWxvYWQ6IG5ld1Nlc3Npb24gfSlcblxuICAgICAgICAgICAgICAgIC8vIOi8ieWFpeethuiomOWFp+WuuVxuICAgICAgICAgICAgICAgIGF3YWl0IG5vdGVzLmxvYWROb3RlKG5ld1Nlc3Npb24uaWQpXG5cbiAgICAgICAgICAgICAgICAvLyDmuIXpmaTmnKzlnLDojYnnqL9cbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZHJhZnRfbm90ZScpXG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VBcHBTdGF0ZU5ld10g57SU562G6KiY5pyD6Kmx5bu656uL5oiQ5YqfJylcblxuICAgICAgICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfnrYboqJjmnIPoqbHlt7Llu7rnq4snLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYOacg+ipsSBcIiR7dGl0bGV9XCIg5bu656uL5oiQ5YqfYCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5bu656uL562G6KiY5pyD6Kmx5aSx5pWXJ1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0VSUk9SJywgcGF5bG9hZDogZXJyb3JNZXNzYWdlIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbdXNlQXBwU3RhdGVOZXddIOW7uueri+ethuiomOacg+ipseWkseaVlzonLCBlcnIpXG5cbiAgICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+W7uueri+WkseaVlycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9MT0FESU5HJywgcGF5bG9hZDogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgIH0sIFtzZXNzaW9uLCBub3RlcywgdG9hc3QsIGRpc3BhdGNoXSlcblxuICAgIC8vIOW7uueri+mMhOmfs+acg+ipsVxuICAgIGNvbnN0IGNyZWF0ZVJlY29yZGluZ1Nlc3Npb24gPSB1c2VDYWxsYmFjayhhc3luYyAodGl0bGU6IHN0cmluZykgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTE9BRElORycsIHBheWxvYWQ6IHRydWUgfSlcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnQ0xFQVJfRVJST1InIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Nlc3Npb24gPSBhd2FpdCBzZXNzaW9uLmNyZWF0ZVJlY29yZGluZ1Nlc3Npb24odGl0bGUsIGFwcERhdGEuZWRpdG9yQ29udGVudClcbiAgICAgICAgICAgIGlmIChuZXdTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX1NFU1NJT04nLCBwYXlsb2FkOiBuZXdTZXNzaW9uIH0pXG5cbiAgICAgICAgICAgICAgICAvLyDovInlhaXnrYboqJjlhaflrrlcbiAgICAgICAgICAgICAgICBhd2FpdCBub3Rlcy5sb2FkTm90ZShuZXdTZXNzaW9uLmlkKVxuXG4gICAgICAgICAgICAgICAgLy8g5riF6Zmk5pys5Zyw6I2J56i/XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2RyYWZ0X25vdGUnKVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlQXBwU3RhdGVOZXddIOmMhOmfs+acg+ipseW7uueri+aIkOWKnycpXG5cbiAgICAgICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6YyE6Z+z5pyD6Kmx5bey5bu656uLJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGDmnIPoqbEgXCIke3RpdGxlfVwiIOW7uueri+aIkOWKn2AsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyDnibnliKXomZXnkIbmnIPoqbHooZ3nqoHpjK/oqqRcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygn5qqi5ris5Yiw5rS76LqN5pyD6Kmx6KGd56qBJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25mbGljdE1zZyA9ICflgbXmuKzliLDmnIPoqbHooZ3nqoHvvIzoq4vph43mlrDmlbTnkIbpoIHpnaLlvozlho3oqaYnXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0VSUk9SJywgcGF5bG9hZDogY29uZmxpY3RNc2cgfSlcblxuICAgICAgICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmnIPoqbHooZ3nqoEnLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+ebruWJjeW3suaciea0u+i6jeacg+ipse+8jOiri+mHjeaWsOaVtOeQhumggemdouW+jOWGjeippu+8jOaIluetieW+heeVtuWJjeacg+ipsee1kOadnycsXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZSdcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+W7uueri+mMhOmfs+acg+ipseWkseaVlydcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9FUlJPUicsIHBheWxvYWQ6IGVycm9yTWVzc2FnZSB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW3VzZUFwcFN0YXRlTmV3XSDlu7rnq4vpjITpn7PmnIPoqbHlpLHmlZc6JywgZXJyKVxuXG4gICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICflu7rnq4vlpLHmlZcnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTE9BRElORycsIHBheWxvYWQ6IGZhbHNlIH0pXG4gICAgICAgIH1cbiAgICB9LCBbc2Vzc2lvbiwgbm90ZXMsIHRvYXN0LCBkaXNwYXRjaCwgYXBwRGF0YS5lZGl0b3JDb250ZW50XSlcblxuICAgIC8vIOmWi+Wni+mMhOmfs1xuICAgIGNvbnN0IHN0YXJ0UmVjb3JkaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKHRpdGxlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn46kIFt1c2VBcHBTdGF0ZU5ld10gc3RhcnRSZWNvcmRpbmc6IOa1geeoi+mWi+Wni1wiKVxuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTE9BRElORycsIHBheWxvYWQ6IHRydWUgfSlcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8g5qqi5p+l5rS76LqN5pyD6Kmx54uA5oWLXG4gICAgICAgICAgICBjb25zdCBsYXRlc3RBY3RpdmVTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbi5jaGVja0FjdGl2ZVNlc3Npb24oKVxuICAgICAgICAgICAgbGV0IHNlc3Npb25Ub1JlY29yZCA9IGxhdGVzdEFjdGl2ZVNlc3Npb24gfHwgc2Vzc2lvbi5jdXJyZW50U2Vzc2lvblxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfjqQgW3VzZUFwcFN0YXRlTmV3XSDmnIPoqbHni4DmhYvmqqLmn6U6XCIsIHtcbiAgICAgICAgICAgICAgICBsYXRlc3RBY3RpdmVTZXNzaW9uOiBsYXRlc3RBY3RpdmVTZXNzaW9uPy5pZCxcbiAgICAgICAgICAgICAgICBjdXJyZW50U2Vzc2lvbjogc2Vzc2lvbi5jdXJyZW50U2Vzc2lvbj8uaWQsXG4gICAgICAgICAgICAgICAgZmluYWxTZXNzaW9uVG9Vc2U6IHNlc3Npb25Ub1JlY29yZD8uaWRcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGlmICghc2Vzc2lvblRvUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn46kIFt1c2VBcHBTdGF0ZU5ld10g5bu656uL5paw55qE6YyE6Z+zIHNlc3Npb25cIilcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbi5jcmVhdGVSZWNvcmRpbmdTZXNzaW9uKHRpdGxlLCBhcHBEYXRhLmVkaXRvckNvbnRlbnQpXG4gICAgICAgICAgICAgICAgaWYgKCFuZXdTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign54Sh5rOV5bu656uL5paw55qE6YyE6Z+z5pyD6KmxJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2Vzc2lvblRvUmVjb3JkID0gbmV3U2Vzc2lvblxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9TRVNTSU9OJywgcGF5bG9hZDogbmV3U2Vzc2lvbiB9KVxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdkcmFmdF9ub3RlJylcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vzc2lvblRvUmVjb3JkLnR5cGUgPT09ICdub3RlX29ubHknKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn46kIFt1c2VBcHBTdGF0ZU5ld10g5Y2H57SaIG5vdGVfb25seSBzZXNzaW9uXCIpXG4gICAgICAgICAgICAgICAgY29uc3QgdXBncmFkZWRTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbi51cGdyYWRlVG9SZWNvcmRpbmcoKVxuICAgICAgICAgICAgICAgIGlmICghdXBncmFkZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign54Sh5rOV5Y2H57Sa5pyD6KmxJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2Vzc2lvblRvUmVjb3JkID0gdXBncmFkZWRTZXNzaW9uXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX1NFU1NJT04nLCBwYXlsb2FkOiB1cGdyYWRlZFNlc3Npb24gfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g5pu05paw54uA5oWL54K6IHJlY29yZGluZ193YWl0aW5nXG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfQVBQX1NUQVRFJywgcGF5bG9hZDogJ3JlY29yZGluZ193YWl0aW5nJyB9KVxuXG4gICAgICAgICAgICAvLyDplovlp4vpjITpn7NcbiAgICAgICAgICAgIGF3YWl0IHJlY29yZGluZy5zdGFydFJlY29yZGluZyhzZXNzaW9uVG9SZWNvcmQuaWQpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+OpCBbdXNlQXBwU3RhdGVOZXddIOmMhOmfs+mWi+Wni+aIkOWKn1wiKVxuICAgICAgICAgICAgdG9hc3QoeyB0aXRsZTogJ+mMhOmfs+mWi+WniycgfSlcblxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIOiZleeQhuacg+ipseihneeqgemMr+iqpFxuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCfmqqLmuKzliLDmtLvouo3mnIPoqbHooZ3nqoEnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZsaWN0TXNnID0gJ+WBtea4rOWIsOacg+ipseihneeqge+8jOiri+mHjeaWsOaVtOeQhumggemdouW+jOWGjeippidcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfRVJST1InLCBwYXlsb2FkOiBjb25mbGljdE1zZyB9KVxuXG4gICAgICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+acg+ipseihneeqgScsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn55uu5YmN5bey5pyJ5rS76LqN5pyD6Kmx77yM6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6Kmm77yM5oiW562J5b6F55W25YmN5pyD6Kmx57WQ5p2fJyxcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn6ZaL5aeL6YyE6Z+z5aSx5pWXJ1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0VSUk9SJywgcGF5bG9hZDogbXNnIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLwn46kIFt1c2VBcHBTdGF0ZU5ld10g6YyE6Z+z5aSx5pWXOlwiLCBtc2cpXG4gICAgICAgICAgICB0b2FzdCh7IHRpdGxlOiAn6YyE6Z+z5aSx5pWXJywgZGVzY3JpcHRpb246IG1zZywgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyB9KVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0xPQURJTkcnLCBwYXlsb2FkOiBmYWxzZSB9KVxuICAgICAgICB9XG4gICAgfSwgW3Nlc3Npb24sIHJlY29yZGluZywgdG9hc3QsIGRpc3BhdGNoLCBhcHBEYXRhLmVkaXRvckNvbnRlbnRdKVxuXG4gICAgLy8g5Y2H57Sa5pyD6Kmx54K66YyE6Z+z5qih5byPXG4gICAgY29uc3QgdXBncmFkZVRvUmVjb3JkaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTE9BRElORycsIHBheWxvYWQ6IHRydWUgfSlcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnQ0xFQVJfRVJST1InIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbi51cGdyYWRlVG9SZWNvcmRpbmcoKVxuICAgICAgICAgICAgaWYgKHVwZGF0ZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX1NFU1NJT04nLCBwYXlsb2FkOiB1cGRhdGVkU2Vzc2lvbiB9KVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlQXBwU3RhdGVOZXddIOacg+ipseWNh+e0mueCuumMhOmfs+aooeW8j+aIkOWKnycpXG5cbiAgICAgICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y2H57Sa5oiQ5YqfJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfmnIPoqbHlt7LljYfntJrngrrpjITpn7PmqKHlvI8nLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfljYfntJrmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfRVJST1InLCBwYXlsb2FkOiBlcnJvck1lc3NhZ2UgfSlcblxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFt1c2VBcHBTdGF0ZU5ld10g5Y2H57Sa5pyD6Kmx5aSx5pWXOicsIGVycilcblxuICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y2H57Sa5aSx5pWXJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0xPQURJTkcnLCBwYXlsb2FkOiBmYWxzZSB9KVxuICAgICAgICB9XG4gICAgfSwgW3Nlc3Npb24sIHRvYXN0LCBkaXNwYXRjaF0pXG5cbiAgICAvLyDlgZzmraLpjITpn7NcbiAgICBjb25zdCBzdG9wUmVjb3JkaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTE9BRElORycsIHBheWxvYWQ6IHRydWUgfSlcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnQ0xFQVJfRVJST1InIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHJlY29yZGluZy5zdG9wUmVjb3JkaW5nKClcblxuICAgICAgICAgICAgLy8g5pa36ZaLIHRyYW5zY3JpcHQg6YCj5o6lXG4gICAgICAgICAgICB0cmFuc2NyaXB0LmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgICAgICAvLyDni4DmhYvovYnngrogcHJvY2Vzc2luZ1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0FQUF9TVEFURScsIHBheWxvYWQ6ICdwcm9jZXNzaW5nJyB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VBcHBTdGF0ZU5ld10g6YyE6Z+z5YGc5q2i77yM6ZaL5aeL6JmV55CG6YCQ5a2X56i/JylcblxuICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn6JmV55CG5LitJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+ato+WcqOiZleeQhumMhOmfs+WFp+Wuue+8jOiri+eojeWAmS4uLicsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5YGc5q2i6YyE6Z+z5aSx5pWXJ1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0VSUk9SJywgcGF5bG9hZDogZXJyb3JNZXNzYWdlIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbdXNlQXBwU3RhdGVOZXddIOWBnOatoumMhOmfs+WkseaVlzonLCBlcnIpXG5cbiAgICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+WBnOatouWkseaVlycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9MT0FESU5HJywgcGF5bG9hZDogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgIH0sIFtyZWNvcmRpbmcsIHRyYW5zY3JpcHQsIHRvYXN0LCBkaXNwYXRjaF0pXG5cbiAgICAvLyDlrozmiJDmnIPoqbFcbiAgICBjb25zdCBmaW5pc2hTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTE9BRElORycsIHBheWxvYWQ6IHRydWUgfSlcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnQ0xFQVJfRVJST1InIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHNlc3Npb24uZmluaXNoU2Vzc2lvbigpXG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfQVBQX1NUQVRFJywgcGF5bG9hZDogJ2ZpbmlzaGVkJyB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VBcHBTdGF0ZU5ld10g5pyD6Kmx5a6M5oiQJylcblxuICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5pyD6Kmx5a6M5oiQJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+aCqOWPr+S7peWMr+WHuuethuiomOaIlumWi+Wni+aWsOeahOethuiomCcsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5a6M5oiQ5pyD6Kmx5aSx5pWXJ1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0VSUk9SJywgcGF5bG9hZDogZXJyb3JNZXNzYWdlIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbdXNlQXBwU3RhdGVOZXddIOWujOaIkOacg+ipseWkseaVlzonLCBlcnIpXG5cbiAgICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+WujOaIkOWkseaVlycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9MT0FESU5HJywgcGF5bG9hZDogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgIH0sIFtzZXNzaW9uLCB0b2FzdCwgZGlzcGF0Y2hdKVxuXG4gICAgLy8g6ZaL5paw562G6KiYXG4gICAgY29uc3QgbmV3Tm90ZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0xPQURJTkcnLCBwYXlsb2FkOiB0cnVlIH0pXG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ0NMRUFSX0VSUk9SJyB9KVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyDlpoLmnpzmnInmtLvouo3mnIPoqbHvvIzlhYjliKrpmaTlroNcbiAgICAgICAgICAgIGlmIChzZXNzaW9uLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8gW3VzZUFwcFN0YXRlTmV3XSDliKrpmaTnlbbliY3mtLvouo3mnIPoqbE6Jywgc2Vzc2lvbi5jdXJyZW50U2Vzc2lvbi5pZClcbiAgICAgICAgICAgICAgICBhd2FpdCBzZXNzaW9uLmRlbGV0ZVNlc3Npb24oKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDph43nva7miYDmnInni4DmhYtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1JFU0VUX1NUQVRFJyB9KVxuXG4gICAgICAgICAgICAvLyDmuIXpmaTnm7jpl5zni4DmhYtcbiAgICAgICAgICAgIHJlY29yZGluZy5jbGVhclRyYW5zY3JpcHRzKClcbiAgICAgICAgICAgIHRyYW5zY3JpcHQuY2xlYXJUcmFuc2NyaXB0cygpXG4gICAgICAgICAgICBub3Rlcy5jbGVhck5vdGUoKVxuXG4gICAgICAgICAgICAvLyDmuIXpmaTmnKzlnLDojYnnqL9cbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdkcmFmdF9ub3RlJylcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW3VzZUFwcFN0YXRlTmV3XSDlt7Lplovlp4vmlrDnrYboqJgnKVxuXG4gICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICfmlrDnrYboqJgnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn5bey5riF56m65YWn5a6577yM5Y+v5Lul6ZaL5aeL5paw55qE562G6KiYJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfplovlp4vmlrDnrYboqJjlpLHmlZcnXG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfRVJST1InLCBwYXlsb2FkOiBlcnJvck1lc3NhZ2UgfSlcblxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFt1c2VBcHBTdGF0ZU5ld10g6ZaL5aeL5paw562G6KiY5aSx5pWXOicsIGVycilcblxuICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5pON5L2c5aSx5pWXJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0xPQURJTkcnLCBwYXlsb2FkOiBmYWxzZSB9KVxuICAgICAgICB9XG4gICAgfSwgW3Nlc3Npb24sIHJlY29yZGluZywgdHJhbnNjcmlwdCwgbm90ZXMsIHRvYXN0LCBkaXNwYXRjaF0pXG5cbiAgICAvLyDoh6rli5XlhLLlrZjnrYboqJjlhaflrrnliLDmnKzlnLDojYnnqL9cbiAgICBjb25zdCBzYXZlTG9jYWxEcmFmdCA9IHVzZUNhbGxiYWNrKChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKCFzZXNzaW9uLmN1cnJlbnRTZXNzaW9uICYmIGNvbnRlbnQudHJpbSgpKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZHJhZnRfbm90ZScsIGNvbnRlbnQpXG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0VESVRPUl9DT05URU5UJywgcGF5bG9hZDogY29udGVudCB9KVxuICAgIH0sIFtzZXNzaW9uLmN1cnJlbnRTZXNzaW9uLCBkaXNwYXRjaF0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyDmh4nnlKjni4DmhYvvvIjlkJHlvoznm7jlrrnvvIlcbiAgICAgICAgYXBwRGF0YSxcbiAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICBlcnJvcixcblxuICAgICAgICAvLyDmnIPoqbHnrqHnkIZcbiAgICAgICAgY3JlYXRlTm90ZVNlc3Npb24sXG4gICAgICAgIGNyZWF0ZVJlY29yZGluZ1Nlc3Npb24sXG4gICAgICAgIHVwZ3JhZGVUb1JlY29yZGluZyxcbiAgICAgICAgZmluaXNoU2Vzc2lvbixcbiAgICAgICAgbmV3Tm90ZSxcblxuICAgICAgICAvLyDpjITpn7PmjqfliLZcbiAgICAgICAgc3RhcnRSZWNvcmRpbmcsXG4gICAgICAgIHN0b3BSZWNvcmRpbmcsXG5cbiAgICAgICAgLy8g5pys5Zyw6I2J56i/XG4gICAgICAgIHNhdmVMb2NhbERyYWZ0LFxuXG4gICAgICAgIC8vIOWklumDqOeLgOaFi++8iOWQkeW+jOebuOWuue+8iVxuICAgICAgICBzZXNzaW9uOiBzZXNzaW9uLmN1cnJlbnRTZXNzaW9uLFxuICAgICAgICBzZXNzaW9uTG9hZGluZzogc2Vzc2lvbi5pc0xvYWRpbmcsXG4gICAgICAgIHNlc3Npb25FcnJvcjogc2Vzc2lvbi5lcnJvcixcblxuICAgICAgICAvLyDpjITpn7Pni4DmhYtcbiAgICAgICAgcmVjb3JkaW5nRXJyb3I6IHJlY29yZGluZy5lcnJvcixcblxuICAgICAgICAvLyDpgJDlrZfnqL/ni4DmhYtcbiAgICAgICAgdHJhbnNjcmlwdENvbm5lY3RlZDogdHJhbnNjcmlwdC5pc0Nvbm5lY3RlZCxcbiAgICAgICAgdHJhbnNjcmlwdEVycm9yOiB0cmFuc2NyaXB0LmVycm9yLFxuICAgICAgICB0cmFuc2NyaXB0QXV0b1Njcm9sbDogdHJhbnNjcmlwdC5hdXRvU2Nyb2xsRW5hYmxlZCxcbiAgICAgICAgZW5hYmxlQXV0b1Njcm9sbDogdHJhbnNjcmlwdC5lbmFibGVBdXRvU2Nyb2xsLFxuICAgICAgICBkaXNhYmxlQXV0b1Njcm9sbDogdHJhbnNjcmlwdC5kaXNhYmxlQXV0b1Njcm9sbCxcbiAgICAgICAgc2Nyb2xsVG9MYXRlc3Q6IHRyYW5zY3JpcHQuc2Nyb2xsVG9MYXRlc3QsXG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlQXBwU3RhdGVDb250ZXh0IiwidXNlU2Vzc2lvbiIsInVzZVJlY29yZGluZyIsInVzZU5vdGVzIiwidXNlVHJhbnNjcmlwdCIsInVzZVRvYXN0IiwidXNlQXBwU3RhdGVOZXciLCJhcHBEYXRhIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJkaXNwYXRjaCIsInNlc3Npb24iLCJyZWNvcmRpbmciLCJub3RlcyIsInRyYW5zY3JpcHQiLCJ0b2FzdCIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50U3RhdGUiLCJzdGF0ZSIsImlzUmVjb3JkaW5nIiwic2Vzc2lvbklkIiwiaWQiLCJ0cmFuc2NyaXB0Q291bnQiLCJ0cmFuc2NyaXB0RW50cmllcyIsImxlbmd0aCIsImNyZWF0ZU5vdGVTZXNzaW9uIiwidGl0bGUiLCJ0eXBlIiwicGF5bG9hZCIsIm5ld1Nlc3Npb24iLCJsb2FkTm90ZSIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJkZXNjcmlwdGlvbiIsImVyciIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsInZhcmlhbnQiLCJjcmVhdGVSZWNvcmRpbmdTZXNzaW9uIiwiZWRpdG9yQ29udGVudCIsImluY2x1ZGVzIiwiY29uZmxpY3RNc2ciLCJzdGFydFJlY29yZGluZyIsImxhdGVzdEFjdGl2ZVNlc3Npb24iLCJjaGVja0FjdGl2ZVNlc3Npb24iLCJzZXNzaW9uVG9SZWNvcmQiLCJjdXJyZW50U2Vzc2lvbiIsImZpbmFsU2Vzc2lvblRvVXNlIiwidXBncmFkZWRTZXNzaW9uIiwidXBncmFkZVRvUmVjb3JkaW5nIiwibXNnIiwidXBkYXRlZFNlc3Npb24iLCJzdG9wUmVjb3JkaW5nIiwiZGlzY29ubmVjdCIsImZpbmlzaFNlc3Npb24iLCJuZXdOb3RlIiwiZGVsZXRlU2Vzc2lvbiIsImNsZWFyVHJhbnNjcmlwdHMiLCJjbGVhck5vdGUiLCJzYXZlTG9jYWxEcmFmdCIsImNvbnRlbnQiLCJ0cmltIiwic2V0SXRlbSIsInNlc3Npb25Mb2FkaW5nIiwic2Vzc2lvbkVycm9yIiwicmVjb3JkaW5nRXJyb3IiLCJ0cmFuc2NyaXB0Q29ubmVjdGVkIiwiaXNDb25uZWN0ZWQiLCJ0cmFuc2NyaXB0RXJyb3IiLCJ0cmFuc2NyaXB0QXV0b1Njcm9sbCIsImF1dG9TY3JvbGxFbmFibGVkIiwiZW5hYmxlQXV0b1Njcm9sbCIsImRpc2FibGVBdXRvU2Nyb2xsIiwic2Nyb2xsVG9MYXRlc3QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-app-state-new.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-app-state.ts":
/*!********************************!*\
  !*** ./hooks/use-app-state.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mapBackendToFrontendState: () => (/* binding */ mapBackendToFrontendState),\n/* harmony export */   useAppState: () => (/* binding */ useAppState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _use_session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-session */ \"(ssr)/./hooks/use-session.ts\");\n/* harmony import */ var _use_recording__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-recording */ \"(ssr)/./hooks/use-recording.ts\");\n/* harmony import */ var _use_notes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-notes */ \"(ssr)/./hooks/use-notes.ts\");\n/* harmony import */ var _use_transcript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-transcript */ \"(ssr)/./hooks/use-transcript.ts\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(ssr)/./components/ui/use-toast.ts\");\n/* __next_internal_client_entry_do_not_use__ useAppState,mapBackendToFrontendState auto */ \n\n\n\n\n\n// 前後端狀態映射規則\nconst mapBackendToFrontendState = (status, type, isRecording, transcriptsPresent)=>{\n    const timestamp = Date.now();\n    const isoTimestamp = new Date().toISOString();\n    console.log('🔄 [狀態映射] 輸入參數 (詳細時序):', {\n        status,\n        type,\n        isRecording,\n        transcriptsPresent,\n        timestamp,\n        isoTimestamp,\n        note: '檢查時序和邏輯流程'\n    });\n    let resultState;\n    // 詳細的狀態轉換邏輯和時序追蹤\n    switch(status){\n        case \"draft\":\n            resultState = \"default\";\n            console.log('🔄 [狀態映射] draft → default (時序正常)');\n            break;\n        case \"active\":\n            if (type === \"recording\") {\n                if (!isRecording) {\n                    resultState = \"default\";\n                    console.log('🔄 [狀態映射] recording session 但 isRecording=false → default (時序檢查通過)', {\n                        timestamp,\n                        reason: 'recording session inactive'\n                    });\n                } else {\n                    // 關鍵的狀態轉換邏輯：recording_waiting → recording_active\n                    if (transcriptsPresent) {\n                        resultState = \"recording_active\";\n                        console.log(`🔄 [狀態映射] ✅ 關鍵轉換: recording_waiting → recording_active (時序成功)`, {\n                            transcriptsPresent,\n                            timestamp,\n                            trigger: 'first_transcript_received'\n                        });\n                    } else {\n                        resultState = \"recording_waiting\";\n                        console.log(`🔄 [狀態映射] 保持 recording_waiting 狀態 (等待逐字稿)`, {\n                            transcriptsPresent,\n                            timestamp,\n                            waiting: 'for_first_transcript'\n                        });\n                    }\n                }\n            } else {\n                resultState = \"default\";\n                console.log('🔄 [狀態映射] active session 但 type != recording → default', {\n                    type,\n                    timestamp\n                });\n            }\n            break;\n        case \"processing\":\n            resultState = \"processing\";\n            console.log('🔄 [狀態映射] processing → processing (時序正常)', {\n                timestamp\n            });\n            break;\n        case \"completed\":\n            resultState = \"finished\";\n            console.log('🔄 [狀態映射] completed → finished (時序正常)', {\n                timestamp\n            });\n            break;\n        case \"error\":\n            resultState = \"default\" // 錯誤時回到預設狀態\n            ;\n            console.log('🔄 [狀態映射] error → default (錯誤恢復)', {\n                timestamp,\n                recovery: true\n            });\n            break;\n        default:\n            resultState = \"default\";\n            console.log('🔄 [狀態映射] unknown → default (安全回退)', {\n                unknownStatus: status,\n                timestamp\n            });\n            break;\n    }\n    console.log(`🔄 [狀態映射] 最終結果 (時序追蹤): ${status}(${type}) → ${resultState}`, {\n        inputParams: {\n            status,\n            type,\n            isRecording,\n            transcriptsPresent\n        },\n        output: resultState,\n        timestamp,\n        duration: Date.now() - timestamp\n    });\n    return resultState;\n};\nfunction useAppState() {\n    const [appData, setAppData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        state: \"default\",\n        transcriptEntries: [],\n        editorContent: \"\",\n        isRecording: false,\n        recordingTime: 0,\n        session: null\n    });\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // 使用各個專門的 hooks\n    const session = (0,_use_session__WEBPACK_IMPORTED_MODULE_1__.useSession)();\n    const recording = (0,_use_recording__WEBPACK_IMPORTED_MODULE_2__.useRecording)();\n    const notes = (0,_use_notes__WEBPACK_IMPORTED_MODULE_3__.useNotes)();\n    const transcript = (0,_use_transcript__WEBPACK_IMPORTED_MODULE_4__.useTranscript)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_5__.useToast)();\n    // 使用 useRef 追蹤前一個狀態值，避免循環依賴\n    const prevStateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)('default');\n    const prevTranscriptCompletedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const prevErrorStateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n        recording: null,\n        transcript: null\n    });\n    // 優化的狀態映射函數，確保時序可預測性\n    const mapStateFromSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[mapStateFromSession]\": (currentSession, isRecording, transcripts)=>{\n            const executionTimestamp = Date.now();\n            if (!currentSession) {\n                console.log('🔄 [狀態映射] 無活躍會話 → default', {\n                    executionTimestamp\n                });\n                return 'default';\n            }\n            // 實作更可靠的 transcriptsPresent 計算\n            const transcriptsPresent = Array.isArray(transcripts) && transcripts.length > 0;\n            console.log('🔄 [狀態映射] 執行時序檢查:', {\n                sessionId: currentSession.id,\n                sessionStatus: currentSession.status,\n                sessionType: currentSession.type,\n                isRecording,\n                transcriptCount: transcripts.length,\n                transcriptsPresent,\n                executionTimestamp,\n                transcriptsSample: transcripts.slice(0, 2).map({\n                    \"useAppState.useCallback[mapStateFromSession]\": (t)=>({\n                            text: t.text?.substring(0, 30) + '...',\n                            start_time: t.start_time,\n                            type: t.type\n                        })\n                }[\"useAppState.useCallback[mapStateFromSession]\"]),\n                note: '時序同步檢查完成'\n            });\n            const result = mapBackendToFrontendState(currentSession.status, currentSession.type, isRecording, transcriptsPresent);\n            console.log('🔄 [狀態映射] 執行結果:', {\n                input: {\n                    sessionStatus: currentSession.status,\n                    sessionType: currentSession.type,\n                    isRecording,\n                    transcriptsPresent\n                },\n                output: result,\n                executionTimestamp,\n                executionDuration: Date.now() - executionTimestamp\n            });\n            return result;\n        }\n    }[\"useAppState.useCallback[mapStateFromSession]\"], []);\n    // 狀態同步：前端狀態與後端 session status 對應 - 強化一致性\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            const activeSession = session.currentSession;\n            const effectExecutionTime = Date.now();\n            console.log('🔄 [狀態同步] useEffect 觸發 (強化一致性版):', {\n                hasActiveSession: !!activeSession,\n                sessionId: activeSession?.id,\n                sessionStatus: activeSession?.status,\n                sessionType: activeSession?.type,\n                recordingIsRecording: recording.isRecording,\n                appDataIsRecording: appData.isRecording,\n                isRecordingConsistent: recording.isRecording === appData.isRecording,\n                transcriptCount: transcript.transcripts.length,\n                recordingTranscriptCount: recording.transcripts.length,\n                currentAppState: prevStateRef.current,\n                effectExecutionTime,\n                note: '強化錄音狀態一致性檢查'\n            });\n            if (activeSession) {\n                // 確保使用最新的 recording.transcripts 狀態\n                const latestTranscripts = recording.transcripts;\n                const transcriptsPresent = Array.isArray(latestTranscripts) && latestTranscripts.length > 0;\n                console.log('🔄 [狀態同步] 逐字稿狀態計算 (時序保證):', {\n                    recordingTranscriptCount: latestTranscripts.length,\n                    transcriptsPresent,\n                    latestTranscriptTime: latestTranscripts[latestTranscripts.length - 1]?.start_time,\n                    latestTranscriptText: latestTranscripts[latestTranscripts.length - 1]?.text?.substring(0, 30) + '...',\n                    effectExecutionTime,\n                    note: '已確保時序同步'\n                });\n                // 關鍵修復：強制使用 recording.isRecording 而不是 appData.isRecording\n                // 這確保狀態映射邏輯使用最新的錄音狀態\n                const frontendState = mapStateFromSession(activeSession, recording.isRecording, latestTranscripts);\n                // 檢查是否需要同時更新 isRecording 和 state\n                const needsIsRecordingUpdate = appData.isRecording !== recording.isRecording;\n                const needsStateUpdate = frontendState !== prevStateRef.current;\n                if (needsIsRecordingUpdate || needsStateUpdate) {\n                    console.log(`🔄 [狀態同步] 執行狀態更新:`, {\n                        needsIsRecordingUpdate,\n                        needsStateUpdate,\n                        appDataIsRecording: appData.isRecording,\n                        recordingIsRecording: recording.isRecording,\n                        previousState: prevStateRef.current,\n                        newState: frontendState,\n                        stateChangeTimestamp: Date.now(),\n                        executionDuration: Date.now() - effectExecutionTime,\n                        triggerSource: 'comprehensive_state_sync'\n                    });\n                    setAppData({\n                        \"useAppState.useEffect\": (prev)=>({\n                                ...prev,\n                                state: frontendState,\n                                isRecording: recording.isRecording\n                            })\n                    }[\"useAppState.useEffect\"]);\n                    prevStateRef.current = frontendState;\n                } else {\n                    console.log('🔄 [狀態同步] 所有狀態一致，跳過更新', {\n                        currentState: frontendState,\n                        isRecording: recording.isRecording,\n                        executionTime: Date.now() - effectExecutionTime\n                    });\n                }\n            }\n        }\n    }[\"useAppState.useEffect\"], [\n        session.currentSession,\n        recording.isRecording,\n        recording.transcripts,\n        mapStateFromSession\n    ]);\n    // 依賴於 recording.transcripts 而非 length，確保內容變化時觸發狀態同步\n    // 初始化應用狀態 - 只在組件掛載時執行一次\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            let isMounted = true;\n            const initializeApp = {\n                \"useAppState.useEffect.initializeApp\": async ()=>{\n                    console.log('🚀 初始化應用狀態...');\n                    setIsLoading(true);\n                    try {\n                        // 檢查是否有活躍會話\n                        const activeSession = await session.checkActiveSession();\n                        if (!isMounted) return; // 組件已卸載，停止執行\n                        if (activeSession) {\n                            // 載入筆記內容\n                            await notes.loadNote(activeSession.id);\n                        } else {\n                            // 檢查是否有本地草稿\n                            const draftContent = localStorage.getItem('draft_note');\n                            if (draftContent) {\n                                setAppData({\n                                    \"useAppState.useEffect.initializeApp\": (prev)=>({\n                                            ...prev,\n                                            editorContent: draftContent\n                                        })\n                                }[\"useAppState.useEffect.initializeApp\"]);\n                                console.log('📝 載入本地草稿');\n                            }\n                        }\n                    } catch (error) {\n                        if (!isMounted) return; // 組件已卸載，停止執行\n                        // 如果是網路錯誤，不要拋出錯誤，讓用戶正常使用應用\n                        if (error instanceof Error && error.message.includes('Network Error')) {\n                            console.warn('⚠️ 初始化時 Backend 連線失敗，使用離線模式:', error.message);\n                            // 檢查是否有本地草稿\n                            const draftContent = localStorage.getItem('draft_note');\n                            if (draftContent) {\n                                setAppData({\n                                    \"useAppState.useEffect.initializeApp\": (prev)=>({\n                                            ...prev,\n                                            editorContent: draftContent\n                                        })\n                                }[\"useAppState.useEffect.initializeApp\"]);\n                                console.log('📝 離線模式：載入本地草稿');\n                            }\n                        } else {\n                            console.error('❌ 初始化失敗:', error);\n                            setError(error instanceof Error ? error.message : '初始化失敗');\n                        }\n                    } finally{\n                        if (isMounted) {\n                            setIsLoading(false);\n                        }\n                    }\n                }\n            }[\"useAppState.useEffect.initializeApp\"];\n            initializeApp();\n            return ({\n                \"useAppState.useEffect\": ()=>{\n                    isMounted = false;\n                }\n            })[\"useAppState.useEffect\"];\n        }\n    }[\"useAppState.useEffect\"], []) // 空依賴項，只在組件掛載時執行一次\n    ;\n    // 同步錄音狀態 - 強化一致性檢查\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            console.log('🔄 [錄音狀態同步] 更新 appData.isRecording:', {\n                from: appData.isRecording,\n                to: recording.isRecording,\n                recordingTime: recording.recordingTime,\n                timestamp: Date.now(),\n                needsUpdate: appData.isRecording !== recording.isRecording\n            });\n            // 強制同步錄音狀態，確保一致性\n            setAppData({\n                \"useAppState.useEffect\": (prev)=>{\n                    const needsUpdate = prev.isRecording !== recording.isRecording || prev.recordingTime !== recording.recordingTime;\n                    if (needsUpdate) {\n                        console.log('🔄 [錄音狀態同步] 執行狀態更新:', {\n                            prevIsRecording: prev.isRecording,\n                            newIsRecording: recording.isRecording,\n                            prevRecordingTime: prev.recordingTime,\n                            newRecordingTime: recording.recordingTime\n                        });\n                    }\n                    return {\n                        ...prev,\n                        isRecording: recording.isRecording,\n                        recordingTime: recording.recordingTime\n                    };\n                }\n            }[\"useAppState.useEffect\"]);\n        }\n    }[\"useAppState.useEffect\"], [\n        recording.isRecording,\n        recording.recordingTime\n    ]);\n    // 移除重複的狀態一致性檢查，已整合到主要狀態同步邏輯中\n    // 同步筆記內容\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            setAppData({\n                \"useAppState.useEffect\": (prev)=>({\n                        ...prev,\n                        editorContent: notes.noteContent\n                    })\n            }[\"useAppState.useEffect\"]);\n        }\n    }[\"useAppState.useEffect\"], [\n        notes.noteContent\n    ]);\n    // 處理逐字稿更新 - 統一使用 recording.transcripts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            console.log('📝 [逐字稿更新] useEffect 觸發:', {\n                recordingTranscriptCount: recording.transcripts.length,\n                recordingTranscripts: recording.transcripts,\n                currentState: appData.state,\n                isRecording: appData.isRecording,\n                note: '統一使用 recording.transcripts，避免雙重管理'\n            });\n            const transcriptEntries = recording.transcripts.map({\n                \"useAppState.useEffect.transcriptEntries\": (transcriptMsg)=>{\n                    // 使用 start_time 或 timestamp 計算時間\n                    const startTime = transcriptMsg.start_time ?? 0;\n                    const minutes = Math.floor(startTime / 60);\n                    const seconds = Math.floor(startTime % 60);\n                    const timeStr = `${minutes.toString().padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}`;\n                    console.log('📝 [逐字稿轉換] 單個片段:', {\n                        text: transcriptMsg.text,\n                        timeStr,\n                        startTime,\n                        type: transcriptMsg.type\n                    });\n                    return {\n                        time: timeStr,\n                        text: transcriptMsg.text ?? ''\n                    };\n                }\n            }[\"useAppState.useEffect.transcriptEntries\"]);\n            console.log('📝 [逐字稿更新] 轉換完成:', {\n                entriesCount: transcriptEntries.length,\n                entries: transcriptEntries,\n                firstEntry: transcriptEntries[0]?.text?.substring(0, 30) + '...',\n                appDataBefore: appData.transcriptEntries\n            });\n            setAppData({\n                \"useAppState.useEffect\": (prev)=>{\n                    console.log('📝 [逐字稿更新] setAppData 執行:', {\n                        prevTranscriptEntries: prev.transcriptEntries,\n                        newTranscriptEntries: transcriptEntries,\n                        isChanged: prev.transcriptEntries !== transcriptEntries\n                    });\n                    return {\n                        ...prev,\n                        transcriptEntries\n                    };\n                }\n            }[\"useAppState.useEffect\"]);\n        }\n    }[\"useAppState.useEffect\"], [\n        recording.transcripts\n    ]);\n    // 監聽轉錄完成，自動轉為 finished 狀態\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            const currentCompleted = transcript.isCompleted;\n            const wasCompleted = prevTranscriptCompletedRef.current;\n            // 只在轉錄狀態從 false 變為 true 時處理\n            if (currentCompleted && !wasCompleted && prevStateRef.current === \"processing\") {\n                console.log('🔄 [轉錄完成] 轉錄完成，轉為 finished 狀態');\n                setAppData({\n                    \"useAppState.useEffect\": (prev)=>{\n                        const newState = \"finished\";\n                        prevStateRef.current = newState;\n                        return {\n                            ...prev,\n                            state: newState\n                        };\n                    }\n                }[\"useAppState.useEffect\"]);\n                // 完成會話\n                if (session.currentSession) {\n                    session.finishSession().catch(console.error);\n                }\n            }\n            prevTranscriptCompletedRef.current = currentCompleted;\n        }\n    }[\"useAppState.useEffect\"], [\n        transcript.isCompleted,\n        session.currentSession,\n        session.finishSession\n    ]);\n    // 監聽錄音和轉錄錯誤，處理錯誤狀態\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAppState.useEffect\": ()=>{\n            const recordingError = recording.error;\n            const transcriptError = transcript.error;\n            const prevErrors = prevErrorStateRef.current;\n            // 只在錯誤狀態真正改變時處理（避免重複處理同樣的錯誤）\n            if (recordingError !== prevErrors.recording || transcriptError !== prevErrors.transcript) {\n                if (recordingError || transcriptError) {\n                    console.log('🚨 [錯誤處理] 檢測到錯誤:', {\n                        recordingError,\n                        transcriptError,\n                        currentState: prevStateRef.current,\n                        sessionId: session.currentSession?.id\n                    });\n                    const currentState = prevStateRef.current;\n                    // 如果是錄音相關錯誤，停止錄音並回到預設狀態\n                    if (currentState === \"recording_waiting\" || currentState === \"recording_active\") {\n                        console.log('🚨 [錯誤處理] 錄音狀態錯誤，停止錄音並回到預設狀態');\n                        // 停止錄音\n                        recording.stopRecording();\n                        // 清理連線\n                        transcript.disconnect();\n                        // 回到預設狀態\n                        setAppData({\n                            \"useAppState.useEffect\": (prev)=>{\n                                prevStateRef.current = \"default\";\n                                return {\n                                    ...prev,\n                                    state: \"default\"\n                                };\n                            }\n                        }[\"useAppState.useEffect\"]);\n                        // 顯示錯誤訊息\n                        const errorMessage = recordingError || transcriptError || '錄音或轉錄過程中發生錯誤';\n                        toast({\n                            title: '錄音錯誤',\n                            description: errorMessage,\n                            variant: 'destructive'\n                        });\n                    }\n                    // 如果是處理狀態的錯誤，也回到預設狀態\n                    if (currentState === \"processing\") {\n                        console.log('🚨 [錯誤處理] 處理狀態錯誤，回到預設狀態');\n                        setAppData({\n                            \"useAppState.useEffect\": (prev)=>{\n                                prevStateRef.current = \"default\";\n                                return {\n                                    ...prev,\n                                    state: \"default\"\n                                };\n                            }\n                        }[\"useAppState.useEffect\"]);\n                        const errorMessage = transcriptError || recordingError || '處理轉錄過程中發生錯誤';\n                        toast({\n                            title: '處理錯誤',\n                            description: errorMessage,\n                            variant: 'destructive'\n                        });\n                    }\n                }\n                // 更新錯誤狀態追蹤\n                prevErrorStateRef.current = {\n                    recording: recordingError,\n                    transcript: transcriptError\n                };\n            }\n        }\n    }[\"useAppState.useEffect\"], [\n        recording.error,\n        transcript.error,\n        session.currentSession,\n        recording,\n        transcript,\n        toast\n    ]);\n    // 建立純筆記會話\n    const createNoteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[createNoteSession]\": async (title)=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                const newSession = await session.createNoteSession(title);\n                if (newSession) {\n                    // 載入筆記內容\n                    await notes.loadNote(newSession.id);\n                    // 清除本地草稿\n                    localStorage.removeItem('draft_note');\n                    console.log('✅ 純筆記會話建立成功');\n                    toast({\n                        title: '筆記會話已建立',\n                        description: `會話 \"${title}\" 建立成功`\n                    });\n                }\n            } catch (err) {\n                // 特別處理會話衝突錯誤\n                if (err instanceof Error && err.message.includes('檢測到活躍會話衝突')) {\n                    const conflictMsg = '偵測到會話衝突，請重新整理頁面後再試';\n                    console.error(\"🎤 startRecording: 會話衝突錯誤:\", err.message);\n                    setError(conflictMsg);\n                    toast({\n                        title: '會話衝突',\n                        description: '目前已有活躍會話，請重新整理頁面後再試，或等待當前會話結束',\n                        variant: 'destructive'\n                    });\n                    return;\n                }\n                const msg = err instanceof Error ? err.message : '開始錄音失敗';\n                console.error(\"🎤 startRecording: 流程中發生錯誤:\", msg);\n                setError(msg);\n                toast({\n                    title: '錄音失敗',\n                    description: msg,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n                console.log(\"🎤 startRecording: 流程結束\");\n            }\n        }\n    }[\"useAppState.useCallback[createNoteSession]\"], [\n        session,\n        recording,\n        transcript,\n        appData.editorContent,\n        toast\n    ]);\n    // 建立錄音會話\n    const createRecordingSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[createRecordingSession]\": async (title)=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                const newSession = await session.createRecordingSession(title, appData.editorContent);\n                if (newSession) {\n                    // 載入筆記內容\n                    await notes.loadNote(newSession.id);\n                    // 清除本地草稿\n                    localStorage.removeItem('draft_note');\n                    console.log('✅ 錄音會話建立成功');\n                    toast({\n                        title: '錄音會話已建立',\n                        description: `會話 \"${title}\" 建立成功`\n                    });\n                }\n            } catch (err) {\n                // 特別處理會話衝突錯誤\n                if (err instanceof Error && err.message.includes('檢測到活躍會話衝突')) {\n                    const conflictMsg = '偵測到會話衝突，請重新整理頁面後再試';\n                    console.error(\"🎤 createRecordingSession: 會話衝突錯誤:\", err.message);\n                    setError(conflictMsg);\n                    toast({\n                        title: '會話衝突',\n                        description: '目前已有活躍會話，請重新整理頁面後再試，或等待當前會話結束',\n                        variant: 'destructive'\n                    });\n                    return;\n                }\n                const errorMessage = err instanceof Error ? err.message : '建立錄音會話失敗';\n                setError(errorMessage);\n                console.error('❌ 建立錄音會話失敗:', err);\n                toast({\n                    title: '建立失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useAppState.useCallback[createRecordingSession]\"], [\n        session,\n        notes,\n        toast,\n        appData.editorContent\n    ]);\n    // 開始錄音 - 支援四狀態流程\n    const startRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[startRecording]\": async (title)=>{\n            console.log(\"🎤 startRecording: 流程開始\");\n            setIsLoading(true);\n            try {\n                // 先檢查是否有活躍會話，確保前端狀態與後端同步\n                console.log(\"🎤 startRecording: 檢查活躍會話狀態\");\n                const latestActiveSession = await session.checkActiveSession();\n                let sessionToRecord = latestActiveSession || session.currentSession;\n                console.log(\"🎤 startRecording: 會話狀態檢查結果:\", {\n                    latestActiveSession: latestActiveSession?.id,\n                    currentSession: session.currentSession?.id,\n                    finalSessionToUse: sessionToRecord?.id\n                });\n                if (latestActiveSession && !session.currentSession) {\n                    console.log(\"🎤 startRecording: 檢測到活躍會話，同步前端狀態\");\n                }\n                if (!sessionToRecord) {\n                    console.log(\"🎤 startRecording: 沒有 session，建立新的錄音 session\");\n                    const newSession = await session.createRecordingSession(title, appData.editorContent);\n                    if (!newSession) {\n                        console.error(\"🎤 startRecording: 建立 session 失敗，回傳值為 null\");\n                        throw new Error('無法建立新的錄音會話');\n                    }\n                    console.log(\"🎤 startRecording: Session 建立成功:\", newSession);\n                    sessionToRecord = newSession;\n                    localStorage.removeItem('draft_note');\n                } else if (sessionToRecord.type === 'note_only') {\n                    console.log(\"🎤 startRecording: 偵測到 note_only session，進行升級\");\n                    const upgradedSession = await session.upgradeToRecording();\n                    if (!upgradedSession) {\n                        console.error(\"🎤 startRecording: 升級 session 失敗，回傳值為 null\");\n                        throw new Error('無法升級會話');\n                    }\n                    console.log(\"🎤 startRecording: Session 升級成功:\", upgradedSession);\n                    sessionToRecord = upgradedSession;\n                } else if (sessionToRecord.type === 'recording') {\n                    console.log(\"🎤 startRecording: 使用現有的錄音會話:\", sessionToRecord.id);\n                }\n                console.log(\"🎤 startRecording: 準備呼叫 recording.startRecording\");\n                // recording.startRecording 使用 TranscriptManager，統一管理逐字稿連接\n                await recording.startRecording(sessionToRecord.id);\n                console.log(\"🎤 startRecording: recording.startRecording 呼叫完畢\");\n                console.log(\"🎤 startRecording: 跳過 transcript.connect，避免雙重監聽器\");\n                // 移除重複連接：useRecording 已經透過 TranscriptManager 連接逐字稿\n                // 避免 useTranscript 和 useRecording 同時添加監聽器導致競爭條件\n                console.log(\"🎤 startRecording: 逐字稿將由 useRecording hook 統一管理\");\n                toast({\n                    title: '錄音開始'\n                });\n            } catch (err) {\n                // 特別處理會話衝突錯誤\n                if (err instanceof Error && err.message.includes('檢測到活躍會話衝突')) {\n                    const conflictMsg = '偵測到會話衝突，請重新整理頁面後再試';\n                    console.error(\"🎤 startRecording: 會話衝突錯誤:\", err.message);\n                    setError(conflictMsg);\n                    toast({\n                        title: '會話衝突',\n                        description: '目前已有活躍會話，請重新整理頁面後再試，或等待當前會話結束',\n                        variant: 'destructive'\n                    });\n                    return;\n                }\n                const msg = err instanceof Error ? err.message : '開始錄音失敗';\n                console.error(\"🎤 startRecording: 流程中發生錯誤:\", msg);\n                setError(msg);\n                toast({\n                    title: '錄音失敗',\n                    description: msg,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n                console.log(\"🎤 startRecording: 流程結束\");\n            }\n        }\n    }[\"useAppState.useCallback[startRecording]\"], [\n        session,\n        recording,\n        transcript,\n        appData.editorContent,\n        toast\n    ]);\n    // 升級會話為錄音模式\n    const upgradeToRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[upgradeToRecording]\": async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                const updatedSession = await session.upgradeToRecording();\n                if (updatedSession) {\n                    console.log('✅ 會話升級為錄音模式成功');\n                    toast({\n                        title: '升級成功',\n                        description: '會話已升級為錄音模式'\n                    });\n                }\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '升級會話失敗';\n                setError(errorMessage);\n                console.error('❌ 升級會話失敗:', err);\n                toast({\n                    title: '升級失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useAppState.useCallback[upgradeToRecording]\"], [\n        session,\n        toast\n    ]);\n    // 停止錄音 - 自動轉為 processing 狀態\n    const stopRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[stopRecording]\": async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                await recording.stopRecording();\n                // 斷開 transcript 連接\n                transcript.disconnect();\n                // 狀態轉為 processing\n                setAppData({\n                    \"useAppState.useCallback[stopRecording]\": (prev)=>({\n                            ...prev,\n                            state: \"processing\"\n                        })\n                }[\"useAppState.useCallback[stopRecording]\"]);\n                console.log('✅ 錄音停止，開始處理逐字稿');\n                toast({\n                    title: '處理中',\n                    description: '正在處理錄音內容，請稍候...'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '停止錄音失敗';\n                setError(errorMessage);\n                console.error('❌ 停止錄音失敗:', err);\n                toast({\n                    title: '停止失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useAppState.useCallback[stopRecording]\"], [\n        recording,\n        toast\n    ]);\n    // 完成會話\n    const finishSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[finishSession]\": async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                await session.finishSession();\n                console.log('✅ 會話完成');\n                toast({\n                    title: '會話完成',\n                    description: '您可以匯出筆記或開始新的筆記'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '完成會話失敗';\n                setError(errorMessage);\n                console.error('❌ 完成會話失敗:', err);\n                toast({\n                    title: '完成失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useAppState.useCallback[finishSession]\"], [\n        session,\n        toast\n    ]);\n    // 開新筆記 - 清空當前資料，狀態回到 default\n    const newNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[newNote]\": async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                // 如果有活躍會話，先刪除它\n                if (session.currentSession) {\n                    console.log('🗑️ 刪除當前活躍會話:', session.currentSession.id);\n                    await session.deleteSession();\n                    console.log('✅ 會話刪除成功');\n                }\n                // 清空當前資料\n                setAppData({\n                    state: \"default\",\n                    transcriptEntries: [],\n                    editorContent: \"\",\n                    isRecording: false,\n                    recordingTime: 0\n                });\n                // 清除錄音和逐字稿狀態\n                recording.clearTranscripts();\n                transcript.clearTranscripts();\n                notes.clearNote();\n                // 清除本地草稿\n                localStorage.removeItem('draft_note');\n                console.log('🔄 已開始新筆記');\n                toast({\n                    title: '新筆記',\n                    description: '已清空內容，可以開始新的筆記'\n                });\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '開始新筆記失敗';\n                setError(errorMessage);\n                console.error('❌ 開始新筆記失敗:', err);\n                toast({\n                    title: '操作失敗',\n                    description: errorMessage,\n                    variant: 'destructive'\n                });\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useAppState.useCallback[newNote]\"], [\n        session,\n        recording,\n        transcript,\n        notes,\n        toast\n    ]);\n    // 自動儲存筆記內容到本地草稿\n    const saveLocalDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAppState.useCallback[saveLocalDraft]\": (content)=>{\n            if (!session.currentSession && content.trim()) {\n                localStorage.setItem('draft_note', content);\n            }\n        }\n    }[\"useAppState.useCallback[saveLocalDraft]\"], [\n        session.currentSession\n    ]);\n    return {\n        // 應用狀態\n        appData,\n        isLoading,\n        error,\n        // 會話管理\n        createNoteSession,\n        createRecordingSession,\n        upgradeToRecording,\n        finishSession,\n        newNote,\n        // 錄音控制\n        startRecording,\n        stopRecording,\n        // 本地草稿\n        saveLocalDraft,\n        // 外部狀態\n        session: session.currentSession,\n        sessionLoading: session.isLoading,\n        sessionError: session.error,\n        // 錄音狀態\n        recordingError: recording.error,\n        // 逐字稿狀態\n        transcriptConnected: transcript.isConnected,\n        transcriptError: transcript.error,\n        transcriptAutoScroll: transcript.autoScrollEnabled,\n        enableAutoScroll: transcript.enableAutoScroll,\n        disableAutoScroll: transcript.disableAutoScroll,\n        scrollToLatest: transcript.scrollToLatest\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2UtYXBwLXN0YXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OzsyRkFFZ0U7QUFFdEI7QUFDSTtBQUNSO0FBQ1U7QUFFSTtBQUVwRCxZQUFZO0FBQ1osTUFBTVMsNEJBQTRCLENBQ2hDQyxRQUNBQyxNQUNBQyxhQUNBQztJQUVBLE1BQU1DLFlBQVlDLEtBQUtDLEdBQUc7SUFDMUIsTUFBTUMsZUFBZSxJQUFJRixPQUFPRyxXQUFXO0lBRTNDQyxRQUFRQyxHQUFHLENBQUMsMEJBQTBCO1FBQ3BDVjtRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBRztRQUNBSSxNQUFNO0lBQ1I7SUFFQSxJQUFJQztJQUVKLGlCQUFpQjtJQUNqQixPQUFRWjtRQUNOLEtBQUs7WUFDSFksY0FBYztZQUNkSCxRQUFRQyxHQUFHLENBQUM7WUFDWjtRQUNGLEtBQUs7WUFDSCxJQUFJVCxTQUFTLGFBQWE7Z0JBQ3hCLElBQUksQ0FBQ0MsYUFBYTtvQkFDaEJVLGNBQWM7b0JBQ2RILFFBQVFDLEdBQUcsQ0FBQyxzRUFBc0U7d0JBQ2hGTjt3QkFDQVMsUUFBUTtvQkFDVjtnQkFDRixPQUFPO29CQUNMLGlEQUFpRDtvQkFDakQsSUFBSVYsb0JBQW9CO3dCQUN0QlMsY0FBYzt3QkFDZEgsUUFBUUMsR0FBRyxDQUFDLENBQUMsNkRBQTZELENBQUMsRUFBRTs0QkFDM0VQOzRCQUNBQzs0QkFDQVUsU0FBUzt3QkFDWDtvQkFDRixPQUFPO3dCQUNMRixjQUFjO3dCQUNkSCxRQUFRQyxHQUFHLENBQUMsQ0FBQyx5Q0FBeUMsQ0FBQyxFQUFFOzRCQUN2RFA7NEJBQ0FDOzRCQUNBVyxTQUFTO3dCQUNYO29CQUNGO2dCQUNGO1lBQ0YsT0FBTztnQkFDTEgsY0FBYztnQkFDZEgsUUFBUUMsR0FBRyxDQUFDLDBEQUEwRDtvQkFDcEVUO29CQUNBRztnQkFDRjtZQUNGO1lBQ0E7UUFDRixLQUFLO1lBQ0hRLGNBQWM7WUFDZEgsUUFBUUMsR0FBRyxDQUFDLDRDQUE0QztnQkFBRU47WUFBVTtZQUNwRTtRQUNGLEtBQUs7WUFDSFEsY0FBYztZQUNkSCxRQUFRQyxHQUFHLENBQUMseUNBQXlDO2dCQUFFTjtZQUFVO1lBQ2pFO1FBQ0YsS0FBSztZQUNIUSxjQUFjLFVBQVUsWUFBWTs7WUFDcENILFFBQVFDLEdBQUcsQ0FBQyxvQ0FBb0M7Z0JBQzlDTjtnQkFDQVksVUFBVTtZQUNaO1lBQ0E7UUFDRjtZQUNFSixjQUFjO1lBQ2RILFFBQVFDLEdBQUcsQ0FBQyxzQ0FBc0M7Z0JBQ2hETyxlQUFlakI7Z0JBQ2ZJO1lBQ0Y7WUFDQTtJQUNKO0lBRUFLLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHVCQUF1QixFQUFFVixPQUFPLENBQUMsRUFBRUMsS0FBSyxJQUFJLEVBQUVXLGFBQWEsRUFBRTtRQUN4RU0sYUFBYTtZQUFFbEI7WUFBUUM7WUFBTUM7WUFBYUM7UUFBbUI7UUFDN0RnQixRQUFRUDtRQUNSUjtRQUNBZ0IsVUFBVWYsS0FBS0MsR0FBRyxLQUFLRjtJQUN6QjtJQUVBLE9BQU9RO0FBQ1Q7QUFFTyxTQUFTUztJQUNkLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHakMsK0NBQVFBLENBQVU7UUFDOUNrQyxPQUFPO1FBQ1BDLG1CQUFtQixFQUFFO1FBQ3JCQyxlQUFlO1FBQ2Z4QixhQUFhO1FBQ2J5QixlQUFlO1FBQ2ZDLFNBQVM7SUFDWDtJQUVBLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHeEMsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDeUMsT0FBT0MsU0FBUyxHQUFHMUMsK0NBQVFBLENBQWdCO0lBRWxELGdCQUFnQjtJQUNoQixNQUFNc0MsVUFBVWxDLHdEQUFVQTtJQUMxQixNQUFNdUMsWUFBWXRDLDREQUFZQTtJQUM5QixNQUFNdUMsUUFBUXRDLG9EQUFRQTtJQUN0QixNQUFNdUMsYUFBYXRDLDhEQUFhQTtJQUNoQyxNQUFNLEVBQUV1QyxLQUFLLEVBQUUsR0FBR3RDLGtFQUFRQTtJQUUxQiw0QkFBNEI7SUFDNUIsTUFBTXVDLGVBQWU1Qyw2Q0FBTUEsQ0FBVztJQUN0QyxNQUFNNkMsNkJBQTZCN0MsNkNBQU1BLENBQUM7SUFDMUMsTUFBTThDLG9CQUFvQjlDLDZDQUFNQSxDQUEwRDtRQUN4RndDLFdBQVc7UUFDWEUsWUFBWTtJQUNkO0lBRUEscUJBQXFCO0lBQ3JCLE1BQU1LLHNCQUFzQmpELGtEQUFXQTt3REFBQyxDQUN0Q2tELGdCQUNBdkMsYUFDQXdDO1lBRUEsTUFBTUMscUJBQXFCdEMsS0FBS0MsR0FBRztZQUVuQyxJQUFJLENBQUNtQyxnQkFBZ0I7Z0JBQ25CaEMsUUFBUUMsR0FBRyxDQUFDLDZCQUE2QjtvQkFBRWlDO2dCQUFtQjtnQkFDOUQsT0FBTztZQUNUO1lBRUEsK0JBQStCO1lBQy9CLE1BQU14QyxxQkFBcUJ5QyxNQUFNQyxPQUFPLENBQUNILGdCQUFnQkEsWUFBWUksTUFBTSxHQUFHO1lBRTlFckMsUUFBUUMsR0FBRyxDQUFDLHFCQUFxQjtnQkFDL0JxQyxXQUFXTixlQUFlTyxFQUFFO2dCQUM1QkMsZUFBZVIsZUFBZXpDLE1BQU07Z0JBQ3BDa0QsYUFBYVQsZUFBZXhDLElBQUk7Z0JBQ2hDQztnQkFDQWlELGlCQUFpQlQsWUFBWUksTUFBTTtnQkFDbkMzQztnQkFDQXdDO2dCQUNBUyxtQkFBbUJWLFlBQVlXLEtBQUssQ0FBQyxHQUFHLEdBQUdDLEdBQUc7b0VBQUNDLENBQUFBLElBQU07NEJBQ25EQyxNQUFNRCxFQUFFQyxJQUFJLEVBQUVDLFVBQVUsR0FBRyxNQUFNOzRCQUNqQ0MsWUFBWUgsRUFBRUcsVUFBVTs0QkFDeEJ6RCxNQUFNc0QsRUFBRXRELElBQUk7d0JBQ2Q7O2dCQUNBVSxNQUFNO1lBQ1I7WUFFQSxNQUFNZ0QsU0FBUzVELDBCQUNiMEMsZUFBZXpDLE1BQU0sRUFDckJ5QyxlQUFleEMsSUFBSSxFQUNuQkMsYUFDQUM7WUFHRk0sUUFBUUMsR0FBRyxDQUFDLG1CQUFtQjtnQkFDN0JrRCxPQUFPO29CQUNMWCxlQUFlUixlQUFlekMsTUFBTTtvQkFDcENrRCxhQUFhVCxlQUFleEMsSUFBSTtvQkFDaENDO29CQUNBQztnQkFDRjtnQkFDQWdCLFFBQVF3QztnQkFDUmhCO2dCQUNBa0IsbUJBQW1CeEQsS0FBS0MsR0FBRyxLQUFLcUM7WUFDbEM7WUFFQSxPQUFPZ0I7UUFDVDt1REFBRyxFQUFFO0lBRUwseUNBQXlDO0lBQ3pDbkUsZ0RBQVNBO2lDQUFDO1lBQ1IsTUFBTXNFLGdCQUFnQmxDLFFBQVFhLGNBQWM7WUFDNUMsTUFBTXNCLHNCQUFzQjFELEtBQUtDLEdBQUc7WUFFcENHLFFBQVFDLEdBQUcsQ0FBQyxvQ0FBb0M7Z0JBQzlDc0Qsa0JBQWtCLENBQUMsQ0FBQ0Y7Z0JBQ3BCZixXQUFXZSxlQUFlZDtnQkFDMUJDLGVBQWVhLGVBQWU5RDtnQkFDOUJrRCxhQUFhWSxlQUFlN0Q7Z0JBQzVCZ0Usc0JBQXNCaEMsVUFBVS9CLFdBQVc7Z0JBQzNDZ0Usb0JBQW9CNUMsUUFBUXBCLFdBQVc7Z0JBQ3ZDaUUsdUJBQXVCbEMsVUFBVS9CLFdBQVcsS0FBS29CLFFBQVFwQixXQUFXO2dCQUNwRWlELGlCQUFpQmhCLFdBQVdPLFdBQVcsQ0FBQ0ksTUFBTTtnQkFDOUNzQiwwQkFBMEJuQyxVQUFVUyxXQUFXLENBQUNJLE1BQU07Z0JBQ3REdUIsaUJBQWlCaEMsYUFBYWlDLE9BQU87Z0JBQ3JDUDtnQkFDQXBELE1BQU07WUFDUjtZQUVBLElBQUltRCxlQUFlO2dCQUNqQixtQ0FBbUM7Z0JBQ25DLE1BQU1TLG9CQUFvQnRDLFVBQVVTLFdBQVc7Z0JBQy9DLE1BQU12QyxxQkFBcUJ5QyxNQUFNQyxPQUFPLENBQUMwQixzQkFBc0JBLGtCQUFrQnpCLE1BQU0sR0FBRztnQkFFMUZyQyxRQUFRQyxHQUFHLENBQUMsNkJBQTZCO29CQUN2QzBELDBCQUEwQkcsa0JBQWtCekIsTUFBTTtvQkFDbEQzQztvQkFDQXFFLHNCQUFzQkQsaUJBQWlCLENBQUNBLGtCQUFrQnpCLE1BQU0sR0FBRyxFQUFFLEVBQUVZO29CQUN2RWUsc0JBQXNCRixpQkFBaUIsQ0FBQ0Esa0JBQWtCekIsTUFBTSxHQUFHLEVBQUUsRUFBRVUsTUFBTUMsVUFBVSxHQUFHLE1BQU07b0JBQ2hHTTtvQkFDQXBELE1BQU07Z0JBQ1I7Z0JBRUEsMERBQTBEO2dCQUMxRCxxQkFBcUI7Z0JBQ3JCLE1BQU0rRCxnQkFBZ0JsQyxvQkFDcEJzQixlQUNBN0IsVUFBVS9CLFdBQVcsRUFDckJxRTtnQkFHRixpQ0FBaUM7Z0JBQ2pDLE1BQU1JLHlCQUF5QnJELFFBQVFwQixXQUFXLEtBQUsrQixVQUFVL0IsV0FBVztnQkFDNUUsTUFBTTBFLG1CQUFtQkYsa0JBQWtCckMsYUFBYWlDLE9BQU87Z0JBRS9ELElBQUlLLDBCQUEwQkMsa0JBQWtCO29CQUM5Q25FLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEVBQUU7d0JBQy9CaUU7d0JBQ0FDO3dCQUNBVixvQkFBb0I1QyxRQUFRcEIsV0FBVzt3QkFDdkMrRCxzQkFBc0JoQyxVQUFVL0IsV0FBVzt3QkFDM0MyRSxlQUFleEMsYUFBYWlDLE9BQU87d0JBQ25DUSxVQUFVSjt3QkFDVkssc0JBQXNCMUUsS0FBS0MsR0FBRzt3QkFDOUJ1RCxtQkFBbUJ4RCxLQUFLQyxHQUFHLEtBQUt5RDt3QkFDaENpQixlQUFlO29CQUNqQjtvQkFFQXpEO2lEQUFXMEQsQ0FBQUEsT0FBUztnQ0FDbEIsR0FBR0EsSUFBSTtnQ0FDUHpELE9BQU9rRDtnQ0FDUHhFLGFBQWErQixVQUFVL0IsV0FBVzs0QkFDcEM7O29CQUVBbUMsYUFBYWlDLE9BQU8sR0FBR0k7Z0JBQ3pCLE9BQU87b0JBQ0xqRSxRQUFRQyxHQUFHLENBQUMseUJBQXlCO3dCQUNuQ3dFLGNBQWNSO3dCQUNkeEUsYUFBYStCLFVBQVUvQixXQUFXO3dCQUNsQ2lGLGVBQWU5RSxLQUFLQyxHQUFHLEtBQUt5RDtvQkFDOUI7Z0JBQ0Y7WUFDRjtRQUNGO2dDQUFHO1FBQUNuQyxRQUFRYSxjQUFjO1FBQUVSLFVBQVUvQixXQUFXO1FBQUUrQixVQUFVUyxXQUFXO1FBQUVGO0tBQW9CO0lBQzlGLG9EQUFvRDtJQUVwRCx3QkFBd0I7SUFDeEJoRCxnREFBU0E7aUNBQUM7WUFDUixJQUFJNEYsWUFBWTtZQUVoQixNQUFNQzt1REFBZ0I7b0JBQ3BCNUUsUUFBUUMsR0FBRyxDQUFDO29CQUNab0IsYUFBYTtvQkFFYixJQUFJO3dCQUNGLFlBQVk7d0JBQ1osTUFBTWdDLGdCQUFnQixNQUFNbEMsUUFBUTBELGtCQUFrQjt3QkFDdEQsSUFBSSxDQUFDRixXQUFXLFFBQU8sYUFBYTt3QkFFcEMsSUFBSXRCLGVBQWU7NEJBQ2pCLFNBQVM7NEJBQ1QsTUFBTTVCLE1BQU1xRCxRQUFRLENBQUN6QixjQUFjZCxFQUFFO3dCQUN2QyxPQUFPOzRCQUNMLFlBQVk7NEJBQ1osTUFBTXdDLGVBQWVDLGFBQWFDLE9BQU8sQ0FBQzs0QkFDMUMsSUFBSUYsY0FBYztnQ0FDaEJqRTsyRUFBVzBELENBQUFBLE9BQVM7NENBQUUsR0FBR0EsSUFBSTs0Q0FBRXZELGVBQWU4RDt3Q0FBYTs7Z0NBQzNEL0UsUUFBUUMsR0FBRyxDQUFDOzRCQUNkO3dCQUNGO29CQUNGLEVBQUUsT0FBT3FCLE9BQU87d0JBQ2QsSUFBSSxDQUFDcUQsV0FBVyxRQUFPLGFBQWE7d0JBRXBDLDJCQUEyQjt3QkFDM0IsSUFBSXJELGlCQUFpQjRELFNBQVM1RCxNQUFNNkQsT0FBTyxDQUFDQyxRQUFRLENBQUMsa0JBQWtCOzRCQUNyRXBGLFFBQVFxRixJQUFJLENBQUMsZ0NBQWdDL0QsTUFBTTZELE9BQU87NEJBRTFELFlBQVk7NEJBQ1osTUFBTUosZUFBZUMsYUFBYUMsT0FBTyxDQUFDOzRCQUMxQyxJQUFJRixjQUFjO2dDQUNoQmpFOzJFQUFXMEQsQ0FBQUEsT0FBUzs0Q0FBRSxHQUFHQSxJQUFJOzRDQUFFdkQsZUFBZThEO3dDQUFhOztnQ0FDM0QvRSxRQUFRQyxHQUFHLENBQUM7NEJBQ2Q7d0JBQ0YsT0FBTzs0QkFDTEQsUUFBUXNCLEtBQUssQ0FBQyxZQUFZQTs0QkFDMUJDLFNBQVNELGlCQUFpQjRELFFBQVE1RCxNQUFNNkQsT0FBTyxHQUFHO3dCQUNwRDtvQkFDRixTQUFVO3dCQUNSLElBQUlSLFdBQVc7NEJBQ2J0RCxhQUFhO3dCQUNmO29CQUNGO2dCQUNGOztZQUVBdUQ7WUFFQTt5Q0FBTztvQkFDTEQsWUFBWTtnQkFDZDs7UUFDRjtnQ0FBRyxFQUFFLEVBQUUsbUJBQW1COztJQUUxQixtQkFBbUI7SUFDbkI1RixnREFBU0E7aUNBQUM7WUFDUmlCLFFBQVFDLEdBQUcsQ0FBQyx1Q0FBdUM7Z0JBQ2pEcUYsTUFBTXpFLFFBQVFwQixXQUFXO2dCQUN6QjhGLElBQUkvRCxVQUFVL0IsV0FBVztnQkFDekJ5QixlQUFlTSxVQUFVTixhQUFhO2dCQUN0Q3ZCLFdBQVdDLEtBQUtDLEdBQUc7Z0JBQ25CMkYsYUFBYTNFLFFBQVFwQixXQUFXLEtBQUsrQixVQUFVL0IsV0FBVztZQUM1RDtZQUVBLGlCQUFpQjtZQUNqQnFCO3lDQUFXMEQsQ0FBQUE7b0JBQ1QsTUFBTWdCLGNBQWNoQixLQUFLL0UsV0FBVyxLQUFLK0IsVUFBVS9CLFdBQVcsSUFBSStFLEtBQUt0RCxhQUFhLEtBQUtNLFVBQVVOLGFBQWE7b0JBRWhILElBQUlzRSxhQUFhO3dCQUNmeEYsUUFBUUMsR0FBRyxDQUFDLHVCQUF1Qjs0QkFDakN3RixpQkFBaUJqQixLQUFLL0UsV0FBVzs0QkFDakNpRyxnQkFBZ0JsRSxVQUFVL0IsV0FBVzs0QkFDckNrRyxtQkFBbUJuQixLQUFLdEQsYUFBYTs0QkFDckMwRSxrQkFBa0JwRSxVQUFVTixhQUFhO3dCQUMzQztvQkFDRjtvQkFFQSxPQUFPO3dCQUNMLEdBQUdzRCxJQUFJO3dCQUNQL0UsYUFBYStCLFVBQVUvQixXQUFXO3dCQUNsQ3lCLGVBQWVNLFVBQVVOLGFBQWE7b0JBQ3hDO2dCQUNGOztRQUNGO2dDQUFHO1FBQUNNLFVBQVUvQixXQUFXO1FBQUUrQixVQUFVTixhQUFhO0tBQUM7SUFFbkQsNkJBQTZCO0lBRTdCLFNBQVM7SUFDVG5DLGdEQUFTQTtpQ0FBQztZQUNSK0I7eUNBQVcwRCxDQUFBQSxPQUFTO3dCQUNsQixHQUFHQSxJQUFJO3dCQUNQdkQsZUFBZVEsTUFBTW9FLFdBQVc7b0JBQ2xDOztRQUNGO2dDQUFHO1FBQUNwRSxNQUFNb0UsV0FBVztLQUFDO0lBRXRCLHVDQUF1QztJQUN2QzlHLGdEQUFTQTtpQ0FBQztZQUNSaUIsUUFBUUMsR0FBRyxDQUFDLDRCQUE0QjtnQkFDdEMwRCwwQkFBMEJuQyxVQUFVUyxXQUFXLENBQUNJLE1BQU07Z0JBQ3REeUQsc0JBQXNCdEUsVUFBVVMsV0FBVztnQkFDM0N3QyxjQUFjNUQsUUFBUUUsS0FBSztnQkFDM0J0QixhQUFhb0IsUUFBUXBCLFdBQVc7Z0JBQ2hDUyxNQUFNO1lBQ1I7WUFFQSxNQUFNYyxvQkFBb0JRLFVBQVVTLFdBQVcsQ0FBQ1ksR0FBRzsyREFBQyxDQUFDa0Q7b0JBQ25ELGlDQUFpQztvQkFDakMsTUFBTUMsWUFBWUQsY0FBYzlDLFVBQVUsSUFBSTtvQkFDOUMsTUFBTWdELFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0gsWUFBWTtvQkFDdkMsTUFBTUksVUFBVUYsS0FBS0MsS0FBSyxDQUFDSCxZQUFZO29CQUN2QyxNQUFNSyxVQUFVLEdBQUdKLFFBQVFLLFFBQVEsR0FBR0MsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUVILFFBQVFFLFFBQVEsR0FBR0MsUUFBUSxDQUFDLEdBQUcsTUFBTTtvQkFFL0Z2RyxRQUFRQyxHQUFHLENBQUMsb0JBQW9CO3dCQUM5QjhDLE1BQU1nRCxjQUFjaEQsSUFBSTt3QkFDeEJzRDt3QkFDQUw7d0JBQ0F4RyxNQUFNdUcsY0FBY3ZHLElBQUk7b0JBQzFCO29CQUVBLE9BQU87d0JBQ0xnSCxNQUFNSDt3QkFDTnRELE1BQU1nRCxjQUFjaEQsSUFBSSxJQUFJO29CQUM5QjtnQkFDRjs7WUFFQS9DLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0I7Z0JBQzlCd0csY0FBY3pGLGtCQUFrQnFCLE1BQU07Z0JBQ3RDcUUsU0FBUzFGO2dCQUNUMkYsWUFBWTNGLGlCQUFpQixDQUFDLEVBQUUsRUFBRStCLE1BQU1DLFVBQVUsR0FBRyxNQUFNO2dCQUMzRDRELGVBQWUvRixRQUFRRyxpQkFBaUI7WUFDMUM7WUFFQUY7eUNBQVcwRCxDQUFBQTtvQkFDVHhFLFFBQVFDLEdBQUcsQ0FBQyw2QkFBNkI7d0JBQ3ZDNEcsdUJBQXVCckMsS0FBS3hELGlCQUFpQjt3QkFDN0M4RixzQkFBc0I5Rjt3QkFDdEIrRixXQUFXdkMsS0FBS3hELGlCQUFpQixLQUFLQTtvQkFDeEM7b0JBQ0EsT0FBTzt3QkFDTCxHQUFHd0QsSUFBSTt3QkFDUHhEO29CQUNGO2dCQUNGOztRQUNGO2dDQUFHO1FBQUNRLFVBQVVTLFdBQVc7S0FBQztJQUUxQiwwQkFBMEI7SUFDMUJsRCxnREFBU0E7aUNBQUM7WUFDUixNQUFNaUksbUJBQW1CdEYsV0FBV3VGLFdBQVc7WUFDL0MsTUFBTUMsZUFBZXJGLDJCQUEyQmdDLE9BQU87WUFFdkQsNEJBQTRCO1lBQzVCLElBQUltRCxvQkFBb0IsQ0FBQ0UsZ0JBQWdCdEYsYUFBYWlDLE9BQU8sS0FBSyxjQUFjO2dCQUM5RTdELFFBQVFDLEdBQUcsQ0FBQztnQkFFWmE7NkNBQVcwRCxDQUFBQTt3QkFDVCxNQUFNSCxXQUFXO3dCQUNqQnpDLGFBQWFpQyxPQUFPLEdBQUdRO3dCQUN2QixPQUFPOzRCQUFFLEdBQUdHLElBQUk7NEJBQUV6RCxPQUFPc0Q7d0JBQVM7b0JBQ3BDOztnQkFFQSxPQUFPO2dCQUNQLElBQUlsRCxRQUFRYSxjQUFjLEVBQUU7b0JBQzFCYixRQUFRZ0csYUFBYSxHQUFHQyxLQUFLLENBQUNwSCxRQUFRc0IsS0FBSztnQkFDN0M7WUFDRjtZQUVBTywyQkFBMkJnQyxPQUFPLEdBQUdtRDtRQUN2QztnQ0FBRztRQUNEdEYsV0FBV3VGLFdBQVc7UUFDdEI5RixRQUFRYSxjQUFjO1FBQ3RCYixRQUFRZ0csYUFBYTtLQUN0QjtJQUVELG1CQUFtQjtJQUNuQnBJLGdEQUFTQTtpQ0FBQztZQUNSLE1BQU1zSSxpQkFBaUI3RixVQUFVRixLQUFLO1lBQ3RDLE1BQU1nRyxrQkFBa0I1RixXQUFXSixLQUFLO1lBQ3hDLE1BQU1pRyxhQUFhekYsa0JBQWtCK0IsT0FBTztZQUU1Qyw2QkFBNkI7WUFDN0IsSUFBSSxtQkFBb0IwRCxXQUFXL0YsU0FBUyxJQUFNOEYsb0JBQW9CQyxXQUFXN0YsVUFBVSxFQUFHO2dCQUM1RixJQUFJMkYsa0JBQWtCQyxpQkFBaUI7b0JBQ3JDdEgsUUFBUUMsR0FBRyxDQUFDLG9CQUFvQjt3QkFDOUJvSDt3QkFDQUM7d0JBQ0E3QyxjQUFjN0MsYUFBYWlDLE9BQU87d0JBQ2xDdkIsV0FBV25CLFFBQVFhLGNBQWMsRUFBRU87b0JBQ3JDO29CQUVBLE1BQU1rQyxlQUFlN0MsYUFBYWlDLE9BQU87b0JBRXpDLHdCQUF3QjtvQkFDeEIsSUFBSVksaUJBQWlCLHVCQUF1QkEsaUJBQWlCLG9CQUFvQjt3QkFDL0V6RSxRQUFRQyxHQUFHLENBQUM7d0JBRVosT0FBTzt3QkFDUHVCLFVBQVVnRyxhQUFhO3dCQUV2QixPQUFPO3dCQUNQOUYsV0FBVytGLFVBQVU7d0JBRXJCLFNBQVM7d0JBQ1QzRztxREFBVzBELENBQUFBO2dDQUNUNUMsYUFBYWlDLE9BQU8sR0FBRztnQ0FDdkIsT0FBTztvQ0FBRSxHQUFHVyxJQUFJO29DQUFFekQsT0FBTztnQ0FBVTs0QkFDckM7O3dCQUVBLFNBQVM7d0JBQ1QsTUFBTTJHLGVBQWVMLGtCQUFrQkMsbUJBQW1CO3dCQUMxRDNGLE1BQU07NEJBQ0pnRyxPQUFPOzRCQUNQQyxhQUFhRjs0QkFDYkcsU0FBUzt3QkFDWDtvQkFDRjtvQkFFQSxxQkFBcUI7b0JBQ3JCLElBQUlwRCxpQkFBaUIsY0FBYzt3QkFDakN6RSxRQUFRQyxHQUFHLENBQUM7d0JBRVphO3FEQUFXMEQsQ0FBQUE7Z0NBQ1Q1QyxhQUFhaUMsT0FBTyxHQUFHO2dDQUN2QixPQUFPO29DQUFFLEdBQUdXLElBQUk7b0NBQUV6RCxPQUFPO2dDQUFVOzRCQUNyQzs7d0JBRUEsTUFBTTJHLGVBQWVKLG1CQUFtQkQsa0JBQWtCO3dCQUMxRDFGLE1BQU07NEJBQ0pnRyxPQUFPOzRCQUNQQyxhQUFhRjs0QkFDYkcsU0FBUzt3QkFDWDtvQkFDRjtnQkFDRjtnQkFFQSxXQUFXO2dCQUNYL0Ysa0JBQWtCK0IsT0FBTyxHQUFHO29CQUMxQnJDLFdBQVc2RjtvQkFDWDNGLFlBQVk0RjtnQkFDZDtZQUNGO1FBQ0Y7Z0NBQUc7UUFBQzlGLFVBQVVGLEtBQUs7UUFBRUksV0FBV0osS0FBSztRQUFFSCxRQUFRYSxjQUFjO1FBQUVSO1FBQVdFO1FBQVlDO0tBQU07SUFFNUYsVUFBVTtJQUNWLE1BQU1tRyxvQkFBb0JoSixrREFBV0E7c0RBQUMsT0FBTzZJO1lBQzNDdEcsYUFBYTtZQUNiRSxTQUFTO1lBRVQsSUFBSTtnQkFDRixNQUFNd0csYUFBYSxNQUFNNUcsUUFBUTJHLGlCQUFpQixDQUFDSDtnQkFDbkQsSUFBSUksWUFBWTtvQkFDZCxTQUFTO29CQUNULE1BQU10RyxNQUFNcUQsUUFBUSxDQUFDaUQsV0FBV3hGLEVBQUU7b0JBRWxDLFNBQVM7b0JBQ1R5QyxhQUFhZ0QsVUFBVSxDQUFDO29CQUV4QmhJLFFBQVFDLEdBQUcsQ0FBQztvQkFFWjBCLE1BQU07d0JBQ0pnRyxPQUFPO3dCQUNQQyxhQUFhLENBQUMsSUFBSSxFQUFFRCxNQUFNLE1BQU0sQ0FBQztvQkFDbkM7Z0JBQ0Y7WUFDRixFQUFFLE9BQU9NLEtBQUs7Z0JBQ1osYUFBYTtnQkFDYixJQUFJQSxlQUFlL0MsU0FBUytDLElBQUk5QyxPQUFPLENBQUNDLFFBQVEsQ0FBQyxjQUFjO29CQUM3RCxNQUFNOEMsY0FBYztvQkFDcEJsSSxRQUFRc0IsS0FBSyxDQUFDLDhCQUE4QjJHLElBQUk5QyxPQUFPO29CQUN2RDVELFNBQVMyRztvQkFDVHZHLE1BQU07d0JBQ0pnRyxPQUFPO3dCQUNQQyxhQUFhO3dCQUNiQyxTQUFTO29CQUNYO29CQUNBO2dCQUNGO2dCQUVBLE1BQU1NLE1BQU1GLGVBQWUvQyxRQUFRK0MsSUFBSTlDLE9BQU8sR0FBRztnQkFDakRuRixRQUFRc0IsS0FBSyxDQUFDLCtCQUErQjZHO2dCQUM3QzVHLFNBQVM0RztnQkFDVHhHLE1BQU07b0JBQUVnRyxPQUFPO29CQUFRQyxhQUFhTztvQkFBS04sU0FBUztnQkFBYztZQUNsRSxTQUFVO2dCQUNSeEcsYUFBYTtnQkFDYnJCLFFBQVFDLEdBQUcsQ0FBQztZQUNkO1FBQ0Y7cURBQUc7UUFBQ2tCO1FBQVNLO1FBQVdFO1FBQVliLFFBQVFJLGFBQWE7UUFBRVU7S0FBTTtJQUVqRSxTQUFTO0lBQ1QsTUFBTXlHLHlCQUF5QnRKLGtEQUFXQTsyREFBQyxPQUFPNkk7WUFDaER0RyxhQUFhO1lBQ2JFLFNBQVM7WUFFVCxJQUFJO2dCQUNGLE1BQU13RyxhQUFhLE1BQU01RyxRQUFRaUgsc0JBQXNCLENBQUNULE9BQU85RyxRQUFRSSxhQUFhO2dCQUNwRixJQUFJOEcsWUFBWTtvQkFDZCxTQUFTO29CQUNULE1BQU10RyxNQUFNcUQsUUFBUSxDQUFDaUQsV0FBV3hGLEVBQUU7b0JBRWxDLFNBQVM7b0JBQ1R5QyxhQUFhZ0QsVUFBVSxDQUFDO29CQUV4QmhJLFFBQVFDLEdBQUcsQ0FBQztvQkFFWjBCLE1BQU07d0JBQ0pnRyxPQUFPO3dCQUNQQyxhQUFhLENBQUMsSUFBSSxFQUFFRCxNQUFNLE1BQU0sQ0FBQztvQkFDbkM7Z0JBQ0Y7WUFDRixFQUFFLE9BQU9NLEtBQUs7Z0JBQ1osYUFBYTtnQkFDYixJQUFJQSxlQUFlL0MsU0FBUytDLElBQUk5QyxPQUFPLENBQUNDLFFBQVEsQ0FBQyxjQUFjO29CQUM3RCxNQUFNOEMsY0FBYztvQkFDcEJsSSxRQUFRc0IsS0FBSyxDQUFDLHNDQUFzQzJHLElBQUk5QyxPQUFPO29CQUMvRDVELFNBQVMyRztvQkFDVHZHLE1BQU07d0JBQ0pnRyxPQUFPO3dCQUNQQyxhQUFhO3dCQUNiQyxTQUFTO29CQUNYO29CQUNBO2dCQUNGO2dCQUVBLE1BQU1ILGVBQWVPLGVBQWUvQyxRQUFRK0MsSUFBSTlDLE9BQU8sR0FBRztnQkFDMUQ1RCxTQUFTbUc7Z0JBQ1QxSCxRQUFRc0IsS0FBSyxDQUFDLGVBQWUyRztnQkFFN0J0RyxNQUFNO29CQUNKZ0csT0FBTztvQkFDUEMsYUFBYUY7b0JBQ2JHLFNBQVM7Z0JBQ1g7WUFDRixTQUFVO2dCQUNSeEcsYUFBYTtZQUNmO1FBQ0Y7MERBQUc7UUFBQ0Y7UUFBU007UUFBT0U7UUFBT2QsUUFBUUksYUFBYTtLQUFDO0lBRWpELGlCQUFpQjtJQUNqQixNQUFNb0gsaUJBQWlCdkosa0RBQVdBO21EQUFDLE9BQU82STtZQUN4QzNILFFBQVFDLEdBQUcsQ0FBQztZQUNab0IsYUFBYTtZQUNiLElBQUk7Z0JBQ0YseUJBQXlCO2dCQUN6QnJCLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixNQUFNcUksc0JBQXNCLE1BQU1uSCxRQUFRMEQsa0JBQWtCO2dCQUU1RCxJQUFJMEQsa0JBQWtCRCx1QkFBdUJuSCxRQUFRYSxjQUFjO2dCQUNuRWhDLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0M7b0JBQzFDcUkscUJBQXFCQSxxQkFBcUIvRjtvQkFDMUNQLGdCQUFnQmIsUUFBUWEsY0FBYyxFQUFFTztvQkFDeENpRyxtQkFBbUJELGlCQUFpQmhHO2dCQUN0QztnQkFFQSxJQUFJK0YsdUJBQXVCLENBQUNuSCxRQUFRYSxjQUFjLEVBQUU7b0JBQ2xEaEMsUUFBUUMsR0FBRyxDQUFDO2dCQUNkO2dCQUVBLElBQUksQ0FBQ3NJLGlCQUFpQjtvQkFDcEJ2SSxRQUFRQyxHQUFHLENBQUM7b0JBQ1osTUFBTThILGFBQWEsTUFBTTVHLFFBQVFpSCxzQkFBc0IsQ0FBQ1QsT0FBTzlHLFFBQVFJLGFBQWE7b0JBQ3BGLElBQUksQ0FBQzhHLFlBQVk7d0JBQ2YvSCxRQUFRc0IsS0FBSyxDQUFDO3dCQUNkLE1BQU0sSUFBSTRELE1BQU07b0JBQ2xCO29CQUNBbEYsUUFBUUMsR0FBRyxDQUFDLG9DQUFvQzhIO29CQUNoRFEsa0JBQWtCUjtvQkFDbEIvQyxhQUFhZ0QsVUFBVSxDQUFDO2dCQUMxQixPQUFPLElBQUlPLGdCQUFnQi9JLElBQUksS0FBSyxhQUFhO29CQUMvQ1EsUUFBUUMsR0FBRyxDQUFDO29CQUNaLE1BQU13SSxrQkFBa0IsTUFBTXRILFFBQVF1SCxrQkFBa0I7b0JBQ3hELElBQUksQ0FBQ0QsaUJBQWlCO3dCQUNwQnpJLFFBQVFzQixLQUFLLENBQUM7d0JBQ2QsTUFBTSxJQUFJNEQsTUFBTTtvQkFDbEI7b0JBQ0FsRixRQUFRQyxHQUFHLENBQUMsb0NBQW9Dd0k7b0JBQ2hERixrQkFBa0JFO2dCQUNwQixPQUFPLElBQUlGLGdCQUFnQi9JLElBQUksS0FBSyxhQUFhO29CQUMvQ1EsUUFBUUMsR0FBRyxDQUFDLGlDQUFpQ3NJLGdCQUFnQmhHLEVBQUU7Z0JBQ2pFO2dCQUVBdkMsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLDBEQUEwRDtnQkFDMUQsTUFBTXVCLFVBQVU2RyxjQUFjLENBQUNFLGdCQUFnQmhHLEVBQUU7Z0JBQ2pEdkMsUUFBUUMsR0FBRyxDQUFDO2dCQUVaRCxRQUFRQyxHQUFHLENBQUM7Z0JBQ1osbURBQW1EO2dCQUNuRCxnREFBZ0Q7Z0JBQ2hERCxRQUFRQyxHQUFHLENBQUM7Z0JBRVowQixNQUFNO29CQUFFZ0csT0FBTztnQkFBTztZQUN4QixFQUFFLE9BQU9NLEtBQUs7Z0JBQ1osYUFBYTtnQkFDYixJQUFJQSxlQUFlL0MsU0FBUytDLElBQUk5QyxPQUFPLENBQUNDLFFBQVEsQ0FBQyxjQUFjO29CQUM3RCxNQUFNOEMsY0FBYztvQkFDcEJsSSxRQUFRc0IsS0FBSyxDQUFDLDhCQUE4QjJHLElBQUk5QyxPQUFPO29CQUN2RDVELFNBQVMyRztvQkFDVHZHLE1BQU07d0JBQ0pnRyxPQUFPO3dCQUNQQyxhQUFhO3dCQUNiQyxTQUFTO29CQUNYO29CQUNBO2dCQUNGO2dCQUVBLE1BQU1NLE1BQU1GLGVBQWUvQyxRQUFRK0MsSUFBSTlDLE9BQU8sR0FBRztnQkFDakRuRixRQUFRc0IsS0FBSyxDQUFDLCtCQUErQjZHO2dCQUM3QzVHLFNBQVM0RztnQkFDVHhHLE1BQU07b0JBQUVnRyxPQUFPO29CQUFRQyxhQUFhTztvQkFBS04sU0FBUztnQkFBYztZQUNsRSxTQUFVO2dCQUNSeEcsYUFBYTtnQkFDYnJCLFFBQVFDLEdBQUcsQ0FBQztZQUNkO1FBQ0Y7a0RBQUc7UUFBQ2tCO1FBQVNLO1FBQVdFO1FBQVliLFFBQVFJLGFBQWE7UUFBRVU7S0FBTTtJQUVqRSxZQUFZO0lBQ1osTUFBTStHLHFCQUFxQjVKLGtEQUFXQTt1REFBQztZQUNyQ3VDLGFBQWE7WUFDYkUsU0FBUztZQUVULElBQUk7Z0JBQ0YsTUFBTW9ILGlCQUFpQixNQUFNeEgsUUFBUXVILGtCQUFrQjtnQkFDdkQsSUFBSUMsZ0JBQWdCO29CQUNsQjNJLFFBQVFDLEdBQUcsQ0FBQztvQkFFWjBCLE1BQU07d0JBQ0pnRyxPQUFPO3dCQUNQQyxhQUFhO29CQUNmO2dCQUNGO1lBQ0YsRUFBRSxPQUFPSyxLQUFLO2dCQUNaLE1BQU1QLGVBQWVPLGVBQWUvQyxRQUFRK0MsSUFBSTlDLE9BQU8sR0FBRztnQkFDMUQ1RCxTQUFTbUc7Z0JBQ1QxSCxRQUFRc0IsS0FBSyxDQUFDLGFBQWEyRztnQkFFM0J0RyxNQUFNO29CQUNKZ0csT0FBTztvQkFDUEMsYUFBYUY7b0JBQ2JHLFNBQVM7Z0JBQ1g7WUFDRixTQUFVO2dCQUNSeEcsYUFBYTtZQUNmO1FBQ0Y7c0RBQUc7UUFBQ0Y7UUFBU1E7S0FBTTtJQUVuQiw0QkFBNEI7SUFDNUIsTUFBTTZGLGdCQUFnQjFJLGtEQUFXQTtrREFBQztZQUNoQ3VDLGFBQWE7WUFDYkUsU0FBUztZQUVULElBQUk7Z0JBQ0YsTUFBTUMsVUFBVWdHLGFBQWE7Z0JBRTdCLG1CQUFtQjtnQkFDbkI5RixXQUFXK0YsVUFBVTtnQkFFckIsa0JBQWtCO2dCQUNsQjNHOzhEQUFXMEQsQ0FBQUEsT0FBUzs0QkFBRSxHQUFHQSxJQUFJOzRCQUFFekQsT0FBTzt3QkFBYTs7Z0JBRW5EZixRQUFRQyxHQUFHLENBQUM7Z0JBRVowQixNQUFNO29CQUNKZ0csT0FBTztvQkFDUEMsYUFBYTtnQkFDZjtZQUNGLEVBQUUsT0FBT0ssS0FBSztnQkFDWixNQUFNUCxlQUFlTyxlQUFlL0MsUUFBUStDLElBQUk5QyxPQUFPLEdBQUc7Z0JBQzFENUQsU0FBU21HO2dCQUNUMUgsUUFBUXNCLEtBQUssQ0FBQyxhQUFhMkc7Z0JBRTNCdEcsTUFBTTtvQkFDSmdHLE9BQU87b0JBQ1BDLGFBQWFGO29CQUNiRyxTQUFTO2dCQUNYO1lBQ0YsU0FBVTtnQkFDUnhHLGFBQWE7WUFDZjtRQUNGO2lEQUFHO1FBQUNHO1FBQVdHO0tBQU07SUFFckIsT0FBTztJQUNQLE1BQU13RixnQkFBZ0JySSxrREFBV0E7a0RBQUM7WUFDaEN1QyxhQUFhO1lBQ2JFLFNBQVM7WUFFVCxJQUFJO2dCQUNGLE1BQU1KLFFBQVFnRyxhQUFhO2dCQUMzQm5ILFFBQVFDLEdBQUcsQ0FBQztnQkFFWjBCLE1BQU07b0JBQ0pnRyxPQUFPO29CQUNQQyxhQUFhO2dCQUNmO1lBQ0YsRUFBRSxPQUFPSyxLQUFLO2dCQUNaLE1BQU1QLGVBQWVPLGVBQWUvQyxRQUFRK0MsSUFBSTlDLE9BQU8sR0FBRztnQkFDMUQ1RCxTQUFTbUc7Z0JBQ1QxSCxRQUFRc0IsS0FBSyxDQUFDLGFBQWEyRztnQkFFM0J0RyxNQUFNO29CQUNKZ0csT0FBTztvQkFDUEMsYUFBYUY7b0JBQ2JHLFNBQVM7Z0JBQ1g7WUFDRixTQUFVO2dCQUNSeEcsYUFBYTtZQUNmO1FBQ0Y7aURBQUc7UUFBQ0Y7UUFBU1E7S0FBTTtJQUVuQiw2QkFBNkI7SUFDN0IsTUFBTWlILFVBQVU5SixrREFBV0E7NENBQUM7WUFDMUJ1QyxhQUFhO1lBQ2JFLFNBQVM7WUFFVCxJQUFJO2dCQUNGLGVBQWU7Z0JBQ2YsSUFBSUosUUFBUWEsY0FBYyxFQUFFO29CQUMxQmhDLFFBQVFDLEdBQUcsQ0FBQyxpQkFBaUJrQixRQUFRYSxjQUFjLENBQUNPLEVBQUU7b0JBQ3RELE1BQU1wQixRQUFRMEgsYUFBYTtvQkFDM0I3SSxRQUFRQyxHQUFHLENBQUM7Z0JBQ2Q7Z0JBRUEsU0FBUztnQkFDVGEsV0FBVztvQkFDVEMsT0FBTztvQkFDUEMsbUJBQW1CLEVBQUU7b0JBQ3JCQyxlQUFlO29CQUNmeEIsYUFBYTtvQkFDYnlCLGVBQWU7Z0JBQ2pCO2dCQUVBLGFBQWE7Z0JBQ2JNLFVBQVVzSCxnQkFBZ0I7Z0JBQzFCcEgsV0FBV29ILGdCQUFnQjtnQkFDM0JySCxNQUFNc0gsU0FBUztnQkFFZixTQUFTO2dCQUNUL0QsYUFBYWdELFVBQVUsQ0FBQztnQkFFeEJoSSxRQUFRQyxHQUFHLENBQUM7Z0JBRVowQixNQUFNO29CQUNKZ0csT0FBTztvQkFDUEMsYUFBYTtnQkFDZjtZQUNGLEVBQUUsT0FBT0ssS0FBSztnQkFDWixNQUFNUCxlQUFlTyxlQUFlL0MsUUFBUStDLElBQUk5QyxPQUFPLEdBQUc7Z0JBQzFENUQsU0FBU21HO2dCQUNUMUgsUUFBUXNCLEtBQUssQ0FBQyxjQUFjMkc7Z0JBRTVCdEcsTUFBTTtvQkFDSmdHLE9BQU87b0JBQ1BDLGFBQWFGO29CQUNiRyxTQUFTO2dCQUNYO1lBQ0YsU0FBVTtnQkFDUnhHLGFBQWE7WUFDZjtRQUNGOzJDQUFHO1FBQUNGO1FBQVNLO1FBQVdFO1FBQVlEO1FBQU9FO0tBQU07SUFFakQsZ0JBQWdCO0lBQ2hCLE1BQU1xSCxpQkFBaUJsSyxrREFBV0E7bURBQUMsQ0FBQ21LO1lBQ2xDLElBQUksQ0FBQzlILFFBQVFhLGNBQWMsSUFBSWlILFFBQVFDLElBQUksSUFBSTtnQkFDN0NsRSxhQUFhbUUsT0FBTyxDQUFDLGNBQWNGO1lBQ3JDO1FBQ0Y7a0RBQUc7UUFBQzlILFFBQVFhLGNBQWM7S0FBQztJQUUzQixPQUFPO1FBQ0wsT0FBTztRQUNQbkI7UUFDQU87UUFDQUU7UUFFQSxPQUFPO1FBQ1B3RztRQUNBTTtRQUNBTTtRQUNBdkI7UUFDQXlCO1FBRUEsT0FBTztRQUNQUDtRQUNBYjtRQUVBLE9BQU87UUFDUHdCO1FBRUEsT0FBTztRQUNQN0gsU0FBU0EsUUFBUWEsY0FBYztRQUMvQm9ILGdCQUFnQmpJLFFBQVFDLFNBQVM7UUFDakNpSSxjQUFjbEksUUFBUUcsS0FBSztRQUUzQixPQUFPO1FBQ1ArRixnQkFBZ0I3RixVQUFVRixLQUFLO1FBRS9CLFFBQVE7UUFDUmdJLHFCQUFxQjVILFdBQVc2SCxXQUFXO1FBQzNDakMsaUJBQWlCNUYsV0FBV0osS0FBSztRQUNqQ2tJLHNCQUFzQjlILFdBQVcrSCxpQkFBaUI7UUFDbERDLGtCQUFrQmhJLFdBQVdnSSxnQkFBZ0I7UUFDN0NDLG1CQUFtQmpJLFdBQVdpSSxpQkFBaUI7UUFDL0NDLGdCQUFnQmxJLFdBQVdrSSxjQUFjO0lBQzNDO0FBQ0Y7QUFFb0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS1hcHAtc3RhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgdHlwZSB7IEFwcERhdGEsIEFwcFN0YXRlLCBTZXNzaW9uU3RhdHVzLCBTZXNzaW9uVHlwZSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuaW1wb3J0IHsgdXNlU2Vzc2lvbiB9IGZyb20gXCIuL3VzZS1zZXNzaW9uXCJcbmltcG9ydCB7IHVzZVJlY29yZGluZyB9IGZyb20gXCIuL3VzZS1yZWNvcmRpbmdcIlxuaW1wb3J0IHsgdXNlTm90ZXMgfSBmcm9tIFwiLi91c2Utbm90ZXNcIlxuaW1wb3J0IHsgdXNlVHJhbnNjcmlwdCB9IGZyb20gXCIuL3VzZS10cmFuc2NyaXB0XCJcbmltcG9ydCB7IFRyYW5zY3JpcHRNZXNzYWdlIH0gZnJvbSBcIi4uL2xpYi93ZWJzb2NrZXRcIlxuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3VzZS10b2FzdFwiXG5cbi8vIOWJjeW+jOerr+eLgOaFi+aYoOWwhOimj+WJh1xuY29uc3QgbWFwQmFja2VuZFRvRnJvbnRlbmRTdGF0ZSA9IChcbiAgc3RhdHVzOiBTZXNzaW9uU3RhdHVzLFxuICB0eXBlOiBTZXNzaW9uVHlwZSxcbiAgaXNSZWNvcmRpbmc6IGJvb2xlYW4sXG4gIHRyYW5zY3JpcHRzUHJlc2VudDogYm9vbGVhblxuKTogQXBwU3RhdGUgPT4ge1xuICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpXG4gIGNvbnN0IGlzb1RpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuXG4gIGNvbnNvbGUubG9nKCfwn5SEIFvni4DmhYvmmKDlsIRdIOi8uOWFpeWPg+aVuCAo6Kmz57Sw5pmC5bqPKTonLCB7XG4gICAgc3RhdHVzLFxuICAgIHR5cGUsXG4gICAgaXNSZWNvcmRpbmcsXG4gICAgdHJhbnNjcmlwdHNQcmVzZW50LFxuICAgIHRpbWVzdGFtcCxcbiAgICBpc29UaW1lc3RhbXAsXG4gICAgbm90ZTogJ+aqouafpeaZguW6j+WSjOmCj+i8r+a1geeoiydcbiAgfSlcblxuICBsZXQgcmVzdWx0U3RhdGU6IEFwcFN0YXRlXG5cbiAgLy8g6Kmz57Sw55qE54uA5oWL6L2J5o+b6YKP6Lyv5ZKM5pmC5bqP6L+96LmkXG4gIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgY2FzZSBcImRyYWZ0XCI6XG4gICAgICByZXN1bHRTdGF0ZSA9IFwiZGVmYXVsdFwiXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBb54uA5oWL5pig5bCEXSBkcmFmdCDihpIgZGVmYXVsdCAo5pmC5bqP5q2j5bi4KScpXG4gICAgICBicmVha1xuICAgIGNhc2UgXCJhY3RpdmVcIjpcbiAgICAgIGlmICh0eXBlID09PSBcInJlY29yZGluZ1wiKSB7XG4gICAgICAgIGlmICghaXNSZWNvcmRpbmcpIHtcbiAgICAgICAgICByZXN1bHRTdGF0ZSA9IFwiZGVmYXVsdFwiXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW+eLgOaFi+aYoOWwhF0gcmVjb3JkaW5nIHNlc3Npb24g5L2GIGlzUmVjb3JkaW5nPWZhbHNlIOKGkiBkZWZhdWx0ICjmmYLluo/mqqLmn6XpgJrpgY4pJywge1xuICAgICAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAgICAgcmVhc29uOiAncmVjb3JkaW5nIHNlc3Npb24gaW5hY3RpdmUnXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDpl5zpjbXnmoTni4DmhYvovYnmj5vpgo/ovK/vvJpyZWNvcmRpbmdfd2FpdGluZyDihpIgcmVjb3JkaW5nX2FjdGl2ZVxuICAgICAgICAgIGlmICh0cmFuc2NyaXB0c1ByZXNlbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdFN0YXRlID0gXCJyZWNvcmRpbmdfYWN0aXZlXCJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFvni4DmhYvmmKDlsIRdIOKchSDpl5zpjbXovYnmj5s6IHJlY29yZGluZ193YWl0aW5nIOKGkiByZWNvcmRpbmdfYWN0aXZlICjmmYLluo/miJDlip8pYCwge1xuICAgICAgICAgICAgICB0cmFuc2NyaXB0c1ByZXNlbnQsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgdHJpZ2dlcjogJ2ZpcnN0X3RyYW5zY3JpcHRfcmVjZWl2ZWQnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRTdGF0ZSA9IFwicmVjb3JkaW5nX3dhaXRpbmdcIlxuICAgICAgICAgICAgY29uc29sZS5sb2coYPCflIQgW+eLgOaFi+aYoOWwhF0g5L+d5oyBIHJlY29yZGluZ193YWl0aW5nIOeLgOaFiyAo562J5b6F6YCQ5a2X56i/KWAsIHtcbiAgICAgICAgICAgICAgdHJhbnNjcmlwdHNQcmVzZW50LFxuICAgICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgIHdhaXRpbmc6ICdmb3JfZmlyc3RfdHJhbnNjcmlwdCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRTdGF0ZSA9IFwiZGVmYXVsdFwiXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFvni4DmhYvmmKDlsIRdIGFjdGl2ZSBzZXNzaW9uIOS9hiB0eXBlICE9IHJlY29yZGluZyDihpIgZGVmYXVsdCcsIHtcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHRpbWVzdGFtcFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICBjYXNlIFwicHJvY2Vzc2luZ1wiOlxuICAgICAgcmVzdWx0U3RhdGUgPSBcInByb2Nlc3NpbmdcIlxuICAgICAgY29uc29sZS5sb2coJ/CflIQgW+eLgOaFi+aYoOWwhF0gcHJvY2Vzc2luZyDihpIgcHJvY2Vzc2luZyAo5pmC5bqP5q2j5bi4KScsIHsgdGltZXN0YW1wIH0pXG4gICAgICBicmVha1xuICAgIGNhc2UgXCJjb21wbGV0ZWRcIjpcbiAgICAgIHJlc3VsdFN0YXRlID0gXCJmaW5pc2hlZFwiXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBb54uA5oWL5pig5bCEXSBjb21wbGV0ZWQg4oaSIGZpbmlzaGVkICjmmYLluo/mraPluLgpJywgeyB0aW1lc3RhbXAgfSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSBcImVycm9yXCI6XG4gICAgICByZXN1bHRTdGF0ZSA9IFwiZGVmYXVsdFwiIC8vIOmMr+iqpOaZguWbnuWIsOmgkOioreeLgOaFi1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgW+eLgOaFi+aYoOWwhF0gZXJyb3Ig4oaSIGRlZmF1bHQgKOmMr+iqpOaBouW+qSknLCB7XG4gICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgcmVjb3Zlcnk6IHRydWVcbiAgICAgIH0pXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXN1bHRTdGF0ZSA9IFwiZGVmYXVsdFwiXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBb54uA5oWL5pig5bCEXSB1bmtub3duIOKGkiBkZWZhdWx0ICjlronlhajlm57pgIApJywge1xuICAgICAgICB1bmtub3duU3RhdHVzOiBzdGF0dXMsXG4gICAgICAgIHRpbWVzdGFtcFxuICAgICAgfSlcbiAgICAgIGJyZWFrXG4gIH1cblxuICBjb25zb2xlLmxvZyhg8J+UhCBb54uA5oWL5pig5bCEXSDmnIDntYLntZDmnpwgKOaZguW6j+i/vei5pCk6ICR7c3RhdHVzfSgke3R5cGV9KSDihpIgJHtyZXN1bHRTdGF0ZX1gLCB7XG4gICAgaW5wdXRQYXJhbXM6IHsgc3RhdHVzLCB0eXBlLCBpc1JlY29yZGluZywgdHJhbnNjcmlwdHNQcmVzZW50IH0sXG4gICAgb3V0cHV0OiByZXN1bHRTdGF0ZSxcbiAgICB0aW1lc3RhbXAsXG4gICAgZHVyYXRpb246IERhdGUubm93KCkgLSB0aW1lc3RhbXBcbiAgfSlcblxuICByZXR1cm4gcmVzdWx0U3RhdGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFwcFN0YXRlKCkge1xuICBjb25zdCBbYXBwRGF0YSwgc2V0QXBwRGF0YV0gPSB1c2VTdGF0ZTxBcHBEYXRhPih7XG4gICAgc3RhdGU6IFwiZGVmYXVsdFwiLFxuICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBbXSxcbiAgICBlZGl0b3JDb250ZW50OiBcIlwiLFxuICAgIGlzUmVjb3JkaW5nOiBmYWxzZSxcbiAgICByZWNvcmRpbmdUaW1lOiAwLFxuICAgIHNlc3Npb246IG51bGwsXG4gIH0pXG5cbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgLy8g5L2/55So5ZCE5YCL5bCI6ZaA55qEIGhvb2tzXG4gIGNvbnN0IHNlc3Npb24gPSB1c2VTZXNzaW9uKClcbiAgY29uc3QgcmVjb3JkaW5nID0gdXNlUmVjb3JkaW5nKClcbiAgY29uc3Qgbm90ZXMgPSB1c2VOb3RlcygpXG4gIGNvbnN0IHRyYW5zY3JpcHQgPSB1c2VUcmFuc2NyaXB0KClcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKVxuXG4gIC8vIOS9v+eUqCB1c2VSZWYg6L+96Lmk5YmN5LiA5YCL54uA5oWL5YC877yM6YG/5YWN5b6q55Kw5L6d6LO0XG4gIGNvbnN0IHByZXZTdGF0ZVJlZiA9IHVzZVJlZjxBcHBTdGF0ZT4oJ2RlZmF1bHQnKVxuICBjb25zdCBwcmV2VHJhbnNjcmlwdENvbXBsZXRlZFJlZiA9IHVzZVJlZihmYWxzZSlcbiAgY29uc3QgcHJldkVycm9yU3RhdGVSZWYgPSB1c2VSZWY8eyByZWNvcmRpbmc6IHN0cmluZyB8IG51bGwsIHRyYW5zY3JpcHQ6IHN0cmluZyB8IG51bGwgfT4oe1xuICAgIHJlY29yZGluZzogbnVsbCxcbiAgICB0cmFuc2NyaXB0OiBudWxsXG4gIH0pXG5cbiAgLy8g5YSq5YyW55qE54uA5oWL5pig5bCE5Ye95pW477yM56K65L+d5pmC5bqP5Y+v6aCQ5ris5oCnXG4gIGNvbnN0IG1hcFN0YXRlRnJvbVNlc3Npb24gPSB1c2VDYWxsYmFjaygoXG4gICAgY3VycmVudFNlc3Npb246IGFueSxcbiAgICBpc1JlY29yZGluZzogYm9vbGVhbixcbiAgICB0cmFuc2NyaXB0czogYW55W11cbiAgKSA9PiB7XG4gICAgY29uc3QgZXhlY3V0aW9uVGltZXN0YW1wID0gRGF0ZS5ub3coKVxuXG4gICAgaWYgKCFjdXJyZW50U2Vzc2lvbikge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgW+eLgOaFi+aYoOWwhF0g54Sh5rS76LqN5pyD6KmxIOKGkiBkZWZhdWx0JywgeyBleGVjdXRpb25UaW1lc3RhbXAgfSlcbiAgICAgIHJldHVybiAnZGVmYXVsdCdcbiAgICB9XG5cbiAgICAvLyDlr6bkvZzmm7Tlj6/pnaDnmoQgdHJhbnNjcmlwdHNQcmVzZW50IOioiOeul1xuICAgIGNvbnN0IHRyYW5zY3JpcHRzUHJlc2VudCA9IEFycmF5LmlzQXJyYXkodHJhbnNjcmlwdHMpICYmIHRyYW5zY3JpcHRzLmxlbmd0aCA+IDBcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFvni4DmhYvmmKDlsIRdIOWft+ihjOaZguW6j+aqouafpTonLCB7XG4gICAgICBzZXNzaW9uSWQ6IGN1cnJlbnRTZXNzaW9uLmlkLFxuICAgICAgc2Vzc2lvblN0YXR1czogY3VycmVudFNlc3Npb24uc3RhdHVzLFxuICAgICAgc2Vzc2lvblR5cGU6IGN1cnJlbnRTZXNzaW9uLnR5cGUsXG4gICAgICBpc1JlY29yZGluZyxcbiAgICAgIHRyYW5zY3JpcHRDb3VudDogdHJhbnNjcmlwdHMubGVuZ3RoLFxuICAgICAgdHJhbnNjcmlwdHNQcmVzZW50LFxuICAgICAgZXhlY3V0aW9uVGltZXN0YW1wLFxuICAgICAgdHJhbnNjcmlwdHNTYW1wbGU6IHRyYW5zY3JpcHRzLnNsaWNlKDAsIDIpLm1hcCh0ID0+ICh7XG4gICAgICAgIHRleHQ6IHQudGV4dD8uc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nLFxuICAgICAgICBzdGFydF90aW1lOiB0LnN0YXJ0X3RpbWUsXG4gICAgICAgIHR5cGU6IHQudHlwZVxuICAgICAgfSkpLFxuICAgICAgbm90ZTogJ+aZguW6j+WQjOatpeaqouafpeWujOaIkCdcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzdWx0ID0gbWFwQmFja2VuZFRvRnJvbnRlbmRTdGF0ZShcbiAgICAgIGN1cnJlbnRTZXNzaW9uLnN0YXR1cyxcbiAgICAgIGN1cnJlbnRTZXNzaW9uLnR5cGUsXG4gICAgICBpc1JlY29yZGluZyxcbiAgICAgIHRyYW5zY3JpcHRzUHJlc2VudFxuICAgIClcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFvni4DmhYvmmKDlsIRdIOWft+ihjOe1kOaenDonLCB7XG4gICAgICBpbnB1dDoge1xuICAgICAgICBzZXNzaW9uU3RhdHVzOiBjdXJyZW50U2Vzc2lvbi5zdGF0dXMsXG4gICAgICAgIHNlc3Npb25UeXBlOiBjdXJyZW50U2Vzc2lvbi50eXBlLFxuICAgICAgICBpc1JlY29yZGluZyxcbiAgICAgICAgdHJhbnNjcmlwdHNQcmVzZW50XG4gICAgICB9LFxuICAgICAgb3V0cHV0OiByZXN1bHQsXG4gICAgICBleGVjdXRpb25UaW1lc3RhbXAsXG4gICAgICBleGVjdXRpb25EdXJhdGlvbjogRGF0ZS5ub3coKSAtIGV4ZWN1dGlvblRpbWVzdGFtcFxuICAgIH0pXG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sIFtdKVxuXG4gIC8vIOeLgOaFi+WQjOatpe+8muWJjeerr+eLgOaFi+iIh+W+jOerryBzZXNzaW9uIHN0YXR1cyDlsI3mh4kgLSDlvLfljJbkuIDoh7TmgKdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBhY3RpdmVTZXNzaW9uID0gc2Vzc2lvbi5jdXJyZW50U2Vzc2lvblxuICAgIGNvbnN0IGVmZmVjdEV4ZWN1dGlvblRpbWUgPSBEYXRlLm5vdygpXG5cbiAgICBjb25zb2xlLmxvZygn8J+UhCBb54uA5oWL5ZCM5q2lXSB1c2VFZmZlY3Qg6Ke455m8ICjlvLfljJbkuIDoh7TmgKfniYgpOicsIHtcbiAgICAgIGhhc0FjdGl2ZVNlc3Npb246ICEhYWN0aXZlU2Vzc2lvbixcbiAgICAgIHNlc3Npb25JZDogYWN0aXZlU2Vzc2lvbj8uaWQsXG4gICAgICBzZXNzaW9uU3RhdHVzOiBhY3RpdmVTZXNzaW9uPy5zdGF0dXMsXG4gICAgICBzZXNzaW9uVHlwZTogYWN0aXZlU2Vzc2lvbj8udHlwZSxcbiAgICAgIHJlY29yZGluZ0lzUmVjb3JkaW5nOiByZWNvcmRpbmcuaXNSZWNvcmRpbmcsXG4gICAgICBhcHBEYXRhSXNSZWNvcmRpbmc6IGFwcERhdGEuaXNSZWNvcmRpbmcsXG4gICAgICBpc1JlY29yZGluZ0NvbnNpc3RlbnQ6IHJlY29yZGluZy5pc1JlY29yZGluZyA9PT0gYXBwRGF0YS5pc1JlY29yZGluZyxcbiAgICAgIHRyYW5zY3JpcHRDb3VudDogdHJhbnNjcmlwdC50cmFuc2NyaXB0cy5sZW5ndGgsXG4gICAgICByZWNvcmRpbmdUcmFuc2NyaXB0Q291bnQ6IHJlY29yZGluZy50cmFuc2NyaXB0cy5sZW5ndGgsXG4gICAgICBjdXJyZW50QXBwU3RhdGU6IHByZXZTdGF0ZVJlZi5jdXJyZW50LFxuICAgICAgZWZmZWN0RXhlY3V0aW9uVGltZSxcbiAgICAgIG5vdGU6ICflvLfljJbpjITpn7Pni4DmhYvkuIDoh7TmgKfmqqLmn6UnXG4gICAgfSlcblxuICAgIGlmIChhY3RpdmVTZXNzaW9uKSB7XG4gICAgICAvLyDnorrkv53kvb/nlKjmnIDmlrDnmoQgcmVjb3JkaW5nLnRyYW5zY3JpcHRzIOeLgOaFi1xuICAgICAgY29uc3QgbGF0ZXN0VHJhbnNjcmlwdHMgPSByZWNvcmRpbmcudHJhbnNjcmlwdHNcbiAgICAgIGNvbnN0IHRyYW5zY3JpcHRzUHJlc2VudCA9IEFycmF5LmlzQXJyYXkobGF0ZXN0VHJhbnNjcmlwdHMpICYmIGxhdGVzdFRyYW5zY3JpcHRzLmxlbmd0aCA+IDBcblxuICAgICAgY29uc29sZS5sb2coJ/CflIQgW+eLgOaFi+WQjOatpV0g6YCQ5a2X56i/54uA5oWL6KiI566XICjmmYLluo/kv53orYkpOicsIHtcbiAgICAgICAgcmVjb3JkaW5nVHJhbnNjcmlwdENvdW50OiBsYXRlc3RUcmFuc2NyaXB0cy5sZW5ndGgsXG4gICAgICAgIHRyYW5zY3JpcHRzUHJlc2VudCxcbiAgICAgICAgbGF0ZXN0VHJhbnNjcmlwdFRpbWU6IGxhdGVzdFRyYW5zY3JpcHRzW2xhdGVzdFRyYW5zY3JpcHRzLmxlbmd0aCAtIDFdPy5zdGFydF90aW1lLFxuICAgICAgICBsYXRlc3RUcmFuc2NyaXB0VGV4dDogbGF0ZXN0VHJhbnNjcmlwdHNbbGF0ZXN0VHJhbnNjcmlwdHMubGVuZ3RoIC0gMV0/LnRleHQ/LnN1YnN0cmluZygwLCAzMCkgKyAnLi4uJyxcbiAgICAgICAgZWZmZWN0RXhlY3V0aW9uVGltZSxcbiAgICAgICAgbm90ZTogJ+W3sueiuuS/neaZguW6j+WQjOatpSdcbiAgICAgIH0pXG5cbiAgICAgIC8vIOmXnOmNteS/ruW+qe+8muW8t+WItuS9v+eUqCByZWNvcmRpbmcuaXNSZWNvcmRpbmcg6ICM5LiN5pivIGFwcERhdGEuaXNSZWNvcmRpbmdcbiAgICAgIC8vIOmAmeeiuuS/neeLgOaFi+aYoOWwhOmCj+i8r+S9v+eUqOacgOaWsOeahOmMhOmfs+eLgOaFi1xuICAgICAgY29uc3QgZnJvbnRlbmRTdGF0ZSA9IG1hcFN0YXRlRnJvbVNlc3Npb24oXG4gICAgICAgIGFjdGl2ZVNlc3Npb24sXG4gICAgICAgIHJlY29yZGluZy5pc1JlY29yZGluZywgLy8g55u05o6l5L2/55SoIHJlY29yZGluZyBob29rIOeahOeLgOaFi1xuICAgICAgICBsYXRlc3RUcmFuc2NyaXB0c1xuICAgICAgKVxuXG4gICAgICAvLyDmqqLmn6XmmK/lkKbpnIDopoHlkIzmmYLmm7TmlrAgaXNSZWNvcmRpbmcg5ZKMIHN0YXRlXG4gICAgICBjb25zdCBuZWVkc0lzUmVjb3JkaW5nVXBkYXRlID0gYXBwRGF0YS5pc1JlY29yZGluZyAhPT0gcmVjb3JkaW5nLmlzUmVjb3JkaW5nXG4gICAgICBjb25zdCBuZWVkc1N0YXRlVXBkYXRlID0gZnJvbnRlbmRTdGF0ZSAhPT0gcHJldlN0YXRlUmVmLmN1cnJlbnRcblxuICAgICAgaWYgKG5lZWRzSXNSZWNvcmRpbmdVcGRhdGUgfHwgbmVlZHNTdGF0ZVVwZGF0ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBb54uA5oWL5ZCM5q2lXSDln7fooYzni4DmhYvmm7TmlrA6YCwge1xuICAgICAgICAgIG5lZWRzSXNSZWNvcmRpbmdVcGRhdGUsXG4gICAgICAgICAgbmVlZHNTdGF0ZVVwZGF0ZSxcbiAgICAgICAgICBhcHBEYXRhSXNSZWNvcmRpbmc6IGFwcERhdGEuaXNSZWNvcmRpbmcsXG4gICAgICAgICAgcmVjb3JkaW5nSXNSZWNvcmRpbmc6IHJlY29yZGluZy5pc1JlY29yZGluZyxcbiAgICAgICAgICBwcmV2aW91c1N0YXRlOiBwcmV2U3RhdGVSZWYuY3VycmVudCxcbiAgICAgICAgICBuZXdTdGF0ZTogZnJvbnRlbmRTdGF0ZSxcbiAgICAgICAgICBzdGF0ZUNoYW5nZVRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBleGVjdXRpb25EdXJhdGlvbjogRGF0ZS5ub3coKSAtIGVmZmVjdEV4ZWN1dGlvblRpbWUsXG4gICAgICAgICAgdHJpZ2dlclNvdXJjZTogJ2NvbXByZWhlbnNpdmVfc3RhdGVfc3luYydcbiAgICAgICAgfSlcblxuICAgICAgICBzZXRBcHBEYXRhKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIHN0YXRlOiBmcm9udGVuZFN0YXRlLFxuICAgICAgICAgIGlzUmVjb3JkaW5nOiByZWNvcmRpbmcuaXNSZWNvcmRpbmcsIC8vIOWQjOaZguW8t+WItuWQjOatpSBpc1JlY29yZGluZ1xuICAgICAgICB9KSlcblxuICAgICAgICBwcmV2U3RhdGVSZWYuY3VycmVudCA9IGZyb250ZW5kU3RhdGVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFvni4DmhYvlkIzmraVdIOaJgOacieeLgOaFi+S4gOiHtO+8jOi3s+mBjuabtOaWsCcsIHtcbiAgICAgICAgICBjdXJyZW50U3RhdGU6IGZyb250ZW5kU3RhdGUsXG4gICAgICAgICAgaXNSZWNvcmRpbmc6IHJlY29yZGluZy5pc1JlY29yZGluZyxcbiAgICAgICAgICBleGVjdXRpb25UaW1lOiBEYXRlLm5vdygpIC0gZWZmZWN0RXhlY3V0aW9uVGltZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3Nlc3Npb24uY3VycmVudFNlc3Npb24sIHJlY29yZGluZy5pc1JlY29yZGluZywgcmVjb3JkaW5nLnRyYW5zY3JpcHRzLCBtYXBTdGF0ZUZyb21TZXNzaW9uXSlcbiAgLy8g5L6d6LO05pa8IHJlY29yZGluZy50cmFuc2NyaXB0cyDogIzpnZ4gbGVuZ3Ro77yM56K65L+d5YWn5a656K6K5YyW5pmC6Ke455m854uA5oWL5ZCM5q2lXG5cbiAgLy8g5Yid5aeL5YyW5oeJ55So54uA5oWLIC0g5Y+q5Zyo57WE5Lu25o6b6LyJ5pmC5Z+36KGM5LiA5qyhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWVcblxuICAgIGNvbnN0IGluaXRpYWxpemVBcHAgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn8J+agCDliJ3lp4vljJbmh4nnlKjni4DmhYsuLi4nKVxuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIOaqouafpeaYr+WQpuaciea0u+i6jeacg+ipsVxuICAgICAgICBjb25zdCBhY3RpdmVTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbi5jaGVja0FjdGl2ZVNlc3Npb24oKVxuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuIC8vIOe1hOS7tuW3suWNuOi8ie+8jOWBnOatouWft+ihjFxuXG4gICAgICAgIGlmIChhY3RpdmVTZXNzaW9uKSB7XG4gICAgICAgICAgLy8g6LyJ5YWl562G6KiY5YWn5a65XG4gICAgICAgICAgYXdhaXQgbm90ZXMubG9hZE5vdGUoYWN0aXZlU2Vzc2lvbi5pZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDmqqLmn6XmmK/lkKbmnInmnKzlnLDojYnnqL9cbiAgICAgICAgICBjb25zdCBkcmFmdENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZHJhZnRfbm90ZScpXG4gICAgICAgICAgaWYgKGRyYWZ0Q29udGVudCkge1xuICAgICAgICAgICAgc2V0QXBwRGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIGVkaXRvckNvbnRlbnQ6IGRyYWZ0Q29udGVudCB9KSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIOi8ieWFpeacrOWcsOiNieeovycpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuIC8vIOe1hOS7tuW3suWNuOi8ie+8jOWBnOatouWft+ihjFxuXG4gICAgICAgIC8vIOWmguaenOaYr+e2sui3r+mMr+iqpO+8jOS4jeimgeaLi+WHuumMr+iqpO+8jOiuk+eUqOaItuato+W4uOS9v+eUqOaHieeUqFxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrIEVycm9yJykpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDliJ3lp4vljJbmmYIgQmFja2VuZCDpgKPnt5rlpLHmlZfvvIzkvb/nlKjpm6Lnt5rmqKHlvI86JywgZXJyb3IubWVzc2FnZSlcblxuICAgICAgICAgIC8vIOaqouafpeaYr+WQpuacieacrOWcsOiNieeov1xuICAgICAgICAgIGNvbnN0IGRyYWZ0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkcmFmdF9ub3RlJylcbiAgICAgICAgICBpZiAoZHJhZnRDb250ZW50KSB7XG4gICAgICAgICAgICBzZXRBcHBEYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgZWRpdG9yQ29udGVudDogZHJhZnRDb250ZW50IH0pKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50g6Zui57ea5qih5byP77ya6LyJ5YWl5pys5Zyw6I2J56i/JylcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOWIneWni+WMluWkseaVlzonLCBlcnJvcilcbiAgICAgICAgICBzZXRFcnJvcihlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfliJ3lp4vljJblpLHmlZcnKVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUFwcCgpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkID0gZmFsc2VcbiAgICB9XG4gIH0sIFtdKSAvLyDnqbrkvp3os7TpoIXvvIzlj6rlnKjntYTku7bmjpvovInmmYLln7fooYzkuIDmrKFcblxuICAvLyDlkIzmraXpjITpn7Pni4DmhYsgLSDlvLfljJbkuIDoh7TmgKfmqqLmn6VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBb6YyE6Z+z54uA5oWL5ZCM5q2lXSDmm7TmlrAgYXBwRGF0YS5pc1JlY29yZGluZzonLCB7XG4gICAgICBmcm9tOiBhcHBEYXRhLmlzUmVjb3JkaW5nLFxuICAgICAgdG86IHJlY29yZGluZy5pc1JlY29yZGluZyxcbiAgICAgIHJlY29yZGluZ1RpbWU6IHJlY29yZGluZy5yZWNvcmRpbmdUaW1lLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgbmVlZHNVcGRhdGU6IGFwcERhdGEuaXNSZWNvcmRpbmcgIT09IHJlY29yZGluZy5pc1JlY29yZGluZ1xuICAgIH0pXG5cbiAgICAvLyDlvLfliLblkIzmraXpjITpn7Pni4DmhYvvvIznorrkv53kuIDoh7TmgKdcbiAgICBzZXRBcHBEYXRhKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmVlZHNVcGRhdGUgPSBwcmV2LmlzUmVjb3JkaW5nICE9PSByZWNvcmRpbmcuaXNSZWNvcmRpbmcgfHwgcHJldi5yZWNvcmRpbmdUaW1lICE9PSByZWNvcmRpbmcucmVjb3JkaW5nVGltZVxuXG4gICAgICBpZiAobmVlZHNVcGRhdGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW+mMhOmfs+eLgOaFi+WQjOatpV0g5Z+36KGM54uA5oWL5pu05pawOicsIHtcbiAgICAgICAgICBwcmV2SXNSZWNvcmRpbmc6IHByZXYuaXNSZWNvcmRpbmcsXG4gICAgICAgICAgbmV3SXNSZWNvcmRpbmc6IHJlY29yZGluZy5pc1JlY29yZGluZyxcbiAgICAgICAgICBwcmV2UmVjb3JkaW5nVGltZTogcHJldi5yZWNvcmRpbmdUaW1lLFxuICAgICAgICAgIG5ld1JlY29yZGluZ1RpbWU6IHJlY29yZGluZy5yZWNvcmRpbmdUaW1lXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGlzUmVjb3JkaW5nOiByZWNvcmRpbmcuaXNSZWNvcmRpbmcsXG4gICAgICAgIHJlY29yZGluZ1RpbWU6IHJlY29yZGluZy5yZWNvcmRpbmdUaW1lLFxuICAgICAgfVxuICAgIH0pXG4gIH0sIFtyZWNvcmRpbmcuaXNSZWNvcmRpbmcsIHJlY29yZGluZy5yZWNvcmRpbmdUaW1lXSlcblxuICAvLyDnp7vpmaTph43opIfnmoTni4DmhYvkuIDoh7TmgKfmqqLmn6XvvIzlt7LmlbTlkIjliLDkuLvopoHni4DmhYvlkIzmraXpgo/ovK/kuK1cblxuICAvLyDlkIzmraXnrYboqJjlhaflrrlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRBcHBEYXRhKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBlZGl0b3JDb250ZW50OiBub3Rlcy5ub3RlQ29udGVudCxcbiAgICB9KSlcbiAgfSwgW25vdGVzLm5vdGVDb250ZW50XSlcblxuICAvLyDomZXnkIbpgJDlrZfnqL/mm7TmlrAgLSDntbHkuIDkvb/nlKggcmVjb3JkaW5nLnRyYW5zY3JpcHRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/Cfk50gW+mAkOWtl+eov+abtOaWsF0gdXNlRWZmZWN0IOinuOeZvDonLCB7XG4gICAgICByZWNvcmRpbmdUcmFuc2NyaXB0Q291bnQ6IHJlY29yZGluZy50cmFuc2NyaXB0cy5sZW5ndGgsXG4gICAgICByZWNvcmRpbmdUcmFuc2NyaXB0czogcmVjb3JkaW5nLnRyYW5zY3JpcHRzLFxuICAgICAgY3VycmVudFN0YXRlOiBhcHBEYXRhLnN0YXRlLFxuICAgICAgaXNSZWNvcmRpbmc6IGFwcERhdGEuaXNSZWNvcmRpbmcsXG4gICAgICBub3RlOiAn57Wx5LiA5L2/55SoIHJlY29yZGluZy50cmFuc2NyaXB0c++8jOmBv+WFjembmemHjeeuoeeQhidcbiAgICB9KVxuXG4gICAgY29uc3QgdHJhbnNjcmlwdEVudHJpZXMgPSByZWNvcmRpbmcudHJhbnNjcmlwdHMubWFwKCh0cmFuc2NyaXB0TXNnOiBUcmFuc2NyaXB0TWVzc2FnZSkgPT4ge1xuICAgICAgLy8g5L2/55SoIHN0YXJ0X3RpbWUg5oiWIHRpbWVzdGFtcCDoqIjnrpfmmYLplpNcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHRyYW5zY3JpcHRNc2cuc3RhcnRfdGltZSA/PyAwXG4gICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzdGFydFRpbWUgLyA2MClcbiAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKHN0YXJ0VGltZSAlIDYwKVxuICAgICAgY29uc3QgdGltZVN0ciA9IGAke21pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gXG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFvpgJDlrZfnqL/ovYnmj5tdIOWWruWAi+eJh+autTonLCB7XG4gICAgICAgIHRleHQ6IHRyYW5zY3JpcHRNc2cudGV4dCxcbiAgICAgICAgdGltZVN0cixcbiAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICB0eXBlOiB0cmFuc2NyaXB0TXNnLnR5cGVcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpbWU6IHRpbWVTdHIsXG4gICAgICAgIHRleHQ6IHRyYW5zY3JpcHRNc2cudGV4dCA/PyAnJyxcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coJ/Cfk50gW+mAkOWtl+eov+abtOaWsF0g6L2J5o+b5a6M5oiQOicsIHtcbiAgICAgIGVudHJpZXNDb3VudDogdHJhbnNjcmlwdEVudHJpZXMubGVuZ3RoLFxuICAgICAgZW50cmllczogdHJhbnNjcmlwdEVudHJpZXMsXG4gICAgICBmaXJzdEVudHJ5OiB0cmFuc2NyaXB0RW50cmllc1swXT8udGV4dD8uc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nLFxuICAgICAgYXBwRGF0YUJlZm9yZTogYXBwRGF0YS50cmFuc2NyaXB0RW50cmllc1xuICAgIH0pXG5cbiAgICBzZXRBcHBEYXRhKHByZXYgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk50gW+mAkOWtl+eov+abtOaWsF0gc2V0QXBwRGF0YSDln7fooYw6Jywge1xuICAgICAgICBwcmV2VHJhbnNjcmlwdEVudHJpZXM6IHByZXYudHJhbnNjcmlwdEVudHJpZXMsXG4gICAgICAgIG5ld1RyYW5zY3JpcHRFbnRyaWVzOiB0cmFuc2NyaXB0RW50cmllcyxcbiAgICAgICAgaXNDaGFuZ2VkOiBwcmV2LnRyYW5zY3JpcHRFbnRyaWVzICE9PSB0cmFuc2NyaXB0RW50cmllc1xuICAgICAgfSlcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHRyYW5zY3JpcHRFbnRyaWVzLFxuICAgICAgfVxuICAgIH0pXG4gIH0sIFtyZWNvcmRpbmcudHJhbnNjcmlwdHNdKVxuXG4gIC8vIOebo+iBvei9iemMhOWujOaIkO+8jOiHquWLlei9ieeCuiBmaW5pc2hlZCDni4DmhYtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Q29tcGxldGVkID0gdHJhbnNjcmlwdC5pc0NvbXBsZXRlZFxuICAgIGNvbnN0IHdhc0NvbXBsZXRlZCA9IHByZXZUcmFuc2NyaXB0Q29tcGxldGVkUmVmLmN1cnJlbnRcblxuICAgIC8vIOWPquWcqOi9iemMhOeLgOaFi+W+niBmYWxzZSDororngrogdHJ1ZSDmmYLomZXnkIZcbiAgICBpZiAoY3VycmVudENvbXBsZXRlZCAmJiAhd2FzQ29tcGxldGVkICYmIHByZXZTdGF0ZVJlZi5jdXJyZW50ID09PSBcInByb2Nlc3NpbmdcIikge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgW+i9iemMhOWujOaIkF0g6L2J6YyE5a6M5oiQ77yM6L2J54K6IGZpbmlzaGVkIOeLgOaFiycpXG5cbiAgICAgIHNldEFwcERhdGEocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gXCJmaW5pc2hlZFwiXG4gICAgICAgIHByZXZTdGF0ZVJlZi5jdXJyZW50ID0gbmV3U3RhdGVcbiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgc3RhdGU6IG5ld1N0YXRlIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vIOWujOaIkOacg+ipsVxuICAgICAgaWYgKHNlc3Npb24uY3VycmVudFNlc3Npb24pIHtcbiAgICAgICAgc2Vzc2lvbi5maW5pc2hTZXNzaW9uKCkuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcmV2VHJhbnNjcmlwdENvbXBsZXRlZFJlZi5jdXJyZW50ID0gY3VycmVudENvbXBsZXRlZFxuICB9LCBbXG4gICAgdHJhbnNjcmlwdC5pc0NvbXBsZXRlZCxcbiAgICBzZXNzaW9uLmN1cnJlbnRTZXNzaW9uLFxuICAgIHNlc3Npb24uZmluaXNoU2Vzc2lvblxuICBdKVxuXG4gIC8vIOebo+iBvemMhOmfs+WSjOi9iemMhOmMr+iqpO+8jOiZleeQhumMr+iqpOeLgOaFi1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlY29yZGluZ0Vycm9yID0gcmVjb3JkaW5nLmVycm9yXG4gICAgY29uc3QgdHJhbnNjcmlwdEVycm9yID0gdHJhbnNjcmlwdC5lcnJvclxuICAgIGNvbnN0IHByZXZFcnJvcnMgPSBwcmV2RXJyb3JTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAvLyDlj6rlnKjpjK/oqqTni4DmhYvnnJ/mraPmlLnorormmYLomZXnkIbvvIjpgb/lhY3ph43opIfomZXnkIblkIzmqKPnmoTpjK/oqqTvvIlcbiAgICBpZiAoKHJlY29yZGluZ0Vycm9yICE9PSBwcmV2RXJyb3JzLnJlY29yZGluZykgfHwgKHRyYW5zY3JpcHRFcnJvciAhPT0gcHJldkVycm9ycy50cmFuc2NyaXB0KSkge1xuICAgICAgaWYgKHJlY29yZGluZ0Vycm9yIHx8IHRyYW5zY3JpcHRFcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+aqCBb6Yyv6Kqk6JmV55CGXSDmqqLmuKzliLDpjK/oqqQ6Jywge1xuICAgICAgICAgIHJlY29yZGluZ0Vycm9yLFxuICAgICAgICAgIHRyYW5zY3JpcHRFcnJvcixcbiAgICAgICAgICBjdXJyZW50U3RhdGU6IHByZXZTdGF0ZVJlZi5jdXJyZW50LFxuICAgICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbi5jdXJyZW50U2Vzc2lvbj8uaWRcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBwcmV2U3RhdGVSZWYuY3VycmVudFxuXG4gICAgICAgIC8vIOWmguaenOaYr+mMhOmfs+ebuOmXnOmMr+iqpO+8jOWBnOatoumMhOmfs+S4puWbnuWIsOmgkOioreeLgOaFi1xuICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSBcInJlY29yZGluZ193YWl0aW5nXCIgfHwgY3VycmVudFN0YXRlID09PSBcInJlY29yZGluZ19hY3RpdmVcIikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qoIFvpjK/oqqTomZXnkIZdIOmMhOmfs+eLgOaFi+mMr+iqpO+8jOWBnOatoumMhOmfs+S4puWbnuWIsOmgkOioreeLgOaFiycpXG5cbiAgICAgICAgICAvLyDlgZzmraLpjITpn7NcbiAgICAgICAgICByZWNvcmRpbmcuc3RvcFJlY29yZGluZygpXG5cbiAgICAgICAgICAvLyDmuIXnkIbpgKPnt5pcbiAgICAgICAgICB0cmFuc2NyaXB0LmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgICAgLy8g5Zue5Yiw6aCQ6Kit54uA5oWLXG4gICAgICAgICAgc2V0QXBwRGF0YShwcmV2ID0+IHtcbiAgICAgICAgICAgIHByZXZTdGF0ZVJlZi5jdXJyZW50ID0gXCJkZWZhdWx0XCJcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnByZXYsIHN0YXRlOiBcImRlZmF1bHRcIiB9XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIC8vIOmhr+ekuumMr+iqpOioiuaBr1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHJlY29yZGluZ0Vycm9yIHx8IHRyYW5zY3JpcHRFcnJvciB8fCAn6YyE6Z+z5oiW6L2J6YyE6YGO56iL5Lit55m855Sf6Yyv6KqkJ1xuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiAn6YyE6Z+z6Yyv6KqkJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyDlpoLmnpzmmK/omZXnkIbni4DmhYvnmoTpjK/oqqTvvIzkuZ/lm57liLDpoJDoqK3ni4DmhYtcbiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gXCJwcm9jZXNzaW5nXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+aqCBb6Yyv6Kqk6JmV55CGXSDomZXnkIbni4DmhYvpjK/oqqTvvIzlm57liLDpoJDoqK3ni4DmhYsnKVxuXG4gICAgICAgICAgc2V0QXBwRGF0YShwcmV2ID0+IHtcbiAgICAgICAgICAgIHByZXZTdGF0ZVJlZi5jdXJyZW50ID0gXCJkZWZhdWx0XCJcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnByZXYsIHN0YXRlOiBcImRlZmF1bHRcIiB9XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRyYW5zY3JpcHRFcnJvciB8fCByZWNvcmRpbmdFcnJvciB8fCAn6JmV55CG6L2J6YyE6YGO56iL5Lit55m855Sf6Yyv6KqkJ1xuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiAn6JmV55CG6Yyv6KqkJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8g5pu05paw6Yyv6Kqk54uA5oWL6L+96LmkXG4gICAgICBwcmV2RXJyb3JTdGF0ZVJlZi5jdXJyZW50ID0ge1xuICAgICAgICByZWNvcmRpbmc6IHJlY29yZGluZ0Vycm9yLFxuICAgICAgICB0cmFuc2NyaXB0OiB0cmFuc2NyaXB0RXJyb3JcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtyZWNvcmRpbmcuZXJyb3IsIHRyYW5zY3JpcHQuZXJyb3IsIHNlc3Npb24uY3VycmVudFNlc3Npb24sIHJlY29yZGluZywgdHJhbnNjcmlwdCwgdG9hc3RdKVxuXG4gIC8vIOW7uueri+e0lOethuiomOacg+ipsVxuICBjb25zdCBjcmVhdGVOb3RlU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICh0aXRsZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgc2V0RXJyb3IobnVsbClcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZXdTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbi5jcmVhdGVOb3RlU2Vzc2lvbih0aXRsZSlcbiAgICAgIGlmIChuZXdTZXNzaW9uKSB7XG4gICAgICAgIC8vIOi8ieWFpeethuiomOWFp+WuuVxuICAgICAgICBhd2FpdCBub3Rlcy5sb2FkTm90ZShuZXdTZXNzaW9uLmlkKVxuXG4gICAgICAgIC8vIOa4hemZpOacrOWcsOiNieeov1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZHJhZnRfbm90ZScpXG5cbiAgICAgICAgY29uc29sZS5sb2coJ+KchSDntJTnrYboqJjmnIPoqbHlu7rnq4vmiJDlip8nKVxuXG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogJ+ethuiomOacg+ipseW3suW7uueriycsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGDmnIPoqbEgXCIke3RpdGxlfVwiIOW7uueri+aIkOWKn2AsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyDnibnliKXomZXnkIbmnIPoqbHooZ3nqoHpjK/oqqRcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygn5qqi5ris5Yiw5rS76LqN5pyD6Kmx6KGd56qBJykpIHtcbiAgICAgICAgY29uc3QgY29uZmxpY3RNc2cgPSAn5YG15ris5Yiw5pyD6Kmx6KGd56qB77yM6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6KmmJ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwi8J+OpCBzdGFydFJlY29yZGluZzog5pyD6Kmx6KGd56qB6Yyv6KqkOlwiLCBlcnIubWVzc2FnZSlcbiAgICAgICAgc2V0RXJyb3IoY29uZmxpY3RNc2cpXG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogJ+acg+ipseihneeqgScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICfnm67liY3lt7LmnInmtLvouo3mnIPoqbHvvIzoq4vph43mlrDmlbTnkIbpoIHpnaLlvozlho3oqabvvIzmiJbnrYnlvoXnlbbliY3mnIPoqbHntZDmnZ8nLFxuICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZSdcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1zZyA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn6ZaL5aeL6YyE6Z+z5aSx5pWXJ1xuICAgICAgY29uc29sZS5lcnJvcihcIvCfjqQgc3RhcnRSZWNvcmRpbmc6IOa1geeoi+S4reeZvOeUn+mMr+iqpDpcIiwgbXNnKVxuICAgICAgc2V0RXJyb3IobXNnKVxuICAgICAgdG9hc3QoeyB0aXRsZTogJ+mMhOmfs+WkseaVlycsIGRlc2NyaXB0aW9uOiBtc2csIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScgfSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgY29uc29sZS5sb2coXCLwn46kIHN0YXJ0UmVjb3JkaW5nOiDmtYHnqIvntZDmnZ9cIilcbiAgICB9XG4gIH0sIFtzZXNzaW9uLCByZWNvcmRpbmcsIHRyYW5zY3JpcHQsIGFwcERhdGEuZWRpdG9yQ29udGVudCwgdG9hc3RdKVxuXG4gIC8vIOW7uueri+mMhOmfs+acg+ipsVxuICBjb25zdCBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHRpdGxlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICBzZXRFcnJvcihudWxsKVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5ld1Nlc3Npb24gPSBhd2FpdCBzZXNzaW9uLmNyZWF0ZVJlY29yZGluZ1Nlc3Npb24odGl0bGUsIGFwcERhdGEuZWRpdG9yQ29udGVudClcbiAgICAgIGlmIChuZXdTZXNzaW9uKSB7XG4gICAgICAgIC8vIOi8ieWFpeethuiomOWFp+WuuVxuICAgICAgICBhd2FpdCBub3Rlcy5sb2FkTm90ZShuZXdTZXNzaW9uLmlkKVxuXG4gICAgICAgIC8vIOa4hemZpOacrOWcsOiNieeov1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZHJhZnRfbm90ZScpXG5cbiAgICAgICAgY29uc29sZS5sb2coJ+KchSDpjITpn7PmnIPoqbHlu7rnq4vmiJDlip8nKVxuXG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogJ+mMhOmfs+acg+ipseW3suW7uueriycsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGDmnIPoqbEgXCIke3RpdGxlfVwiIOW7uueri+aIkOWKn2AsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyDnibnliKXomZXnkIbmnIPoqbHooZ3nqoHpjK/oqqRcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygn5qqi5ris5Yiw5rS76LqN5pyD6Kmx6KGd56qBJykpIHtcbiAgICAgICAgY29uc3QgY29uZmxpY3RNc2cgPSAn5YG15ris5Yiw5pyD6Kmx6KGd56qB77yM6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6KmmJ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwi8J+OpCBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uOiDmnIPoqbHooZ3nqoHpjK/oqqQ6XCIsIGVyci5tZXNzYWdlKVxuICAgICAgICBzZXRFcnJvcihjb25mbGljdE1zZylcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiAn5pyD6Kmx6KGd56qBJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ+ebruWJjeW3suaciea0u+i6jeacg+ipse+8jOiri+mHjeaWsOaVtOeQhumggemdouW+jOWGjeippu+8jOaIluetieW+heeVtuWJjeacg+ipsee1kOadnycsXG4gICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJ1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICflu7rnq4vpjITpn7PmnIPoqbHlpLHmlZcnXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5bu656uL6YyE6Z+z5pyD6Kmx5aSx5pWXOicsIGVycilcblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ+W7uueri+WkseaVlycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9LCBbc2Vzc2lvbiwgbm90ZXMsIHRvYXN0LCBhcHBEYXRhLmVkaXRvckNvbnRlbnRdKVxuXG4gIC8vIOmWi+Wni+mMhOmfsyAtIOaUr+aPtOWbm+eLgOaFi+a1geeoi1xuICBjb25zdCBzdGFydFJlY29yZGluZyA9IHVzZUNhbGxiYWNrKGFzeW5jICh0aXRsZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCLwn46kIHN0YXJ0UmVjb3JkaW5nOiDmtYHnqIvplovlp4tcIilcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICB0cnkge1xuICAgICAgLy8g5YWI5qqi5p+l5piv5ZCm5pyJ5rS76LqN5pyD6Kmx77yM56K65L+d5YmN56uv54uA5oWL6IiH5b6M56uv5ZCM5q2lXG4gICAgICBjb25zb2xlLmxvZyhcIvCfjqQgc3RhcnRSZWNvcmRpbmc6IOaqouafpea0u+i6jeacg+ipseeLgOaFi1wiKVxuICAgICAgY29uc3QgbGF0ZXN0QWN0aXZlU2Vzc2lvbiA9IGF3YWl0IHNlc3Npb24uY2hlY2tBY3RpdmVTZXNzaW9uKClcblxuICAgICAgbGV0IHNlc3Npb25Ub1JlY29yZCA9IGxhdGVzdEFjdGl2ZVNlc3Npb24gfHwgc2Vzc2lvbi5jdXJyZW50U2Vzc2lvblxuICAgICAgY29uc29sZS5sb2coXCLwn46kIHN0YXJ0UmVjb3JkaW5nOiDmnIPoqbHni4DmhYvmqqLmn6XntZDmnpw6XCIsIHtcbiAgICAgICAgbGF0ZXN0QWN0aXZlU2Vzc2lvbjogbGF0ZXN0QWN0aXZlU2Vzc2lvbj8uaWQsXG4gICAgICAgIGN1cnJlbnRTZXNzaW9uOiBzZXNzaW9uLmN1cnJlbnRTZXNzaW9uPy5pZCxcbiAgICAgICAgZmluYWxTZXNzaW9uVG9Vc2U6IHNlc3Npb25Ub1JlY29yZD8uaWRcbiAgICAgIH0pXG5cbiAgICAgIGlmIChsYXRlc3RBY3RpdmVTZXNzaW9uICYmICFzZXNzaW9uLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+OpCBzdGFydFJlY29yZGluZzog5qqi5ris5Yiw5rS76LqN5pyD6Kmx77yM5ZCM5q2l5YmN56uv54uA5oWLXCIpXG4gICAgICB9XG5cbiAgICAgIGlmICghc2Vzc2lvblRvUmVjb3JkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+OpCBzdGFydFJlY29yZGluZzog5rKS5pyJIHNlc3Npb27vvIzlu7rnq4vmlrDnmoTpjITpn7Mgc2Vzc2lvblwiKVxuICAgICAgICBjb25zdCBuZXdTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbi5jcmVhdGVSZWNvcmRpbmdTZXNzaW9uKHRpdGxlLCBhcHBEYXRhLmVkaXRvckNvbnRlbnQpXG4gICAgICAgIGlmICghbmV3U2Vzc2lvbikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLwn46kIHN0YXJ0UmVjb3JkaW5nOiDlu7rnq4sgc2Vzc2lvbiDlpLHmlZfvvIzlm57lgrPlgLzngrogbnVsbFwiKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign54Sh5rOV5bu656uL5paw55qE6YyE6Z+z5pyD6KmxJylcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIvCfjqQgc3RhcnRSZWNvcmRpbmc6IFNlc3Npb24g5bu656uL5oiQ5YqfOlwiLCBuZXdTZXNzaW9uKVxuICAgICAgICBzZXNzaW9uVG9SZWNvcmQgPSBuZXdTZXNzaW9uXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdkcmFmdF9ub3RlJylcbiAgICAgIH0gZWxzZSBpZiAoc2Vzc2lvblRvUmVjb3JkLnR5cGUgPT09ICdub3RlX29ubHknKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+OpCBzdGFydFJlY29yZGluZzog5YG15ris5YiwIG5vdGVfb25seSBzZXNzaW9u77yM6YCy6KGM5Y2H57SaXCIpXG4gICAgICAgIGNvbnN0IHVwZ3JhZGVkU2Vzc2lvbiA9IGF3YWl0IHNlc3Npb24udXBncmFkZVRvUmVjb3JkaW5nKClcbiAgICAgICAgaWYgKCF1cGdyYWRlZFNlc3Npb24pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi8J+OpCBzdGFydFJlY29yZGluZzog5Y2H57SaIHNlc3Npb24g5aSx5pWX77yM5Zue5YKz5YC854K6IG51bGxcIilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+eEoeazleWNh+e0muacg+ipsScpXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCLwn46kIHN0YXJ0UmVjb3JkaW5nOiBTZXNzaW9uIOWNh+e0muaIkOWKnzpcIiwgdXBncmFkZWRTZXNzaW9uKVxuICAgICAgICBzZXNzaW9uVG9SZWNvcmQgPSB1cGdyYWRlZFNlc3Npb25cbiAgICAgIH0gZWxzZSBpZiAoc2Vzc2lvblRvUmVjb3JkLnR5cGUgPT09ICdyZWNvcmRpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+OpCBzdGFydFJlY29yZGluZzog5L2/55So54++5pyJ55qE6YyE6Z+z5pyD6KmxOlwiLCBzZXNzaW9uVG9SZWNvcmQuaWQpXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwi8J+OpCBzdGFydFJlY29yZGluZzog5rqW5YKZ5ZG85Y+rIHJlY29yZGluZy5zdGFydFJlY29yZGluZ1wiKVxuICAgICAgLy8gcmVjb3JkaW5nLnN0YXJ0UmVjb3JkaW5nIOS9v+eUqCBUcmFuc2NyaXB0TWFuYWdlcu+8jOe1seS4gOeuoeeQhumAkOWtl+eov+mAo+aOpVxuICAgICAgYXdhaXQgcmVjb3JkaW5nLnN0YXJ0UmVjb3JkaW5nKHNlc3Npb25Ub1JlY29yZC5pZClcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+OpCBzdGFydFJlY29yZGluZzogcmVjb3JkaW5nLnN0YXJ0UmVjb3JkaW5nIOWRvOWPq+WujOeVolwiKVxuXG4gICAgICBjb25zb2xlLmxvZyhcIvCfjqQgc3RhcnRSZWNvcmRpbmc6IOi3s+mBjiB0cmFuc2NyaXB0LmNvbm5lY3TvvIzpgb/lhY3pm5nph43nm6Pogb3lmahcIilcbiAgICAgIC8vIOenu+mZpOmHjeikh+mAo+aOpe+8mnVzZVJlY29yZGluZyDlt7LntpPpgI/pgY4gVHJhbnNjcmlwdE1hbmFnZXIg6YCj5o6l6YCQ5a2X56i/XG4gICAgICAvLyDpgb/lhY0gdXNlVHJhbnNjcmlwdCDlkowgdXNlUmVjb3JkaW5nIOWQjOaZgua3u+WKoOebo+iBveWZqOWwjuiHtOertueIreaineS7tlxuICAgICAgY29uc29sZS5sb2coXCLwn46kIHN0YXJ0UmVjb3JkaW5nOiDpgJDlrZfnqL/lsIfnlLEgdXNlUmVjb3JkaW5nIGhvb2sg57Wx5LiA566h55CGXCIpXG5cbiAgICAgIHRvYXN0KHsgdGl0bGU6ICfpjITpn7Pplovlp4snIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyDnibnliKXomZXnkIbmnIPoqbHooZ3nqoHpjK/oqqRcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygn5qqi5ris5Yiw5rS76LqN5pyD6Kmx6KGd56qBJykpIHtcbiAgICAgICAgY29uc3QgY29uZmxpY3RNc2cgPSAn5YG15ris5Yiw5pyD6Kmx6KGd56qB77yM6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6KmmJ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwi8J+OpCBzdGFydFJlY29yZGluZzog5pyD6Kmx6KGd56qB6Yyv6KqkOlwiLCBlcnIubWVzc2FnZSlcbiAgICAgICAgc2V0RXJyb3IoY29uZmxpY3RNc2cpXG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogJ+acg+ipseihneeqgScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICfnm67liY3lt7LmnInmtLvouo3mnIPoqbHvvIzoq4vph43mlrDmlbTnkIbpoIHpnaLlvozlho3oqabvvIzmiJbnrYnlvoXnlbbliY3mnIPoqbHntZDmnZ8nLFxuICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZSdcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1zZyA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn6ZaL5aeL6YyE6Z+z5aSx5pWXJ1xuICAgICAgY29uc29sZS5lcnJvcihcIvCfjqQgc3RhcnRSZWNvcmRpbmc6IOa1geeoi+S4reeZvOeUn+mMr+iqpDpcIiwgbXNnKVxuICAgICAgc2V0RXJyb3IobXNnKVxuICAgICAgdG9hc3QoeyB0aXRsZTogJ+mMhOmfs+WkseaVlycsIGRlc2NyaXB0aW9uOiBtc2csIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScgfSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgY29uc29sZS5sb2coXCLwn46kIHN0YXJ0UmVjb3JkaW5nOiDmtYHnqIvntZDmnZ9cIilcbiAgICB9XG4gIH0sIFtzZXNzaW9uLCByZWNvcmRpbmcsIHRyYW5zY3JpcHQsIGFwcERhdGEuZWRpdG9yQ29udGVudCwgdG9hc3RdKVxuXG4gIC8vIOWNh+e0muacg+ipseeCuumMhOmfs+aooeW8j1xuICBjb25zdCB1cGdyYWRlVG9SZWNvcmRpbmcgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgc2V0RXJyb3IobnVsbClcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVkU2Vzc2lvbiA9IGF3YWl0IHNlc3Npb24udXBncmFkZVRvUmVjb3JkaW5nKClcbiAgICAgIGlmICh1cGRhdGVkU2Vzc2lvbikge1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIOacg+ipseWNh+e0mueCuumMhOmfs+aooeW8j+aIkOWKnycpXG5cbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiAn5Y2H57Sa5oiQ5YqfJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ+acg+ipseW3suWNh+e0mueCuumMhOmfs+aooeW8jycsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+WNh+e0muacg+ipseWkseaVlydcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDljYfntJrmnIPoqbHlpLHmlZc6JywgZXJyKVxuXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAn5Y2H57Sa5aSx5pWXJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH0sIFtzZXNzaW9uLCB0b2FzdF0pXG5cbiAgLy8g5YGc5q2i6YyE6Z+zIC0g6Ieq5YuV6L2J54K6IHByb2Nlc3Npbmcg54uA5oWLXG4gIGNvbnN0IHN0b3BSZWNvcmRpbmcgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgc2V0RXJyb3IobnVsbClcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCByZWNvcmRpbmcuc3RvcFJlY29yZGluZygpXG5cbiAgICAgIC8vIOaWt+mWiyB0cmFuc2NyaXB0IOmAo+aOpVxuICAgICAgdHJhbnNjcmlwdC5kaXNjb25uZWN0KClcblxuICAgICAgLy8g54uA5oWL6L2J54K6IHByb2Nlc3NpbmdcbiAgICAgIHNldEFwcERhdGEocHJldiA9PiAoeyAuLi5wcmV2LCBzdGF0ZTogXCJwcm9jZXNzaW5nXCIgfSkpXG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUg6YyE6Z+z5YGc5q2i77yM6ZaL5aeL6JmV55CG6YCQ5a2X56i/JylcblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ+iZleeQhuS4rScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn5q2j5Zyo6JmV55CG6YyE6Z+z5YWn5a6577yM6KuL56iN5YCZLi4uJyxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+WBnOatoumMhOmfs+WkseaVlydcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDlgZzmraLpjITpn7PlpLHmlZc6JywgZXJyKVxuXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAn5YGc5q2i5aSx5pWXJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH0sIFtyZWNvcmRpbmcsIHRvYXN0XSlcblxuICAvLyDlrozmiJDmnIPoqbFcbiAgY29uc3QgZmluaXNoU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICBzZXRFcnJvcihudWxsKVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNlc3Npb24uZmluaXNoU2Vzc2lvbigpXG4gICAgICBjb25zb2xlLmxvZygn4pyFIOacg+ipseWujOaIkCcpXG5cbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICfmnIPoqbHlrozmiJAnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ+aCqOWPr+S7peWMr+WHuuethuiomOaIlumWi+Wni+aWsOeahOethuiomCcsXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICflrozmiJDmnIPoqbHlpLHmlZcnXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5a6M5oiQ5pyD6Kmx5aSx5pWXOicsIGVycilcblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ+WujOaIkOWkseaVlycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9LCBbc2Vzc2lvbiwgdG9hc3RdKVxuXG4gIC8vIOmWi+aWsOethuiomCAtIOa4heepuueVtuWJjeizh+aWme+8jOeLgOaFi+WbnuWIsCBkZWZhdWx0XG4gIGNvbnN0IG5ld05vdGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgc2V0RXJyb3IobnVsbClcblxuICAgIHRyeSB7XG4gICAgICAvLyDlpoLmnpzmnInmtLvouo3mnIPoqbHvvIzlhYjliKrpmaTlroNcbiAgICAgIGlmIChzZXNzaW9uLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5eR77iPIOWIqumZpOeVtuWJjea0u+i6jeacg+ipsTonLCBzZXNzaW9uLmN1cnJlbnRTZXNzaW9uLmlkKVxuICAgICAgICBhd2FpdCBzZXNzaW9uLmRlbGV0ZVNlc3Npb24oKVxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIOacg+ipseWIqumZpOaIkOWKnycpXG4gICAgICB9XG5cbiAgICAgIC8vIOa4heepuueVtuWJjeizh+aWmVxuICAgICAgc2V0QXBwRGF0YSh7XG4gICAgICAgIHN0YXRlOiBcImRlZmF1bHRcIixcbiAgICAgICAgdHJhbnNjcmlwdEVudHJpZXM6IFtdLFxuICAgICAgICBlZGl0b3JDb250ZW50OiBcIlwiLFxuICAgICAgICBpc1JlY29yZGluZzogZmFsc2UsXG4gICAgICAgIHJlY29yZGluZ1RpbWU6IDAsXG4gICAgICB9KVxuXG4gICAgICAvLyDmuIXpmaTpjITpn7PlkozpgJDlrZfnqL/ni4DmhYtcbiAgICAgIHJlY29yZGluZy5jbGVhclRyYW5zY3JpcHRzKClcbiAgICAgIHRyYW5zY3JpcHQuY2xlYXJUcmFuc2NyaXB0cygpXG4gICAgICBub3Rlcy5jbGVhck5vdGUoKVxuXG4gICAgICAvLyDmuIXpmaTmnKzlnLDojYnnqL9cbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdkcmFmdF9ub3RlJylcblxuICAgICAgY29uc29sZS5sb2coJ/CflIQg5bey6ZaL5aeL5paw562G6KiYJylcblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ+aWsOethuiomCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn5bey5riF56m65YWn5a6577yM5Y+v5Lul6ZaL5aeL5paw55qE562G6KiYJyxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+mWi+Wni+aWsOethuiomOWkseaVlydcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDplovlp4vmlrDnrYboqJjlpLHmlZc6JywgZXJyKVxuXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAn5pON5L2c5aSx5pWXJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH0sIFtzZXNzaW9uLCByZWNvcmRpbmcsIHRyYW5zY3JpcHQsIG5vdGVzLCB0b2FzdF0pXG5cbiAgLy8g6Ieq5YuV5YSy5a2Y562G6KiY5YWn5a655Yiw5pys5Zyw6I2J56i/XG4gIGNvbnN0IHNhdmVMb2NhbERyYWZ0ID0gdXNlQ2FsbGJhY2soKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghc2Vzc2lvbi5jdXJyZW50U2Vzc2lvbiAmJiBjb250ZW50LnRyaW0oKSkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RyYWZ0X25vdGUnLCBjb250ZW50KVxuICAgIH1cbiAgfSwgW3Nlc3Npb24uY3VycmVudFNlc3Npb25dKVxuXG4gIHJldHVybiB7XG4gICAgLy8g5oeJ55So54uA5oWLXG4gICAgYXBwRGF0YSxcbiAgICBpc0xvYWRpbmcsXG4gICAgZXJyb3IsXG5cbiAgICAvLyDmnIPoqbHnrqHnkIZcbiAgICBjcmVhdGVOb3RlU2Vzc2lvbixcbiAgICBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uLFxuICAgIHVwZ3JhZGVUb1JlY29yZGluZyxcbiAgICBmaW5pc2hTZXNzaW9uLFxuICAgIG5ld05vdGUsXG5cbiAgICAvLyDpjITpn7PmjqfliLZcbiAgICBzdGFydFJlY29yZGluZyxcbiAgICBzdG9wUmVjb3JkaW5nLFxuXG4gICAgLy8g5pys5Zyw6I2J56i/XG4gICAgc2F2ZUxvY2FsRHJhZnQsXG5cbiAgICAvLyDlpJbpg6jni4DmhYtcbiAgICBzZXNzaW9uOiBzZXNzaW9uLmN1cnJlbnRTZXNzaW9uLFxuICAgIHNlc3Npb25Mb2FkaW5nOiBzZXNzaW9uLmlzTG9hZGluZyxcbiAgICBzZXNzaW9uRXJyb3I6IHNlc3Npb24uZXJyb3IsXG5cbiAgICAvLyDpjITpn7Pni4DmhYtcbiAgICByZWNvcmRpbmdFcnJvcjogcmVjb3JkaW5nLmVycm9yLFxuXG4gICAgLy8g6YCQ5a2X56i/54uA5oWLXG4gICAgdHJhbnNjcmlwdENvbm5lY3RlZDogdHJhbnNjcmlwdC5pc0Nvbm5lY3RlZCxcbiAgICB0cmFuc2NyaXB0RXJyb3I6IHRyYW5zY3JpcHQuZXJyb3IsXG4gICAgdHJhbnNjcmlwdEF1dG9TY3JvbGw6IHRyYW5zY3JpcHQuYXV0b1Njcm9sbEVuYWJsZWQsXG4gICAgZW5hYmxlQXV0b1Njcm9sbDogdHJhbnNjcmlwdC5lbmFibGVBdXRvU2Nyb2xsLFxuICAgIGRpc2FibGVBdXRvU2Nyb2xsOiB0cmFuc2NyaXB0LmRpc2FibGVBdXRvU2Nyb2xsLFxuICAgIHNjcm9sbFRvTGF0ZXN0OiB0cmFuc2NyaXB0LnNjcm9sbFRvTGF0ZXN0LFxuICB9XG59XG5cbmV4cG9ydCB7IG1hcEJhY2tlbmRUb0Zyb250ZW5kU3RhdGUgfVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTZXNzaW9uIiwidXNlUmVjb3JkaW5nIiwidXNlTm90ZXMiLCJ1c2VUcmFuc2NyaXB0IiwidXNlVG9hc3QiLCJtYXBCYWNrZW5kVG9Gcm9udGVuZFN0YXRlIiwic3RhdHVzIiwidHlwZSIsImlzUmVjb3JkaW5nIiwidHJhbnNjcmlwdHNQcmVzZW50IiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImlzb1RpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwiY29uc29sZSIsImxvZyIsIm5vdGUiLCJyZXN1bHRTdGF0ZSIsInJlYXNvbiIsInRyaWdnZXIiLCJ3YWl0aW5nIiwicmVjb3ZlcnkiLCJ1bmtub3duU3RhdHVzIiwiaW5wdXRQYXJhbXMiLCJvdXRwdXQiLCJkdXJhdGlvbiIsInVzZUFwcFN0YXRlIiwiYXBwRGF0YSIsInNldEFwcERhdGEiLCJzdGF0ZSIsInRyYW5zY3JpcHRFbnRyaWVzIiwiZWRpdG9yQ29udGVudCIsInJlY29yZGluZ1RpbWUiLCJzZXNzaW9uIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInJlY29yZGluZyIsIm5vdGVzIiwidHJhbnNjcmlwdCIsInRvYXN0IiwicHJldlN0YXRlUmVmIiwicHJldlRyYW5zY3JpcHRDb21wbGV0ZWRSZWYiLCJwcmV2RXJyb3JTdGF0ZVJlZiIsIm1hcFN0YXRlRnJvbVNlc3Npb24iLCJjdXJyZW50U2Vzc2lvbiIsInRyYW5zY3JpcHRzIiwiZXhlY3V0aW9uVGltZXN0YW1wIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwic2Vzc2lvbklkIiwiaWQiLCJzZXNzaW9uU3RhdHVzIiwic2Vzc2lvblR5cGUiLCJ0cmFuc2NyaXB0Q291bnQiLCJ0cmFuc2NyaXB0c1NhbXBsZSIsInNsaWNlIiwibWFwIiwidCIsInRleHQiLCJzdWJzdHJpbmciLCJzdGFydF90aW1lIiwicmVzdWx0IiwiaW5wdXQiLCJleGVjdXRpb25EdXJhdGlvbiIsImFjdGl2ZVNlc3Npb24iLCJlZmZlY3RFeGVjdXRpb25UaW1lIiwiaGFzQWN0aXZlU2Vzc2lvbiIsInJlY29yZGluZ0lzUmVjb3JkaW5nIiwiYXBwRGF0YUlzUmVjb3JkaW5nIiwiaXNSZWNvcmRpbmdDb25zaXN0ZW50IiwicmVjb3JkaW5nVHJhbnNjcmlwdENvdW50IiwiY3VycmVudEFwcFN0YXRlIiwiY3VycmVudCIsImxhdGVzdFRyYW5zY3JpcHRzIiwibGF0ZXN0VHJhbnNjcmlwdFRpbWUiLCJsYXRlc3RUcmFuc2NyaXB0VGV4dCIsImZyb250ZW5kU3RhdGUiLCJuZWVkc0lzUmVjb3JkaW5nVXBkYXRlIiwibmVlZHNTdGF0ZVVwZGF0ZSIsInByZXZpb3VzU3RhdGUiLCJuZXdTdGF0ZSIsInN0YXRlQ2hhbmdlVGltZXN0YW1wIiwidHJpZ2dlclNvdXJjZSIsInByZXYiLCJjdXJyZW50U3RhdGUiLCJleGVjdXRpb25UaW1lIiwiaXNNb3VudGVkIiwiaW5pdGlhbGl6ZUFwcCIsImNoZWNrQWN0aXZlU2Vzc2lvbiIsImxvYWROb3RlIiwiZHJhZnRDb250ZW50IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwid2FybiIsImZyb20iLCJ0byIsIm5lZWRzVXBkYXRlIiwicHJldklzUmVjb3JkaW5nIiwibmV3SXNSZWNvcmRpbmciLCJwcmV2UmVjb3JkaW5nVGltZSIsIm5ld1JlY29yZGluZ1RpbWUiLCJub3RlQ29udGVudCIsInJlY29yZGluZ1RyYW5zY3JpcHRzIiwidHJhbnNjcmlwdE1zZyIsInN0YXJ0VGltZSIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJzZWNvbmRzIiwidGltZVN0ciIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJ0aW1lIiwiZW50cmllc0NvdW50IiwiZW50cmllcyIsImZpcnN0RW50cnkiLCJhcHBEYXRhQmVmb3JlIiwicHJldlRyYW5zY3JpcHRFbnRyaWVzIiwibmV3VHJhbnNjcmlwdEVudHJpZXMiLCJpc0NoYW5nZWQiLCJjdXJyZW50Q29tcGxldGVkIiwiaXNDb21wbGV0ZWQiLCJ3YXNDb21wbGV0ZWQiLCJmaW5pc2hTZXNzaW9uIiwiY2F0Y2giLCJyZWNvcmRpbmdFcnJvciIsInRyYW5zY3JpcHRFcnJvciIsInByZXZFcnJvcnMiLCJzdG9wUmVjb3JkaW5nIiwiZGlzY29ubmVjdCIsImVycm9yTWVzc2FnZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwiY3JlYXRlTm90ZVNlc3Npb24iLCJuZXdTZXNzaW9uIiwicmVtb3ZlSXRlbSIsImVyciIsImNvbmZsaWN0TXNnIiwibXNnIiwiY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbiIsInN0YXJ0UmVjb3JkaW5nIiwibGF0ZXN0QWN0aXZlU2Vzc2lvbiIsInNlc3Npb25Ub1JlY29yZCIsImZpbmFsU2Vzc2lvblRvVXNlIiwidXBncmFkZWRTZXNzaW9uIiwidXBncmFkZVRvUmVjb3JkaW5nIiwidXBkYXRlZFNlc3Npb24iLCJuZXdOb3RlIiwiZGVsZXRlU2Vzc2lvbiIsImNsZWFyVHJhbnNjcmlwdHMiLCJjbGVhck5vdGUiLCJzYXZlTG9jYWxEcmFmdCIsImNvbnRlbnQiLCJ0cmltIiwic2V0SXRlbSIsInNlc3Npb25Mb2FkaW5nIiwic2Vzc2lvbkVycm9yIiwidHJhbnNjcmlwdENvbm5lY3RlZCIsImlzQ29ubmVjdGVkIiwidHJhbnNjcmlwdEF1dG9TY3JvbGwiLCJhdXRvU2Nyb2xsRW5hYmxlZCIsImVuYWJsZUF1dG9TY3JvbGwiLCJkaXNhYmxlQXV0b1Njcm9sbCIsInNjcm9sbFRvTGF0ZXN0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-app-state.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-local-draft.ts":
/*!**********************************!*\
  !*** ./hooks/use-local-draft.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLocalDraft: () => (/* binding */ useLocalDraft)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ useLocalDraft auto */ \nconst DRAFT_KEY = 'studyscriber_draft';\nfunction useLocalDraft(sessionId) {\n    const [draft, setDraft] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        title: '',\n        content: ''\n    });\n    const [hasDraft, setHasDraft] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [lastDraftTime, setLastDraftTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const autoSaveTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentSessionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(sessionId);\n    // 更新 session ID\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useLocalDraft.useEffect\": ()=>{\n            currentSessionRef.current = sessionId;\n        }\n    }[\"useLocalDraft.useEffect\"], [\n        sessionId\n    ]);\n    // 清除自動儲存計時器\n    const clearAutoSaveTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[clearAutoSaveTimeout]\": ()=>{\n            if (autoSaveTimeoutRef.current) {\n                clearTimeout(autoSaveTimeoutRef.current);\n                autoSaveTimeoutRef.current = null;\n            }\n        }\n    }[\"useLocalDraft.useCallback[clearAutoSaveTimeout]\"], []);\n    // 從 localStorage 載入草稿\n    const loadDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[loadDraft]\": ()=>{\n            try {\n                const draftJson = localStorage.getItem(DRAFT_KEY);\n                if (!draftJson) {\n                    setHasDraft(false);\n                    return null;\n                }\n                const parsed = JSON.parse(draftJson);\n                const draftData = {\n                    title: parsed.title || '',\n                    content: parsed.content || ''\n                };\n                const timestamp = parsed.timestamp ? new Date(parsed.timestamp) : new Date();\n                const storedSessionId = parsed.sessionId;\n                // 檢查草稿是否屬於當前會話（如果有指定會話）\n                if (currentSessionRef.current && storedSessionId !== currentSessionRef.current) {\n                    console.log('📝 草稿屬於其他會話，不載入');\n                    return null;\n                }\n                setDraft(draftData);\n                setHasDraft(!!(draftData.title.trim() || draftData.content.trim()));\n                setLastDraftTime(timestamp);\n                console.log('📖 草稿已從本地載入');\n                return draftData;\n            } catch (err) {\n                console.error('❌ 載入草稿失敗:', err);\n                return null;\n            }\n        }\n    }[\"useLocalDraft.useCallback[loadDraft]\"], []);\n    // 儲存草稿到 localStorage\n    const saveDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[saveDraft]\": (data)=>{\n            const now = new Date();\n            // 取得目前的草稿內容，並與新的內容合併\n            const currentDraft = {\n                ...draft,\n                ...data\n            };\n            if (!currentDraft.title.trim() && !currentDraft.content.trim()) {\n                // 空內容時清除草稿\n                clearDraft();\n                return;\n            }\n            const draftDataToStore = {\n                ...currentDraft,\n                timestamp: now.toISOString(),\n                sessionId: currentSessionRef.current || null\n            };\n            try {\n                localStorage.setItem(DRAFT_KEY, JSON.stringify(draftDataToStore));\n                setDraft(currentDraft);\n                setHasDraft(true);\n                setLastDraftTime(now);\n                console.log('💾 草稿已儲存到本地:', currentDraft);\n            } catch (err) {\n                console.error('❌ 儲存草稿失敗:', err);\n            }\n        }\n    }[\"useLocalDraft.useCallback[saveDraft]\"], [\n        draft\n    ]) // 依賴 draft 狀態\n    ;\n    // 清除草稿\n    const clearDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[clearDraft]\": ()=>{\n            clearAutoSaveTimeout();\n            try {\n                localStorage.removeItem(DRAFT_KEY);\n                const clearedDraft = {\n                    title: '',\n                    content: ''\n                };\n                setDraft(clearedDraft);\n                setHasDraft(false);\n                setLastDraftTime(null);\n                console.log('🗑️ 草稿已清除');\n            } catch (err) {\n                console.error('❌ 清除草稿失敗:', err);\n            }\n        }\n    }[\"useLocalDraft.useCallback[clearDraft]\"], [\n        clearAutoSaveTimeout\n    ]);\n    // 判斷草稿是否比伺服器版本更新\n    const isDraftNewer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[isDraftNewer]\": (serverTimestamp)=>{\n            if (!lastDraftTime || !hasDraft) {\n                return false;\n            }\n            return lastDraftTime > serverTimestamp;\n        }\n    }[\"useLocalDraft.useCallback[isDraftNewer]\"], [\n        lastDraftTime,\n        hasDraft\n    ]);\n    // 自動儲存草稿（使用防抖動）\n    const autoSaveDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useLocalDraft.useCallback[autoSaveDraft]\": (data)=>{\n            clearAutoSaveTimeout();\n            // 500ms 防抖動，避免過於頻繁的儲存\n            autoSaveTimeoutRef.current = setTimeout({\n                \"useLocalDraft.useCallback[autoSaveDraft]\": ()=>{\n                    saveDraft(data);\n                }\n            }[\"useLocalDraft.useCallback[autoSaveDraft]\"], 500);\n        }\n    }[\"useLocalDraft.useCallback[autoSaveDraft]\"], [\n        saveDraft,\n        clearAutoSaveTimeout\n    ]);\n    // 初始化時載入草稿\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useLocalDraft.useEffect\": ()=>{\n            loadDraft();\n        }\n    }[\"useLocalDraft.useEffect\"], [\n        loadDraft\n    ]);\n    // 組件卸載時清理\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useLocalDraft.useEffect\": ()=>{\n            return ({\n                \"useLocalDraft.useEffect\": ()=>{\n                    clearAutoSaveTimeout();\n                }\n            })[\"useLocalDraft.useEffect\"];\n        }\n    }[\"useLocalDraft.useEffect\"], [\n        clearAutoSaveTimeout\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useLocalDraft.useMemo\": ()=>({\n                draft,\n                hasDraft,\n                lastDraftTime,\n                saveDraft: autoSaveDraft,\n                loadDraft,\n                clearDraft,\n                isDraftNewer\n            })\n    }[\"useLocalDraft.useMemo\"], [\n        draft,\n        hasDraft,\n        lastDraftTime,\n        autoSaveDraft,\n        loadDraft,\n        clearDraft,\n        isDraftNewer\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQ1g3QjtnQkFDQW9CO2dCQUNBTztZQUNKO2dDQUFJO1FBQ0F4QztRQUNBSTtRQUNBRTtRQUNBb0M7UUFDQTdCO1FBQ0FvQjtRQUNBTztLQUNIO0FBQ0wiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS1sb2NhbC1kcmFmdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5cbmludGVyZmFjZSBEcmFmdERhdGEge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgY29udGVudDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVXNlTG9jYWxEcmFmdFJldHVybiB7XG4gICAgZHJhZnQ6IERyYWZ0RGF0YTtcbiAgICBoYXNEcmFmdDogYm9vbGVhblxuICAgIGxhc3REcmFmdFRpbWU6IERhdGUgfCBudWxsXG4gICAgc2F2ZURyYWZ0OiAoZGF0YTogUGFydGlhbDxEcmFmdERhdGE+KSA9PiB2b2lkXG4gICAgbG9hZERyYWZ0OiAoKSA9PiBEcmFmdERhdGEgfCBudWxsXG4gICAgY2xlYXJEcmFmdDogKCkgPT4gdm9pZFxuICAgIGlzRHJhZnROZXdlcjogKHNlcnZlclRpbWVzdGFtcDogRGF0ZSkgPT4gYm9vbGVhblxufVxuXG5jb25zdCBEUkFGVF9LRVkgPSAnc3R1ZHlzY3JpYmVyX2RyYWZ0J1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTG9jYWxEcmFmdChzZXNzaW9uSWQ/OiBzdHJpbmcpOiBVc2VMb2NhbERyYWZ0UmV0dXJuIHtcbiAgICBjb25zdCBbZHJhZnQsIHNldERyYWZ0XSA9IHVzZVN0YXRlPERyYWZ0RGF0YT4oeyB0aXRsZTogJycsIGNvbnRlbnQ6ICcnIH0pXG4gICAgY29uc3QgW2hhc0RyYWZ0LCBzZXRIYXNEcmFmdF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbbGFzdERyYWZ0VGltZSwgc2V0TGFzdERyYWZ0VGltZV0gPSB1c2VTdGF0ZTxEYXRlIHwgbnVsbD4obnVsbClcblxuICAgIGNvbnN0IGF1dG9TYXZlVGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgY3VycmVudFNlc3Npb25SZWYgPSB1c2VSZWY8c3RyaW5nIHwgdW5kZWZpbmVkPihzZXNzaW9uSWQpXG5cbiAgICAvLyDmm7TmlrAgc2Vzc2lvbiBJRFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGN1cnJlbnRTZXNzaW9uUmVmLmN1cnJlbnQgPSBzZXNzaW9uSWRcbiAgICB9LCBbc2Vzc2lvbklkXSlcblxuICAgIC8vIOa4hemZpOiHquWLleWEsuWtmOioiOaZguWZqFxuICAgIGNvbnN0IGNsZWFyQXV0b1NhdmVUaW1lb3V0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoYXV0b1NhdmVUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhdXRvU2F2ZVRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgICAgICAgIGF1dG9TYXZlVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICB9XG4gICAgfSwgW10pXG5cbiAgICAvLyDlvp4gbG9jYWxTdG9yYWdlIOi8ieWFpeiNieeov1xuICAgIGNvbnN0IGxvYWREcmFmdCA9IHVzZUNhbGxiYWNrKCgpOiBEcmFmdERhdGEgfCBudWxsID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRyYWZ0SnNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKERSQUZUX0tFWSlcbiAgICAgICAgICAgIGlmICghZHJhZnRKc29uKSB7XG4gICAgICAgICAgICAgICAgc2V0SGFzRHJhZnQoZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShkcmFmdEpzb24pXG4gICAgICAgICAgICBjb25zdCBkcmFmdERhdGE6IERyYWZ0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogcGFyc2VkLnRpdGxlIHx8ICcnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcnNlZC5jb250ZW50IHx8ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBwYXJzZWQudGltZXN0YW1wID8gbmV3IERhdGUocGFyc2VkLnRpbWVzdGFtcCkgOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICBjb25zdCBzdG9yZWRTZXNzaW9uSWQgPSBwYXJzZWQuc2Vzc2lvbklkXG5cbiAgICAgICAgICAgIC8vIOaqouafpeiNieeov+aYr+WQpuWxrOaWvOeVtuWJjeacg+ipse+8iOWmguaenOacieaMh+Wumuacg+ipse+8iVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uUmVmLmN1cnJlbnQgJiYgc3RvcmVkU2Vzc2lvbklkICE9PSBjdXJyZW50U2Vzc2lvblJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50g6I2J56i/5bGs5pa85YW25LuW5pyD6Kmx77yM5LiN6LyJ5YWlJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXREcmFmdChkcmFmdERhdGEpXG4gICAgICAgICAgICBzZXRIYXNEcmFmdCghIShkcmFmdERhdGEudGl0bGUudHJpbSgpIHx8IGRyYWZ0RGF0YS5jb250ZW50LnRyaW0oKSkpXG4gICAgICAgICAgICBzZXRMYXN0RHJhZnRUaW1lKHRpbWVzdGFtcClcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk5Yg6I2J56i/5bey5b6e5pys5Zyw6LyJ5YWlJylcbiAgICAgICAgICAgIHJldHVybiBkcmFmdERhdGFcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg6LyJ5YWl6I2J56i/5aSx5pWXOicsIGVycilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICB9LCBbXSlcblxuICAgIC8vIOWEsuWtmOiNieeov+WIsCBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBzYXZlRHJhZnQgPSB1c2VDYWxsYmFjaygoZGF0YTogUGFydGlhbDxEcmFmdERhdGE+KSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcblxuICAgICAgICAvLyDlj5blvpfnm67liY3nmoTojYnnqL/lhaflrrnvvIzkuKboiIfmlrDnmoTlhaflrrnlkIjkvbVcbiAgICAgICAgY29uc3QgY3VycmVudERyYWZ0ID0geyAuLi5kcmFmdCwgLi4uZGF0YSB9XG5cbiAgICAgICAgaWYgKCFjdXJyZW50RHJhZnQudGl0bGUudHJpbSgpICYmICFjdXJyZW50RHJhZnQuY29udGVudC50cmltKCkpIHtcbiAgICAgICAgICAgIC8vIOepuuWFp+WuueaZgua4hemZpOiNieeov1xuICAgICAgICAgICAgY2xlYXJEcmFmdCgpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRyYWZ0RGF0YVRvU3RvcmUgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50RHJhZnQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiBjdXJyZW50U2Vzc2lvblJlZi5jdXJyZW50IHx8IG51bGwsXG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oRFJBRlRfS0VZLCBKU09OLnN0cmluZ2lmeShkcmFmdERhdGFUb1N0b3JlKSlcbiAgICAgICAgICAgIHNldERyYWZ0KGN1cnJlbnREcmFmdClcbiAgICAgICAgICAgIHNldEhhc0RyYWZ0KHRydWUpXG4gICAgICAgICAgICBzZXRMYXN0RHJhZnRUaW1lKG5vdylcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4g6I2J56i/5bey5YSy5a2Y5Yiw5pys5ZywOicsIGN1cnJlbnREcmFmdClcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5YSy5a2Y6I2J56i/5aSx5pWXOicsIGVycilcbiAgICAgICAgfVxuICAgIH0sIFtkcmFmdF0pIC8vIOS+neiztCBkcmFmdCDni4DmhYtcblxuICAgIC8vIOa4hemZpOiNieeov1xuICAgIGNvbnN0IGNsZWFyRHJhZnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNsZWFyQXV0b1NhdmVUaW1lb3V0KClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKERSQUZUX0tFWSlcblxuICAgICAgICAgICAgY29uc3QgY2xlYXJlZERyYWZ0ID0geyB0aXRsZTogJycsIGNvbnRlbnQ6ICcnIH1cbiAgICAgICAgICAgIHNldERyYWZ0KGNsZWFyZWREcmFmdClcbiAgICAgICAgICAgIHNldEhhc0RyYWZ0KGZhbHNlKVxuICAgICAgICAgICAgc2V0TGFzdERyYWZ0VGltZShudWxsKVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+Xke+4jyDojYnnqL/lt7LmuIXpmaQnKVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDmuIXpmaTojYnnqL/lpLHmlZc6JywgZXJyKVxuICAgICAgICB9XG4gICAgfSwgW2NsZWFyQXV0b1NhdmVUaW1lb3V0XSlcblxuICAgIC8vIOWIpOaWt+iNieeov+aYr+WQpuavlOS8uuacjeWZqOeJiOacrOabtOaWsFxuICAgIGNvbnN0IGlzRHJhZnROZXdlciA9IHVzZUNhbGxiYWNrKChzZXJ2ZXJUaW1lc3RhbXA6IERhdGUpOiBib29sZWFuID0+IHtcbiAgICAgICAgaWYgKCFsYXN0RHJhZnRUaW1lIHx8ICFoYXNEcmFmdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhc3REcmFmdFRpbWUgPiBzZXJ2ZXJUaW1lc3RhbXBcbiAgICB9LCBbbGFzdERyYWZ0VGltZSwgaGFzRHJhZnRdKVxuXG4gICAgLy8g6Ieq5YuV5YSy5a2Y6I2J56i/77yI5L2/55So6Ziy5oqW5YuV77yJXG4gICAgY29uc3QgYXV0b1NhdmVEcmFmdCA9IHVzZUNhbGxiYWNrKChkYXRhOiBQYXJ0aWFsPERyYWZ0RGF0YT4pID0+IHtcbiAgICAgICAgY2xlYXJBdXRvU2F2ZVRpbWVvdXQoKVxuXG4gICAgICAgIC8vIDUwMG1zIOmYsuaKluWLle+8jOmBv+WFjemBjuaWvOmgu+e5geeahOWEsuWtmFxuICAgICAgICBhdXRvU2F2ZVRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2F2ZURyYWZ0KGRhdGEpXG4gICAgICAgIH0sIDUwMClcbiAgICB9LCBbc2F2ZURyYWZ0LCBjbGVhckF1dG9TYXZlVGltZW91dF0pXG5cbiAgICAvLyDliJ3lp4vljJbmmYLovInlhaXojYnnqL9cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsb2FkRHJhZnQoKVxuICAgIH0sIFtsb2FkRHJhZnRdKVxuXG4gICAgLy8g57WE5Lu25Y246LyJ5pmC5riF55CGXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyQXV0b1NhdmVUaW1lb3V0KClcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckF1dG9TYXZlVGltZW91dF0pXG5cbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBkcmFmdCxcbiAgICAgICAgaGFzRHJhZnQsXG4gICAgICAgIGxhc3REcmFmdFRpbWUsXG4gICAgICAgIHNhdmVEcmFmdDogYXV0b1NhdmVEcmFmdCwgLy8g5L2/55So6Ziy5oqW54mI5pysXG4gICAgICAgIGxvYWREcmFmdCxcbiAgICAgICAgY2xlYXJEcmFmdCxcbiAgICAgICAgaXNEcmFmdE5ld2VyLFxuICAgIH0pLCBbXG4gICAgICAgIGRyYWZ0LFxuICAgICAgICBoYXNEcmFmdCxcbiAgICAgICAgbGFzdERyYWZ0VGltZSxcbiAgICAgICAgYXV0b1NhdmVEcmFmdCxcbiAgICAgICAgbG9hZERyYWZ0LFxuICAgICAgICBjbGVhckRyYWZ0LFxuICAgICAgICBpc0RyYWZ0TmV3ZXIsXG4gICAgXSlcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlTWVtbyIsIkRSQUZUX0tFWSIsInVzZUxvY2FsRHJhZnQiLCJzZXNzaW9uSWQiLCJkcmFmdCIsInNldERyYWZ0IiwidGl0bGUiLCJjb250ZW50IiwiaGFzRHJhZnQiLCJzZXRIYXNEcmFmdCIsImxhc3REcmFmdFRpbWUiLCJzZXRMYXN0RHJhZnRUaW1lIiwiYXV0b1NhdmVUaW1lb3V0UmVmIiwiY3VycmVudFNlc3Npb25SZWYiLCJjdXJyZW50IiwiY2xlYXJBdXRvU2F2ZVRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJsb2FkRHJhZnQiLCJkcmFmdEpzb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZHJhZnREYXRhIiwidGltZXN0YW1wIiwiRGF0ZSIsInN0b3JlZFNlc3Npb25JZCIsImNvbnNvbGUiLCJsb2ciLCJ0cmltIiwiZXJyIiwiZXJyb3IiLCJzYXZlRHJhZnQiLCJkYXRhIiwibm93IiwiY3VycmVudERyYWZ0IiwiY2xlYXJEcmFmdCIsImRyYWZ0RGF0YVRvU3RvcmUiLCJ0b0lTT1N0cmluZyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwiY2xlYXJlZERyYWZ0IiwiaXNEcmFmdE5ld2VyIiwic2VydmVyVGltZXN0YW1wIiwiYXV0b1NhdmVEcmFmdCIsInNldFRpbWVvdXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-local-draft.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-notes.ts":
/*!****************************!*\
  !*** ./hooks/use-notes.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useNotes: () => (/* binding */ useNotes)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/api */ \"(ssr)/./lib/api.ts\");\n/* harmony import */ var _use_local_draft__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-local-draft */ \"(ssr)/./hooks/use-local-draft.ts\");\n/* __next_internal_client_entry_do_not_use__ useNotes auto */ \n\n\nfunction useNotes() {\n    const [noteContent, setNoteContent] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n    const [lastSaved, setLastSaved] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isSaving, setIsSaving] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const autoSaveTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const lastContentRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)('');\n    const currentSessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 使用本地草稿功能\n    const localDraft = (0,_use_local_draft__WEBPACK_IMPORTED_MODULE_2__.useLocalDraft)(currentSessionIdRef.current || undefined);\n    // 清除自動儲存計時器\n    const clearAutoSaveTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[clearAutoSaveTimeout]\": ()=>{\n            if (autoSaveTimeoutRef.current) {\n                clearTimeout(autoSaveTimeoutRef.current);\n                autoSaveTimeoutRef.current = null;\n            }\n        }\n    }[\"useNotes.useCallback[clearAutoSaveTimeout]\"], []);\n    // 執行儲存操作\n    const performSave = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[performSave]\": async (sessionId, content)=>{\n            if (!content.trim() || content === lastContentRef.current) {\n                return; // 沒有變更，不需要儲存\n            }\n            setIsSaving(true);\n            setError(null);\n            try {\n                const updateData = {\n                    content,\n                    client_ts: new Date().toISOString()\n                };\n                await _lib_api__WEBPACK_IMPORTED_MODULE_1__.notesAPI.updateNote(sessionId, updateData);\n                setLastSaved(new Date());\n                lastContentRef.current = content;\n                console.log('✅ 筆記儲存成功');\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '儲存筆記失敗';\n                setError(errorMessage);\n                console.error('❌ 儲存筆記失敗:', err);\n            } finally{\n                setIsSaving(false);\n            }\n        }\n    }[\"useNotes.useCallback[performSave]\"], []);\n    // 手動儲存筆記\n    const saveNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[saveNote]\": async (sessionId)=>{\n            clearAutoSaveTimeout();\n            await performSave(sessionId, noteContent);\n        }\n    }[\"useNotes.useCallback[saveNote]\"], [\n        noteContent,\n        performSave,\n        clearAutoSaveTimeout\n    ]);\n    // 更新筆記內容（觸發自動儲存）\n    const updateNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[updateNote]\": (content)=>{\n            setNoteContent(content);\n            // 立即儲存本地草稿\n            localDraft.saveDraft(content);\n            // 如果有 session ID，設定自動儲存到伺服器\n            if (currentSessionIdRef.current) {\n                clearAutoSaveTimeout();\n                // 10 秒後自動儲存到伺服器\n                autoSaveTimeoutRef.current = setTimeout({\n                    \"useNotes.useCallback[updateNote]\": ()=>{\n                        performSave(currentSessionIdRef.current, content);\n                    }\n                }[\"useNotes.useCallback[updateNote]\"], 10000);\n            }\n        }\n    }[\"useNotes.useCallback[updateNote]\"], [\n        performSave,\n        clearAutoSaveTimeout,\n        localDraft\n    ]);\n    // 載入筆記\n    const loadNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[loadNote]\": async (sessionId)=>{\n            currentSessionIdRef.current = sessionId;\n            setError(null);\n            try {\n                const note = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.notesAPI.getNote(sessionId);\n                const serverContent = note.content;\n                const serverTimestamp = new Date(note.updated_at);\n                // 檢查是否有較新的本地草稿\n                if (localDraft.hasDraft && localDraft.isDraftNewer(serverTimestamp)) {\n                    console.log('⚠️ 發現較新的本地草稿，使用草稿內容');\n                    setNoteContent(localDraft.draftContent);\n                    lastContentRef.current = localDraft.draftContent;\n                // 不設定 lastSaved，因為草稿內容尚未同步到伺服器\n                } else {\n                    setNoteContent(serverContent);\n                    lastContentRef.current = serverContent;\n                    setLastSaved(serverTimestamp);\n                    // 清除過時的本地草稿\n                    localDraft.clearDraft();\n                }\n                console.log('✅ 筆記載入成功');\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '載入筆記失敗';\n                setError(errorMessage);\n                console.error('❌ 載入筆記失敗:', err);\n                // 如果筆記不存在，檢查是否有本地草稿\n                if (errorMessage.includes('404') || errorMessage.includes('not found')) {\n                    if (localDraft.hasDraft) {\n                        console.log('📝 使用本地草稿內容');\n                        setNoteContent(localDraft.draftContent);\n                    } else {\n                        setNoteContent('');\n                    }\n                    lastContentRef.current = '';\n                    console.log('🔄 初始化空筆記');\n                }\n            }\n        }\n    }[\"useNotes.useCallback[loadNote]\"], [\n        localDraft\n    ]);\n    // 清除筆記\n    const clearNote = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[clearNote]\": ()=>{\n            clearAutoSaveTimeout();\n            setNoteContent('');\n            setLastSaved(null);\n            setError(null);\n            lastContentRef.current = '';\n            currentSessionIdRef.current = null;\n            localDraft.clearDraft();\n            console.log('🔄 筆記已清除');\n        }\n    }[\"useNotes.useCallback[clearNote]\"], [\n        clearAutoSaveTimeout,\n        localDraft\n    ]);\n    // 還原本地草稿\n    const restoreDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNotes.useCallback[restoreDraft]\": ()=>{\n            const draftContent = localDraft.loadDraft();\n            if (draftContent) {\n                setNoteContent(draftContent);\n                console.log('🔄 已還原本地草稿');\n            }\n        }\n    }[\"useNotes.useCallback[restoreDraft]\"], [\n        localDraft\n    ]);\n    // 組件卸載時清理\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useNotes.useEffect\": ()=>{\n            return ({\n                \"useNotes.useEffect\": ()=>{\n                    clearAutoSaveTimeout();\n                }\n            })[\"useNotes.useEffect\"];\n        }\n    }[\"useNotes.useEffect\"], [\n        clearAutoSaveTimeout\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useNotes.useMemo\": ()=>({\n                noteContent,\n                lastSaved,\n                isSaving,\n                error,\n                updateNote,\n                saveNote,\n                loadNote,\n                clearNote,\n                hasDraft: localDraft.hasDraft,\n                lastDraftTime: localDraft.lastDraftTime,\n                restoreDraft,\n                clearDraft: localDraft.clearDraft\n            })\n    }[\"useNotes.useMemo\"], [\n        noteContent,\n        lastSaved,\n        isSaving,\n        error,\n        updateNote,\n        saveNote,\n        loadNote,\n        clearNote,\n        localDraft.hasDraft,\n        localDraft.lastDraftTime,\n        restoreDraft,\n        localDraft.clearDraft\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUwsY0FBYztnQkFDZHpDLGVBQWV5QztnQkFDZmpCLFFBQVFDLEdBQUcsQ0FBQztZQUNoQjtRQUNKOzZDQUFHO1FBQUNmO0tBQVc7SUFFZixVQUFVO0lBQ1ZoQixnREFBU0E7OEJBQUM7WUFDTjtzQ0FBTztvQkFDSG1CO2dCQUNKOztRQUNKOzZCQUFHO1FBQUNBO0tBQXFCO0lBRXpCLE9BQU9sQiw4Q0FBT0E7NEJBQUMsSUFBTztnQkFDbEJJO2dCQUNBRTtnQkFDQUU7Z0JBQ0FFO2dCQUNBa0I7Z0JBQ0FPO2dCQUNBRztnQkFDQVc7Z0JBQ0FMLFVBQVU3QixXQUFXNkIsUUFBUTtnQkFDN0JRLGVBQWVyQyxXQUFXcUMsYUFBYTtnQkFDdkNGO2dCQUNBSCxZQUFZaEMsV0FBV2dDLFVBQVU7WUFDckM7MkJBQUk7UUFDQTNDO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FrQjtRQUNBTztRQUNBRztRQUNBVztRQUNBbEMsV0FBVzZCLFFBQVE7UUFDbkI3QixXQUFXcUMsYUFBYTtRQUN4QkY7UUFDQW5DLFdBQVdnQyxVQUFVO0tBQ3hCO0FBQ0wiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS1ub3Rlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBub3Rlc0FQSSwgdHlwZSBOb3RlVXBkYXRlUmVxdWVzdCwgdHlwZSBOb3RlUmVzcG9uc2UgfSBmcm9tICcuLi9saWIvYXBpJ1xuaW1wb3J0IHsgdXNlTG9jYWxEcmFmdCB9IGZyb20gJy4vdXNlLWxvY2FsLWRyYWZ0J1xuXG5pbnRlcmZhY2UgVXNlTm90ZXNSZXR1cm4ge1xuICAgIG5vdGVDb250ZW50OiBzdHJpbmdcbiAgICBsYXN0U2F2ZWQ6IERhdGUgfCBudWxsXG4gICAgaXNTYXZpbmc6IGJvb2xlYW5cbiAgICBlcnJvcjogc3RyaW5nIHwgbnVsbFxuICAgIHVwZGF0ZU5vdGU6IChjb250ZW50OiBzdHJpbmcpID0+IHZvaWRcbiAgICBzYXZlTm90ZTogKHNlc3Npb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgbG9hZE5vdGU6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGNsZWFyTm90ZTogKCkgPT4gdm9pZFxuICAgIC8vIOacrOWcsOiNieeov+ebuOmXnFxuICAgIGhhc0RyYWZ0OiBib29sZWFuXG4gICAgbGFzdERyYWZ0VGltZTogRGF0ZSB8IG51bGxcbiAgICByZXN0b3JlRHJhZnQ6ICgpID0+IHZvaWRcbiAgICBjbGVhckRyYWZ0OiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VOb3RlcygpOiBVc2VOb3Rlc1JldHVybiB7XG4gICAgY29uc3QgW25vdGVDb250ZW50LCBzZXROb3RlQ29udGVudF0gPSB1c2VTdGF0ZSgnJylcbiAgICBjb25zdCBbbGFzdFNhdmVkLCBzZXRMYXN0U2F2ZWRdID0gdXNlU3RhdGU8RGF0ZSB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgW2lzU2F2aW5nLCBzZXRJc1NhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgICBjb25zdCBhdXRvU2F2ZVRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IGxhc3RDb250ZW50UmVmID0gdXNlUmVmKCcnKVxuICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uSWRSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICAgIC8vIOS9v+eUqOacrOWcsOiNieeov+WKn+iDvVxuICAgIGNvbnN0IGxvY2FsRHJhZnQgPSB1c2VMb2NhbERyYWZ0KGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCB8fCB1bmRlZmluZWQpXG5cbiAgICAvLyDmuIXpmaToh6rli5XlhLLlrZjoqIjmmYLlmahcbiAgICBjb25zdCBjbGVhckF1dG9TYXZlVGltZW91dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGF1dG9TYXZlVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoYXV0b1NhdmVUaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBhdXRvU2F2ZVRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g5Z+36KGM5YSy5a2Y5pON5L2cXG4gICAgY29uc3QgcGVyZm9ybVNhdmUgPSB1c2VDYWxsYmFjayhhc3luYyAoc2Vzc2lvbklkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBpZiAoIWNvbnRlbnQudHJpbSgpIHx8IGNvbnRlbnQgPT09IGxhc3RDb250ZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAvLyDmspLmnInorormm7TvvIzkuI3pnIDopoHlhLLlrZhcbiAgICAgICAgfVxuXG4gICAgICAgIHNldElzU2F2aW5nKHRydWUpXG4gICAgICAgIHNldEVycm9yKG51bGwpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IE5vdGVVcGRhdGVSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgY2xpZW50X3RzOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgbm90ZXNBUEkudXBkYXRlTm90ZShzZXNzaW9uSWQsIHVwZGF0ZURhdGEpXG5cbiAgICAgICAgICAgIHNldExhc3RTYXZlZChuZXcgRGF0ZSgpKVxuICAgICAgICAgICAgbGFzdENvbnRlbnRSZWYuY3VycmVudCA9IGNvbnRlbnRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg562G6KiY5YSy5a2Y5oiQ5YqfJylcblxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5YSy5a2Y562G6KiY5aSx5pWXJ1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOWEsuWtmOethuiomOWkseaVlzonLCBlcnIpXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1NhdmluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g5omL5YuV5YSy5a2Y562G6KiYXG4gICAgY29uc3Qgc2F2ZU5vdGUgPSB1c2VDYWxsYmFjayhhc3luYyAoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgY2xlYXJBdXRvU2F2ZVRpbWVvdXQoKVxuICAgICAgICBhd2FpdCBwZXJmb3JtU2F2ZShzZXNzaW9uSWQsIG5vdGVDb250ZW50KVxuICAgIH0sIFtub3RlQ29udGVudCwgcGVyZm9ybVNhdmUsIGNsZWFyQXV0b1NhdmVUaW1lb3V0XSlcblxuICAgIC8vIOabtOaWsOethuiomOWFp+Wuue+8iOinuOeZvOiHquWLleWEsuWtmO+8iVxuICAgIGNvbnN0IHVwZGF0ZU5vdGUgPSB1c2VDYWxsYmFjaygoY29udGVudDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIHNldE5vdGVDb250ZW50KGNvbnRlbnQpXG5cbiAgICAgICAgLy8g56uL5Y2z5YSy5a2Y5pys5Zyw6I2J56i/XG4gICAgICAgIGxvY2FsRHJhZnQuc2F2ZURyYWZ0KGNvbnRlbnQpXG5cbiAgICAgICAgLy8g5aaC5p6c5pyJIHNlc3Npb24gSUTvvIzoqK3lrproh6rli5XlhLLlrZjliLDkvLrmnI3lmahcbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJBdXRvU2F2ZVRpbWVvdXQoKVxuXG4gICAgICAgICAgICAvLyAxMCDnp5Llvozoh6rli5XlhLLlrZjliLDkvLrmnI3lmahcbiAgICAgICAgICAgIGF1dG9TYXZlVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGVyZm9ybVNhdmUoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50ISwgY29udGVudClcbiAgICAgICAgICAgIH0sIDEwMDAwKVxuICAgICAgICB9XG4gICAgfSwgW3BlcmZvcm1TYXZlLCBjbGVhckF1dG9TYXZlVGltZW91dCwgbG9jYWxEcmFmdF0pXG5cbiAgICAvLyDovInlhaXnrYboqJhcbiAgICBjb25zdCBsb2FkTm90ZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQgPSBzZXNzaW9uSWRcbiAgICAgICAgc2V0RXJyb3IobnVsbClcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgbm90ZSA9IGF3YWl0IG5vdGVzQVBJLmdldE5vdGUoc2Vzc2lvbklkKVxuICAgICAgICAgICAgY29uc3Qgc2VydmVyQ29udGVudCA9IG5vdGUuY29udGVudFxuICAgICAgICAgICAgY29uc3Qgc2VydmVyVGltZXN0YW1wID0gbmV3IERhdGUobm90ZS51cGRhdGVkX2F0KVxuXG4gICAgICAgICAgICAvLyDmqqLmn6XmmK/lkKbmnInovIPmlrDnmoTmnKzlnLDojYnnqL9cbiAgICAgICAgICAgIGlmIChsb2NhbERyYWZ0Lmhhc0RyYWZ0ICYmIGxvY2FsRHJhZnQuaXNEcmFmdE5ld2VyKHNlcnZlclRpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIOeZvOePvui8g+aWsOeahOacrOWcsOiNieeov++8jOS9v+eUqOiNieeov+WFp+WuuScpXG4gICAgICAgICAgICAgICAgc2V0Tm90ZUNvbnRlbnQobG9jYWxEcmFmdC5kcmFmdENvbnRlbnQpXG4gICAgICAgICAgICAgICAgbGFzdENvbnRlbnRSZWYuY3VycmVudCA9IGxvY2FsRHJhZnQuZHJhZnRDb250ZW50XG4gICAgICAgICAgICAgICAgLy8g5LiN6Kit5a6aIGxhc3RTYXZlZO+8jOWboOeCuuiNieeov+WFp+WuueWwmuacquWQjOatpeWIsOS8uuacjeWZqFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXROb3RlQ29udGVudChzZXJ2ZXJDb250ZW50KVxuICAgICAgICAgICAgICAgIGxhc3RDb250ZW50UmVmLmN1cnJlbnQgPSBzZXJ2ZXJDb250ZW50XG4gICAgICAgICAgICAgICAgc2V0TGFzdFNhdmVkKHNlcnZlclRpbWVzdGFtcClcbiAgICAgICAgICAgICAgICAvLyDmuIXpmaTpgY7mmYLnmoTmnKzlnLDojYnnqL9cbiAgICAgICAgICAgICAgICBsb2NhbERyYWZ0LmNsZWFyRHJhZnQoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOethuiomOi8ieWFpeaIkOWKnycpXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+i8ieWFpeethuiomOWkseaVlydcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDovInlhaXnrYboqJjlpLHmlZc6JywgZXJyKVxuXG4gICAgICAgICAgICAvLyDlpoLmnpznrYboqJjkuI3lrZjlnKjvvIzmqqLmn6XmmK/lkKbmnInmnKzlnLDojYnnqL9cbiAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJzQwNCcpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnbm90IGZvdW5kJykpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxEcmFmdC5oYXNEcmFmdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSDkvb/nlKjmnKzlnLDojYnnqL/lhaflrrknKVxuICAgICAgICAgICAgICAgICAgICBzZXROb3RlQ29udGVudChsb2NhbERyYWZ0LmRyYWZ0Q29udGVudClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXROb3RlQ29udGVudCgnJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdENvbnRlbnRSZWYuY3VycmVudCA9ICcnXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg5Yid5aeL5YyW56m6562G6KiYJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtsb2NhbERyYWZ0XSlcblxuICAgIC8vIOa4hemZpOethuiomFxuICAgIGNvbnN0IGNsZWFyTm90ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY2xlYXJBdXRvU2F2ZVRpbWVvdXQoKVxuICAgICAgICBzZXROb3RlQ29udGVudCgnJylcbiAgICAgICAgc2V0TGFzdFNhdmVkKG51bGwpXG4gICAgICAgIHNldEVycm9yKG51bGwpXG4gICAgICAgIGxhc3RDb250ZW50UmVmLmN1cnJlbnQgPSAnJ1xuICAgICAgICBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgIGxvY2FsRHJhZnQuY2xlYXJEcmFmdCgpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIOethuiomOW3sua4hemZpCcpXG4gICAgfSwgW2NsZWFyQXV0b1NhdmVUaW1lb3V0LCBsb2NhbERyYWZ0XSlcblxuICAgIC8vIOmChOWOn+acrOWcsOiNieeov1xuICAgIGNvbnN0IHJlc3RvcmVEcmFmdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgZHJhZnRDb250ZW50ID0gbG9jYWxEcmFmdC5sb2FkRHJhZnQoKVxuICAgICAgICBpZiAoZHJhZnRDb250ZW50KSB7XG4gICAgICAgICAgICBzZXROb3RlQ29udGVudChkcmFmdENvbnRlbnQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDlt7LpgoTljp/mnKzlnLDojYnnqL8nKVxuICAgICAgICB9XG4gICAgfSwgW2xvY2FsRHJhZnRdKVxuXG4gICAgLy8g57WE5Lu25Y246LyJ5pmC5riF55CGXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyQXV0b1NhdmVUaW1lb3V0KClcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckF1dG9TYXZlVGltZW91dF0pXG5cbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBub3RlQ29udGVudCxcbiAgICAgICAgbGFzdFNhdmVkLFxuICAgICAgICBpc1NhdmluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHVwZGF0ZU5vdGUsXG4gICAgICAgIHNhdmVOb3RlLFxuICAgICAgICBsb2FkTm90ZSxcbiAgICAgICAgY2xlYXJOb3RlLFxuICAgICAgICBoYXNEcmFmdDogbG9jYWxEcmFmdC5oYXNEcmFmdCxcbiAgICAgICAgbGFzdERyYWZ0VGltZTogbG9jYWxEcmFmdC5sYXN0RHJhZnRUaW1lLFxuICAgICAgICByZXN0b3JlRHJhZnQsXG4gICAgICAgIGNsZWFyRHJhZnQ6IGxvY2FsRHJhZnQuY2xlYXJEcmFmdCxcbiAgICB9KSwgW1xuICAgICAgICBub3RlQ29udGVudCxcbiAgICAgICAgbGFzdFNhdmVkLFxuICAgICAgICBpc1NhdmluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHVwZGF0ZU5vdGUsXG4gICAgICAgIHNhdmVOb3RlLFxuICAgICAgICBsb2FkTm90ZSxcbiAgICAgICAgY2xlYXJOb3RlLFxuICAgICAgICBsb2NhbERyYWZ0Lmhhc0RyYWZ0LFxuICAgICAgICBsb2NhbERyYWZ0Lmxhc3REcmFmdFRpbWUsXG4gICAgICAgIHJlc3RvcmVEcmFmdCxcbiAgICAgICAgbG9jYWxEcmFmdC5jbGVhckRyYWZ0LFxuICAgIF0pXG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJub3Rlc0FQSSIsInVzZUxvY2FsRHJhZnQiLCJ1c2VOb3RlcyIsIm5vdGVDb250ZW50Iiwic2V0Tm90ZUNvbnRlbnQiLCJsYXN0U2F2ZWQiLCJzZXRMYXN0U2F2ZWQiLCJpc1NhdmluZyIsInNldElzU2F2aW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImF1dG9TYXZlVGltZW91dFJlZiIsImxhc3RDb250ZW50UmVmIiwiY3VycmVudFNlc3Npb25JZFJlZiIsImxvY2FsRHJhZnQiLCJjdXJyZW50IiwidW5kZWZpbmVkIiwiY2xlYXJBdXRvU2F2ZVRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJwZXJmb3JtU2F2ZSIsInNlc3Npb25JZCIsImNvbnRlbnQiLCJ0cmltIiwidXBkYXRlRGF0YSIsImNsaWVudF90cyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZU5vdGUiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwic2F2ZU5vdGUiLCJzYXZlRHJhZnQiLCJzZXRUaW1lb3V0IiwibG9hZE5vdGUiLCJub3RlIiwiZ2V0Tm90ZSIsInNlcnZlckNvbnRlbnQiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJ1cGRhdGVkX2F0IiwiaGFzRHJhZnQiLCJpc0RyYWZ0TmV3ZXIiLCJkcmFmdENvbnRlbnQiLCJjbGVhckRyYWZ0IiwiaW5jbHVkZXMiLCJjbGVhck5vdGUiLCJyZXN0b3JlRHJhZnQiLCJsb2FkRHJhZnQiLCJsYXN0RHJhZnRUaW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-notes.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-recording-adapter.ts":
/*!****************************************!*\
  !*** ./hooks/use-recording-adapter.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRecording: () => (/* binding */ useRecording),\n/* harmony export */   useRecordingLegacy: () => (/* reexport safe */ _use_recording__WEBPACK_IMPORTED_MODULE_0__.useRecording),\n/* harmony export */   useRecordingNew: () => (/* reexport safe */ _use_recording_new__WEBPACK_IMPORTED_MODULE_1__.useRecordingNew)\n/* harmony export */ });\n/* harmony import */ var _use_recording__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-recording */ \"(ssr)/./hooks/use-recording.ts\");\n/* harmony import */ var _use_recording_new__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-recording-new */ \"(ssr)/./hooks/use-recording-new.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ useRecording,useRecordingLegacy,useRecordingNew auto */ \n\n\n/**\n * useRecording 適配器 Hook\n * 根據功能開關決定使用新舊版本的 useRecording\n * 確保 API 完全相容，現有組件無需修改\n */ function useRecording() {\n    const useNewRecordingHook = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('useNewRecordingHook');\n    const useNewStateManagement = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('useNewStateManagement');\n    console.log('🔄 [useRecordingAdapter] 功能開關狀態:', {\n        useNewRecordingHook,\n        useNewStateManagement,\n        willUseNewVersion: useNewRecordingHook || useNewStateManagement\n    });\n    // 如果啟用新 Recording Hook 或新狀態管理，使用新版本\n    if (useNewRecordingHook || useNewStateManagement) {\n        console.log('🔄 [useRecordingAdapter] 使用新版本 useRecordingNew');\n        return (0,_use_recording_new__WEBPACK_IMPORTED_MODULE_1__.useRecordingNew)();\n    }\n    // 否則使用舊版本\n    console.log('🔄 [useRecordingAdapter] 使用舊版本 useRecording');\n    return (0,_use_recording__WEBPACK_IMPORTED_MODULE_0__.useRecording)();\n}\n// 導出舊版本供直接使用（用於測試或特殊情況）\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2UtcmVjb3JkaW5nLWFkYXB0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3FHQUVvRTtBQUNmO0FBQ0U7QUFldkQ7Ozs7Q0FJQyxHQUNNLFNBQVNBO0lBQ1osTUFBTUksc0JBQXNCRCxvRUFBZ0JBLENBQUM7SUFDN0MsTUFBTUUsd0JBQXdCRixvRUFBZ0JBLENBQUM7SUFFL0NHLFFBQVFDLEdBQUcsQ0FBQyxvQ0FBb0M7UUFDNUNIO1FBQ0FDO1FBQ0FHLG1CQUFtQkosdUJBQXVCQztJQUM5QztJQUVBLG9DQUFvQztJQUNwQyxJQUFJRCx1QkFBdUJDLHVCQUF1QjtRQUM5Q0MsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBT0wsbUVBQWVBO0lBQzFCO0lBRUEsVUFBVTtJQUNWSSxRQUFRQyxHQUFHLENBQUM7SUFDWixPQUFPTiw0REFBa0JBO0FBQzdCO0FBRUEsd0JBQXdCO0FBQzRDO0FBQ2YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS1yZWNvcmRpbmctYWRhcHRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VSZWNvcmRpbmcgYXMgdXNlUmVjb3JkaW5nTGVnYWN5IH0gZnJvbSAnLi91c2UtcmVjb3JkaW5nJ1xuaW1wb3J0IHsgdXNlUmVjb3JkaW5nTmV3IH0gZnJvbSAnLi91c2UtcmVjb3JkaW5nLW5ldydcbmltcG9ydCB7IGlzRmVhdHVyZUVuYWJsZWQgfSBmcm9tICcuLi9saWIvZmVhdHVyZS1mbGFncydcbmltcG9ydCB7IFRyYW5zY3JpcHRNZXNzYWdlIH0gZnJvbSAnLi4vbGliL3RyYW5zY3JpcHQtbWFuYWdlcidcblxuLy8g57Wx5LiA55qEIFVzZVJlY29yZGluZyDku4vpnaJcbmludGVyZmFjZSBVc2VSZWNvcmRpbmdSZXR1cm4ge1xuICAgIGlzUmVjb3JkaW5nOiBib29sZWFuXG4gICAgcmVjb3JkaW5nVGltZTogbnVtYmVyXG4gICAgdHJhbnNjcmlwdHM6IFRyYW5zY3JpcHRNZXNzYWdlW11cbiAgICB0cmFuc2NyaXB0Q29tcGxldGVkOiBib29sZWFuXG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGxcbiAgICBzdGFydFJlY29yZGluZzogKHNlc3Npb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgc3RvcFJlY29yZGluZzogKCkgPT4gdm9pZFxuICAgIGNsZWFyVHJhbnNjcmlwdHM6ICgpID0+IHZvaWRcbn1cblxuLyoqXG4gKiB1c2VSZWNvcmRpbmcg6YGp6YWN5ZmoIEhvb2tcbiAqIOagueaTmuWKn+iDvemWi+mXnOaxuuWumuS9v+eUqOaWsOiIiueJiOacrOeahCB1c2VSZWNvcmRpbmdcbiAqIOeiuuS/nSBBUEkg5a6M5YWo55u45a6577yM54++5pyJ57WE5Lu254Sh6ZyA5L+u5pS5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWNvcmRpbmcoKTogVXNlUmVjb3JkaW5nUmV0dXJuIHtcbiAgICBjb25zdCB1c2VOZXdSZWNvcmRpbmdIb29rID0gaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3UmVjb3JkaW5nSG9vaycpXG4gICAgY29uc3QgdXNlTmV3U3RhdGVNYW5hZ2VtZW50ID0gaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3U3RhdGVNYW5hZ2VtZW50JylcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VSZWNvcmRpbmdBZGFwdGVyXSDlip/og73plovpl5zni4DmhYs6Jywge1xuICAgICAgICB1c2VOZXdSZWNvcmRpbmdIb29rLFxuICAgICAgICB1c2VOZXdTdGF0ZU1hbmFnZW1lbnQsXG4gICAgICAgIHdpbGxVc2VOZXdWZXJzaW9uOiB1c2VOZXdSZWNvcmRpbmdIb29rIHx8IHVzZU5ld1N0YXRlTWFuYWdlbWVudFxuICAgIH0pXG5cbiAgICAvLyDlpoLmnpzllZ/nlKjmlrAgUmVjb3JkaW5nIEhvb2sg5oiW5paw54uA5oWL566h55CG77yM5L2/55So5paw54mI5pysXG4gICAgaWYgKHVzZU5ld1JlY29yZGluZ0hvb2sgfHwgdXNlTmV3U3RhdGVNYW5hZ2VtZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VSZWNvcmRpbmdBZGFwdGVyXSDkvb/nlKjmlrDniYjmnKwgdXNlUmVjb3JkaW5nTmV3JylcbiAgICAgICAgcmV0dXJuIHVzZVJlY29yZGluZ05ldygpXG4gICAgfVxuXG4gICAgLy8g5ZCm5YmH5L2/55So6IiK54mI5pysXG4gICAgY29uc29sZS5sb2coJ/CflIQgW3VzZVJlY29yZGluZ0FkYXB0ZXJdIOS9v+eUqOiIiueJiOacrCB1c2VSZWNvcmRpbmcnKVxuICAgIHJldHVybiB1c2VSZWNvcmRpbmdMZWdhY3koKVxufVxuXG4vLyDlsI7lh7roiIrniYjmnKzkvpvnm7TmjqXkvb/nlKjvvIjnlKjmlrzmuKzoqabmiJbnibnmrormg4Xms4HvvIlcbmV4cG9ydCB7IHVzZVJlY29yZGluZyBhcyB1c2VSZWNvcmRpbmdMZWdhY3kgfSBmcm9tICcuL3VzZS1yZWNvcmRpbmcnXG5leHBvcnQgeyB1c2VSZWNvcmRpbmdOZXcgfSBmcm9tICcuL3VzZS1yZWNvcmRpbmctbmV3J1xuIl0sIm5hbWVzIjpbInVzZVJlY29yZGluZyIsInVzZVJlY29yZGluZ0xlZ2FjeSIsInVzZVJlY29yZGluZ05ldyIsImlzRmVhdHVyZUVuYWJsZWQiLCJ1c2VOZXdSZWNvcmRpbmdIb29rIiwidXNlTmV3U3RhdGVNYW5hZ2VtZW50IiwiY29uc29sZSIsImxvZyIsIndpbGxVc2VOZXdWZXJzaW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-recording-adapter.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-recording-new.ts":
/*!************************************!*\
  !*** ./hooks/use-recording-new.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRecordingNew: () => (/* binding */ useRecordingNew)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/websocket */ \"(ssr)/./lib/websocket.ts\");\n/* harmony import */ var _lib_audio_recorder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/audio-recorder */ \"(ssr)/./lib/audio-recorder.ts\");\n/* harmony import */ var _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/transcript-manager */ \"(ssr)/./lib/transcript-manager.ts\");\n/* harmony import */ var _use_app_state_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-app-state-context */ \"(ssr)/./hooks/use-app-state-context.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ useRecordingNew auto */ \n\n\n\n\n\nfunction useRecordingNew() {\n    // 使用新的 Context 狀態管理\n    const context = (0,_use_app_state_context__WEBPACK_IMPORTED_MODULE_4__.useAppStateContext)();\n    // 本地狀態（將逐漸遷移到 Context）\n    const [localError, setLocalError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [localTranscriptCompleted, setLocalTranscriptCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // WebSocket 和錄音器引用\n    const audioUploadWsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const audioRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentSessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 計時器和狀態引用\n    const timerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const heartbeatRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const chunksRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const retryCountsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    console.log('🔄 [useRecordingNew] Hook 初始化，功能開關狀態:', {\n        useNewStateManagement: (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('useNewStateManagement'),\n        useNewRecordingHook: (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('useNewRecordingHook'),\n        contextState: context.appData.state,\n        contextIsRecording: context.appData.isRecording,\n        contextRecordingTime: context.appData.recordingTime\n    });\n    // 清理計時器\n    const clearTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[clearTimer]\": ()=>{\n            if (timerRef.current) {\n                clearInterval(timerRef.current);\n                timerRef.current = null;\n            }\n        }\n    }[\"useRecordingNew.useCallback[clearTimer]\"], []);\n    // 清理心跳計時器\n    const clearHeartbeat = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[clearHeartbeat]\": ()=>{\n            if (heartbeatRef.current) {\n                clearInterval(heartbeatRef.current);\n                heartbeatRef.current = null;\n            }\n        }\n    }[\"useRecordingNew.useCallback[clearHeartbeat]\"], []);\n    // 開始音檔上傳心跳\n    const startHeartbeat = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[startHeartbeat]\": (uploadWs)=>{\n            clearHeartbeat();\n            heartbeatRef.current = setInterval({\n                \"useRecordingNew.useCallback[startHeartbeat]\": ()=>{\n                    if (uploadWs.isConnected) {\n                        uploadWs.send(JSON.stringify({\n                            type: 'heartbeat',\n                            timestamp: Date.now()\n                        }));\n                    }\n                }\n            }[\"useRecordingNew.useCallback[startHeartbeat]\"], 30000) // 每30秒發送一次心跳\n            ;\n        }\n    }[\"useRecordingNew.useCallback[startHeartbeat]\"], [\n        clearHeartbeat\n    ]);\n    // 開始錄音計時器 - 整合 Context\n    const startTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[startTimer]\": ()=>{\n            clearTimer();\n            context.setRecordingTime(0);\n            timerRef.current = setInterval({\n                \"useRecordingNew.useCallback[startTimer]\": ()=>{\n                    context.setRecordingTime(context.appData.recordingTime + 1);\n                }\n            }[\"useRecordingNew.useCallback[startTimer]\"], 1000);\n        }\n    }[\"useRecordingNew.useCallback[startTimer]\"], [\n        clearTimer,\n        context\n    ]);\n    // 處理逐字稿接收 - 整合 Context\n    const handleTranscript = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[handleTranscript]\": (transcript)=>{\n            console.log('📝 [useRecordingNew] 收到逐字稿訊息:', {\n                type: transcript.type,\n                text: transcript.text,\n                textLength: transcript.text?.length || 0,\n                start_time: transcript.start_time,\n                end_time: transcript.end_time,\n                start_sequence: transcript.start_sequence,\n                confidence: transcript.confidence,\n                sessionId: currentSessionIdRef.current,\n                timestamp: new Date().toISOString(),\n                fullMessage: transcript\n            });\n            // 處理轉錄完成通知\n            if (transcript.type === 'transcript_complete' || transcript.message === 'transcription_complete') {\n                console.log('✅ [useRecordingNew] 逐字稿轉錄完成，設定 transcriptCompleted=true');\n                setLocalTranscriptCompleted(true);\n                return;\n            }\n            // 處理 active phase 訊息（重要：這會觸發狀態轉換）\n            if (transcript.type === 'active' || transcript.phase === 'active') {\n                console.log('🚀 [useRecordingNew] 收到 active phase 訊息，轉錄開始');\n                // 這裡可以觸發狀態機轉換\n                return;\n            }\n            // 只處理逐字稿片段類型的訊息\n            if (transcript.type !== 'transcript_segment') {\n                console.log('⚠️ [useRecordingNew] 跳過非逐字稿片段訊息:', transcript.type);\n                return;\n            }\n            if (!transcript.text) {\n                console.log('⚠️ [useRecordingNew] 跳過空文字逐字稿');\n                return;\n            }\n            console.log('🔄 [useRecordingNew] 開始處理逐字稿片段...', {\n                text: transcript.text,\n                textPreview: transcript.text.substring(0, 50) + '...',\n                sequence: transcript.start_sequence,\n                startTime: transcript.start_time,\n                endTime: transcript.end_time\n            });\n            // 使用 Context 更新逐字稿 - 轉換為 TranscriptEntry 格式\n            const startTime = transcript.start_time ?? 0;\n            const minutes = Math.floor(startTime / 60);\n            const seconds = Math.floor(startTime % 60);\n            const timeStr = `${minutes.toString().padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}`;\n            const transcriptEntry = {\n                time: timeStr,\n                text: transcript.text ?? ''\n            };\n            context.addTranscriptEntry(transcriptEntry);\n            console.log('✅ [useRecordingNew] 逐字稿已添加到 Context');\n        }\n    }[\"useRecordingNew.useCallback[handleTranscript]\"], [\n        context\n    ]);\n    // 處理 ACK/Missing 訊息 - 支援重傳機制\n    const handleAckMissing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[handleAckMissing]\": (data)=>{\n            console.log('📨 [useRecordingNew] 收到 ACK/Missing:', data);\n            if (data.missing.length > 0) {\n                console.warn('⚠️ 有遺失的音檔切片需要重傳:', data.missing);\n                // 實作重傳機制\n                data.missing.forEach({\n                    \"useRecordingNew.useCallback[handleAckMissing]\": (sequence)=>{\n                        const retryCount = retryCountsRef.current.get(sequence) ?? 0;\n                        if (retryCount < 5) {\n                            retryCountsRef.current.set(sequence, retryCount + 1);\n                            // 尋找對應的音檔切片進行重傳（如果還存在）\n                            if (chunksRef.current[sequence]) {\n                                console.log(`🔄 重傳音檔切片 #${sequence} (第 ${retryCount + 1} 次)`);\n                                audioUploadWsRef.current?.uploadAudioChunk(chunksRef.current[sequence].blob);\n                            }\n                        } else {\n                            console.error(`❌ 音檔切片 #${sequence} 重傳次數已達上限`);\n                        }\n                    }\n                }[\"useRecordingNew.useCallback[handleAckMissing]\"]);\n            }\n        }\n    }[\"useRecordingNew.useCallback[handleAckMissing]\"], []);\n    // 處理音檔切片\n    const handleAudioChunk = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[handleAudioChunk]\": (chunk)=>{\n            console.log(`🎵 [useRecordingNew] 收到音檔切片 #${chunk.sequence}, 大小: ${chunk.blob.size} bytes`);\n            // 儲存切片供重傳使用\n            chunksRef.current[chunk.sequence] = chunk;\n            // 如果 WebSocket 已連接，立即上傳\n            if (audioUploadWsRef.current?.isConnected) {\n                audioUploadWsRef.current.uploadAudioChunk(chunk.blob);\n            }\n        }\n    }[\"useRecordingNew.useCallback[handleAudioChunk]\"], []);\n    // 開始錄音 - 整合 Context 狀態管理\n    const startRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[startRecording]\": async (sessionId)=>{\n            try {\n                setLocalError(null);\n                context.setError(null);\n                setLocalTranscriptCompleted(false);\n                currentSessionIdRef.current = sessionId;\n                console.log('🎤 [useRecordingNew] 開始錄音流程:', {\n                    sessionId\n                });\n                // 確保在瀏覽器環境中執行\n                if (true) {\n                    throw new Error('此功能僅在瀏覽器環境中可用');\n                }\n                // 步驟 1: 建立音檔錄製器（12 秒切片）\n                console.log('🎤 [useRecordingNew] 步驟 1: 初始化音檔錄製器');\n                const audioRecorder = new _lib_audio_recorder__WEBPACK_IMPORTED_MODULE_2__.AudioRecorder({\n                    chunkInterval: 12000,\n                    mimeType: 'audio/webm;codecs=opus'\n                });\n                audioRecorderRef.current = audioRecorder;\n                chunksRef.current = [];\n                retryCountsRef.current.clear();\n                // 設定音檔錄製器事件\n                audioRecorder.onChunk(handleAudioChunk);\n                audioRecorder.onError({\n                    \"useRecordingNew.useCallback[startRecording]\": (err)=>{\n                        console.error('❌ [useRecordingNew] AudioRecorder 錯誤:', err);\n                        setLocalError(err.message);\n                        context.setError(err.message);\n                    }\n                }[\"useRecordingNew.useCallback[startRecording]\"]);\n                // 步驟 2: 初始化音訊權限\n                console.log('🎤 [useRecordingNew] 步驟 2: 初始化音訊權限');\n                await audioRecorder.initialize();\n                // 步驟 3: 建立 WebSocket 連線（並行建立，確保都就緒）\n                console.log('🎤 [useRecordingNew] 步驟 3: 建立 WebSocket 連線');\n                // 3a. 建立音檔上傳 WebSocket\n                console.log('🔌 [useRecordingNew] 建立音檔上傳 WebSocket');\n                const uploadWs = new _lib_websocket__WEBPACK_IMPORTED_MODULE_1__.AudioUploadWebSocket(sessionId);\n                await uploadWs.connect();\n                // 設定音檔上傳 WebSocket 事件處理\n                uploadWs.onAckMissing(handleAckMissing);\n                audioUploadWsRef.current = uploadWs;\n                // 3b. 建立逐字稿接收 WebSocket（透過 TranscriptManager）\n                console.log('🔌 [useRecordingNew] 建立逐字稿接收 WebSocket');\n                await _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.connect(sessionId);\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.addListener(sessionId, handleTranscript);\n                // 步驟 4: 驗證連線狀態\n                console.log('🎤 [useRecordingNew] 步驟 4: 驗證連線狀態');\n                if (!uploadWs.isConnected) {\n                    throw new Error('音檔上傳 WebSocket 連線失敗');\n                }\n                if (!_lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.isConnected(sessionId)) {\n                    throw new Error('逐字稿接收 WebSocket 連線失敗');\n                }\n                console.log('✅ [useRecordingNew] 所有 WebSocket 連線已建立');\n                // 步驟 5: 啟動心跳機制\n                console.log('🎤 [useRecordingNew] 步驟 5: 啟動心跳機制');\n                startHeartbeat(uploadWs);\n                // 步驟 6: 開始錄音 - 使用 Context 狀態管理\n                console.log('🎤 [useRecordingNew] 步驟 6: 開始錄音');\n                // 先設置錄音狀態到 Context\n                context.setRecording(true);\n                console.log('🎤 [useRecordingNew] 錄音狀態已設置到 Context: true');\n                await audioRecorder.startRecording();\n                startTimer();\n                console.log('✅ [useRecordingNew] 錄音開始成功，Session ID:', sessionId);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '開始錄音失敗';\n                setLocalError(errorMessage);\n                context.setError(errorMessage);\n                console.error('❌ [useRecordingNew] 開始錄音失敗:', err);\n                // 錯誤時清理資源\n                if (audioRecorderRef.current) {\n                    audioRecorderRef.current.stopRecording();\n                }\n                if (audioUploadWsRef.current) {\n                    audioUploadWsRef.current.disconnect();\n                    audioUploadWsRef.current = null;\n                }\n                if (currentSessionIdRef.current) {\n                    _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                }\n            }\n        }\n    }[\"useRecordingNew.useCallback[startRecording]\"], [\n        handleAudioChunk,\n        handleAckMissing,\n        handleTranscript,\n        startTimer,\n        startHeartbeat,\n        context\n    ]);\n    // 停止錄音 - 整合 Context 狀態管理\n    const stopRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[stopRecording]\": ()=>{\n            try {\n                // 停止音檔錄製器\n                if (audioRecorderRef.current) {\n                    audioRecorderRef.current.stopRecording();\n                }\n                // 關閉音檔上傳 WebSocket\n                if (audioUploadWsRef.current) {\n                    audioUploadWsRef.current.disconnect();\n                    audioUploadWsRef.current = null;\n                }\n                // 使用 Context 更新狀態\n                context.setRecording(false);\n                clearTimer();\n                clearHeartbeat();\n                console.log('✅ [useRecordingNew] 錄音停止，等待轉錄完成');\n            // 注意：不斷開 TranscriptManager 連接，繼續接收轉錄結果\n            } catch (err) {\n                console.error('❌ [useRecordingNew] 停止錄音失敗:', err);\n                const errorMessage = '停止錄音時發生錯誤';\n                setLocalError(errorMessage);\n                context.setError(errorMessage);\n            }\n        }\n    }[\"useRecordingNew.useCallback[stopRecording]\"], [\n        clearTimer,\n        clearHeartbeat,\n        context\n    ]);\n    // 清空逐字稿 - 整合 Context\n    const clearTranscripts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecordingNew.useCallback[clearTranscripts]\": ()=>{\n            context.setTranscriptEntries([]);\n            setLocalTranscriptCompleted(false);\n            console.log('🔄 [useRecordingNew] 逐字稿已清除');\n        }\n    }[\"useRecordingNew.useCallback[clearTranscripts]\"], [\n        context\n    ]);\n    // 清理資源\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useRecordingNew.useEffect\": ()=>{\n            return ({\n                \"useRecordingNew.useEffect\": ()=>{\n                    // 移除 TranscriptManager 監聽器\n                    if (currentSessionIdRef.current) {\n                        _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                    }\n                    // 清理計時器\n                    clearTimer();\n                    clearHeartbeat();\n                    // 關閉音檔上傳 WebSocket\n                    if (audioUploadWsRef.current) {\n                        audioUploadWsRef.current.disconnect();\n                    }\n                    // 停止錄音器\n                    if (audioRecorderRef.current) {\n                        audioRecorderRef.current.stopRecording();\n                    }\n                }\n            })[\"useRecordingNew.useEffect\"];\n        }\n    }[\"useRecordingNew.useEffect\"], [\n        clearTimer,\n        clearHeartbeat,\n        handleTranscript\n    ]);\n    // 轉換 TranscriptMessage[] 為向後相容格式\n    const compatibleTranscripts = context.appData.transcriptEntries.map((entry, index)=>({\n            type: 'transcript_segment',\n            text: entry.text,\n            start_time: 0,\n            end_time: 0,\n            start_sequence: index,\n            confidence: 1.0,\n            timestamp: Date.now()\n        }));\n    // 返回介面保持與舊版相容\n    return {\n        isRecording: context.appData.isRecording,\n        recordingTime: context.appData.recordingTime,\n        transcripts: compatibleTranscripts,\n        transcriptCompleted: localTranscriptCompleted,\n        error: context.error || localError,\n        startRecording,\n        stopRecording,\n        clearTranscripts\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UWdGLEtBQUssSUFBSS9FO1FBQ3hCbUY7UUFDQWdCO1FBQ0FHO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvaG9va3MvdXNlLXJlY29yZGluZy1uZXcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQXVkaW9VcGxvYWRXZWJTb2NrZXQsIEFja01pc3NpbmdNZXNzYWdlIH0gZnJvbSAnLi4vbGliL3dlYnNvY2tldCdcbmltcG9ydCB7IEF1ZGlvUmVjb3JkZXIsIEF1ZGlvQ2h1bmsgfSBmcm9tICcuLi9saWIvYXVkaW8tcmVjb3JkZXInXG5pbXBvcnQgeyB0cmFuc2NyaXB0TWFuYWdlciwgVHJhbnNjcmlwdE1lc3NhZ2UgfSBmcm9tICcuLi9saWIvdHJhbnNjcmlwdC1tYW5hZ2VyJ1xuaW1wb3J0IHsgdXNlQXBwU3RhdGVDb250ZXh0IH0gZnJvbSAnLi91c2UtYXBwLXN0YXRlLWNvbnRleHQnXG5pbXBvcnQgeyBpc0ZlYXR1cmVFbmFibGVkIH0gZnJvbSAnLi4vbGliL2ZlYXR1cmUtZmxhZ3MnXG5cbmludGVyZmFjZSBVc2VSZWNvcmRpbmdOZXdSZXR1cm4ge1xuICAgIGlzUmVjb3JkaW5nOiBib29sZWFuXG4gICAgcmVjb3JkaW5nVGltZTogbnVtYmVyXG4gICAgdHJhbnNjcmlwdHM6IFRyYW5zY3JpcHRNZXNzYWdlW11cbiAgICB0cmFuc2NyaXB0Q29tcGxldGVkOiBib29sZWFuXG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGxcbiAgICBzdGFydFJlY29yZGluZzogKHNlc3Npb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgc3RvcFJlY29yZGluZzogKCkgPT4gdm9pZFxuICAgIGNsZWFyVHJhbnNjcmlwdHM6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlY29yZGluZ05ldygpOiBVc2VSZWNvcmRpbmdOZXdSZXR1cm4ge1xuICAgIC8vIOS9v+eUqOaWsOeahCBDb250ZXh0IOeLgOaFi+euoeeQhlxuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VBcHBTdGF0ZUNvbnRleHQoKVxuXG4gICAgLy8g5pys5Zyw54uA5oWL77yI5bCH6YCQ5ry46YG356e75YiwIENvbnRleHTvvIlcbiAgICBjb25zdCBbbG9jYWxFcnJvciwgc2V0TG9jYWxFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IFtsb2NhbFRyYW5zY3JpcHRDb21wbGV0ZWQsIHNldExvY2FsVHJhbnNjcmlwdENvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICAgIC8vIFdlYlNvY2tldCDlkozpjITpn7PlmajlvJXnlKhcbiAgICBjb25zdCBhdWRpb1VwbG9hZFdzUmVmID0gdXNlUmVmPEF1ZGlvVXBsb2FkV2ViU29ja2V0IHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBhdWRpb1JlY29yZGVyUmVmID0gdXNlUmVmPEF1ZGlvUmVjb3JkZXIgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uSWRSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICAgIC8vIOioiOaZguWZqOWSjOeLgOaFi+W8leeUqFxuICAgIGNvbnN0IHRpbWVyUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBoZWFydGJlYXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IGNodW5rc1JlZiA9IHVzZVJlZjxBdWRpb0NodW5rW10+KFtdKVxuICAgIGNvbnN0IHJldHJ5Q291bnRzUmVmID0gdXNlUmVmPE1hcDxudW1iZXIsIG51bWJlcj4+KG5ldyBNYXAoKSlcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VSZWNvcmRpbmdOZXddIEhvb2sg5Yid5aeL5YyW77yM5Yqf6IO96ZaL6Zec54uA5oWLOicsIHtcbiAgICAgICAgdXNlTmV3U3RhdGVNYW5hZ2VtZW50OiBpc0ZlYXR1cmVFbmFibGVkKCd1c2VOZXdTdGF0ZU1hbmFnZW1lbnQnKSxcbiAgICAgICAgdXNlTmV3UmVjb3JkaW5nSG9vazogaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3UmVjb3JkaW5nSG9vaycpLFxuICAgICAgICBjb250ZXh0U3RhdGU6IGNvbnRleHQuYXBwRGF0YS5zdGF0ZSxcbiAgICAgICAgY29udGV4dElzUmVjb3JkaW5nOiBjb250ZXh0LmFwcERhdGEuaXNSZWNvcmRpbmcsXG4gICAgICAgIGNvbnRleHRSZWNvcmRpbmdUaW1lOiBjb250ZXh0LmFwcERhdGEucmVjb3JkaW5nVGltZSxcbiAgICB9KVxuXG4gICAgLy8g5riF55CG6KiI5pmC5ZmoXG4gICAgY29uc3QgY2xlYXJUaW1lciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJSZWYuY3VycmVudClcbiAgICAgICAgICAgIHRpbWVyUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgIH1cbiAgICB9LCBbXSlcblxuICAgIC8vIOa4heeQhuW/g+i3s+ioiOaZguWZqFxuICAgIGNvbnN0IGNsZWFySGVhcnRiZWF0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaGVhcnRiZWF0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaGVhcnRiZWF0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBoZWFydGJlYXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g6ZaL5aeL6Z+z5qqU5LiK5YKz5b+D6LezXG4gICAgY29uc3Qgc3RhcnRIZWFydGJlYXQgPSB1c2VDYWxsYmFjaygodXBsb2FkV3M6IEF1ZGlvVXBsb2FkV2ViU29ja2V0KSA9PiB7XG4gICAgICAgIGNsZWFySGVhcnRiZWF0KClcblxuICAgICAgICBoZWFydGJlYXRSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh1cGxvYWRXcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHVwbG9hZFdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaGVhcnRiZWF0JyxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMDAwKSAvLyDmr48zMOenkueZvOmAgeS4gOasoeW/g+i3s1xuICAgIH0sIFtjbGVhckhlYXJ0YmVhdF0pXG5cbiAgICAvLyDplovlp4vpjITpn7PoqIjmmYLlmaggLSDmlbTlkIggQ29udGV4dFxuICAgIGNvbnN0IHN0YXJ0VGltZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZXIoKVxuICAgICAgICBjb250ZXh0LnNldFJlY29yZGluZ1RpbWUoMClcblxuICAgICAgICB0aW1lclJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgY29udGV4dC5zZXRSZWNvcmRpbmdUaW1lKGNvbnRleHQuYXBwRGF0YS5yZWNvcmRpbmdUaW1lICsgMSlcbiAgICAgICAgfSwgMTAwMClcbiAgICB9LCBbY2xlYXJUaW1lciwgY29udGV4dF0pXG5cbiAgICAvLyDomZXnkIbpgJDlrZfnqL/mjqXmlLYgLSDmlbTlkIggQ29udGV4dFxuICAgIGNvbnN0IGhhbmRsZVRyYW5zY3JpcHQgPSB1c2VDYWxsYmFjaygodHJhbnNjcmlwdDogVHJhbnNjcmlwdE1lc3NhZ2UpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gW3VzZVJlY29yZGluZ05ld10g5pS25Yiw6YCQ5a2X56i/6KiK5oGvOicsIHtcbiAgICAgICAgICAgIHR5cGU6IHRyYW5zY3JpcHQudHlwZSxcbiAgICAgICAgICAgIHRleHQ6IHRyYW5zY3JpcHQudGV4dCxcbiAgICAgICAgICAgIHRleHRMZW5ndGg6IHRyYW5zY3JpcHQudGV4dD8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgICBzdGFydF90aW1lOiB0cmFuc2NyaXB0LnN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBlbmRfdGltZTogdHJhbnNjcmlwdC5lbmRfdGltZSxcbiAgICAgICAgICAgIHN0YXJ0X3NlcXVlbmNlOiB0cmFuc2NyaXB0LnN0YXJ0X3NlcXVlbmNlLFxuICAgICAgICAgICAgY29uZmlkZW5jZTogdHJhbnNjcmlwdC5jb25maWRlbmNlLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGZ1bGxNZXNzYWdlOiB0cmFuc2NyaXB0XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8g6JmV55CG6L2J6YyE5a6M5oiQ6YCa55+lXG4gICAgICAgIGlmICh0cmFuc2NyaXB0LnR5cGUgPT09ICd0cmFuc2NyaXB0X2NvbXBsZXRlJyB8fCB0cmFuc2NyaXB0Lm1lc3NhZ2UgPT09ICd0cmFuc2NyaXB0aW9uX2NvbXBsZXRlJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlUmVjb3JkaW5nTmV3XSDpgJDlrZfnqL/ovYnpjITlrozmiJDvvIzoqK3lrpogdHJhbnNjcmlwdENvbXBsZXRlZD10cnVlJylcbiAgICAgICAgICAgIHNldExvY2FsVHJhbnNjcmlwdENvbXBsZXRlZCh0cnVlKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyDomZXnkIYgYWN0aXZlIHBoYXNlIOioiuaBr++8iOmHjeimge+8mumAmeacg+inuOeZvOeLgOaFi+i9ieaPm++8iVxuICAgICAgICBpZiAodHJhbnNjcmlwdC50eXBlID09PSAnYWN0aXZlJyB8fCB0cmFuc2NyaXB0LnBoYXNlID09PSAnYWN0aXZlJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgW3VzZVJlY29yZGluZ05ld10g5pS25YiwIGFjdGl2ZSBwaGFzZSDoqIrmga/vvIzovYnpjITplovlp4snKVxuICAgICAgICAgICAgLy8g6YCZ6KOh5Y+v5Lul6Ke455m854uA5oWL5qmf6L2J5o+bXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWPquiZleeQhumAkOWtl+eov+eJh+autemhnuWei+eahOioiuaBr1xuICAgICAgICBpZiAodHJhbnNjcmlwdC50eXBlICE9PSAndHJhbnNjcmlwdF9zZWdtZW50Jykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBbdXNlUmVjb3JkaW5nTmV3XSDot7PpgY7pnZ7pgJDlrZfnqL/niYfmrrXoqIrmga86JywgdHJhbnNjcmlwdC50eXBlKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRyYW5zY3JpcHQudGV4dCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBbdXNlUmVjb3JkaW5nTmV3XSDot7PpgY7nqbrmloflrZfpgJDlrZfnqL8nKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbdXNlUmVjb3JkaW5nTmV3XSDplovlp4vomZXnkIbpgJDlrZfnqL/niYfmrrUuLi4nLCB7XG4gICAgICAgICAgICB0ZXh0OiB0cmFuc2NyaXB0LnRleHQsXG4gICAgICAgICAgICB0ZXh0UHJldmlldzogdHJhbnNjcmlwdC50ZXh0LnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJyxcbiAgICAgICAgICAgIHNlcXVlbmNlOiB0cmFuc2NyaXB0LnN0YXJ0X3NlcXVlbmNlLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiB0cmFuc2NyaXB0LnN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBlbmRUaW1lOiB0cmFuc2NyaXB0LmVuZF90aW1lXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8g5L2/55SoIENvbnRleHQg5pu05paw6YCQ5a2X56i/IC0g6L2J5o+b54K6IFRyYW5zY3JpcHRFbnRyeSDmoLzlvI9cbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gdHJhbnNjcmlwdC5zdGFydF90aW1lID8/IDBcbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc3RhcnRUaW1lIC8gNjApXG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKHN0YXJ0VGltZSAlIDYwKVxuICAgICAgICBjb25zdCB0aW1lU3RyID0gYCR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX06JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfWBcblxuICAgICAgICBjb25zdCB0cmFuc2NyaXB0RW50cnkgPSB7XG4gICAgICAgICAgICB0aW1lOiB0aW1lU3RyLFxuICAgICAgICAgICAgdGV4dDogdHJhbnNjcmlwdC50ZXh0ID8/ICcnLFxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5hZGRUcmFuc2NyaXB0RW50cnkodHJhbnNjcmlwdEVudHJ5KVxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VSZWNvcmRpbmdOZXddIOmAkOWtl+eov+W3sua3u+WKoOWIsCBDb250ZXh0JylcbiAgICB9LCBbY29udGV4dF0pXG5cbiAgICAvLyDomZXnkIYgQUNLL01pc3Npbmcg6KiK5oGvIC0g5pSv5o+06YeN5YKz5qmf5Yi2XG4gICAgY29uc3QgaGFuZGxlQWNrTWlzc2luZyA9IHVzZUNhbGxiYWNrKChkYXRhOiBBY2tNaXNzaW5nTWVzc2FnZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TqCBbdXNlUmVjb3JkaW5nTmV3XSDmlLbliLAgQUNLL01pc3Npbmc6JywgZGF0YSlcblxuICAgICAgICBpZiAoZGF0YS5taXNzaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOaciemBuuWkseeahOmfs+aqlOWIh+eJh+mcgOimgemHjeWCszonLCBkYXRhLm1pc3NpbmcpXG5cbiAgICAgICAgICAgIC8vIOWvpuS9nOmHjeWCs+apn+WItlxuICAgICAgICAgICAgZGF0YS5taXNzaW5nLmZvckVhY2goc2VxdWVuY2UgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5Q291bnQgPSByZXRyeUNvdW50c1JlZi5jdXJyZW50LmdldChzZXF1ZW5jZSkgPz8gMFxuXG4gICAgICAgICAgICAgICAgaWYgKHJldHJ5Q291bnQgPCA1KSB7IC8vIOacgOWkmumHjeWCsyA1IOasoVxuICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50c1JlZi5jdXJyZW50LnNldChzZXF1ZW5jZSwgcmV0cnlDb3VudCArIDEpXG5cbiAgICAgICAgICAgICAgICAgICAgLy8g5bCL5om+5bCN5oeJ55qE6Z+z5qqU5YiH54mH6YCy6KGM6YeN5YKz77yI5aaC5p6c6YKE5a2Y5Zyo77yJXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVua3NSZWYuY3VycmVudFtzZXF1ZW5jZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIOmHjeWCs+mfs+aqlOWIh+eJhyAjJHtzZXF1ZW5jZX0gKOesrCAke3JldHJ5Q291bnQgKyAxfSDmrKEpYClcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvVXBsb2FkV3NSZWYuY3VycmVudD8udXBsb2FkQXVkaW9DaHVuayhjaHVua3NSZWYuY3VycmVudFtzZXF1ZW5jZV0uYmxvYilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCDpn7PmqpTliIfniYcgIyR7c2VxdWVuY2V9IOmHjeWCs+asoeaVuOW3sumBlOS4iumZkGApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g6JmV55CG6Z+z5qqU5YiH54mHXG4gICAgY29uc3QgaGFuZGxlQXVkaW9DaHVuayA9IHVzZUNhbGxiYWNrKChjaHVuazogQXVkaW9DaHVuaykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+OtSBbdXNlUmVjb3JkaW5nTmV3XSDmlLbliLDpn7PmqpTliIfniYcgIyR7Y2h1bmsuc2VxdWVuY2V9LCDlpKflsI86ICR7Y2h1bmsuYmxvYi5zaXplfSBieXRlc2ApXG5cbiAgICAgICAgLy8g5YSy5a2Y5YiH54mH5L6b6YeN5YKz5L2/55SoXG4gICAgICAgIGNodW5rc1JlZi5jdXJyZW50W2NodW5rLnNlcXVlbmNlXSA9IGNodW5rXG5cbiAgICAgICAgLy8g5aaC5p6cIFdlYlNvY2tldCDlt7LpgKPmjqXvvIznq4vljbPkuIrlgrNcbiAgICAgICAgaWYgKGF1ZGlvVXBsb2FkV3NSZWYuY3VycmVudD8uaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGF1ZGlvVXBsb2FkV3NSZWYuY3VycmVudC51cGxvYWRBdWRpb0NodW5rKGNodW5rLmJsb2IpXG4gICAgICAgIH1cbiAgICB9LCBbXSlcblxuICAgIC8vIOmWi+Wni+mMhOmfsyAtIOaVtOWQiCBDb250ZXh0IOeLgOaFi+euoeeQhlxuICAgIGNvbnN0IHN0YXJ0UmVjb3JkaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRMb2NhbEVycm9yKG51bGwpXG4gICAgICAgICAgICBjb250ZXh0LnNldEVycm9yKG51bGwpXG4gICAgICAgICAgICBzZXRMb2NhbFRyYW5zY3JpcHRDb21wbGV0ZWQoZmFsc2UpXG4gICAgICAgICAgICBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQgPSBzZXNzaW9uSWRcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjqQgW3VzZVJlY29yZGluZ05ld10g6ZaL5aeL6YyE6Z+z5rWB56iLOicsIHsgc2Vzc2lvbklkIH0pXG5cbiAgICAgICAgICAgIC8vIOeiuuS/neWcqOeAj+imveWZqOeSsOWig+S4reWft+ihjFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmraTlip/og73lg4XlnKjngI/opr3lmajnkrDlooPkuK3lj6/nlKgnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDmraXpqZ8gMTog5bu656uL6Z+z5qqU6YyE6KO95Zmo77yIMTIg56eS5YiH54mH77yJXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OpCBbdXNlUmVjb3JkaW5nTmV3XSDmraXpqZ8gMTog5Yid5aeL5YyW6Z+z5qqU6YyE6KO95ZmoJylcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvUmVjb3JkZXIgPSBuZXcgQXVkaW9SZWNvcmRlcih7XG4gICAgICAgICAgICAgICAgY2h1bmtJbnRlcnZhbDogMTIwMDAsIC8vIDEyIOenkuWIh+eJh1xuICAgICAgICAgICAgICAgIG1pbWVUeXBlOiAnYXVkaW8vd2VibTtjb2RlY3M9b3B1cydcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudCA9IGF1ZGlvUmVjb3JkZXJcbiAgICAgICAgICAgIGNodW5rc1JlZi5jdXJyZW50ID0gW11cbiAgICAgICAgICAgIHJldHJ5Q291bnRzUmVmLmN1cnJlbnQuY2xlYXIoKVxuXG4gICAgICAgICAgICAvLyDoqK3lrprpn7PmqpTpjIToo73lmajkuovku7ZcbiAgICAgICAgICAgIGF1ZGlvUmVjb3JkZXIub25DaHVuayhoYW5kbGVBdWRpb0NodW5rKVxuICAgICAgICAgICAgYXVkaW9SZWNvcmRlci5vbkVycm9yKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW3VzZVJlY29yZGluZ05ld10gQXVkaW9SZWNvcmRlciDpjK/oqqQ6JywgZXJyKVxuICAgICAgICAgICAgICAgIHNldExvY2FsRXJyb3IoZXJyLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRFcnJvcihlcnIubWVzc2FnZSlcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIC8vIOatpempnyAyOiDliJ3lp4vljJbpn7PoqIrmrIrpmZBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmdOZXddIOatpempnyAyOiDliJ3lp4vljJbpn7PoqIrmrIrpmZAnKVxuICAgICAgICAgICAgYXdhaXQgYXVkaW9SZWNvcmRlci5pbml0aWFsaXplKClcblxuICAgICAgICAgICAgLy8g5q2l6amfIDM6IOW7uueriyBXZWJTb2NrZXQg6YCj57ea77yI5Lim6KGM5bu656uL77yM56K65L+d6YO95bCx57eS77yJXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OpCBbdXNlUmVjb3JkaW5nTmV3XSDmraXpqZ8gMzog5bu656uLIFdlYlNvY2tldCDpgKPnt5onKVxuXG4gICAgICAgICAgICAvLyAzYS4g5bu656uL6Z+z5qqU5LiK5YKzIFdlYlNvY2tldFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIwgW3VzZVJlY29yZGluZ05ld10g5bu656uL6Z+z5qqU5LiK5YKzIFdlYlNvY2tldCcpXG4gICAgICAgICAgICBjb25zdCB1cGxvYWRXcyA9IG5ldyBBdWRpb1VwbG9hZFdlYlNvY2tldChzZXNzaW9uSWQpXG4gICAgICAgICAgICBhd2FpdCB1cGxvYWRXcy5jb25uZWN0KClcblxuICAgICAgICAgICAgLy8g6Kit5a6a6Z+z5qqU5LiK5YKzIFdlYlNvY2tldCDkuovku7bomZXnkIZcbiAgICAgICAgICAgIHVwbG9hZFdzLm9uQWNrTWlzc2luZyhoYW5kbGVBY2tNaXNzaW5nKVxuICAgICAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50ID0gdXBsb2FkV3NcblxuICAgICAgICAgICAgLy8gM2IuIOW7uueri+mAkOWtl+eov+aOpeaUtiBXZWJTb2NrZXTvvIjpgI/pgY4gVHJhbnNjcmlwdE1hbmFnZXLvvIlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SMIFt1c2VSZWNvcmRpbmdOZXddIOW7uueri+mAkOWtl+eov+aOpeaUtiBXZWJTb2NrZXQnKVxuICAgICAgICAgICAgYXdhaXQgdHJhbnNjcmlwdE1hbmFnZXIuY29ubmVjdChzZXNzaW9uSWQpXG4gICAgICAgICAgICB0cmFuc2NyaXB0TWFuYWdlci5hZGRMaXN0ZW5lcihzZXNzaW9uSWQsIGhhbmRsZVRyYW5zY3JpcHQpXG5cbiAgICAgICAgICAgIC8vIOatpempnyA0OiDpqZforYnpgKPnt5rni4DmhYtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmdOZXddIOatpempnyA0OiDpqZforYnpgKPnt5rni4DmhYsnKVxuICAgICAgICAgICAgaWYgKCF1cGxvYWRXcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign6Z+z5qqU5LiK5YKzIFdlYlNvY2tldCDpgKPnt5rlpLHmlZcnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRyYW5zY3JpcHRNYW5hZ2VyLmlzQ29ubmVjdGVkKHNlc3Npb25JZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+mAkOWtl+eov+aOpeaUtiBXZWJTb2NrZXQg6YCj57ea5aSx5pWXJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlUmVjb3JkaW5nTmV3XSDmiYDmnIkgV2ViU29ja2V0IOmAo+e3muW3suW7uueriycpXG5cbiAgICAgICAgICAgIC8vIOatpempnyA1OiDllZ/li5Xlv4Pot7PmqZ/liLZcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmdOZXddIOatpempnyA1OiDllZ/li5Xlv4Pot7PmqZ/liLYnKVxuICAgICAgICAgICAgc3RhcnRIZWFydGJlYXQodXBsb2FkV3MpXG5cbiAgICAgICAgICAgIC8vIOatpempnyA2OiDplovlp4vpjITpn7MgLSDkvb/nlKggQ29udGV4dCDni4DmhYvnrqHnkIZcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmdOZXddIOatpempnyA2OiDplovlp4vpjITpn7MnKVxuXG4gICAgICAgICAgICAvLyDlhYjoqK3nva7pjITpn7Pni4DmhYvliLAgQ29udGV4dFxuICAgICAgICAgICAgY29udGV4dC5zZXRSZWNvcmRpbmcodHJ1ZSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmdOZXddIOmMhOmfs+eLgOaFi+W3suioree9ruWIsCBDb250ZXh0OiB0cnVlJylcblxuICAgICAgICAgICAgYXdhaXQgYXVkaW9SZWNvcmRlci5zdGFydFJlY29yZGluZygpXG4gICAgICAgICAgICBzdGFydFRpbWVyKClcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlUmVjb3JkaW5nTmV3XSDpjITpn7Pplovlp4vmiJDlip/vvIxTZXNzaW9uIElEOicsIHNlc3Npb25JZClcblxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn6ZaL5aeL6YyE6Z+z5aSx5pWXJ1xuICAgICAgICAgICAgc2V0TG9jYWxFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICAgICAgICBjb250ZXh0LnNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbdXNlUmVjb3JkaW5nTmV3XSDplovlp4vpjITpn7PlpLHmlZc6JywgZXJyKVxuXG4gICAgICAgICAgICAvLyDpjK/oqqTmmYLmuIXnkIbos4fmupBcbiAgICAgICAgICAgIGlmIChhdWRpb1JlY29yZGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBhdWRpb1JlY29yZGVyUmVmLmN1cnJlbnQuc3RvcFJlY29yZGluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICAgICAgICAgIGF1ZGlvVXBsb2FkV3NSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0TWFuYWdlci5yZW1vdmVMaXN0ZW5lcihjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsIGhhbmRsZVRyYW5zY3JpcHQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlQXVkaW9DaHVuaywgaGFuZGxlQWNrTWlzc2luZywgaGFuZGxlVHJhbnNjcmlwdCwgc3RhcnRUaW1lciwgc3RhcnRIZWFydGJlYXQsIGNvbnRleHRdKVxuXG4gICAgLy8g5YGc5q2i6YyE6Z+zIC0g5pW05ZCIIENvbnRleHQg54uA5oWL566h55CGXG4gICAgY29uc3Qgc3RvcFJlY29yZGluZyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIOWBnOatoumfs+aqlOmMhOijveWZqFxuICAgICAgICAgICAgaWYgKGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudC5zdG9wUmVjb3JkaW5nKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g6Zec6ZaJ6Z+z5qqU5LiK5YKzIFdlYlNvY2tldFxuICAgICAgICAgICAgaWYgKGF1ZGlvVXBsb2FkV3NSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGF1ZGlvVXBsb2FkV3NSZWYuY3VycmVudC5kaXNjb25uZWN0KClcbiAgICAgICAgICAgICAgICBhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIOS9v+eUqCBDb250ZXh0IOabtOaWsOeLgOaFi1xuICAgICAgICAgICAgY29udGV4dC5zZXRSZWNvcmRpbmcoZmFsc2UpXG4gICAgICAgICAgICBjbGVhclRpbWVyKClcbiAgICAgICAgICAgIGNsZWFySGVhcnRiZWF0KClcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlUmVjb3JkaW5nTmV3XSDpjITpn7PlgZzmraLvvIznrYnlvoXovYnpjITlrozmiJAnKVxuXG4gICAgICAgICAgICAvLyDms6jmhI/vvJrkuI3mlrfplosgVHJhbnNjcmlwdE1hbmFnZXIg6YCj5o6l77yM57m857qM5o6l5pS26L2J6YyE57WQ5p6cXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW3VzZVJlY29yZGluZ05ld10g5YGc5q2i6YyE6Z+z5aSx5pWXOicsIGVycilcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICflgZzmraLpjITpn7PmmYLnmbznlJ/pjK/oqqQnXG4gICAgICAgICAgICBzZXRMb2NhbEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnRleHQuc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICB9XG4gICAgfSwgW2NsZWFyVGltZXIsIGNsZWFySGVhcnRiZWF0LCBjb250ZXh0XSlcblxuICAgIC8vIOa4heepuumAkOWtl+eovyAtIOaVtOWQiCBDb250ZXh0XG4gICAgY29uc3QgY2xlYXJUcmFuc2NyaXB0cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2NyaXB0RW50cmllcyhbXSlcbiAgICAgICAgc2V0TG9jYWxUcmFuc2NyaXB0Q29tcGxldGVkKGZhbHNlKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbdXNlUmVjb3JkaW5nTmV3XSDpgJDlrZfnqL/lt7LmuIXpmaQnKVxuICAgIH0sIFtjb250ZXh0XSlcblxuICAgIC8vIOa4heeQhuizh+a6kFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAvLyDnp7vpmaQgVHJhbnNjcmlwdE1hbmFnZXIg55uj6IG95ZmoXG4gICAgICAgICAgICBpZiAoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdE1hbmFnZXIucmVtb3ZlTGlzdGVuZXIoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50LCBoYW5kbGVUcmFuc2NyaXB0KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDmuIXnkIboqIjmmYLlmahcbiAgICAgICAgICAgIGNsZWFyVGltZXIoKVxuICAgICAgICAgICAgY2xlYXJIZWFydGJlYXQoKVxuXG4gICAgICAgICAgICAvLyDpl5zplonpn7PmqpTkuIrlgrMgV2ViU29ja2V0XG4gICAgICAgICAgICBpZiAoYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDlgZzmraLpjITpn7PlmahcbiAgICAgICAgICAgIGlmIChhdWRpb1JlY29yZGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBhdWRpb1JlY29yZGVyUmVmLmN1cnJlbnQuc3RvcFJlY29yZGluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbY2xlYXJUaW1lciwgY2xlYXJIZWFydGJlYXQsIGhhbmRsZVRyYW5zY3JpcHRdKVxuXG4gICAgLy8g6L2J5o+bIFRyYW5zY3JpcHRNZXNzYWdlW10g54K65ZCR5b6M55u45a655qC85byPXG4gICAgY29uc3QgY29tcGF0aWJsZVRyYW5zY3JpcHRzOiBUcmFuc2NyaXB0TWVzc2FnZVtdID0gY29udGV4dC5hcHBEYXRhLnRyYW5zY3JpcHRFbnRyaWVzLm1hcCgoZW50cnksIGluZGV4KSA9PiAoe1xuICAgICAgICB0eXBlOiAndHJhbnNjcmlwdF9zZWdtZW50JyxcbiAgICAgICAgdGV4dDogZW50cnkudGV4dCxcbiAgICAgICAgc3RhcnRfdGltZTogMCwgLy8g57Ch5YyW6JmV55CG77yM5a+m6Zqb5oeJ6Kmy5b6eIHRpbWUg5a2X5Liy6Kej5p6QXG4gICAgICAgIGVuZF90aW1lOiAwLFxuICAgICAgICBzdGFydF9zZXF1ZW5jZTogaW5kZXgsXG4gICAgICAgIGNvbmZpZGVuY2U6IDEuMCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH0pKVxuXG4gICAgLy8g6L+U5Zue5LuL6Z2i5L+d5oyB6IiH6IiK54mI55u45a65XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNSZWNvcmRpbmc6IGNvbnRleHQuYXBwRGF0YS5pc1JlY29yZGluZyxcbiAgICAgICAgcmVjb3JkaW5nVGltZTogY29udGV4dC5hcHBEYXRhLnJlY29yZGluZ1RpbWUsXG4gICAgICAgIHRyYW5zY3JpcHRzOiBjb21wYXRpYmxlVHJhbnNjcmlwdHMsXG4gICAgICAgIHRyYW5zY3JpcHRDb21wbGV0ZWQ6IGxvY2FsVHJhbnNjcmlwdENvbXBsZXRlZCxcbiAgICAgICAgZXJyb3I6IGNvbnRleHQuZXJyb3IgfHwgbG9jYWxFcnJvcixcbiAgICAgICAgc3RhcnRSZWNvcmRpbmcsXG4gICAgICAgIHN0b3BSZWNvcmRpbmcsXG4gICAgICAgIGNsZWFyVHJhbnNjcmlwdHMsXG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJBdWRpb1VwbG9hZFdlYlNvY2tldCIsIkF1ZGlvUmVjb3JkZXIiLCJ0cmFuc2NyaXB0TWFuYWdlciIsInVzZUFwcFN0YXRlQ29udGV4dCIsImlzRmVhdHVyZUVuYWJsZWQiLCJ1c2VSZWNvcmRpbmdOZXciLCJjb250ZXh0IiwibG9jYWxFcnJvciIsInNldExvY2FsRXJyb3IiLCJsb2NhbFRyYW5zY3JpcHRDb21wbGV0ZWQiLCJzZXRMb2NhbFRyYW5zY3JpcHRDb21wbGV0ZWQiLCJhdWRpb1VwbG9hZFdzUmVmIiwiYXVkaW9SZWNvcmRlclJlZiIsImN1cnJlbnRTZXNzaW9uSWRSZWYiLCJ0aW1lclJlZiIsImhlYXJ0YmVhdFJlZiIsImNodW5rc1JlZiIsInJldHJ5Q291bnRzUmVmIiwiTWFwIiwiY29uc29sZSIsImxvZyIsInVzZU5ld1N0YXRlTWFuYWdlbWVudCIsInVzZU5ld1JlY29yZGluZ0hvb2siLCJjb250ZXh0U3RhdGUiLCJhcHBEYXRhIiwic3RhdGUiLCJjb250ZXh0SXNSZWNvcmRpbmciLCJpc1JlY29yZGluZyIsImNvbnRleHRSZWNvcmRpbmdUaW1lIiwicmVjb3JkaW5nVGltZSIsImNsZWFyVGltZXIiLCJjdXJyZW50IiwiY2xlYXJJbnRlcnZhbCIsImNsZWFySGVhcnRiZWF0Iiwic3RhcnRIZWFydGJlYXQiLCJ1cGxvYWRXcyIsInNldEludGVydmFsIiwiaXNDb25uZWN0ZWQiLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsInR5cGUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93Iiwic3RhcnRUaW1lciIsInNldFJlY29yZGluZ1RpbWUiLCJoYW5kbGVUcmFuc2NyaXB0IiwidHJhbnNjcmlwdCIsInRleHQiLCJ0ZXh0TGVuZ3RoIiwibGVuZ3RoIiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwic3RhcnRfc2VxdWVuY2UiLCJjb25maWRlbmNlIiwic2Vzc2lvbklkIiwidG9JU09TdHJpbmciLCJmdWxsTWVzc2FnZSIsIm1lc3NhZ2UiLCJwaGFzZSIsInRleHRQcmV2aWV3Iiwic3Vic3RyaW5nIiwic2VxdWVuY2UiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwibWludXRlcyIsIk1hdGgiLCJmbG9vciIsInNlY29uZHMiLCJ0aW1lU3RyIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInRyYW5zY3JpcHRFbnRyeSIsInRpbWUiLCJhZGRUcmFuc2NyaXB0RW50cnkiLCJoYW5kbGVBY2tNaXNzaW5nIiwiZGF0YSIsIm1pc3NpbmciLCJ3YXJuIiwiZm9yRWFjaCIsInJldHJ5Q291bnQiLCJnZXQiLCJzZXQiLCJ1cGxvYWRBdWRpb0NodW5rIiwiYmxvYiIsImVycm9yIiwiaGFuZGxlQXVkaW9DaHVuayIsImNodW5rIiwic2l6ZSIsInN0YXJ0UmVjb3JkaW5nIiwic2V0RXJyb3IiLCJFcnJvciIsImF1ZGlvUmVjb3JkZXIiLCJjaHVua0ludGVydmFsIiwibWltZVR5cGUiLCJjbGVhciIsIm9uQ2h1bmsiLCJvbkVycm9yIiwiZXJyIiwiaW5pdGlhbGl6ZSIsImNvbm5lY3QiLCJvbkFja01pc3NpbmciLCJhZGRMaXN0ZW5lciIsInNldFJlY29yZGluZyIsImVycm9yTWVzc2FnZSIsInN0b3BSZWNvcmRpbmciLCJkaXNjb25uZWN0IiwicmVtb3ZlTGlzdGVuZXIiLCJjbGVhclRyYW5zY3JpcHRzIiwic2V0VHJhbnNjcmlwdEVudHJpZXMiLCJjb21wYXRpYmxlVHJhbnNjcmlwdHMiLCJ0cmFuc2NyaXB0RW50cmllcyIsIm1hcCIsImVudHJ5IiwiaW5kZXgiLCJ0cmFuc2NyaXB0cyIsInRyYW5zY3JpcHRDb21wbGV0ZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-recording-new.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-recording.ts":
/*!********************************!*\
  !*** ./hooks/use-recording.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRecording: () => (/* binding */ useRecording)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/websocket */ \"(ssr)/./lib/websocket.ts\");\n/* harmony import */ var _lib_audio_recorder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/audio-recorder */ \"(ssr)/./lib/audio-recorder.ts\");\n/* harmony import */ var _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/transcript-manager */ \"(ssr)/./lib/transcript-manager.ts\");\n/* __next_internal_client_entry_do_not_use__ useRecording auto */ \n\n\n\nfunction useRecording() {\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [recordingTime, setRecordingTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [transcripts, setTranscripts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [transcriptCompleted, setTranscriptCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // WebSocket 和錄音器引用\n    const audioUploadWsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const audioRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentSessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 計時器和狀態引用\n    const timerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const heartbeatRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const chunksRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const retryCountsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    // 清理計時器\n    const clearTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[clearTimer]\": ()=>{\n            if (timerRef.current) {\n                clearInterval(timerRef.current);\n                timerRef.current = null;\n            }\n        }\n    }[\"useRecording.useCallback[clearTimer]\"], []);\n    // 清理心跳計時器\n    const clearHeartbeat = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[clearHeartbeat]\": ()=>{\n            if (heartbeatRef.current) {\n                clearInterval(heartbeatRef.current);\n                heartbeatRef.current = null;\n            }\n        }\n    }[\"useRecording.useCallback[clearHeartbeat]\"], []);\n    // 開始音檔上傳心跳\n    const startHeartbeat = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[startHeartbeat]\": (uploadWs)=>{\n            clearHeartbeat();\n            heartbeatRef.current = setInterval({\n                \"useRecording.useCallback[startHeartbeat]\": ()=>{\n                    if (uploadWs.isConnected) {\n                        uploadWs.send(JSON.stringify({\n                            type: 'heartbeat',\n                            timestamp: Date.now()\n                        }));\n                    }\n                }\n            }[\"useRecording.useCallback[startHeartbeat]\"], 30000) // 每30秒發送一次心跳\n            ;\n        }\n    }[\"useRecording.useCallback[startHeartbeat]\"], [\n        clearHeartbeat\n    ]);\n    // 開始錄音計時器\n    const startTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[startTimer]\": ()=>{\n            clearTimer();\n            setRecordingTime(0);\n            timerRef.current = setInterval({\n                \"useRecording.useCallback[startTimer]\": ()=>{\n                    setRecordingTime({\n                        \"useRecording.useCallback[startTimer]\": (prev)=>prev + 1\n                    }[\"useRecording.useCallback[startTimer]\"]);\n                }\n            }[\"useRecording.useCallback[startTimer]\"], 1000);\n        }\n    }[\"useRecording.useCallback[startTimer]\"], [\n        clearTimer\n    ]);\n    // 處理逐字稿接收 - 透過 TranscriptManager\n    const handleTranscript = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[handleTranscript]\": (transcript)=>{\n            console.log('📝 [useRecording] 收到逐字稿訊息:', {\n                type: transcript.type,\n                text: transcript.text,\n                textLength: transcript.text?.length || 0,\n                start_time: transcript.start_time,\n                end_time: transcript.end_time,\n                start_sequence: transcript.start_sequence,\n                confidence: transcript.confidence,\n                sessionId: currentSessionIdRef.current,\n                timestamp: new Date().toISOString(),\n                fullMessage: transcript\n            });\n            // 處理轉錄完成通知\n            if (transcript.type === 'transcript_complete' || transcript.message === 'transcription_complete') {\n                console.log('✅ [useRecording] 逐字稿轉錄完成，設定 transcriptCompleted=true');\n                setTranscriptCompleted(true);\n                return;\n            }\n            // 處理 active phase 訊息（重要：這會觸發狀態轉換）\n            if (transcript.type === 'active' || transcript.phase === 'active') {\n                console.log('🚀 [useRecording] 收到 active phase 訊息，轉錄開始');\n                // 這裡可以設置一個標記，表示轉錄已開始\n                return;\n            }\n            // 只處理逐字稿片段類型的訊息\n            if (transcript.type !== 'transcript_segment') {\n                console.log('⚠️ [useRecording] 跳過非逐字稿片段訊息:', transcript.type);\n                return;\n            }\n            if (!transcript.text) {\n                console.log('⚠️ [useRecording] 跳過空文字逐字稿');\n                return;\n            }\n            console.log('🔄 [useRecording] 開始處理逐字稿片段...', {\n                text: transcript.text,\n                textPreview: transcript.text.substring(0, 50) + '...',\n                sequence: transcript.start_sequence,\n                startTime: transcript.start_time,\n                endTime: transcript.end_time\n            });\n            setTranscripts({\n                \"useRecording.useCallback[handleTranscript]\": (prev)=>{\n                    console.log('📊 [useRecording] 合併前狀態:', {\n                        existingCount: prev.length,\n                        newSegmentText: transcript.text,\n                        newSegmentSequence: transcript.start_sequence,\n                        newSegmentTime: transcript.start_time\n                    });\n                    // 使用 start_sequence 作為排序依據，如果沒有則使用時間戳\n                    const sequence = transcript.start_sequence ?? transcript.timestamp ?? 0;\n                    // 依照序號排序並去重\n                    const filtered = prev.filter({\n                        \"useRecording.useCallback[handleTranscript].filtered\": (t)=>{\n                            const existingSequence = t.start_sequence ?? t.timestamp ?? 0;\n                            return existingSequence !== sequence;\n                        }\n                    }[\"useRecording.useCallback[handleTranscript].filtered\"]);\n                    const updated = [\n                        ...filtered,\n                        transcript\n                    ].sort({\n                        \"useRecording.useCallback[handleTranscript].updated\": (a, b)=>{\n                            const aSequence = a.start_sequence ?? a.timestamp ?? 0;\n                            const bSequence = b.start_sequence ?? b.timestamp ?? 0;\n                            return aSequence - bSequence;\n                        }\n                    }[\"useRecording.useCallback[handleTranscript].updated\"]);\n                    console.log('📊 [useRecording] 合併後狀態:', {\n                        newCount: updated.length,\n                        countChange: updated.length - prev.length,\n                        filteredCount: filtered.length,\n                        isDuplicate: filtered.length === prev.length ? false : true,\n                        lastSegmentText: updated[updated.length - 1]?.text?.substring(0, 50) + '...'\n                    });\n                    console.log(`✅ [useRecording] 逐字稿更新完成: ${prev.length} → ${updated.length} 個片段`);\n                    return updated;\n                }\n            }[\"useRecording.useCallback[handleTranscript]\"]);\n        }\n    }[\"useRecording.useCallback[handleTranscript]\"], []);\n    // 處理 ACK/Missing 訊息 - 支援重傳機制\n    const handleAckMissing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[handleAckMissing]\": (data)=>{\n            console.log('📨 收到 ACK/Missing:', data);\n            if (data.missing.length > 0) {\n                console.warn('⚠️ 有遺失的音檔切片需要重傳:', data.missing);\n                // 實作重傳機制\n                data.missing.forEach({\n                    \"useRecording.useCallback[handleAckMissing]\": (sequence)=>{\n                        const retryCount = retryCountsRef.current.get(sequence) ?? 0;\n                        if (retryCount < 5) {\n                            retryCountsRef.current.set(sequence, retryCount + 1);\n                            // 尋找對應的音檔切片進行重傳（如果還存在）\n                            if (chunksRef.current[sequence]) {\n                                console.log(`🔄 重傳音檔切片 #${sequence} (第 ${retryCount + 1} 次)`);\n                                audioUploadWsRef.current?.uploadAudioChunk(chunksRef.current[sequence].blob);\n                            }\n                        } else {\n                            console.error(`❌ 音檔切片 #${sequence} 重傳次數已達上限`);\n                        }\n                    }\n                }[\"useRecording.useCallback[handleAckMissing]\"]);\n            }\n        }\n    }[\"useRecording.useCallback[handleAckMissing]\"], []);\n    // 處理音檔切片\n    const handleAudioChunk = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[handleAudioChunk]\": (chunk)=>{\n            console.log(`🎵 收到音檔切片 #${chunk.sequence}, 大小: ${chunk.blob.size} bytes`);\n            // 儲存切片供重傳使用\n            chunksRef.current[chunk.sequence] = chunk;\n            // 如果 WebSocket 已連接，立即上傳\n            if (audioUploadWsRef.current?.isConnected) {\n                audioUploadWsRef.current.uploadAudioChunk(chunk.blob);\n            }\n        }\n    }[\"useRecording.useCallback[handleAudioChunk]\"], []);\n    // 開始錄音 - 優化連線時序和穩定性\n    const startRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[startRecording]\": async (sessionId)=>{\n            try {\n                setError(null);\n                setTranscriptCompleted(false);\n                currentSessionIdRef.current = sessionId;\n                console.log('🎤 [useRecording] 開始錄音流程:', {\n                    sessionId\n                });\n                // 確保在瀏覽器環境中執行\n                if (true) {\n                    throw new Error('此功能僅在瀏覽器環境中可用');\n                }\n                // 步驟 1: 建立音檔錄製器（12 秒切片）\n                console.log('🎤 [useRecording] 步驟 1: 初始化音檔錄製器');\n                const audioRecorder = new _lib_audio_recorder__WEBPACK_IMPORTED_MODULE_2__.AudioRecorder({\n                    chunkInterval: 12000,\n                    mimeType: 'audio/webm;codecs=opus'\n                });\n                audioRecorderRef.current = audioRecorder;\n                chunksRef.current = [];\n                retryCountsRef.current.clear();\n                // 設定音檔錄製器事件\n                audioRecorder.onChunk(handleAudioChunk);\n                audioRecorder.onError({\n                    \"useRecording.useCallback[startRecording]\": (err)=>{\n                        console.error('❌ AudioRecorder 錯誤:', err);\n                        setError(err.message);\n                    }\n                }[\"useRecording.useCallback[startRecording]\"]);\n                // 步驟 2: 初始化音訊權限\n                console.log('🎤 [useRecording] 步驟 2: 初始化音訊權限');\n                await audioRecorder.initialize();\n                // 步驟 3: 建立 WebSocket 連線（並行建立，確保都就緒）\n                console.log('🎤 [useRecording] 步驟 3: 建立 WebSocket 連線');\n                // 3a. 建立音檔上傳 WebSocket\n                console.log('🔌 [useRecording] 建立音檔上傳 WebSocket');\n                const uploadWs = new _lib_websocket__WEBPACK_IMPORTED_MODULE_1__.AudioUploadWebSocket(sessionId);\n                await uploadWs.connect();\n                // 設定音檔上傳 WebSocket 事件處理\n                uploadWs.onAckMissing(handleAckMissing);\n                audioUploadWsRef.current = uploadWs;\n                // 3b. 建立逐字稿接收 WebSocket（透過 TranscriptManager）\n                console.log('🔌 [useRecording] 建立逐字稿接收 WebSocket');\n                await _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.connect(sessionId);\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.addListener(sessionId, handleTranscript);\n                // 步驟 4: 驗證連線狀態\n                console.log('🎤 [useRecording] 步驟 4: 驗證連線狀態');\n                if (!uploadWs.isConnected) {\n                    throw new Error('音檔上傳 WebSocket 連線失敗');\n                }\n                if (!_lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.isConnected(sessionId)) {\n                    throw new Error('逐字稿接收 WebSocket 連線失敗');\n                }\n                console.log('✅ [useRecording] 所有 WebSocket 連線已建立');\n                // 步驟 5: 啟動心跳機制\n                console.log('🎤 [useRecording] 步驟 5: 啟動心跳機制');\n                startHeartbeat(uploadWs);\n                // 步驟 6: 開始錄音\n                console.log('🎤 [useRecording] 步驟 6: 開始錄音');\n                // 先設置錄音狀態，確保狀態映射正確\n                setIsRecording(true);\n                console.log('🎤 [useRecording] 錄音狀態已設置為 true');\n                await audioRecorder.startRecording();\n                startTimer();\n                console.log('✅ [useRecording] 錄音開始成功，Session ID:', sessionId);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '開始錄音失敗';\n                setError(errorMessage);\n                console.error('❌ [useRecording] 開始錄音失敗:', err);\n                // 錯誤時清理資源\n                if (audioRecorderRef.current) {\n                    audioRecorderRef.current.stopRecording();\n                }\n                if (audioUploadWsRef.current) {\n                    audioUploadWsRef.current.disconnect();\n                    audioUploadWsRef.current = null;\n                }\n                if (currentSessionIdRef.current) {\n                    _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                }\n            }\n        }\n    }[\"useRecording.useCallback[startRecording]\"], [\n        handleAudioChunk,\n        handleAckMissing,\n        handleTranscript,\n        startTimer,\n        startHeartbeat\n    ]);\n    // 停止錄音\n    const stopRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[stopRecording]\": ()=>{\n            try {\n                // 停止音檔錄製器\n                if (audioRecorderRef.current) {\n                    audioRecorderRef.current.stopRecording();\n                }\n                // 關閉音檔上傳 WebSocket\n                if (audioUploadWsRef.current) {\n                    audioUploadWsRef.current.disconnect();\n                    audioUploadWsRef.current = null;\n                }\n                setIsRecording(false);\n                clearTimer();\n                clearHeartbeat();\n                console.log('✅ 錄音停止，等待轉錄完成');\n            // 注意：不斷開 TranscriptManager 連接，繼續接收轉錄結果\n            } catch (err) {\n                console.error('❌ 停止錄音失敗:', err);\n                setError('停止錄音時發生錯誤');\n            }\n        }\n    }[\"useRecording.useCallback[stopRecording]\"], [\n        clearTimer,\n        clearHeartbeat\n    ]);\n    // 清空逐字稿\n    const clearTranscripts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRecording.useCallback[clearTranscripts]\": ()=>{\n            setTranscripts([]);\n            setTranscriptCompleted(false);\n            console.log('🔄 逐字稿已清除');\n        }\n    }[\"useRecording.useCallback[clearTranscripts]\"], []);\n    // 清理資源\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useRecording.useEffect\": ()=>{\n            return ({\n                \"useRecording.useEffect\": ()=>{\n                    // 移除 TranscriptManager 監聽器\n                    if (currentSessionIdRef.current) {\n                        _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_3__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                    }\n                    // 清理計時器\n                    clearTimer();\n                    clearHeartbeat();\n                    // 關閉音檔上傳 WebSocket\n                    if (audioUploadWsRef.current) {\n                        audioUploadWsRef.current.disconnect();\n                    }\n                    // 停止錄音器\n                    if (audioRecorderRef.current) {\n                        audioRecorderRef.current.stopRecording();\n                    }\n                }\n            })[\"useRecording.useEffect\"];\n        }\n    }[\"useRecording.useEffect\"], [\n        clearTimer,\n        clearHeartbeat,\n        handleTranscript\n    ]);\n    return {\n        isRecording,\n        recordingTime,\n        transcripts,\n        transcriptCompleted,\n        error,\n        startRecording,\n        stopRecording,\n        clearTranscripts\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBQ25DN0YsaUJBQWlCUyxPQUFPLEdBQUc7Z0JBQzdCO2dCQUVBbEIsZUFBZTtnQkFDZmlCO2dCQUNBRztnQkFFQWdCLFFBQVFDLEdBQUcsQ0FBQztZQUVaLHVDQUF1QztZQUV6QyxFQUFFLE9BQU8wRCxLQUFLO2dCQUNaM0QsUUFBUTdCLEtBQUssQ0FBQyxhQUFhd0Y7Z0JBQzNCdkYsU0FBUztZQUNYO1FBQ0Y7a0RBQUc7UUFBQ1M7UUFBWUc7S0FBZTtJQUUvQixRQUFRO0lBQ1IsTUFBTW9GLG1CQUFtQmhILGtEQUFXQTtzREFBQztZQUNuQ1ksZUFBZSxFQUFFO1lBQ2pCRSx1QkFBdUI7WUFDdkI4QixRQUFRQyxHQUFHLENBQUM7UUFDZDtxREFBRyxFQUFFO0lBRUwsT0FBTztJQUNQM0MsZ0RBQVNBO2tDQUFDO1lBQ1I7MENBQU87b0JBQ0wsMkJBQTJCO29CQUMzQixJQUFJaUIsb0JBQW9CTyxPQUFPLEVBQUU7d0JBQy9CckIsc0VBQWlCQSxDQUFDMEcsY0FBYyxDQUFDNUYsb0JBQW9CTyxPQUFPLEVBQUVnQjtvQkFDaEU7b0JBRUEsUUFBUTtvQkFDUmpCO29CQUNBRztvQkFFQSxtQkFBbUI7b0JBQ25CLElBQUlYLGlCQUFpQlMsT0FBTyxFQUFFO3dCQUM1QlQsaUJBQWlCUyxPQUFPLENBQUNvRixVQUFVO29CQUNyQztvQkFFQSxRQUFRO29CQUNSLElBQUk1RixpQkFBaUJRLE9BQU8sRUFBRTt3QkFDNUJSLGlCQUFpQlEsT0FBTyxDQUFDbUYsYUFBYTtvQkFDeEM7Z0JBQ0Y7O1FBQ0Y7aUNBQUc7UUFBQ3BGO1FBQVlHO1FBQWdCYztLQUFpQjtJQUVqRCxPQUFPO1FBQ0xuQztRQUNBRTtRQUNBRTtRQUNBRTtRQUNBRTtRQUNBZ0Y7UUFDQWM7UUFDQUc7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ob29rcy91c2UtcmVjb3JkaW5nLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEF1ZGlvVXBsb2FkV2ViU29ja2V0LCBBY2tNaXNzaW5nTWVzc2FnZSB9IGZyb20gJy4uL2xpYi93ZWJzb2NrZXQnXG5pbXBvcnQgeyBBdWRpb1JlY29yZGVyLCBBdWRpb0NodW5rIH0gZnJvbSAnLi4vbGliL2F1ZGlvLXJlY29yZGVyJ1xuaW1wb3J0IHsgdHJhbnNjcmlwdE1hbmFnZXIsIFRyYW5zY3JpcHRNZXNzYWdlIH0gZnJvbSAnLi4vbGliL3RyYW5zY3JpcHQtbWFuYWdlcidcblxuaW50ZXJmYWNlIFVzZVJlY29yZGluZ1JldHVybiB7XG4gIGlzUmVjb3JkaW5nOiBib29sZWFuXG4gIHJlY29yZGluZ1RpbWU6IG51bWJlclxuICB0cmFuc2NyaXB0czogVHJhbnNjcmlwdE1lc3NhZ2VbXVxuICB0cmFuc2NyaXB0Q29tcGxldGVkOiBib29sZWFuXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsXG4gIHN0YXJ0UmVjb3JkaW5nOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD5cbiAgc3RvcFJlY29yZGluZzogKCkgPT4gdm9pZFxuICBjbGVhclRyYW5zY3JpcHRzOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWNvcmRpbmcoKTogVXNlUmVjb3JkaW5nUmV0dXJuIHtcbiAgY29uc3QgW2lzUmVjb3JkaW5nLCBzZXRJc1JlY29yZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3JlY29yZGluZ1RpbWUsIHNldFJlY29yZGluZ1RpbWVdID0gdXNlU3RhdGUoMClcbiAgY29uc3QgW3RyYW5zY3JpcHRzLCBzZXRUcmFuc2NyaXB0c10gPSB1c2VTdGF0ZTxUcmFuc2NyaXB0TWVzc2FnZVtdPihbXSlcbiAgY29uc3QgW3RyYW5zY3JpcHRDb21wbGV0ZWQsIHNldFRyYW5zY3JpcHRDb21wbGV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICAvLyBXZWJTb2NrZXQg5ZKM6YyE6Z+z5Zmo5byV55SoXG4gIGNvbnN0IGF1ZGlvVXBsb2FkV3NSZWYgPSB1c2VSZWY8QXVkaW9VcGxvYWRXZWJTb2NrZXQgfCBudWxsPihudWxsKVxuICBjb25zdCBhdWRpb1JlY29yZGVyUmVmID0gdXNlUmVmPEF1ZGlvUmVjb3JkZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBjdXJyZW50U2Vzc2lvbklkUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgLy8g6KiI5pmC5Zmo5ZKM54uA5oWL5byV55SoXG4gIGNvbnN0IHRpbWVyUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbClcbiAgY29uc3QgaGVhcnRiZWF0UmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbClcbiAgY29uc3QgY2h1bmtzUmVmID0gdXNlUmVmPEF1ZGlvQ2h1bmtbXT4oW10pXG4gIGNvbnN0IHJldHJ5Q291bnRzUmVmID0gdXNlUmVmPE1hcDxudW1iZXIsIG51bWJlcj4+KG5ldyBNYXAoKSlcblxuICAvLyDmuIXnkIboqIjmmYLlmahcbiAgY29uc3QgY2xlYXJUaW1lciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAodGltZXJSZWYuY3VycmVudCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lclJlZi5jdXJyZW50KVxuICAgICAgdGltZXJSZWYuY3VycmVudCA9IG51bGxcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIOa4heeQhuW/g+i3s+ioiOaZguWZqFxuICBjb25zdCBjbGVhckhlYXJ0YmVhdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaGVhcnRiZWF0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaGVhcnRiZWF0UmVmLmN1cnJlbnQpXG4gICAgICBoZWFydGJlYXRSZWYuY3VycmVudCA9IG51bGxcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIOmWi+Wni+mfs+aqlOS4iuWCs+W/g+i3s1xuICBjb25zdCBzdGFydEhlYXJ0YmVhdCA9IHVzZUNhbGxiYWNrKCh1cGxvYWRXczogQXVkaW9VcGxvYWRXZWJTb2NrZXQpID0+IHtcbiAgICBjbGVhckhlYXJ0YmVhdCgpXG5cbiAgICBoZWFydGJlYXRSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh1cGxvYWRXcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICB1cGxvYWRXcy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0eXBlOiAnaGVhcnRiZWF0JyxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfSkpXG4gICAgICB9XG4gICAgfSwgMzAwMDApIC8vIOavjzMw56eS55m86YCB5LiA5qyh5b+D6LezXG4gIH0sIFtjbGVhckhlYXJ0YmVhdF0pXG5cbiAgLy8g6ZaL5aeL6YyE6Z+z6KiI5pmC5ZmoXG4gIGNvbnN0IHN0YXJ0VGltZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY2xlYXJUaW1lcigpXG4gICAgc2V0UmVjb3JkaW5nVGltZSgwKVxuXG4gICAgdGltZXJSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHNldFJlY29yZGluZ1RpbWUoKHByZXYpID0+IHByZXYgKyAxKVxuICAgIH0sIDEwMDApXG4gIH0sIFtjbGVhclRpbWVyXSlcblxuICAvLyDomZXnkIbpgJDlrZfnqL/mjqXmlLYgLSDpgI/pgY4gVHJhbnNjcmlwdE1hbmFnZXJcbiAgY29uc3QgaGFuZGxlVHJhbnNjcmlwdCA9IHVzZUNhbGxiYWNrKCh0cmFuc2NyaXB0OiBUcmFuc2NyaXB0TWVzc2FnZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5OdIFt1c2VSZWNvcmRpbmddIOaUtuWIsOmAkOWtl+eov+ioiuaBrzonLCB7XG4gICAgICB0eXBlOiB0cmFuc2NyaXB0LnR5cGUsXG4gICAgICB0ZXh0OiB0cmFuc2NyaXB0LnRleHQsXG4gICAgICB0ZXh0TGVuZ3RoOiB0cmFuc2NyaXB0LnRleHQ/Lmxlbmd0aCB8fCAwLFxuICAgICAgc3RhcnRfdGltZTogdHJhbnNjcmlwdC5zdGFydF90aW1lLFxuICAgICAgZW5kX3RpbWU6IHRyYW5zY3JpcHQuZW5kX3RpbWUsXG4gICAgICBzdGFydF9zZXF1ZW5jZTogdHJhbnNjcmlwdC5zdGFydF9zZXF1ZW5jZSxcbiAgICAgIGNvbmZpZGVuY2U6IHRyYW5zY3JpcHQuY29uZmlkZW5jZSxcbiAgICAgIHNlc3Npb25JZDogY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBmdWxsTWVzc2FnZTogdHJhbnNjcmlwdFxuICAgIH0pXG5cbiAgICAvLyDomZXnkIbovYnpjITlrozmiJDpgJrnn6VcbiAgICBpZiAodHJhbnNjcmlwdC50eXBlID09PSAndHJhbnNjcmlwdF9jb21wbGV0ZScgfHwgdHJhbnNjcmlwdC5tZXNzYWdlID09PSAndHJhbnNjcmlwdGlvbl9jb21wbGV0ZScpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgW3VzZVJlY29yZGluZ10g6YCQ5a2X56i/6L2J6YyE5a6M5oiQ77yM6Kit5a6aIHRyYW5zY3JpcHRDb21wbGV0ZWQ9dHJ1ZScpXG4gICAgICBzZXRUcmFuc2NyaXB0Q29tcGxldGVkKHRydWUpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyDomZXnkIYgYWN0aXZlIHBoYXNlIOioiuaBr++8iOmHjeimge+8mumAmeacg+inuOeZvOeLgOaFi+i9ieaPm++8iVxuICAgIGlmICh0cmFuc2NyaXB0LnR5cGUgPT09ICdhY3RpdmUnIHx8IHRyYW5zY3JpcHQucGhhc2UgPT09ICdhY3RpdmUnKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+agCBbdXNlUmVjb3JkaW5nXSDmlLbliLAgYWN0aXZlIHBoYXNlIOioiuaBr++8jOi9iemMhOmWi+WniycpXG4gICAgICAvLyDpgJnoo6Hlj6/ku6XoqK3nva7kuIDlgIvmqJnoqJjvvIzooajnpLrovYnpjITlt7Lplovlp4tcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIOWPquiZleeQhumAkOWtl+eov+eJh+autemhnuWei+eahOioiuaBr1xuICAgIGlmICh0cmFuc2NyaXB0LnR5cGUgIT09ICd0cmFuc2NyaXB0X3NlZ21lbnQnKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIFt1c2VSZWNvcmRpbmddIOi3s+mBjumdnumAkOWtl+eov+eJh+auteioiuaBrzonLCB0cmFuc2NyaXB0LnR5cGUpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXRyYW5zY3JpcHQudGV4dCkge1xuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBbdXNlUmVjb3JkaW5nXSDot7PpgY7nqbrmloflrZfpgJDlrZfnqL8nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ/CflIQgW3VzZVJlY29yZGluZ10g6ZaL5aeL6JmV55CG6YCQ5a2X56i/54mH5q61Li4uJywge1xuICAgICAgdGV4dDogdHJhbnNjcmlwdC50ZXh0LFxuICAgICAgdGV4dFByZXZpZXc6IHRyYW5zY3JpcHQudGV4dC5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicsXG4gICAgICBzZXF1ZW5jZTogdHJhbnNjcmlwdC5zdGFydF9zZXF1ZW5jZSxcbiAgICAgIHN0YXJ0VGltZTogdHJhbnNjcmlwdC5zdGFydF90aW1lLFxuICAgICAgZW5kVGltZTogdHJhbnNjcmlwdC5lbmRfdGltZVxuICAgIH0pXG5cbiAgICBzZXRUcmFuc2NyaXB0cygocHJldikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW3VzZVJlY29yZGluZ10g5ZCI5L215YmN54uA5oWLOicsIHtcbiAgICAgICAgZXhpc3RpbmdDb3VudDogcHJldi5sZW5ndGgsXG4gICAgICAgIG5ld1NlZ21lbnRUZXh0OiB0cmFuc2NyaXB0LnRleHQsXG4gICAgICAgIG5ld1NlZ21lbnRTZXF1ZW5jZTogdHJhbnNjcmlwdC5zdGFydF9zZXF1ZW5jZSxcbiAgICAgICAgbmV3U2VnbWVudFRpbWU6IHRyYW5zY3JpcHQuc3RhcnRfdGltZVxuICAgICAgfSlcblxuICAgICAgLy8g5L2/55SoIHN0YXJ0X3NlcXVlbmNlIOS9nOeCuuaOkuW6j+S+neaTmu+8jOWmguaenOaykuacieWJh+S9v+eUqOaZgumWk+aIs1xuICAgICAgY29uc3Qgc2VxdWVuY2UgPSB0cmFuc2NyaXB0LnN0YXJ0X3NlcXVlbmNlID8/IHRyYW5zY3JpcHQudGltZXN0YW1wID8/IDBcblxuICAgICAgLy8g5L6d54Wn5bqP6Jmf5o6S5bqP5Lim5Y676YeNXG4gICAgICBjb25zdCBmaWx0ZXJlZCA9IHByZXYuZmlsdGVyKHQgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ1NlcXVlbmNlID0gdC5zdGFydF9zZXF1ZW5jZSA/PyB0LnRpbWVzdGFtcCA/PyAwXG4gICAgICAgIHJldHVybiBleGlzdGluZ1NlcXVlbmNlICE9PSBzZXF1ZW5jZVxuICAgICAgfSlcblxuICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5maWx0ZXJlZCwgdHJhbnNjcmlwdF0uc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBjb25zdCBhU2VxdWVuY2UgPSBhLnN0YXJ0X3NlcXVlbmNlID8/IGEudGltZXN0YW1wID8/IDBcbiAgICAgICAgY29uc3QgYlNlcXVlbmNlID0gYi5zdGFydF9zZXF1ZW5jZSA/PyBiLnRpbWVzdGFtcCA/PyAwXG4gICAgICAgIHJldHVybiBhU2VxdWVuY2UgLSBiU2VxdWVuY2VcbiAgICAgIH0pXG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFt1c2VSZWNvcmRpbmddIOWQiOS9teW+jOeLgOaFizonLCB7XG4gICAgICAgIG5ld0NvdW50OiB1cGRhdGVkLmxlbmd0aCxcbiAgICAgICAgY291bnRDaGFuZ2U6IHVwZGF0ZWQubGVuZ3RoIC0gcHJldi5sZW5ndGgsXG4gICAgICAgIGZpbHRlcmVkQ291bnQ6IGZpbHRlcmVkLmxlbmd0aCxcbiAgICAgICAgaXNEdXBsaWNhdGU6IGZpbHRlcmVkLmxlbmd0aCA9PT0gcHJldi5sZW5ndGggPyBmYWxzZSA6IHRydWUsXG4gICAgICAgIGxhc3RTZWdtZW50VGV4dDogdXBkYXRlZFt1cGRhdGVkLmxlbmd0aCAtIDFdPy50ZXh0Py5zdWJzdHJpbmcoMCwgNTApICsgJy4uLidcbiAgICAgIH0pXG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgW3VzZVJlY29yZGluZ10g6YCQ5a2X56i/5pu05paw5a6M5oiQOiAke3ByZXYubGVuZ3RofSDihpIgJHt1cGRhdGVkLmxlbmd0aH0g5YCL54mH5q61YClcbiAgICAgIHJldHVybiB1cGRhdGVkXG4gICAgfSlcbiAgfSwgW10pXG5cbiAgLy8g6JmV55CGIEFDSy9NaXNzaW5nIOioiuaBryAtIOaUr+aPtOmHjeWCs+apn+WItlxuICBjb25zdCBoYW5kbGVBY2tNaXNzaW5nID0gdXNlQ2FsbGJhY2soKGRhdGE6IEFja01pc3NpbmdNZXNzYWdlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/Cfk6gg5pS25YiwIEFDSy9NaXNzaW5nOicsIGRhdGEpXG5cbiAgICBpZiAoZGF0YS5taXNzaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOaciemBuuWkseeahOmfs+aqlOWIh+eJh+mcgOimgemHjeWCszonLCBkYXRhLm1pc3NpbmcpXG5cbiAgICAgIC8vIOWvpuS9nOmHjeWCs+apn+WItlxuICAgICAgZGF0YS5taXNzaW5nLmZvckVhY2goc2VxdWVuY2UgPT4ge1xuICAgICAgICBjb25zdCByZXRyeUNvdW50ID0gcmV0cnlDb3VudHNSZWYuY3VycmVudC5nZXQoc2VxdWVuY2UpID8/IDBcblxuICAgICAgICBpZiAocmV0cnlDb3VudCA8IDUpIHsgLy8g5pyA5aSa6YeN5YKzIDUg5qyhXG4gICAgICAgICAgcmV0cnlDb3VudHNSZWYuY3VycmVudC5zZXQoc2VxdWVuY2UsIHJldHJ5Q291bnQgKyAxKVxuXG4gICAgICAgICAgLy8g5bCL5om+5bCN5oeJ55qE6Z+z5qqU5YiH54mH6YCy6KGM6YeN5YKz77yI5aaC5p6c6YKE5a2Y5Zyo77yJXG4gICAgICAgICAgaWYgKGNodW5rc1JlZi5jdXJyZW50W3NlcXVlbmNlXSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYPCflIQg6YeN5YKz6Z+z5qqU5YiH54mHICMke3NlcXVlbmNlfSAo56ysICR7cmV0cnlDb3VudCArIDF9IOasoSlgKVxuICAgICAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50Py51cGxvYWRBdWRpb0NodW5rKGNodW5rc1JlZi5jdXJyZW50W3NlcXVlbmNlXS5ibG9iKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwg6Z+z5qqU5YiH54mHICMke3NlcXVlbmNlfSDph43lgrPmrKHmlbjlt7LpgZTkuIrpmZBgKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g6JmV55CG6Z+z5qqU5YiH54mHXG4gIGNvbnN0IGhhbmRsZUF1ZGlvQ2h1bmsgPSB1c2VDYWxsYmFjaygoY2h1bms6IEF1ZGlvQ2h1bmspID0+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+OtSDmlLbliLDpn7PmqpTliIfniYcgIyR7Y2h1bmsuc2VxdWVuY2V9LCDlpKflsI86ICR7Y2h1bmsuYmxvYi5zaXplfSBieXRlc2ApXG5cbiAgICAvLyDlhLLlrZjliIfniYfkvpvph43lgrPkvb/nlKhcbiAgICBjaHVua3NSZWYuY3VycmVudFtjaHVuay5zZXF1ZW5jZV0gPSBjaHVua1xuXG4gICAgLy8g5aaC5p6cIFdlYlNvY2tldCDlt7LpgKPmjqXvvIznq4vljbPkuIrlgrNcbiAgICBpZiAoYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50Py5pc0Nvbm5lY3RlZCkge1xuICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50LnVwbG9hZEF1ZGlvQ2h1bmsoY2h1bmsuYmxvYilcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIOmWi+Wni+mMhOmfsyAtIOWEquWMlumAo+e3muaZguW6j+WSjOepqeWumuaAp1xuICBjb25zdCBzdGFydFJlY29yZGluZyA9IHVzZUNhbGxiYWNrKGFzeW5jIChzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRFcnJvcihudWxsKVxuICAgICAgc2V0VHJhbnNjcmlwdENvbXBsZXRlZChmYWxzZSlcbiAgICAgIGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCA9IHNlc3Npb25JZFxuXG4gICAgICBjb25zb2xlLmxvZygn8J+OpCBbdXNlUmVjb3JkaW5nXSDplovlp4vpjITpn7PmtYHnqIs6JywgeyBzZXNzaW9uSWQgfSlcblxuICAgICAgLy8g56K65L+d5Zyo54CP6Ka95Zmo55Kw5aKD5Lit5Z+36KGMXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmraTlip/og73lg4XlnKjngI/opr3lmajnkrDlooPkuK3lj6/nlKgnKVxuICAgICAgfVxuXG4gICAgICAvLyDmraXpqZ8gMTog5bu656uL6Z+z5qqU6YyE6KO95Zmo77yIMTIg56eS5YiH54mH77yJXG4gICAgICBjb25zb2xlLmxvZygn8J+OpCBbdXNlUmVjb3JkaW5nXSDmraXpqZ8gMTog5Yid5aeL5YyW6Z+z5qqU6YyE6KO95ZmoJylcbiAgICAgIGNvbnN0IGF1ZGlvUmVjb3JkZXIgPSBuZXcgQXVkaW9SZWNvcmRlcih7XG4gICAgICAgIGNodW5rSW50ZXJ2YWw6IDEyMDAwLCAvLyAxMiDnp5LliIfniYdcbiAgICAgICAgbWltZVR5cGU6ICdhdWRpby93ZWJtO2NvZGVjcz1vcHVzJ1xuICAgICAgfSlcblxuICAgICAgYXVkaW9SZWNvcmRlclJlZi5jdXJyZW50ID0gYXVkaW9SZWNvcmRlclxuICAgICAgY2h1bmtzUmVmLmN1cnJlbnQgPSBbXVxuICAgICAgcmV0cnlDb3VudHNSZWYuY3VycmVudC5jbGVhcigpXG5cbiAgICAgIC8vIOioreWumumfs+aqlOmMhOijveWZqOS6i+S7tlxuICAgICAgYXVkaW9SZWNvcmRlci5vbkNodW5rKGhhbmRsZUF1ZGlvQ2h1bmspXG4gICAgICBhdWRpb1JlY29yZGVyLm9uRXJyb3IoKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQXVkaW9SZWNvcmRlciDpjK/oqqQ6JywgZXJyKVxuICAgICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIOatpempnyAyOiDliJ3lp4vljJbpn7PoqIrmrIrpmZBcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmddIOatpempnyAyOiDliJ3lp4vljJbpn7PoqIrmrIrpmZAnKVxuICAgICAgYXdhaXQgYXVkaW9SZWNvcmRlci5pbml0aWFsaXplKClcblxuICAgICAgLy8g5q2l6amfIDM6IOW7uueriyBXZWJTb2NrZXQg6YCj57ea77yI5Lim6KGM5bu656uL77yM56K65L+d6YO95bCx57eS77yJXG4gICAgICBjb25zb2xlLmxvZygn8J+OpCBbdXNlUmVjb3JkaW5nXSDmraXpqZ8gMzog5bu656uLIFdlYlNvY2tldCDpgKPnt5onKVxuXG4gICAgICAvLyAzYS4g5bu656uL6Z+z5qqU5LiK5YKzIFdlYlNvY2tldFxuICAgICAgY29uc29sZS5sb2coJ/CflIwgW3VzZVJlY29yZGluZ10g5bu656uL6Z+z5qqU5LiK5YKzIFdlYlNvY2tldCcpXG4gICAgICBjb25zdCB1cGxvYWRXcyA9IG5ldyBBdWRpb1VwbG9hZFdlYlNvY2tldChzZXNzaW9uSWQpXG4gICAgICBhd2FpdCB1cGxvYWRXcy5jb25uZWN0KClcblxuICAgICAgLy8g6Kit5a6a6Z+z5qqU5LiK5YKzIFdlYlNvY2tldCDkuovku7bomZXnkIZcbiAgICAgIHVwbG9hZFdzLm9uQWNrTWlzc2luZyhoYW5kbGVBY2tNaXNzaW5nKVxuICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50ID0gdXBsb2FkV3NcblxuICAgICAgLy8gM2IuIOW7uueri+mAkOWtl+eov+aOpeaUtiBXZWJTb2NrZXTvvIjpgI/pgY4gVHJhbnNjcmlwdE1hbmFnZXLvvIlcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SMIFt1c2VSZWNvcmRpbmddIOW7uueri+mAkOWtl+eov+aOpeaUtiBXZWJTb2NrZXQnKVxuICAgICAgYXdhaXQgdHJhbnNjcmlwdE1hbmFnZXIuY29ubmVjdChzZXNzaW9uSWQpXG4gICAgICB0cmFuc2NyaXB0TWFuYWdlci5hZGRMaXN0ZW5lcihzZXNzaW9uSWQsIGhhbmRsZVRyYW5zY3JpcHQpXG5cbiAgICAgIC8vIOatpempnyA0OiDpqZforYnpgKPnt5rni4DmhYtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmddIOatpempnyA0OiDpqZforYnpgKPnt5rni4DmhYsnKVxuICAgICAgaWYgKCF1cGxvYWRXcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+mfs+aqlOS4iuWCsyBXZWJTb2NrZXQg6YCj57ea5aSx5pWXJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0cmFuc2NyaXB0TWFuYWdlci5pc0Nvbm5lY3RlZChzZXNzaW9uSWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcign6YCQ5a2X56i/5o6l5pS2IFdlYlNvY2tldCDpgKPnt5rlpLHmlZcnKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VSZWNvcmRpbmddIOaJgOaciSBXZWJTb2NrZXQg6YCj57ea5bey5bu656uLJylcblxuICAgICAgLy8g5q2l6amfIDU6IOWVn+WLleW/g+i3s+apn+WItlxuICAgICAgY29uc29sZS5sb2coJ/CfjqQgW3VzZVJlY29yZGluZ10g5q2l6amfIDU6IOWVn+WLleW/g+i3s+apn+WIticpXG4gICAgICBzdGFydEhlYXJ0YmVhdCh1cGxvYWRXcylcblxuICAgICAgLy8g5q2l6amfIDY6IOmWi+Wni+mMhOmfs1xuICAgICAgY29uc29sZS5sb2coJ/CfjqQgW3VzZVJlY29yZGluZ10g5q2l6amfIDY6IOmWi+Wni+mMhOmfsycpXG5cbiAgICAgIC8vIOWFiOioree9rumMhOmfs+eLgOaFi++8jOeiuuS/neeLgOaFi+aYoOWwhOato+eiulxuICAgICAgc2V0SXNSZWNvcmRpbmcodHJ1ZSlcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIFt1c2VSZWNvcmRpbmddIOmMhOmfs+eLgOaFi+W3suioree9rueCuiB0cnVlJylcblxuICAgICAgYXdhaXQgYXVkaW9SZWNvcmRlci5zdGFydFJlY29yZGluZygpXG4gICAgICBzdGFydFRpbWVyKClcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlUmVjb3JkaW5nXSDpjITpn7Pplovlp4vmiJDlip/vvIxTZXNzaW9uIElEOicsIHNlc3Npb25JZClcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfplovlp4vpjITpn7PlpLHmlZcnXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgW3VzZVJlY29yZGluZ10g6ZaL5aeL6YyE6Z+z5aSx5pWXOicsIGVycilcblxuICAgICAgLy8g6Yyv6Kqk5pmC5riF55CG6LOH5rqQXG4gICAgICBpZiAoYXVkaW9SZWNvcmRlclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudC5zdG9wUmVjb3JkaW5nKClcbiAgICAgIH1cbiAgICAgIGlmIChhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICBhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCwgaGFuZGxlVHJhbnNjcmlwdClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtoYW5kbGVBdWRpb0NodW5rLCBoYW5kbGVBY2tNaXNzaW5nLCBoYW5kbGVUcmFuc2NyaXB0LCBzdGFydFRpbWVyLCBzdGFydEhlYXJ0YmVhdF0pXG5cbiAgLy8g5YGc5q2i6YyE6Z+zXG4gIGNvbnN0IHN0b3BSZWNvcmRpbmcgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOWBnOatoumfs+aqlOmMhOijveWZqFxuICAgICAgaWYgKGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudCkge1xuICAgICAgICBhdWRpb1JlY29yZGVyUmVmLmN1cnJlbnQuc3RvcFJlY29yZGluZygpXG4gICAgICB9XG5cbiAgICAgIC8vIOmXnOmWiemfs+aqlOS4iuWCsyBXZWJTb2NrZXRcbiAgICAgIGlmIChhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgYXVkaW9VcGxvYWRXc1JlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICBhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIHNldElzUmVjb3JkaW5nKGZhbHNlKVxuICAgICAgY2xlYXJUaW1lcigpXG4gICAgICBjbGVhckhlYXJ0YmVhdCgpXG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUg6YyE6Z+z5YGc5q2i77yM562J5b6F6L2J6YyE5a6M5oiQJylcblxuICAgICAgLy8g5rOo5oSP77ya5LiN5pa36ZaLIFRyYW5zY3JpcHRNYW5hZ2VyIOmAo+aOpe+8jOe5vOe6jOaOpeaUtui9iemMhOe1kOaenFxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5YGc5q2i6YyE6Z+z5aSx5pWXOicsIGVycilcbiAgICAgIHNldEVycm9yKCflgZzmraLpjITpn7PmmYLnmbznlJ/pjK/oqqQnKVxuICAgIH1cbiAgfSwgW2NsZWFyVGltZXIsIGNsZWFySGVhcnRiZWF0XSlcblxuICAvLyDmuIXnqbrpgJDlrZfnqL9cbiAgY29uc3QgY2xlYXJUcmFuc2NyaXB0cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRUcmFuc2NyaXB0cyhbXSlcbiAgICBzZXRUcmFuc2NyaXB0Q29tcGxldGVkKGZhbHNlKVxuICAgIGNvbnNvbGUubG9nKCfwn5SEIOmAkOWtl+eov+W3sua4hemZpCcpXG4gIH0sIFtdKVxuXG4gIC8vIOa4heeQhuizh+a6kFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyDnp7vpmaQgVHJhbnNjcmlwdE1hbmFnZXIg55uj6IG95ZmoXG4gICAgICBpZiAoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCwgaGFuZGxlVHJhbnNjcmlwdClcbiAgICAgIH1cblxuICAgICAgLy8g5riF55CG6KiI5pmC5ZmoXG4gICAgICBjbGVhclRpbWVyKClcbiAgICAgIGNsZWFySGVhcnRiZWF0KClcblxuICAgICAgLy8g6Zec6ZaJ6Z+z5qqU5LiK5YKzIFdlYlNvY2tldFxuICAgICAgaWYgKGF1ZGlvVXBsb2FkV3NSZWYuY3VycmVudCkge1xuICAgICAgICBhdWRpb1VwbG9hZFdzUmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpXG4gICAgICB9XG5cbiAgICAgIC8vIOWBnOatoumMhOmfs+WZqFxuICAgICAgaWYgKGF1ZGlvUmVjb3JkZXJSZWYuY3VycmVudCkge1xuICAgICAgICBhdWRpb1JlY29yZGVyUmVmLmN1cnJlbnQuc3RvcFJlY29yZGluZygpXG4gICAgICB9XG4gICAgfVxuICB9LCBbY2xlYXJUaW1lciwgY2xlYXJIZWFydGJlYXQsIGhhbmRsZVRyYW5zY3JpcHRdKVxuXG4gIHJldHVybiB7XG4gICAgaXNSZWNvcmRpbmcsXG4gICAgcmVjb3JkaW5nVGltZSxcbiAgICB0cmFuc2NyaXB0cyxcbiAgICB0cmFuc2NyaXB0Q29tcGxldGVkLFxuICAgIGVycm9yLFxuICAgIHN0YXJ0UmVjb3JkaW5nLFxuICAgIHN0b3BSZWNvcmRpbmcsXG4gICAgY2xlYXJUcmFuc2NyaXB0cyxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJBdWRpb1VwbG9hZFdlYlNvY2tldCIsIkF1ZGlvUmVjb3JkZXIiLCJ0cmFuc2NyaXB0TWFuYWdlciIsInVzZVJlY29yZGluZyIsImlzUmVjb3JkaW5nIiwic2V0SXNSZWNvcmRpbmciLCJyZWNvcmRpbmdUaW1lIiwic2V0UmVjb3JkaW5nVGltZSIsInRyYW5zY3JpcHRzIiwic2V0VHJhbnNjcmlwdHMiLCJ0cmFuc2NyaXB0Q29tcGxldGVkIiwic2V0VHJhbnNjcmlwdENvbXBsZXRlZCIsImVycm9yIiwic2V0RXJyb3IiLCJhdWRpb1VwbG9hZFdzUmVmIiwiYXVkaW9SZWNvcmRlclJlZiIsImN1cnJlbnRTZXNzaW9uSWRSZWYiLCJ0aW1lclJlZiIsImhlYXJ0YmVhdFJlZiIsImNodW5rc1JlZiIsInJldHJ5Q291bnRzUmVmIiwiTWFwIiwiY2xlYXJUaW1lciIsImN1cnJlbnQiLCJjbGVhckludGVydmFsIiwiY2xlYXJIZWFydGJlYXQiLCJzdGFydEhlYXJ0YmVhdCIsInVwbG9hZFdzIiwic2V0SW50ZXJ2YWwiLCJpc0Nvbm5lY3RlZCIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJzdGFydFRpbWVyIiwicHJldiIsImhhbmRsZVRyYW5zY3JpcHQiLCJ0cmFuc2NyaXB0IiwiY29uc29sZSIsImxvZyIsInRleHQiLCJ0ZXh0TGVuZ3RoIiwibGVuZ3RoIiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwic3RhcnRfc2VxdWVuY2UiLCJjb25maWRlbmNlIiwic2Vzc2lvbklkIiwidG9JU09TdHJpbmciLCJmdWxsTWVzc2FnZSIsIm1lc3NhZ2UiLCJwaGFzZSIsInRleHRQcmV2aWV3Iiwic3Vic3RyaW5nIiwic2VxdWVuY2UiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZXhpc3RpbmdDb3VudCIsIm5ld1NlZ21lbnRUZXh0IiwibmV3U2VnbWVudFNlcXVlbmNlIiwibmV3U2VnbWVudFRpbWUiLCJmaWx0ZXJlZCIsImZpbHRlciIsInQiLCJleGlzdGluZ1NlcXVlbmNlIiwidXBkYXRlZCIsInNvcnQiLCJhIiwiYiIsImFTZXF1ZW5jZSIsImJTZXF1ZW5jZSIsIm5ld0NvdW50IiwiY291bnRDaGFuZ2UiLCJmaWx0ZXJlZENvdW50IiwiaXNEdXBsaWNhdGUiLCJsYXN0U2VnbWVudFRleHQiLCJoYW5kbGVBY2tNaXNzaW5nIiwiZGF0YSIsIm1pc3NpbmciLCJ3YXJuIiwiZm9yRWFjaCIsInJldHJ5Q291bnQiLCJnZXQiLCJzZXQiLCJ1cGxvYWRBdWRpb0NodW5rIiwiYmxvYiIsImhhbmRsZUF1ZGlvQ2h1bmsiLCJjaHVuayIsInNpemUiLCJzdGFydFJlY29yZGluZyIsIkVycm9yIiwiYXVkaW9SZWNvcmRlciIsImNodW5rSW50ZXJ2YWwiLCJtaW1lVHlwZSIsImNsZWFyIiwib25DaHVuayIsIm9uRXJyb3IiLCJlcnIiLCJpbml0aWFsaXplIiwiY29ubmVjdCIsIm9uQWNrTWlzc2luZyIsImFkZExpc3RlbmVyIiwiZXJyb3JNZXNzYWdlIiwic3RvcFJlY29yZGluZyIsImRpc2Nvbm5lY3QiLCJyZW1vdmVMaXN0ZW5lciIsImNsZWFyVHJhbnNjcmlwdHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-recording.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-session-adapter.ts":
/*!**************************************!*\
  !*** ./hooks/use-session-adapter.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSession: () => (/* binding */ useSession),\n/* harmony export */   useSessionLegacy: () => (/* reexport safe */ _use_session__WEBPACK_IMPORTED_MODULE_0__.useSession),\n/* harmony export */   useSessionNew: () => (/* reexport safe */ _use_session_new__WEBPACK_IMPORTED_MODULE_1__.useSessionNew)\n/* harmony export */ });\n/* harmony import */ var _use_session__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-session */ \"(ssr)/./hooks/use-session.ts\");\n/* harmony import */ var _use_session_new__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-session-new */ \"(ssr)/./hooks/use-session-new.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ useSession,useSessionLegacy,useSessionNew auto */ \n\n\n/**\n * useSession 適配器 Hook\n * 根據功能開關決定使用新舊版本的 useSession\n * 確保 API 完全相容，現有組件無需修改\n */ function useSession() {\n    const useNewSessionHook = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('useNewSessionHook');\n    const useNewStateManagement = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('useNewStateManagement');\n    console.log('🔄 [useSessionAdapter] 功能開關狀態:', {\n        useNewSessionHook,\n        useNewStateManagement,\n        willUseNewVersion: useNewSessionHook || useNewStateManagement\n    });\n    // 如果啟用新 Session Hook 或新狀態管理，使用新版本\n    if (useNewSessionHook || useNewStateManagement) {\n        console.log('🔄 [useSessionAdapter] 使用新版本 useSessionNew');\n        return (0,_use_session_new__WEBPACK_IMPORTED_MODULE_1__.useSessionNew)();\n    }\n    // 否則使用舊版本\n    console.log('🔄 [useSessionAdapter] 使用舊版本 useSession');\n    return (0,_use_session__WEBPACK_IMPORTED_MODULE_0__.useSession)();\n}\n// 導出舊版本供直接使用（用於測試或特殊情況）\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2Utc2Vzc2lvbi1hZGFwdGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OzsrRkFFOEQ7QUFDYjtBQUNNO0FBaUJ2RDs7OztDQUlDLEdBQ00sU0FBU0E7SUFDWixNQUFNSSxvQkFBb0JELG9FQUFnQkEsQ0FBQztJQUMzQyxNQUFNRSx3QkFBd0JGLG9FQUFnQkEsQ0FBQztJQUUvQ0csUUFBUUMsR0FBRyxDQUFDLGtDQUFrQztRQUMxQ0g7UUFDQUM7UUFDQUcsbUJBQW1CSixxQkFBcUJDO0lBQzVDO0lBRUEsa0NBQWtDO0lBQ2xDLElBQUlELHFCQUFxQkMsdUJBQXVCO1FBQzVDQyxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPTCwrREFBYUE7SUFDeEI7SUFFQSxVQUFVO0lBQ1ZJLFFBQVFDLEdBQUcsQ0FBQztJQUNaLE9BQU9OLHdEQUFnQkE7QUFDM0I7QUFFQSx3QkFBd0I7QUFDc0M7QUFDYiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvaG9va3MvdXNlLXNlc3Npb24tYWRhcHRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTZXNzaW9uIGFzIHVzZVNlc3Npb25MZWdhY3kgfSBmcm9tICcuL3VzZS1zZXNzaW9uJ1xuaW1wb3J0IHsgdXNlU2Vzc2lvbk5ldyB9IGZyb20gJy4vdXNlLXNlc3Npb24tbmV3J1xuaW1wb3J0IHsgaXNGZWF0dXJlRW5hYmxlZCB9IGZyb20gJy4uL2xpYi9mZWF0dXJlLWZsYWdzJ1xuaW1wb3J0IHsgU2Vzc2lvblJlc3BvbnNlIH0gZnJvbSAnLi4vbGliL2FwaSdcblxuLy8g57Wx5LiA55qEIFVzZVNlc3Npb24g5LuL6Z2iXG5pbnRlcmZhY2UgVXNlU2Vzc2lvblJldHVybiB7XG4gICAgY3VycmVudFNlc3Npb246IFNlc3Npb25SZXNwb25zZSB8IG51bGxcbiAgICBpc0xvYWRpbmc6IGJvb2xlYW5cbiAgICBlcnJvcjogc3RyaW5nIHwgbnVsbFxuICAgIGNyZWF0ZU5vdGVTZXNzaW9uOiAodGl0bGU6IHN0cmluZywgY29udGVudD86IHN0cmluZykgPT4gUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPlxuICAgIGNyZWF0ZVJlY29yZGluZ1Nlc3Npb246ICh0aXRsZTogc3RyaW5nLCBjb250ZW50Pzogc3RyaW5nKSA9PiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+XG4gICAgdXBncmFkZVRvUmVjb3JkaW5nOiAoKSA9PiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+XG4gICAgZmluaXNoU2Vzc2lvbjogKCkgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGRlbGV0ZVNlc3Npb246ICgpID0+IFByb21pc2U8dm9pZD5cbiAgICBjbGVhclNlc3Npb246ICgpID0+IHZvaWRcbiAgICBjaGVja0FjdGl2ZVNlc3Npb246ICgpID0+IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD5cbn1cblxuLyoqXG4gKiB1c2VTZXNzaW9uIOmBqemFjeWZqCBIb29rXG4gKiDmoLnmk5rlip/og73plovpl5zmsbrlrprkvb/nlKjmlrDoiIrniYjmnKznmoQgdXNlU2Vzc2lvblxuICog56K65L+dIEFQSSDlrozlhajnm7jlrrnvvIznj77mnInntYTku7bnhKHpnIDkv67mlLlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVNlc3Npb24oKTogVXNlU2Vzc2lvblJldHVybiB7XG4gICAgY29uc3QgdXNlTmV3U2Vzc2lvbkhvb2sgPSBpc0ZlYXR1cmVFbmFibGVkKCd1c2VOZXdTZXNzaW9uSG9vaycpXG4gICAgY29uc3QgdXNlTmV3U3RhdGVNYW5hZ2VtZW50ID0gaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3U3RhdGVNYW5hZ2VtZW50JylcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VTZXNzaW9uQWRhcHRlcl0g5Yqf6IO96ZaL6Zec54uA5oWLOicsIHtcbiAgICAgICAgdXNlTmV3U2Vzc2lvbkhvb2ssXG4gICAgICAgIHVzZU5ld1N0YXRlTWFuYWdlbWVudCxcbiAgICAgICAgd2lsbFVzZU5ld1ZlcnNpb246IHVzZU5ld1Nlc3Npb25Ib29rIHx8IHVzZU5ld1N0YXRlTWFuYWdlbWVudFxuICAgIH0pXG5cbiAgICAvLyDlpoLmnpzllZ/nlKjmlrAgU2Vzc2lvbiBIb29rIOaIluaWsOeLgOaFi+euoeeQhu+8jOS9v+eUqOaWsOeJiOacrFxuICAgIGlmICh1c2VOZXdTZXNzaW9uSG9vayB8fCB1c2VOZXdTdGF0ZU1hbmFnZW1lbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW3VzZVNlc3Npb25BZGFwdGVyXSDkvb/nlKjmlrDniYjmnKwgdXNlU2Vzc2lvbk5ldycpXG4gICAgICAgIHJldHVybiB1c2VTZXNzaW9uTmV3KClcbiAgICB9XG5cbiAgICAvLyDlkKbliYfkvb/nlKjoiIrniYjmnKxcbiAgICBjb25zb2xlLmxvZygn8J+UhCBbdXNlU2Vzc2lvbkFkYXB0ZXJdIOS9v+eUqOiIiueJiOacrCB1c2VTZXNzaW9uJylcbiAgICByZXR1cm4gdXNlU2Vzc2lvbkxlZ2FjeSgpXG59XG5cbi8vIOWwjuWHuuiIiueJiOacrOS+m+ebtOaOpeS9v+eUqO+8iOeUqOaWvOa4rOippuaIlueJueauiuaDheazge+8iVxuZXhwb3J0IHsgdXNlU2Vzc2lvbiBhcyB1c2VTZXNzaW9uTGVnYWN5IH0gZnJvbSAnLi91c2Utc2Vzc2lvbidcbmV4cG9ydCB7IHVzZVNlc3Npb25OZXcgfSBmcm9tICcuL3VzZS1zZXNzaW9uLW5ldydcbiJdLCJuYW1lcyI6WyJ1c2VTZXNzaW9uIiwidXNlU2Vzc2lvbkxlZ2FjeSIsInVzZVNlc3Npb25OZXciLCJpc0ZlYXR1cmVFbmFibGVkIiwidXNlTmV3U2Vzc2lvbkhvb2siLCJ1c2VOZXdTdGF0ZU1hbmFnZW1lbnQiLCJjb25zb2xlIiwibG9nIiwid2lsbFVzZU5ld1ZlcnNpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-session-adapter.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-session-new.ts":
/*!**********************************!*\
  !*** ./hooks/use-session-new.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSessionNew: () => (/* binding */ useSessionNew)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/api */ \"(ssr)/./lib/api.ts\");\n/* harmony import */ var _use_app_state_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-app-state-context */ \"(ssr)/./hooks/use-app-state-context.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ useSessionNew auto */ \n\n\n\n\nfunction useSessionNew() {\n    const context = (0,_use_app_state_context__WEBPACK_IMPORTED_MODULE_2__.useAppStateContext)();\n    console.log('🔄 [useSessionNew] Hook 初始化，功能開關狀態:', {\n        useNewStateManagement: (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__.isFeatureEnabled)('useNewStateManagement'),\n        useNewSessionHook: (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__.isFeatureEnabled)('useNewSessionHook'),\n        contextSession: context.appData.session,\n        contextError: context.error,\n        contextLoading: context.isLoading\n    });\n    const clearError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionNew.useCallback[clearError]\": ()=>{\n            context.setError(null);\n        }\n    }[\"useSessionNew.useCallback[clearError]\"], [\n        context\n    ]);\n    const checkActiveSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionNew.useCallback[checkActiveSession]\": async ()=>{\n            context.setLoading(true);\n            clearError();\n            try {\n                const activeSession = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.getActiveSession();\n                if (activeSession) {\n                    context.setSession({\n                        id: activeSession.id,\n                        status: activeSession.status,\n                        type: activeSession.type\n                    });\n                    console.log('✅ [useSessionNew] 已恢復活躍會話狀態:', activeSession);\n                    return activeSession;\n                } else {\n                    console.log('ℹ️ [useSessionNew] 沒有活躍會話，使用預設狀態');\n                    context.setSession(null);\n                    return null;\n                }\n            } catch (err) {\n                if (err instanceof Error && err.message.includes('Network Error')) {\n                    console.warn('⚠️ [useSessionNew] Backend API 連線暫時失敗，將在後續重試:', err.message);\n                    return null;\n                }\n                const errorMessage = err instanceof Error ? err.message : '檢查活躍會話失敗';\n                context.setError(errorMessage);\n                console.error('❌ [useSessionNew] 檢查活躍會話失敗:', err);\n                return null;\n            } finally{\n                context.setLoading(false);\n            }\n        }\n    }[\"useSessionNew.useCallback[checkActiveSession]\"], [\n        clearError,\n        context\n    ]);\n    const createNoteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionNew.useCallback[createNoteSession]\": async (title, content)=>{\n            context.setLoading(true);\n            clearError();\n            try {\n                const sessionData = {\n                    title,\n                    type: 'note_only',\n                    content\n                };\n                const session = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.createSession(sessionData);\n                context.setSession({\n                    id: session.id,\n                    status: session.status,\n                    type: session.type\n                });\n                console.log('✅ [useSessionNew] 純筆記會話建立成功:', session);\n                return session;\n            } catch (err) {\n                if (axios__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isAxiosError(err) && err.response?.status === 409) {\n                    const conflictMessage = '檢測到活躍會話衝突，請重新整理頁面後再試';\n                    context.setError(conflictMessage);\n                    console.error('❌ [useSessionNew] 會話衝突錯誤 (409):', err.response?.data?.detail || err.message);\n                    return null;\n                }\n                const errorMessage = err instanceof Error ? err.message : '建立會話失敗';\n                context.setError(errorMessage);\n                console.error('❌ [useSessionNew] 建立純筆記會話失敗:', err);\n                return null;\n            } finally{\n                context.setLoading(false);\n            }\n        }\n    }[\"useSessionNew.useCallback[createNoteSession]\"], [\n        clearError,\n        context\n    ]);\n    const createRecordingSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionNew.useCallback[createRecordingSession]\": async (title, content)=>{\n            context.setLoading(true);\n            clearError();\n            try {\n                const sessionData = {\n                    title,\n                    type: 'recording',\n                    content\n                };\n                const session = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.createSession(sessionData);\n                context.setSession({\n                    id: session.id,\n                    status: session.status,\n                    type: session.type\n                });\n                console.log('✅ [useSessionNew] 錄音會話建立成功:', session);\n                return session;\n            } catch (err) {\n                if (axios__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isAxiosError(err) && err.response?.status === 409) {\n                    const conflictMessage = '檢測到活躍會話衝突，請重新整理頁面後再試';\n                    context.setError(conflictMessage);\n                    console.error('❌ [useSessionNew] 會話衝突錯誤 (409):', err.response?.data?.detail || err.message);\n                    return null;\n                }\n                const errorMessage = err instanceof Error ? err.message : '建立錄音會話失敗';\n                context.setError(errorMessage);\n                console.error('❌ [useSessionNew] 建立錄音會話失敗:', err);\n                return null;\n            } finally{\n                context.setLoading(false);\n            }\n        }\n    }[\"useSessionNew.useCallback[createRecordingSession]\"], [\n        clearError,\n        context\n    ]);\n    const upgradeToRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionNew.useCallback[upgradeToRecording]\": async ()=>{\n            const currentSessionData = context.appData.session;\n            if (!currentSessionData) {\n                context.setError('沒有活躍的會話可以升級');\n                return null;\n            }\n            if (currentSessionData.type === 'recording') {\n                console.log('🔄 [useSessionNew] 會話已經是錄音模式');\n                try {\n                    const activeSession = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.getActiveSession();\n                    return activeSession;\n                } catch (err) {\n                    console.error('❌ [useSessionNew] 獲取活躍會話失敗:', err);\n                    return null;\n                }\n            }\n            context.setLoading(true);\n            clearError();\n            try {\n                const updatedSession = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.upgradeToRecording(currentSessionData.id);\n                context.setSession({\n                    id: updatedSession.id,\n                    status: updatedSession.status,\n                    type: updatedSession.type\n                });\n                console.log('✅ [useSessionNew] 會話升級為錄音模式成功:', updatedSession);\n                return updatedSession;\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '升級會話失敗';\n                context.setError(errorMessage);\n                console.error('❌ [useSessionNew] 升級會話失敗:', err);\n                return null;\n            } finally{\n                context.setLoading(false);\n            }\n        }\n    }[\"useSessionNew.useCallback[upgradeToRecording]\"], [\n        clearError,\n        context\n    ]);\n    const finishSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionNew.useCallback[finishSession]\": async ()=>{\n            const currentSessionData = context.appData.session;\n            if (!currentSessionData) {\n                console.log('🔄 [useSessionNew] 沒有活躍的會話需要完成');\n                return;\n            }\n            context.setLoading(true);\n            clearError();\n            try {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.finishSession(currentSessionData.id);\n                console.log('✅ [useSessionNew] 會話完成成功:', currentSessionData.id);\n                context.updateSessionStatus('completed');\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '完成會話失敗';\n                context.setError(errorMessage);\n                console.error('❌ [useSessionNew] 完成會話失敗:', err);\n            } finally{\n                context.setLoading(false);\n            }\n        }\n    }[\"useSessionNew.useCallback[finishSession]\"], [\n        clearError,\n        context\n    ]);\n    const deleteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionNew.useCallback[deleteSession]\": async ()=>{\n            const currentSessionData = context.appData.session;\n            if (!currentSessionData) {\n                console.log('🔄 [useSessionNew] 沒有活躍的會話需要刪除');\n                return;\n            }\n            context.setLoading(true);\n            clearError();\n            try {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.deleteSession(currentSessionData.id);\n                console.log('✅ [useSessionNew] 會話刪除成功:', currentSessionData.id);\n                context.setSession(null);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '刪除會話失敗';\n                context.setError(errorMessage);\n                console.error('❌ [useSessionNew] 刪除會話失敗:', err);\n            } finally{\n                context.setLoading(false);\n            }\n        }\n    }[\"useSessionNew.useCallback[deleteSession]\"], [\n        clearError,\n        context\n    ]);\n    const clearSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSessionNew.useCallback[clearSession]\": ()=>{\n            context.setSession(null);\n            context.setError(null);\n            console.log('🔄 [useSessionNew] 會話已清除');\n        }\n    }[\"useSessionNew.useCallback[clearSession]\"], [\n        context\n    ]);\n    const currentSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useSessionNew.useMemo[currentSession]\": ()=>{\n            const sessionData = context.appData.session;\n            if (!sessionData) return null;\n            return {\n                id: sessionData.id,\n                title: '',\n                type: sessionData.type,\n                status: sessionData.status,\n                language: 'zh-TW',\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            };\n        }\n    }[\"useSessionNew.useMemo[currentSession]\"], [\n        context.appData.session\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useSessionNew.useMemo\": ()=>({\n                currentSession,\n                isLoading: context.isLoading,\n                error: context.error,\n                createNoteSession,\n                createRecordingSession,\n                upgradeToRecording,\n                finishSession,\n                deleteSession,\n                clearSession,\n                checkActiveSession\n            })\n    }[\"useSessionNew.useMemo\"], [\n        currentSession,\n        context.isLoading,\n        context.error,\n        createNoteSession,\n        createRecordingSession,\n        upgradeToRecording,\n        finishSession,\n        deleteSession,\n        clearSession,\n        checkActiveSession\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEIsUUFBUWEsUUFBUSxDQUFDO1lBQ2pCWixRQUFRQyxHQUFHLENBQUM7UUFDaEI7a0RBQUc7UUFBQ0Y7S0FBUTtJQUVaLE1BQU04QyxpQkFBeUNwRCw4Q0FBT0E7aURBQUM7WUFDbkQsTUFBTXFDLGNBQWMvQixRQUFRTSxPQUFPLENBQUNDLE9BQU87WUFDM0MsSUFBSSxDQUFDd0IsYUFBYSxPQUFPO1lBRXpCLE9BQU87Z0JBQ0haLElBQUlZLFlBQVlaLEVBQUU7Z0JBQ2xCVSxPQUFPO2dCQUNQUixNQUFNVSxZQUFZVixJQUFJO2dCQUN0QkQsUUFBUVcsWUFBWVgsTUFBTTtnQkFDMUIyQixVQUFVO2dCQUNWQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7Z0JBQ2xDQyxZQUFZLElBQUlGLE9BQU9DLFdBQVc7WUFDdEM7UUFDSjtnREFBRztRQUFDbEQsUUFBUU0sT0FBTyxDQUFDQyxPQUFPO0tBQUM7SUFFNUIsT0FBT2IsOENBQU9BO2lDQUFDLElBQU87Z0JBQ2xCb0Q7Z0JBQ0FuQyxXQUFXWCxRQUFRVyxTQUFTO2dCQUM1QkYsT0FBT1QsUUFBUVMsS0FBSztnQkFDcEJtQjtnQkFDQVU7Z0JBQ0FDO2dCQUNBRztnQkFDQUU7Z0JBQ0FDO2dCQUNBL0I7WUFDSjtnQ0FBSTtRQUNBZ0M7UUFDQTlDLFFBQVFXLFNBQVM7UUFDakJYLFFBQVFTLEtBQUs7UUFDYm1CO1FBQ0FVO1FBQ0FDO1FBQ0FHO1FBQ0FFO1FBQ0FDO1FBQ0EvQjtLQUNIO0FBQ0wiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS1zZXNzaW9uLW5ldy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IHsgc2Vzc2lvbkFQSSwgdHlwZSBTZXNzaW9uQ3JlYXRlUmVxdWVzdCwgdHlwZSBTZXNzaW9uUmVzcG9uc2UgfSBmcm9tICcuLi9saWIvYXBpJ1xuaW1wb3J0IHsgdXNlQXBwU3RhdGVDb250ZXh0IH0gZnJvbSAnLi91c2UtYXBwLXN0YXRlLWNvbnRleHQnXG5pbXBvcnQgeyBpc0ZlYXR1cmVFbmFibGVkIH0gZnJvbSAnLi4vbGliL2ZlYXR1cmUtZmxhZ3MnXG5cbmludGVyZmFjZSBVc2VTZXNzaW9uTmV3UmV0dXJuIHtcbiAgICBjdXJyZW50U2Vzc2lvbjogU2Vzc2lvblJlc3BvbnNlIHwgbnVsbFxuICAgIGlzTG9hZGluZzogYm9vbGVhblxuICAgIGVycm9yOiBzdHJpbmcgfCBudWxsXG4gICAgY3JlYXRlTm90ZVNlc3Npb246ICh0aXRsZTogc3RyaW5nLCBjb250ZW50Pzogc3RyaW5nKSA9PiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+XG4gICAgY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbjogKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpID0+IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD5cbiAgICB1cGdyYWRlVG9SZWNvcmRpbmc6ICgpID0+IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD5cbiAgICBmaW5pc2hTZXNzaW9uOiAoKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgZGVsZXRlU2Vzc2lvbjogKCkgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGNsZWFyU2Vzc2lvbjogKCkgPT4gdm9pZFxuICAgIGNoZWNrQWN0aXZlU2Vzc2lvbjogKCkgPT4gUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlU2Vzc2lvbk5ldygpOiBVc2VTZXNzaW9uTmV3UmV0dXJuIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQXBwU3RhdGVDb250ZXh0KClcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VTZXNzaW9uTmV3XSBIb29rIOWIneWni+WMlu+8jOWKn+iDvemWi+mXnOeLgOaFizonLCB7XG4gICAgICAgIHVzZU5ld1N0YXRlTWFuYWdlbWVudDogaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3U3RhdGVNYW5hZ2VtZW50JyksXG4gICAgICAgIHVzZU5ld1Nlc3Npb25Ib29rOiBpc0ZlYXR1cmVFbmFibGVkKCd1c2VOZXdTZXNzaW9uSG9vaycpLFxuICAgICAgICBjb250ZXh0U2Vzc2lvbjogY29udGV4dC5hcHBEYXRhLnNlc3Npb24sXG4gICAgICAgIGNvbnRleHRFcnJvcjogY29udGV4dC5lcnJvcixcbiAgICAgICAgY29udGV4dExvYWRpbmc6IGNvbnRleHQuaXNMb2FkaW5nLFxuICAgIH0pXG5cbiAgICBjb25zdCBjbGVhckVycm9yID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb250ZXh0LnNldEVycm9yKG51bGwpXG4gICAgfSwgW2NvbnRleHRdKVxuXG4gICAgY29uc3QgY2hlY2tBY3RpdmVTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD4gPT4ge1xuICAgICAgICBjb250ZXh0LnNldExvYWRpbmcodHJ1ZSlcbiAgICAgICAgY2xlYXJFcnJvcigpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVNlc3Npb24gPSBhd2FpdCBzZXNzaW9uQVBJLmdldEFjdGl2ZVNlc3Npb24oKVxuICAgICAgICAgICAgaWYgKGFjdGl2ZVNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldFNlc3Npb24oe1xuICAgICAgICAgICAgICAgICAgICBpZDogYWN0aXZlU2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBhY3RpdmVTZXNzaW9uLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYWN0aXZlU2Vzc2lvbi50eXBlLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbdXNlU2Vzc2lvbk5ld10g5bey5oGi5b6p5rS76LqN5pyD6Kmx54uA5oWLOicsIGFjdGl2ZVNlc3Npb24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVNlc3Npb25cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBbdXNlU2Vzc2lvbk5ld10g5rKS5pyJ5rS76LqN5pyD6Kmx77yM5L2/55So6aCQ6Kit54uA5oWLJylcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldFNlc3Npb24obnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygnTmV0d29yayBFcnJvcicpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW3VzZVNlc3Npb25OZXddIEJhY2tlbmQgQVBJIOmAo+e3muaaq+aZguWkseaVl++8jOWwh+WcqOW+jOe6jOmHjeippjonLCBlcnIubWVzc2FnZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+aqouafpea0u+i6jeacg+ipseWkseaVlydcbiAgICAgICAgICAgIGNvbnRleHQuc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFt1c2VTZXNzaW9uTmV3XSDmqqLmn6XmtLvouo3mnIPoqbHlpLHmlZc6JywgZXJyKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckVycm9yLCBjb250ZXh0XSlcblxuICAgIGNvbnN0IGNyZWF0ZU5vdGVTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+ID0+IHtcbiAgICAgICAgY29udGV4dC5zZXRMb2FkaW5nKHRydWUpXG4gICAgICAgIGNsZWFyRXJyb3IoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YTogU2Vzc2lvbkNyZWF0ZVJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ25vdGVfb25seScsXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHNlc3Npb25BUEkuY3JlYXRlU2Vzc2lvbihzZXNzaW9uRGF0YSlcblxuICAgICAgICAgICAgY29udGV4dC5zZXRTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHNlc3Npb24uc3RhdHVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IHNlc3Npb24udHlwZSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW3VzZVNlc3Npb25OZXddIOe0lOethuiomOacg+ipseW7uueri+aIkOWKnzonLCBzZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycikgJiYgZXJyLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZsaWN0TWVzc2FnZSA9ICfmqqLmuKzliLDmtLvouo3mnIPoqbHooZ3nqoHvvIzoq4vph43mlrDmlbTnkIbpoIHpnaLlvozlho3oqaYnXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRFcnJvcihjb25mbGljdE1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFt1c2VTZXNzaW9uTmV3XSDmnIPoqbHooZ3nqoHpjK/oqqQgKDQwOSk6JywgZXJyLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgZXJyLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICflu7rnq4vmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBjb250ZXh0LnNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbdXNlU2Vzc2lvbk5ld10g5bu656uL57SU562G6KiY5pyD6Kmx5aSx5pWXOicsIGVycilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICB9LCBbY2xlYXJFcnJvciwgY29udGV4dF0pXG5cbiAgICBjb25zdCBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+ID0+IHtcbiAgICAgICAgY29udGV4dC5zZXRMb2FkaW5nKHRydWUpXG4gICAgICAgIGNsZWFyRXJyb3IoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YTogU2Vzc2lvbkNyZWF0ZVJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3JlY29yZGluZycsXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHNlc3Npb25BUEkuY3JlYXRlU2Vzc2lvbihzZXNzaW9uRGF0YSlcblxuICAgICAgICAgICAgY29udGV4dC5zZXRTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHNlc3Npb24uc3RhdHVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IHNlc3Npb24udHlwZSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW3VzZVNlc3Npb25OZXddIOmMhOmfs+acg+ipseW7uueri+aIkOWKnzonLCBzZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycikgJiYgZXJyLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZsaWN0TWVzc2FnZSA9ICfmqqLmuKzliLDmtLvouo3mnIPoqbHooZ3nqoHvvIzoq4vph43mlrDmlbTnkIbpoIHpnaLlvozlho3oqaYnXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRFcnJvcihjb25mbGljdE1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFt1c2VTZXNzaW9uTmV3XSDmnIPoqbHooZ3nqoHpjK/oqqQgKDQwOSk6JywgZXJyLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgZXJyLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICflu7rnq4vpjITpn7PmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBjb250ZXh0LnNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbdXNlU2Vzc2lvbk5ld10g5bu656uL6YyE6Z+z5pyD6Kmx5aSx5pWXOicsIGVycilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICB9LCBbY2xlYXJFcnJvciwgY29udGV4dF0pXG5cbiAgICBjb25zdCB1cGdyYWRlVG9SZWNvcmRpbmcgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPiA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uRGF0YSA9IGNvbnRleHQuYXBwRGF0YS5zZXNzaW9uXG5cbiAgICAgICAgaWYgKCFjdXJyZW50U2Vzc2lvbkRhdGEpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0RXJyb3IoJ+aykuaciea0u+i6jeeahOacg+ipseWPr+S7peWNh+e0micpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uRGF0YS50eXBlID09PSAncmVjb3JkaW5nJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW3VzZVNlc3Npb25OZXddIOacg+ipseW3sue2k+aYr+mMhOmfs+aooeW8jycpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVNlc3Npb24gPSBhd2FpdCBzZXNzaW9uQVBJLmdldEFjdGl2ZVNlc3Npb24oKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTZXNzaW9uXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW3VzZVNlc3Npb25OZXddIOeNsuWPlua0u+i6jeacg+ipseWkseaVlzonLCBlcnIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2V0TG9hZGluZyh0cnVlKVxuICAgICAgICBjbGVhckVycm9yKClcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFNlc3Npb24gPSBhd2FpdCBzZXNzaW9uQVBJLnVwZ3JhZGVUb1JlY29yZGluZyhjdXJyZW50U2Vzc2lvbkRhdGEuaWQpXG5cbiAgICAgICAgICAgIGNvbnRleHQuc2V0U2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgaWQ6IHVwZGF0ZWRTZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIHN0YXR1czogdXBkYXRlZFNlc3Npb24uc3RhdHVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IHVwZGF0ZWRTZXNzaW9uLnR5cGUsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VTZXNzaW9uTmV3XSDmnIPoqbHljYfntJrngrrpjITpn7PmqKHlvI/miJDlip86JywgdXBkYXRlZFNlc3Npb24pXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZFNlc3Npb25cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+WNh+e0muacg+ipseWkseaVlydcbiAgICAgICAgICAgIGNvbnRleHQuc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFt1c2VTZXNzaW9uTmV3XSDljYfntJrmnIPoqbHlpLHmlZc6JywgZXJyKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckVycm9yLCBjb250ZXh0XSlcblxuICAgIGNvbnN0IGZpbmlzaFNlc3Npb24gPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uRGF0YSA9IGNvbnRleHQuYXBwRGF0YS5zZXNzaW9uXG5cbiAgICAgICAgaWYgKCFjdXJyZW50U2Vzc2lvbkRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VTZXNzaW9uTmV3XSDmspLmnInmtLvouo3nmoTmnIPoqbHpnIDopoHlrozmiJAnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNldExvYWRpbmcodHJ1ZSlcbiAgICAgICAgY2xlYXJFcnJvcigpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHNlc3Npb25BUEkuZmluaXNoU2Vzc2lvbihjdXJyZW50U2Vzc2lvbkRhdGEuaWQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VTZXNzaW9uTmV3XSDmnIPoqbHlrozmiJDmiJDlip86JywgY3VycmVudFNlc3Npb25EYXRhLmlkKVxuXG4gICAgICAgICAgICBjb250ZXh0LnVwZGF0ZVNlc3Npb25TdGF0dXMoJ2NvbXBsZXRlZCcpXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICflrozmiJDmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBjb250ZXh0LnNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbdXNlU2Vzc2lvbk5ld10g5a6M5oiQ5pyD6Kmx5aSx5pWXOicsIGVycilcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckVycm9yLCBjb250ZXh0XSlcblxuICAgIGNvbnN0IGRlbGV0ZVNlc3Npb24gPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uRGF0YSA9IGNvbnRleHQuYXBwRGF0YS5zZXNzaW9uXG5cbiAgICAgICAgaWYgKCFjdXJyZW50U2Vzc2lvbkRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VTZXNzaW9uTmV3XSDmspLmnInmtLvouo3nmoTmnIPoqbHpnIDopoHliKrpmaQnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNldExvYWRpbmcodHJ1ZSlcbiAgICAgICAgY2xlYXJFcnJvcigpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHNlc3Npb25BUEkuZGVsZXRlU2Vzc2lvbihjdXJyZW50U2Vzc2lvbkRhdGEuaWQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFt1c2VTZXNzaW9uTmV3XSDmnIPoqbHliKrpmaTmiJDlip86JywgY3VycmVudFNlc3Npb25EYXRhLmlkKVxuICAgICAgICAgICAgY29udGV4dC5zZXRTZXNzaW9uKG51bGwpXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfliKrpmaTmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBjb250ZXh0LnNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbdXNlU2Vzc2lvbk5ld10g5Yiq6Zmk5pyD6Kmx5aSx5pWXOicsIGVycilcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckVycm9yLCBjb250ZXh0XSlcblxuICAgIGNvbnN0IGNsZWFyU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29udGV4dC5zZXRTZXNzaW9uKG51bGwpXG4gICAgICAgIGNvbnRleHQuc2V0RXJyb3IobnVsbClcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW3VzZVNlc3Npb25OZXddIOacg+ipseW3sua4hemZpCcpXG4gICAgfSwgW2NvbnRleHRdKVxuXG4gICAgY29uc3QgY3VycmVudFNlc3Npb246IFNlc3Npb25SZXNwb25zZSB8IG51bGwgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBjb250ZXh0LmFwcERhdGEuc2Vzc2lvblxuICAgICAgICBpZiAoIXNlc3Npb25EYXRhKSByZXR1cm4gbnVsbFxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogc2Vzc2lvbkRhdGEuaWQsXG4gICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICB0eXBlOiBzZXNzaW9uRGF0YS50eXBlLFxuICAgICAgICAgICAgc3RhdHVzOiBzZXNzaW9uRGF0YS5zdGF0dXMsXG4gICAgICAgICAgICBsYW5ndWFnZTogJ3poLVRXJyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfVxuICAgIH0sIFtjb250ZXh0LmFwcERhdGEuc2Vzc2lvbl0pXG5cbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBjdXJyZW50U2Vzc2lvbixcbiAgICAgICAgaXNMb2FkaW5nOiBjb250ZXh0LmlzTG9hZGluZyxcbiAgICAgICAgZXJyb3I6IGNvbnRleHQuZXJyb3IsXG4gICAgICAgIGNyZWF0ZU5vdGVTZXNzaW9uLFxuICAgICAgICBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uLFxuICAgICAgICB1cGdyYWRlVG9SZWNvcmRpbmcsXG4gICAgICAgIGZpbmlzaFNlc3Npb24sXG4gICAgICAgIGRlbGV0ZVNlc3Npb24sXG4gICAgICAgIGNsZWFyU2Vzc2lvbixcbiAgICAgICAgY2hlY2tBY3RpdmVTZXNzaW9uLFxuICAgIH0pLCBbXG4gICAgICAgIGN1cnJlbnRTZXNzaW9uLFxuICAgICAgICBjb250ZXh0LmlzTG9hZGluZyxcbiAgICAgICAgY29udGV4dC5lcnJvcixcbiAgICAgICAgY3JlYXRlTm90ZVNlc3Npb24sXG4gICAgICAgIGNyZWF0ZVJlY29yZGluZ1Nlc3Npb24sXG4gICAgICAgIHVwZ3JhZGVUb1JlY29yZGluZyxcbiAgICAgICAgZmluaXNoU2Vzc2lvbixcbiAgICAgICAgZGVsZXRlU2Vzc2lvbixcbiAgICAgICAgY2xlYXJTZXNzaW9uLFxuICAgICAgICBjaGVja0FjdGl2ZVNlc3Npb24sXG4gICAgXSlcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJheGlvcyIsInNlc3Npb25BUEkiLCJ1c2VBcHBTdGF0ZUNvbnRleHQiLCJpc0ZlYXR1cmVFbmFibGVkIiwidXNlU2Vzc2lvbk5ldyIsImNvbnRleHQiLCJjb25zb2xlIiwibG9nIiwidXNlTmV3U3RhdGVNYW5hZ2VtZW50IiwidXNlTmV3U2Vzc2lvbkhvb2siLCJjb250ZXh0U2Vzc2lvbiIsImFwcERhdGEiLCJzZXNzaW9uIiwiY29udGV4dEVycm9yIiwiZXJyb3IiLCJjb250ZXh0TG9hZGluZyIsImlzTG9hZGluZyIsImNsZWFyRXJyb3IiLCJzZXRFcnJvciIsImNoZWNrQWN0aXZlU2Vzc2lvbiIsInNldExvYWRpbmciLCJhY3RpdmVTZXNzaW9uIiwiZ2V0QWN0aXZlU2Vzc2lvbiIsInNldFNlc3Npb24iLCJpZCIsInN0YXR1cyIsInR5cGUiLCJlcnIiLCJFcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsIndhcm4iLCJlcnJvck1lc3NhZ2UiLCJjcmVhdGVOb3RlU2Vzc2lvbiIsInRpdGxlIiwiY29udGVudCIsInNlc3Npb25EYXRhIiwiY3JlYXRlU2Vzc2lvbiIsImlzQXhpb3NFcnJvciIsInJlc3BvbnNlIiwiY29uZmxpY3RNZXNzYWdlIiwiZGF0YSIsImRldGFpbCIsImNyZWF0ZVJlY29yZGluZ1Nlc3Npb24iLCJ1cGdyYWRlVG9SZWNvcmRpbmciLCJjdXJyZW50U2Vzc2lvbkRhdGEiLCJ1cGRhdGVkU2Vzc2lvbiIsImZpbmlzaFNlc3Npb24iLCJ1cGRhdGVTZXNzaW9uU3RhdHVzIiwiZGVsZXRlU2Vzc2lvbiIsImNsZWFyU2Vzc2lvbiIsImN1cnJlbnRTZXNzaW9uIiwibGFuZ3VhZ2UiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-session-new.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-session.ts":
/*!******************************!*\
  !*** ./hooks/use-session.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSession: () => (/* binding */ useSession)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/api */ \"(ssr)/./lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ useSession auto */ \n\n\nfunction useSession() {\n    const [currentSession, setCurrentSession] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const clearError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[clearError]\": ()=>{\n            setError(null);\n        }\n    }[\"useSession.useCallback[clearError]\"], []);\n    const checkActiveSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[checkActiveSession]\": async ()=>{\n            setIsLoading(true);\n            clearError();\n            try {\n                const activeSession = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.getActiveSession();\n                if (activeSession) {\n                    setCurrentSession(activeSession);\n                    console.log('✅ 已恢復活躍會話狀態:', activeSession);\n                    return activeSession;\n                } else {\n                    console.log('ℹ️ 沒有活躍會話，使用預設狀態');\n                    return null;\n                }\n            } catch (err) {\n                // 如果是網路錯誤，且是初始化階段，則靜默處理\n                if (err instanceof Error && err.message.includes('Network Error')) {\n                    console.warn('⚠️ Backend API 連線暫時失敗，將在後續重試:', err.message);\n                    return null // 靜默失敗，不設置錯誤狀態\n                    ;\n                }\n                const errorMessage = err instanceof Error ? err.message : '檢查活躍會話失敗';\n                setError(errorMessage);\n                console.error('❌ 檢查活躍會話失敗:', err);\n                return null;\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[checkActiveSession]\"], [\n        clearError\n    ]);\n    const createNoteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[createNoteSession]\": async (title, content)=>{\n            setIsLoading(true);\n            clearError();\n            try {\n                const sessionData = {\n                    title,\n                    type: 'note_only',\n                    content\n                };\n                const session = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.createSession(sessionData);\n                setCurrentSession(session);\n                console.log('✅ 純筆記會話建立成功:', session);\n                return session;\n            } catch (err) {\n                // 特別處理 409 衝突錯誤\n                if (axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isAxiosError(err) && err.response?.status === 409) {\n                    const conflictMessage = '檢測到活躍會話衝突，請重新整理頁面後再試';\n                    setError(conflictMessage);\n                    console.error('❌ 會話衝突錯誤 (409):', err.response?.data?.detail || err.message);\n                    return null;\n                }\n                const errorMessage = err instanceof Error ? err.message : '建立會話失敗';\n                setError(errorMessage);\n                console.error('❌ 建立純筆記會話失敗:', err);\n                return null;\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[createNoteSession]\"], [\n        clearError\n    ]);\n    const createRecordingSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[createRecordingSession]\": async (title, content)=>{\n            setIsLoading(true);\n            clearError();\n            try {\n                const sessionData = {\n                    title,\n                    type: 'recording',\n                    content\n                };\n                const session = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.createSession(sessionData);\n                setCurrentSession(session);\n                console.log('✅ 錄音會話建立成功:', session);\n                return session;\n            } catch (err) {\n                // 特別處理 409 衝突錯誤\n                if (axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isAxiosError(err) && err.response?.status === 409) {\n                    const conflictMessage = '檢測到活躍會話衝突，請重新整理頁面後再試';\n                    setError(conflictMessage);\n                    console.error('❌ 會話衝突錯誤 (409):', err.response?.data?.detail || err.message);\n                    return null;\n                }\n                const errorMessage = err instanceof Error ? err.message : '建立錄音會話失敗';\n                setError(errorMessage);\n                console.error('❌ 建立錄音會話失敗:', err);\n                return null;\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[createRecordingSession]\"], [\n        clearError\n    ]);\n    const upgradeToRecording = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[upgradeToRecording]\": async ()=>{\n            if (!currentSession) {\n                setError('沒有活躍的會話可以升級');\n                return null;\n            }\n            if (currentSession.type === 'recording') {\n                console.log('🔄 會話已經是錄音模式');\n                return currentSession;\n            }\n            setIsLoading(true);\n            clearError();\n            try {\n                const updatedSession = await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.upgradeToRecording(currentSession.id);\n                setCurrentSession(updatedSession);\n                console.log('✅ 會話升級為錄音模式成功:', updatedSession);\n                return updatedSession;\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '升級會話失敗';\n                setError(errorMessage);\n                console.error('❌ 升級會話失敗:', err);\n                return null;\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[upgradeToRecording]\"], [\n        currentSession,\n        clearError\n    ]);\n    const finishSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[finishSession]\": async ()=>{\n            if (!currentSession) {\n                console.log('🔄 沒有活躍的會話需要完成');\n                return;\n            }\n            setIsLoading(true);\n            clearError();\n            try {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.finishSession(currentSession.id);\n                console.log('✅ 會話完成成功:', currentSession.id);\n                // 保持 session 資料，只更新狀態\n                setCurrentSession({\n                    \"useSession.useCallback[finishSession]\": (prev)=>prev ? {\n                            ...prev,\n                            status: 'completed'\n                        } : null\n                }[\"useSession.useCallback[finishSession]\"]);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '完成會話失敗';\n                setError(errorMessage);\n                console.error('❌ 完成會話失敗:', err);\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[finishSession]\"], [\n        currentSession,\n        clearError\n    ]);\n    const deleteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[deleteSession]\": async ()=>{\n            if (!currentSession) {\n                console.log('🔄 沒有活躍的會話需要刪除');\n                return;\n            }\n            setIsLoading(true);\n            clearError();\n            try {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_1__.sessionAPI.deleteSession(currentSession.id);\n                console.log('✅ 會話刪除成功:', currentSession.id);\n                setCurrentSession(null);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '刪除會話失敗';\n                setError(errorMessage);\n                console.error('❌ 刪除會話失敗:', err);\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    }[\"useSession.useCallback[deleteSession]\"], [\n        currentSession,\n        clearError\n    ]);\n    const clearSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSession.useCallback[clearSession]\": ()=>{\n            setCurrentSession(null);\n            setError(null);\n            console.log('🔄 會話已清除');\n        }\n    }[\"useSession.useCallback[clearSession]\"], []);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useSession.useMemo\": ()=>({\n                currentSession,\n                isLoading,\n                error,\n                createNoteSession,\n                createRecordingSession,\n                upgradeToRecording,\n                finishSession,\n                deleteSession,\n                clearSession,\n                checkActiveSession\n            })\n    }[\"useSession.useMemo\"], [\n        currentSession,\n        isLoading,\n        error,\n        createNoteSession,\n        createRecordingSession,\n        upgradeToRecording,\n        finishSession,\n        deleteSession,\n        clearSession,\n        checkActiveSession\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2xCSTtnQkFDQUU7Z0JBQ0FFO2dCQUNBYztnQkFDQWE7Z0JBQ0FDO2dCQUNBRztnQkFDQUU7Z0JBQ0FDO2dCQUNBL0I7WUFDSjs2QkFBSTtRQUNBUDtRQUNBRTtRQUNBRTtRQUNBYztRQUNBYTtRQUNBQztRQUNBRztRQUNBRTtRQUNBQztRQUNBL0I7S0FDSDtBQUNMIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ob29rcy91c2Utc2Vzc2lvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCB7IHNlc3Npb25BUEksIHR5cGUgU2Vzc2lvbkNyZWF0ZVJlcXVlc3QsIHR5cGUgU2Vzc2lvblJlc3BvbnNlIH0gZnJvbSAnLi4vbGliL2FwaSdcblxuaW50ZXJmYWNlIFVzZVNlc3Npb25SZXR1cm4ge1xuICAgIGN1cnJlbnRTZXNzaW9uOiBTZXNzaW9uUmVzcG9uc2UgfCBudWxsXG4gICAgaXNMb2FkaW5nOiBib29sZWFuXG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGxcbiAgICBjcmVhdGVOb3RlU2Vzc2lvbjogKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpID0+IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD5cbiAgICBjcmVhdGVSZWNvcmRpbmdTZXNzaW9uOiAodGl0bGU6IHN0cmluZywgY29udGVudD86IHN0cmluZykgPT4gUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPlxuICAgIHVwZ3JhZGVUb1JlY29yZGluZzogKCkgPT4gUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPlxuICAgIGZpbmlzaFNlc3Npb246ICgpID0+IFByb21pc2U8dm9pZD5cbiAgICBkZWxldGVTZXNzaW9uOiAoKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgY2xlYXJTZXNzaW9uOiAoKSA9PiB2b2lkXG4gICAgY2hlY2tBY3RpdmVTZXNzaW9uOiAoKSA9PiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTZXNzaW9uKCk6IFVzZVNlc3Npb25SZXR1cm4ge1xuICAgIGNvbnN0IFtjdXJyZW50U2Vzc2lvbiwgc2V0Q3VycmVudFNlc3Npb25dID0gdXNlU3RhdGU8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gICAgY29uc3QgY2xlYXJFcnJvciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0RXJyb3IobnVsbClcbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IGNoZWNrQWN0aXZlU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+ID0+IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICAgIGNsZWFyRXJyb3IoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbkFQSS5nZXRBY3RpdmVTZXNzaW9uKClcbiAgICAgICAgICAgIGlmIChhY3RpdmVTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFNlc3Npb24oYWN0aXZlU2Vzc2lvbilcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOW3suaBouW+qea0u+i6jeacg+ipseeLgOaFizonLCBhY3RpdmVTZXNzaW9uKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTZXNzaW9uXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8g5rKS5pyJ5rS76LqN5pyD6Kmx77yM5L2/55So6aCQ6Kit54uA5oWLJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIOWmguaenOaYr+e2sui3r+mMr+iqpO+8jOS4lOaYr+WIneWni+WMlumajuaute+8jOWJh+mdnOm7mOiZleeQhlxuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrIEVycm9yJykpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCYWNrZW5kIEFQSSDpgKPnt5rmmqvmmYLlpLHmlZfvvIzlsIflnKjlvoznuozph43oqaY6JywgZXJyLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgLy8g6Z2c6buY5aSx5pWX77yM5LiN6Kit572u6Yyv6Kqk54uA5oWLXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5qqi5p+l5rS76LqN5pyD6Kmx5aSx5pWXJ1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOaqouafpea0u+i6jeacg+ipseWkseaVlzonLCBlcnIpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgfSwgW2NsZWFyRXJyb3JdKVxuICAgIGNvbnN0IGNyZWF0ZU5vdGVTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ/OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+ID0+IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICAgIGNsZWFyRXJyb3IoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YTogU2Vzc2lvbkNyZWF0ZVJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ25vdGVfb25seScsXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHNlc3Npb25BUEkuY3JlYXRlU2Vzc2lvbihzZXNzaW9uRGF0YSlcbiAgICAgICAgICAgIHNldEN1cnJlbnRTZXNzaW9uKHNlc3Npb24pXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOe0lOethuiomOacg+ipseW7uueri+aIkOWKnzonLCBzZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyDnibnliKXomZXnkIYgNDA5IOihneeqgemMr+iqpFxuICAgICAgICAgICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnIpICYmIGVyci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25mbGljdE1lc3NhZ2UgPSAn5qqi5ris5Yiw5rS76LqN5pyD6Kmx6KGd56qB77yM6KuL6YeN5paw5pW055CG6aCB6Z2i5b6M5YaN6KmmJ1xuICAgICAgICAgICAgICAgIHNldEVycm9yKGNvbmZsaWN0TWVzc2FnZSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5pyD6Kmx6KGd56qB6Yyv6KqkICg0MDkpOicsIGVyci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8IGVyci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn5bu656uL5pyD6Kmx5aSx5pWXJ1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOW7uueri+e0lOethuiomOacg+ipseWkseaVlzonLCBlcnIpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgfSwgW2NsZWFyRXJyb3JdKVxuXG4gICAgY29uc3QgY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICh0aXRsZTogc3RyaW5nLCBjb250ZW50Pzogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2UgfCBudWxsPiA9PiB7XG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKVxuICAgICAgICBjbGVhckVycm9yKClcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGE6IFNlc3Npb25DcmVhdGVSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdyZWNvcmRpbmcnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBzZXNzaW9uQVBJLmNyZWF0ZVNlc3Npb24oc2Vzc2lvbkRhdGEpXG4gICAgICAgICAgICBzZXRDdXJyZW50U2Vzc2lvbihzZXNzaW9uKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDpjITpn7PmnIPoqbHlu7rnq4vmiJDlip86Jywgc2Vzc2lvbilcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8g54m55Yil6JmV55CGIDQwOSDooZ3nqoHpjK/oqqRcbiAgICAgICAgICAgIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyKSAmJiBlcnIucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmxpY3RNZXNzYWdlID0gJ+aqoua4rOWIsOa0u+i6jeacg+ipseihneeqge+8jOiri+mHjeaWsOaVtOeQhumggemdouW+jOWGjeippidcbiAgICAgICAgICAgICAgICBzZXRFcnJvcihjb25mbGljdE1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOacg+ipseihneeqgemMr+iqpCAoNDA5KTonLCBlcnIucmVzcG9uc2U/LmRhdGE/LmRldGFpbCB8fCBlcnIubWVzc2FnZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+W7uueri+mMhOmfs+acg+ipseWkseaVlydcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDlu7rnq4vpjITpn7PmnIPoqbHlpLHmlZc6JywgZXJyKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhckVycm9yXSlcblxuICAgIGNvbnN0IHVwZ3JhZGVUb1JlY29yZGluZyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZSB8IG51bGw+ID0+IHtcbiAgICAgICAgaWYgKCFjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICAgICAgc2V0RXJyb3IoJ+aykuaciea0u+i6jeeahOacg+ipseWPr+S7peWNh+e0micpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uLnR5cGUgPT09ICdyZWNvcmRpbmcnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDmnIPoqbHlt7LntpPmmK/pjITpn7PmqKHlvI8nKVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZXNzaW9uXG4gICAgICAgIH1cblxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICAgICAgY2xlYXJFcnJvcigpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTZXNzaW9uID0gYXdhaXQgc2Vzc2lvbkFQSS51cGdyYWRlVG9SZWNvcmRpbmcoY3VycmVudFNlc3Npb24uaWQpXG4gICAgICAgICAgICBzZXRDdXJyZW50U2Vzc2lvbih1cGRhdGVkU2Vzc2lvbilcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg5pyD6Kmx5Y2H57Sa54K66YyE6Z+z5qih5byP5oiQ5YqfOicsIHVwZGF0ZWRTZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRTZXNzaW9uXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfljYfntJrmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5Y2H57Sa5pyD6Kmx5aSx5pWXOicsIGVycilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICB9LCBbY3VycmVudFNlc3Npb24sIGNsZWFyRXJyb3JdKVxuXG4gICAgY29uc3QgZmluaXNoU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgaWYgKCFjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg5rKS5pyJ5rS76LqN55qE5pyD6Kmx6ZyA6KaB5a6M5oiQJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICAgIGNsZWFyRXJyb3IoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBzZXNzaW9uQVBJLmZpbmlzaFNlc3Npb24oY3VycmVudFNlc3Npb24uaWQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOacg+ipseWujOaIkOaIkOWKnzonLCBjdXJyZW50U2Vzc2lvbi5pZClcbiAgICAgICAgICAgIC8vIOS/neaMgSBzZXNzaW9uIOizh+aWme+8jOWPquabtOaWsOeLgOaFi1xuICAgICAgICAgICAgc2V0Q3VycmVudFNlc3Npb24oKHByZXY6IFNlc3Npb25SZXNwb25zZSB8IG51bGwpID0+IHByZXYgPyB7IC4uLnByZXYsIHN0YXR1czogJ2NvbXBsZXRlZCcgfSA6IG51bGwpXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICflrozmiJDmnIPoqbHlpLHmlZcnXG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5a6M5oiQ5pyD6Kmx5aSx5pWXOicsIGVycilcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50U2Vzc2lvbiwgY2xlYXJFcnJvcl0pXG5cbiAgICBjb25zdCBkZWxldGVTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDmspLmnInmtLvouo3nmoTmnIPoqbHpnIDopoHliKrpmaQnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICAgICAgY2xlYXJFcnJvcigpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHNlc3Npb25BUEkuZGVsZXRlU2Vzc2lvbihjdXJyZW50U2Vzc2lvbi5pZClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg5pyD6Kmx5Yiq6Zmk5oiQ5YqfOicsIGN1cnJlbnRTZXNzaW9uLmlkKVxuICAgICAgICAgICAgc2V0Q3VycmVudFNlc3Npb24obnVsbClcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+WIqumZpOacg+ipseWkseaVlydcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDliKrpmaTmnIPoqbHlpLHmlZc6JywgZXJyKVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRTZXNzaW9uLCBjbGVhckVycm9yXSlcblxuICAgIGNvbnN0IGNsZWFyU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0Q3VycmVudFNlc3Npb24obnVsbClcbiAgICAgICAgc2V0RXJyb3IobnVsbClcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQg5pyD6Kmx5bey5riF6ZmkJylcbiAgICB9LCBbXSlcblxuICAgIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGN1cnJlbnRTZXNzaW9uLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBjcmVhdGVOb3RlU2Vzc2lvbixcbiAgICAgICAgY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbixcbiAgICAgICAgdXBncmFkZVRvUmVjb3JkaW5nLFxuICAgICAgICBmaW5pc2hTZXNzaW9uLFxuICAgICAgICBkZWxldGVTZXNzaW9uLFxuICAgICAgICBjbGVhclNlc3Npb24sXG4gICAgICAgIGNoZWNrQWN0aXZlU2Vzc2lvbixcbiAgICB9KSwgW1xuICAgICAgICBjdXJyZW50U2Vzc2lvbixcbiAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgY3JlYXRlTm90ZVNlc3Npb24sXG4gICAgICAgIGNyZWF0ZVJlY29yZGluZ1Nlc3Npb24sXG4gICAgICAgIHVwZ3JhZGVUb1JlY29yZGluZyxcbiAgICAgICAgZmluaXNoU2Vzc2lvbixcbiAgICAgICAgZGVsZXRlU2Vzc2lvbixcbiAgICAgICAgY2xlYXJTZXNzaW9uLFxuICAgICAgICBjaGVja0FjdGl2ZVNlc3Npb24sXG4gICAgXSlcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsImF4aW9zIiwic2Vzc2lvbkFQSSIsInVzZVNlc3Npb24iLCJjdXJyZW50U2Vzc2lvbiIsInNldEN1cnJlbnRTZXNzaW9uIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImNsZWFyRXJyb3IiLCJjaGVja0FjdGl2ZVNlc3Npb24iLCJhY3RpdmVTZXNzaW9uIiwiZ2V0QWN0aXZlU2Vzc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJFcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsIndhcm4iLCJlcnJvck1lc3NhZ2UiLCJjcmVhdGVOb3RlU2Vzc2lvbiIsInRpdGxlIiwiY29udGVudCIsInNlc3Npb25EYXRhIiwidHlwZSIsInNlc3Npb24iLCJjcmVhdGVTZXNzaW9uIiwiaXNBeGlvc0Vycm9yIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjb25mbGljdE1lc3NhZ2UiLCJkYXRhIiwiZGV0YWlsIiwiY3JlYXRlUmVjb3JkaW5nU2Vzc2lvbiIsInVwZ3JhZGVUb1JlY29yZGluZyIsInVwZGF0ZWRTZXNzaW9uIiwiaWQiLCJmaW5pc2hTZXNzaW9uIiwicHJldiIsImRlbGV0ZVNlc3Npb24iLCJjbGVhclNlc3Npb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-session.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-transcript-adapter.ts":
/*!*****************************************!*\
  !*** ./hooks/use-transcript-adapter.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTranscript: () => (/* binding */ useTranscript),\n/* harmony export */   useTranscriptLegacy: () => (/* reexport safe */ _use_transcript__WEBPACK_IMPORTED_MODULE_0__.useTranscript),\n/* harmony export */   useTranscriptNew: () => (/* reexport safe */ _use_transcript_new__WEBPACK_IMPORTED_MODULE_1__.useTranscriptNew)\n/* harmony export */ });\n/* harmony import */ var _use_transcript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use-transcript */ \"(ssr)/./hooks/use-transcript.ts\");\n/* harmony import */ var _use_transcript_new__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-transcript-new */ \"(ssr)/./hooks/use-transcript-new.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ useTranscript,useTranscriptLegacy,useTranscriptNew auto */ \n\n\n/**\n * useTranscript 適配器 Hook\n * 根據功能開關決定使用新舊版本的 useTranscript\n * 特別注意保持 TranscriptManager 的 WebSocket 重連機制\n */ function useTranscript() {\n    const useNewTranscriptHook = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('useNewTranscriptHook');\n    const useNewStateManagement = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('useNewStateManagement');\n    console.log('🔄 [useTranscriptAdapter] 功能開關狀態:', {\n        useNewTranscriptHook,\n        useNewStateManagement,\n        willUseNewVersion: useNewTranscriptHook || useNewStateManagement\n    });\n    // 如果啟用新 Transcript Hook 或新狀態管理，使用新版本\n    if (useNewTranscriptHook || useNewStateManagement) {\n        console.log('🔄 [useTranscriptAdapter] 使用新版本 useTranscriptNew');\n        return (0,_use_transcript_new__WEBPACK_IMPORTED_MODULE_1__.useTranscriptNew)();\n    }\n    // 否則使用舊版本\n    console.log('🔄 [useTranscriptAdapter] 使用舊版本 useTranscript');\n    return (0,_use_transcript__WEBPACK_IMPORTED_MODULE_0__.useTranscript)();\n}\n// 導出舊版本供直接使用（用於測試或特殊情況）\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2UtdHJhbnNjcmlwdC1hZGFwdGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozt3R0FFdUU7QUFDaEI7QUFDQTtBQW9CdkQ7Ozs7Q0FJQyxHQUNNLFNBQVNBO0lBQ1osTUFBTUksdUJBQXVCRCxvRUFBZ0JBLENBQUM7SUFDOUMsTUFBTUUsd0JBQXdCRixvRUFBZ0JBLENBQUM7SUFFL0NHLFFBQVFDLEdBQUcsQ0FBQyxxQ0FBcUM7UUFDN0NIO1FBQ0FDO1FBQ0FHLG1CQUFtQkosd0JBQXdCQztJQUMvQztJQUVBLHFDQUFxQztJQUNyQyxJQUFJRCx3QkFBd0JDLHVCQUF1QjtRQUMvQ0MsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBT0wscUVBQWdCQTtJQUMzQjtJQUVBLFVBQVU7SUFDVkksUUFBUUMsR0FBRyxDQUFDO0lBQ1osT0FBT04sOERBQW1CQTtBQUM5QjtBQUVBLHdCQUF3QjtBQUMrQztBQUNoQiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvaG9va3MvdXNlLXRyYW5zY3JpcHQtYWRhcHRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VUcmFuc2NyaXB0IGFzIHVzZVRyYW5zY3JpcHRMZWdhY3kgfSBmcm9tICcuL3VzZS10cmFuc2NyaXB0J1xuaW1wb3J0IHsgdXNlVHJhbnNjcmlwdE5ldyB9IGZyb20gJy4vdXNlLXRyYW5zY3JpcHQtbmV3J1xuaW1wb3J0IHsgaXNGZWF0dXJlRW5hYmxlZCB9IGZyb20gJy4uL2xpYi9mZWF0dXJlLWZsYWdzJ1xuaW1wb3J0IHsgVHJhbnNjcmlwdE1lc3NhZ2UgfSBmcm9tICcuLi9saWIvdHJhbnNjcmlwdC1tYW5hZ2VyJ1xuXG4vLyDntbHkuIDnmoQgVXNlVHJhbnNjcmlwdCDku4vpnaJcbmludGVyZmFjZSBVc2VUcmFuc2NyaXB0UmV0dXJuIHtcbiAgICB0cmFuc2NyaXB0czogVHJhbnNjcmlwdE1lc3NhZ2VbXVxuICAgIGlzQ29ubmVjdGVkOiBib29sZWFuXG4gICAgaXNDb21wbGV0ZWQ6IGJvb2xlYW5cbiAgICBlcnJvcjogc3RyaW5nIHwgbnVsbFxuICAgIGNvbm5lY3Q6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGRpc2Nvbm5lY3Q6ICgpID0+IHZvaWRcbiAgICBjbGVhclRyYW5zY3JpcHRzOiAoKSA9PiB2b2lkXG4gICAgLy8g6Ieq5YuV5o2y5YuV5Yqf6IO9XG4gICAgYXV0b1Njcm9sbEVuYWJsZWQ6IGJvb2xlYW5cbiAgICBlbmFibGVBdXRvU2Nyb2xsOiAoKSA9PiB2b2lkXG4gICAgZGlzYWJsZUF1dG9TY3JvbGw6ICgpID0+IHZvaWRcbiAgICBzY3JvbGxUb0xhdGVzdDogKCkgPT4gdm9pZFxuICAgIHNldFNjcm9sbENvbnRhaW5lcjogKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCkgPT4gdm9pZFxufVxuXG4vKipcbiAqIHVzZVRyYW5zY3JpcHQg6YGp6YWN5ZmoIEhvb2tcbiAqIOagueaTmuWKn+iDvemWi+mXnOaxuuWumuS9v+eUqOaWsOiIiueJiOacrOeahCB1c2VUcmFuc2NyaXB0XG4gKiDnibnliKXms6jmhI/kv53mjIEgVHJhbnNjcmlwdE1hbmFnZXIg55qEIFdlYlNvY2tldCDph43pgKPmqZ/liLZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVRyYW5zY3JpcHQoKTogVXNlVHJhbnNjcmlwdFJldHVybiB7XG4gICAgY29uc3QgdXNlTmV3VHJhbnNjcmlwdEhvb2sgPSBpc0ZlYXR1cmVFbmFibGVkKCd1c2VOZXdUcmFuc2NyaXB0SG9vaycpXG4gICAgY29uc3QgdXNlTmV3U3RhdGVNYW5hZ2VtZW50ID0gaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3U3RhdGVNYW5hZ2VtZW50JylcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFt1c2VUcmFuc2NyaXB0QWRhcHRlcl0g5Yqf6IO96ZaL6Zec54uA5oWLOicsIHtcbiAgICAgICAgdXNlTmV3VHJhbnNjcmlwdEhvb2ssXG4gICAgICAgIHVzZU5ld1N0YXRlTWFuYWdlbWVudCxcbiAgICAgICAgd2lsbFVzZU5ld1ZlcnNpb246IHVzZU5ld1RyYW5zY3JpcHRIb29rIHx8IHVzZU5ld1N0YXRlTWFuYWdlbWVudFxuICAgIH0pXG5cbiAgICAvLyDlpoLmnpzllZ/nlKjmlrAgVHJhbnNjcmlwdCBIb29rIOaIluaWsOeLgOaFi+euoeeQhu+8jOS9v+eUqOaWsOeJiOacrFxuICAgIGlmICh1c2VOZXdUcmFuc2NyaXB0SG9vayB8fCB1c2VOZXdTdGF0ZU1hbmFnZW1lbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW3VzZVRyYW5zY3JpcHRBZGFwdGVyXSDkvb/nlKjmlrDniYjmnKwgdXNlVHJhbnNjcmlwdE5ldycpXG4gICAgICAgIHJldHVybiB1c2VUcmFuc2NyaXB0TmV3KClcbiAgICB9XG5cbiAgICAvLyDlkKbliYfkvb/nlKjoiIrniYjmnKxcbiAgICBjb25zb2xlLmxvZygn8J+UhCBbdXNlVHJhbnNjcmlwdEFkYXB0ZXJdIOS9v+eUqOiIiueJiOacrCB1c2VUcmFuc2NyaXB0JylcbiAgICByZXR1cm4gdXNlVHJhbnNjcmlwdExlZ2FjeSgpXG59XG5cbi8vIOWwjuWHuuiIiueJiOacrOS+m+ebtOaOpeS9v+eUqO+8iOeUqOaWvOa4rOippuaIlueJueauiuaDheazge+8iVxuZXhwb3J0IHsgdXNlVHJhbnNjcmlwdCBhcyB1c2VUcmFuc2NyaXB0TGVnYWN5IH0gZnJvbSAnLi91c2UtdHJhbnNjcmlwdCdcbmV4cG9ydCB7IHVzZVRyYW5zY3JpcHROZXcgfSBmcm9tICcuL3VzZS10cmFuc2NyaXB0LW5ldydcbiJdLCJuYW1lcyI6WyJ1c2VUcmFuc2NyaXB0IiwidXNlVHJhbnNjcmlwdExlZ2FjeSIsInVzZVRyYW5zY3JpcHROZXciLCJpc0ZlYXR1cmVFbmFibGVkIiwidXNlTmV3VHJhbnNjcmlwdEhvb2siLCJ1c2VOZXdTdGF0ZU1hbmFnZW1lbnQiLCJjb25zb2xlIiwibG9nIiwid2lsbFVzZU5ld1ZlcnNpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-transcript-adapter.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-transcript-new.ts":
/*!*************************************!*\
  !*** ./hooks/use-transcript-new.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTranscriptNew: () => (/* binding */ useTranscriptNew)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/transcript-manager */ \"(ssr)/./lib/transcript-manager.ts\");\n/* harmony import */ var _use_app_state_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-app-state-context */ \"(ssr)/./hooks/use-app-state-context.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ useTranscriptNew auto */ \n\n\n\nfunction useTranscriptNew() {\n    // 使用新的 Context 狀態管理\n    const context = (0,_use_app_state_context__WEBPACK_IMPORTED_MODULE_2__.useAppStateContext)();\n    // 本地狀態（保持 TranscriptManager 獨立性，避免影響 WebSocket 重連機制）\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isCompleted, setIsCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [localError, setLocalError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [autoScrollEnabled, setAutoScrollEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentSessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    console.log('🔄 [useTranscriptNew] Hook 初始化', {\n        useNewStateManagement: (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__.isFeatureEnabled)('useNewStateManagement'),\n        useNewTranscriptHook: (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__.isFeatureEnabled)('useNewTranscriptHook'),\n        contextTranscriptCount: context.appData.transcriptEntries.length\n    });\n    // 處理逐字稿接收與合併邏輯 - 整合 Context\n    const handleTranscript = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[handleTranscript]\": (transcript)=>{\n            if (transcript.type === 'transcript_complete') {\n                setIsCompleted(true);\n                return;\n            }\n            const anyMessage = transcript;\n            if (anyMessage.type === 'error') {\n                const errorMessage = anyMessage.error_message || '轉錄過程中發生錯誤';\n                setLocalError(errorMessage);\n                context.setError(errorMessage);\n                return;\n            }\n            if (transcript.type === 'transcript_segment' && transcript.text) {\n                const startTime = transcript.start_time ?? 0;\n                const minutes = Math.floor(startTime / 60);\n                const seconds = Math.floor(startTime % 60);\n                const timeStr = `${minutes.toString().padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}`;\n                context.addTranscriptEntry({\n                    time: timeStr,\n                    text: transcript.text\n                });\n            }\n        }\n    }[\"useTranscriptNew.useCallback[handleTranscript]\"], [\n        context\n    ]);\n    // 自動捲動功能\n    const scrollToLatest = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[scrollToLatest]\": ()=>{\n            if (containerRef.current && autoScrollEnabled) {\n                containerRef.current.scrollTop = containerRef.current.scrollHeight;\n            }\n        }\n    }[\"useTranscriptNew.useCallback[scrollToLatest]\"], [\n        autoScrollEnabled\n    ]);\n    // 檢測使用者滾動 - 離底部 >60px 時禁用自動捲動\n    const handleScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[handleScroll]\": (event)=>{\n            const container = event.target;\n            if (!container) return;\n            const { scrollTop, scrollHeight, clientHeight } = container;\n            const distanceFromBottom = scrollHeight - scrollTop - clientHeight;\n            if (distanceFromBottom > 60) {\n                setAutoScrollEnabled(false);\n            } else if (distanceFromBottom <= 10) {\n                setAutoScrollEnabled(true);\n            }\n        }\n    }[\"useTranscriptNew.useCallback[handleScroll]\"], []);\n    // 設定自動捲動容器\n    const setScrollContainer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[setScrollContainer]\": (element)=>{\n            if (containerRef.current) {\n                containerRef.current.removeEventListener('scroll', handleScroll);\n            }\n            containerRef.current = element;\n            if (element) {\n                element.addEventListener('scroll', handleScroll);\n            }\n        }\n    }[\"useTranscriptNew.useCallback[setScrollContainer]\"], [\n        handleScroll\n    ]);\n    // 啟用自動捲動\n    const enableAutoScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[enableAutoScroll]\": ()=>{\n            setAutoScrollEnabled(true);\n            scrollToLatest();\n        }\n    }[\"useTranscriptNew.useCallback[enableAutoScroll]\"], [\n        scrollToLatest\n    ]);\n    // 禁用自動捲動\n    const disableAutoScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[disableAutoScroll]\": ()=>{\n            setAutoScrollEnabled(false);\n        }\n    }[\"useTranscriptNew.useCallback[disableAutoScroll]\"], []);\n    // 連接 TranscriptManager - 保持原有重連機制\n    const connect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[connect]\": async (sessionId)=>{\n            try {\n                setLocalError(null);\n                context.setError(null);\n                setIsCompleted(false);\n                if (currentSessionIdRef.current) {\n                    _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                }\n                await _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.connect(sessionId);\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.addListener(sessionId, handleTranscript);\n                currentSessionIdRef.current = sessionId;\n                setIsConnected(_lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.isConnected(sessionId));\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '連接逐字稿服務失敗';\n                setLocalError(errorMessage);\n                context.setError(errorMessage);\n                setIsConnected(false);\n            }\n        }\n    }[\"useTranscriptNew.useCallback[connect]\"], [\n        handleTranscript,\n        context\n    ]);\n    // 斷開連接 - 保持 TranscriptManager 的獨立性\n    const disconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[disconnect]\": ()=>{\n            if (currentSessionIdRef.current) {\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                // 注意：不呼叫 transcriptManager.disconnect，因為其他組件可能還在使用\n                currentSessionIdRef.current = null;\n            }\n            setIsConnected(false);\n        }\n    }[\"useTranscriptNew.useCallback[disconnect]\"], [\n        handleTranscript\n    ]);\n    // 清空逐字稿 - 使用 Context\n    const clearTranscripts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscriptNew.useCallback[clearTranscripts]\": ()=>{\n            context.setTranscriptEntries([]);\n            setIsCompleted(false);\n        }\n    }[\"useTranscriptNew.useCallback[clearTranscripts]\"], [\n        context\n    ]);\n    // 自動捲動效果\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTranscriptNew.useEffect\": ()=>{\n            if (context.appData.transcriptEntries.length > 0) {\n                scrollToLatest();\n            }\n        }\n    }[\"useTranscriptNew.useEffect\"], [\n        context.appData.transcriptEntries,\n        scrollToLatest\n    ]);\n    // 清理資源\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTranscriptNew.useEffect\": ()=>{\n            return ({\n                \"useTranscriptNew.useEffect\": ()=>{\n                    if (currentSessionIdRef.current) {\n                        _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                    }\n                    if (containerRef.current) {\n                        containerRef.current.removeEventListener('scroll', handleScroll);\n                    }\n                }\n            })[\"useTranscriptNew.useEffect\"];\n        }\n    }[\"useTranscriptNew.useEffect\"], [\n        handleTranscript,\n        handleScroll\n    ]);\n    // 轉換 Context 中的 transcriptEntries 為 TranscriptMessage 格式（向後相容）\n    const compatibleTranscripts = context.appData.transcriptEntries.map((entry, index)=>({\n            type: 'transcript_segment',\n            text: entry.text,\n            start_time: 0,\n            end_time: 0,\n            start_sequence: index,\n            confidence: 1.0,\n            timestamp: Date.now()\n        }));\n    return {\n        transcripts: compatibleTranscripts,\n        isConnected,\n        isCompleted,\n        error: context.error || localError,\n        connect,\n        disconnect,\n        clearTranscripts,\n        autoScrollEnabled,\n        enableAutoScroll,\n        disableAutoScroll,\n        scrollToLatest,\n        setScrollContainer\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRMkUsS0FBSyxJQUFJdEU7UUFDeEJpRDtRQUNBTztRQUNBQztRQUNBdkQ7UUFDQTZDO1FBQ0FDO1FBQ0FmO1FBQ0FVO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvaG9va3MvdXNlLXRyYW5zY3JpcHQtbmV3LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHRyYW5zY3JpcHRNYW5hZ2VyLCBUcmFuc2NyaXB0TWVzc2FnZSB9IGZyb20gJy4uL2xpYi90cmFuc2NyaXB0LW1hbmFnZXInXG5pbXBvcnQgeyB1c2VBcHBTdGF0ZUNvbnRleHQgfSBmcm9tICcuL3VzZS1hcHAtc3RhdGUtY29udGV4dCdcbmltcG9ydCB7IGlzRmVhdHVyZUVuYWJsZWQgfSBmcm9tICcuLi9saWIvZmVhdHVyZS1mbGFncydcblxuaW50ZXJmYWNlIFVzZVRyYW5zY3JpcHROZXdSZXR1cm4ge1xuICAgIHRyYW5zY3JpcHRzOiBUcmFuc2NyaXB0TWVzc2FnZVtdXG4gICAgaXNDb25uZWN0ZWQ6IGJvb2xlYW5cbiAgICBpc0NvbXBsZXRlZDogYm9vbGVhblxuICAgIGVycm9yOiBzdHJpbmcgfCBudWxsXG4gICAgY29ubmVjdDogKHNlc3Npb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+XG4gICAgZGlzY29ubmVjdDogKCkgPT4gdm9pZFxuICAgIGNsZWFyVHJhbnNjcmlwdHM6ICgpID0+IHZvaWRcbiAgICAvLyDoh6rli5XmjbLli5Xlip/og71cbiAgICBhdXRvU2Nyb2xsRW5hYmxlZDogYm9vbGVhblxuICAgIGVuYWJsZUF1dG9TY3JvbGw6ICgpID0+IHZvaWRcbiAgICBkaXNhYmxlQXV0b1Njcm9sbDogKCkgPT4gdm9pZFxuICAgIHNjcm9sbFRvTGF0ZXN0OiAoKSA9PiB2b2lkXG4gICAgc2V0U2Nyb2xsQ29udGFpbmVyOiAoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VUcmFuc2NyaXB0TmV3KCk6IFVzZVRyYW5zY3JpcHROZXdSZXR1cm4ge1xuICAgIC8vIOS9v+eUqOaWsOeahCBDb250ZXh0IOeLgOaFi+euoeeQhlxuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VBcHBTdGF0ZUNvbnRleHQoKVxuXG4gICAgLy8g5pys5Zyw54uA5oWL77yI5L+d5oyBIFRyYW5zY3JpcHRNYW5hZ2VyIOeNqOeri+aAp++8jOmBv+WFjeW9semfvyBXZWJTb2NrZXQg6YeN6YCj5qmf5Yi277yJXG4gICAgY29uc3QgW2lzQ29ubmVjdGVkLCBzZXRJc0Nvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbaXNDb21wbGV0ZWQsIHNldElzQ29tcGxldGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICAgIGNvbnN0IFtsb2NhbEVycm9yLCBzZXRMb2NhbEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgW2F1dG9TY3JvbGxFbmFibGVkLCBzZXRBdXRvU2Nyb2xsRW5hYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKVxuXG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxFbGVtZW50IHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBjdXJyZW50U2Vzc2lvbklkUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgICBjb25zb2xlLmxvZygn8J+UhCBbdXNlVHJhbnNjcmlwdE5ld10gSG9vayDliJ3lp4vljJYnLCB7XG4gICAgICAgIHVzZU5ld1N0YXRlTWFuYWdlbWVudDogaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3U3RhdGVNYW5hZ2VtZW50JyksXG4gICAgICAgIHVzZU5ld1RyYW5zY3JpcHRIb29rOiBpc0ZlYXR1cmVFbmFibGVkKCd1c2VOZXdUcmFuc2NyaXB0SG9vaycpLFxuICAgICAgICBjb250ZXh0VHJhbnNjcmlwdENvdW50OiBjb250ZXh0LmFwcERhdGEudHJhbnNjcmlwdEVudHJpZXMubGVuZ3RoLFxuICAgIH0pXG5cbiAgICAvLyDomZXnkIbpgJDlrZfnqL/mjqXmlLboiIflkIjkvbXpgo/ovK8gLSDmlbTlkIggQ29udGV4dFxuICAgIGNvbnN0IGhhbmRsZVRyYW5zY3JpcHQgPSB1c2VDYWxsYmFjaygodHJhbnNjcmlwdDogVHJhbnNjcmlwdE1lc3NhZ2UpID0+IHtcbiAgICAgICAgaWYgKHRyYW5zY3JpcHQudHlwZSA9PT0gJ3RyYW5zY3JpcHRfY29tcGxldGUnKSB7XG4gICAgICAgICAgICBzZXRJc0NvbXBsZXRlZCh0cnVlKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbnlNZXNzYWdlID0gdHJhbnNjcmlwdCBhcyBhbnlcbiAgICAgICAgaWYgKGFueU1lc3NhZ2UudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYW55TWVzc2FnZS5lcnJvcl9tZXNzYWdlIHx8ICfovYnpjITpgY7nqIvkuK3nmbznlJ/pjK/oqqQnXG4gICAgICAgICAgICBzZXRMb2NhbEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnRleHQuc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNjcmlwdC50eXBlID09PSAndHJhbnNjcmlwdF9zZWdtZW50JyAmJiB0cmFuc2NyaXB0LnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHRyYW5zY3JpcHQuc3RhcnRfdGltZSA/PyAwXG4gICAgICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzdGFydFRpbWUgLyA2MClcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKHN0YXJ0VGltZSAlIDYwKVxuICAgICAgICAgICAgY29uc3QgdGltZVN0ciA9IGAke21pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gXG5cbiAgICAgICAgICAgIGNvbnRleHQuYWRkVHJhbnNjcmlwdEVudHJ5KHtcbiAgICAgICAgICAgICAgICB0aW1lOiB0aW1lU3RyLFxuICAgICAgICAgICAgICAgIHRleHQ6IHRyYW5zY3JpcHQudGV4dCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9LCBbY29udGV4dF0pXG5cbiAgICAvLyDoh6rli5XmjbLli5Xlip/og71cbiAgICBjb25zdCBzY3JvbGxUb0xhdGVzdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50ICYmIGF1dG9TY3JvbGxFbmFibGVkKSB7XG4gICAgICAgICAgICBjb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBjb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxIZWlnaHRcbiAgICAgICAgfVxuICAgIH0sIFthdXRvU2Nyb2xsRW5hYmxlZF0pXG5cbiAgICAvLyDmqqLmuKzkvb/nlKjogIXmu77li5UgLSDpm6LlupXpg6ggPjYwcHgg5pmC56aB55So6Ieq5YuV5o2y5YuVXG4gICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gdXNlQ2FsbGJhY2soKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQsIGNsaWVudEhlaWdodCB9ID0gY29udGFpbmVyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRnJvbUJvdHRvbSA9IHNjcm9sbEhlaWdodCAtIHNjcm9sbFRvcCAtIGNsaWVudEhlaWdodFxuXG4gICAgICAgIGlmIChkaXN0YW5jZUZyb21Cb3R0b20gPiA2MCkge1xuICAgICAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQoZmFsc2UpXG4gICAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VGcm9tQm90dG9tIDw9IDEwKSB7XG4gICAgICAgICAgICBzZXRBdXRvU2Nyb2xsRW5hYmxlZCh0cnVlKVxuICAgICAgICB9XG4gICAgfSwgW10pXG5cbiAgICAvLyDoqK3lrproh6rli5XmjbLli5XlrrnlmahcbiAgICBjb25zdCBzZXRTY3JvbGxDb250YWluZXIgPSB1c2VDYWxsYmFjaygoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsKSA9PiB7XG4gICAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQgPSBlbGVtZW50XG5cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKVxuICAgICAgICB9XG4gICAgfSwgW2hhbmRsZVNjcm9sbF0pXG5cbiAgICAvLyDllZ/nlKjoh6rli5XmjbLli5VcbiAgICBjb25zdCBlbmFibGVBdXRvU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRBdXRvU2Nyb2xsRW5hYmxlZCh0cnVlKVxuICAgICAgICBzY3JvbGxUb0xhdGVzdCgpXG4gICAgfSwgW3Njcm9sbFRvTGF0ZXN0XSlcblxuICAgIC8vIOemgeeUqOiHquWLleaNsuWLlVxuICAgIGNvbnN0IGRpc2FibGVBdXRvU2Nyb2xsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRBdXRvU2Nyb2xsRW5hYmxlZChmYWxzZSlcbiAgICB9LCBbXSlcblxuICAgIC8vIOmAo+aOpSBUcmFuc2NyaXB0TWFuYWdlciAtIOS/neaMgeWOn+aciemHjemAo+apn+WItlxuICAgIGNvbnN0IGNvbm5lY3QgPSB1c2VDYWxsYmFjayhhc3luYyAoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldExvY2FsRXJyb3IobnVsbClcbiAgICAgICAgICAgIGNvbnRleHQuc2V0RXJyb3IobnVsbClcbiAgICAgICAgICAgIHNldElzQ29tcGxldGVkKGZhbHNlKVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdE1hbmFnZXIucmVtb3ZlTGlzdGVuZXIoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50LCBoYW5kbGVUcmFuc2NyaXB0KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0cmFuc2NyaXB0TWFuYWdlci5jb25uZWN0KHNlc3Npb25JZClcbiAgICAgICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLmFkZExpc3RlbmVyKHNlc3Npb25JZCwgaGFuZGxlVHJhbnNjcmlwdClcblxuICAgICAgICAgICAgY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50ID0gc2Vzc2lvbklkXG4gICAgICAgICAgICBzZXRJc0Nvbm5lY3RlZCh0cmFuc2NyaXB0TWFuYWdlci5pc0Nvbm5lY3RlZChzZXNzaW9uSWQpKVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfpgKPmjqXpgJDlrZfnqL/mnI3li5nlpLHmlZcnXG4gICAgICAgICAgICBzZXRMb2NhbEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIGNvbnRleHQuc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpXG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlVHJhbnNjcmlwdCwgY29udGV4dF0pXG5cbiAgICAvLyDmlrfplovpgKPmjqUgLSDkv53mjIEgVHJhbnNjcmlwdE1hbmFnZXIg55qE542o56uL5oCnXG4gICAgY29uc3QgZGlzY29ubmVjdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgdHJhbnNjcmlwdE1hbmFnZXIucmVtb3ZlTGlzdGVuZXIoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50LCBoYW5kbGVUcmFuc2NyaXB0KVxuICAgICAgICAgICAgLy8g5rOo5oSP77ya5LiN5ZG85Y+rIHRyYW5zY3JpcHRNYW5hZ2VyLmRpc2Nvbm5lY3TvvIzlm6Dngrrlhbbku5bntYTku7blj6/og73pgoTlnKjkvb/nlKhcbiAgICAgICAgICAgIGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKVxuICAgIH0sIFtoYW5kbGVUcmFuc2NyaXB0XSlcblxuICAgIC8vIOa4heepuumAkOWtl+eovyAtIOS9v+eUqCBDb250ZXh0XG4gICAgY29uc3QgY2xlYXJUcmFuc2NyaXB0cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2NyaXB0RW50cmllcyhbXSlcbiAgICAgICAgc2V0SXNDb21wbGV0ZWQoZmFsc2UpXG4gICAgfSwgW2NvbnRleHRdKVxuXG4gICAgLy8g6Ieq5YuV5o2y5YuV5pWI5p6cXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGNvbnRleHQuYXBwRGF0YS50cmFuc2NyaXB0RW50cmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzY3JvbGxUb0xhdGVzdCgpXG4gICAgICAgIH1cbiAgICB9LCBbY29udGV4dC5hcHBEYXRhLnRyYW5zY3JpcHRFbnRyaWVzLCBzY3JvbGxUb0xhdGVzdF0pXG5cbiAgICAvLyDmuIXnkIbos4fmupBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCwgaGFuZGxlVHJhbnNjcmlwdClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2hhbmRsZVRyYW5zY3JpcHQsIGhhbmRsZVNjcm9sbF0pXG5cbiAgICAvLyDovYnmj5sgQ29udGV4dCDkuK3nmoQgdHJhbnNjcmlwdEVudHJpZXMg54K6IFRyYW5zY3JpcHRNZXNzYWdlIOagvOW8j++8iOWQkeW+jOebuOWuue+8iVxuICAgIGNvbnN0IGNvbXBhdGlibGVUcmFuc2NyaXB0czogVHJhbnNjcmlwdE1lc3NhZ2VbXSA9IGNvbnRleHQuYXBwRGF0YS50cmFuc2NyaXB0RW50cmllcy5tYXAoKGVudHJ5LCBpbmRleCkgPT4gKHtcbiAgICAgICAgdHlwZTogJ3RyYW5zY3JpcHRfc2VnbWVudCcsXG4gICAgICAgIHRleHQ6IGVudHJ5LnRleHQsXG4gICAgICAgIHN0YXJ0X3RpbWU6IDAsXG4gICAgICAgIGVuZF90aW1lOiAwLFxuICAgICAgICBzdGFydF9zZXF1ZW5jZTogaW5kZXgsXG4gICAgICAgIGNvbmZpZGVuY2U6IDEuMCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH0pKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNjcmlwdHM6IGNvbXBhdGlibGVUcmFuc2NyaXB0cyxcbiAgICAgICAgaXNDb25uZWN0ZWQsXG4gICAgICAgIGlzQ29tcGxldGVkLFxuICAgICAgICBlcnJvcjogY29udGV4dC5lcnJvciB8fCBsb2NhbEVycm9yLFxuICAgICAgICBjb25uZWN0LFxuICAgICAgICBkaXNjb25uZWN0LFxuICAgICAgICBjbGVhclRyYW5zY3JpcHRzLFxuICAgICAgICBhdXRvU2Nyb2xsRW5hYmxlZCxcbiAgICAgICAgZW5hYmxlQXV0b1Njcm9sbCxcbiAgICAgICAgZGlzYWJsZUF1dG9TY3JvbGwsXG4gICAgICAgIHNjcm9sbFRvTGF0ZXN0LFxuICAgICAgICBzZXRTY3JvbGxDb250YWluZXIsXG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ0cmFuc2NyaXB0TWFuYWdlciIsInVzZUFwcFN0YXRlQ29udGV4dCIsImlzRmVhdHVyZUVuYWJsZWQiLCJ1c2VUcmFuc2NyaXB0TmV3IiwiY29udGV4dCIsImlzQ29ubmVjdGVkIiwic2V0SXNDb25uZWN0ZWQiLCJpc0NvbXBsZXRlZCIsInNldElzQ29tcGxldGVkIiwibG9jYWxFcnJvciIsInNldExvY2FsRXJyb3IiLCJhdXRvU2Nyb2xsRW5hYmxlZCIsInNldEF1dG9TY3JvbGxFbmFibGVkIiwiY29udGFpbmVyUmVmIiwiY3VycmVudFNlc3Npb25JZFJlZiIsImNvbnNvbGUiLCJsb2ciLCJ1c2VOZXdTdGF0ZU1hbmFnZW1lbnQiLCJ1c2VOZXdUcmFuc2NyaXB0SG9vayIsImNvbnRleHRUcmFuc2NyaXB0Q291bnQiLCJhcHBEYXRhIiwidHJhbnNjcmlwdEVudHJpZXMiLCJsZW5ndGgiLCJoYW5kbGVUcmFuc2NyaXB0IiwidHJhbnNjcmlwdCIsInR5cGUiLCJhbnlNZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JfbWVzc2FnZSIsInNldEVycm9yIiwidGV4dCIsInN0YXJ0VGltZSIsInN0YXJ0X3RpbWUiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwic2Vjb25kcyIsInRpbWVTdHIiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiYWRkVHJhbnNjcmlwdEVudHJ5IiwidGltZSIsInNjcm9sbFRvTGF0ZXN0IiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImhhbmRsZVNjcm9sbCIsImV2ZW50IiwiY29udGFpbmVyIiwidGFyZ2V0IiwiY2xpZW50SGVpZ2h0IiwiZGlzdGFuY2VGcm9tQm90dG9tIiwic2V0U2Nyb2xsQ29udGFpbmVyIiwiZWxlbWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZW5hYmxlQXV0b1Njcm9sbCIsImRpc2FibGVBdXRvU2Nyb2xsIiwiY29ubmVjdCIsInNlc3Npb25JZCIsInJlbW92ZUxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJlcnIiLCJFcnJvciIsIm1lc3NhZ2UiLCJkaXNjb25uZWN0IiwiY2xlYXJUcmFuc2NyaXB0cyIsInNldFRyYW5zY3JpcHRFbnRyaWVzIiwiY29tcGF0aWJsZVRyYW5zY3JpcHRzIiwibWFwIiwiZW50cnkiLCJpbmRleCIsImVuZF90aW1lIiwic3RhcnRfc2VxdWVuY2UiLCJjb25maWRlbmNlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInRyYW5zY3JpcHRzIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-transcript-new.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/use-transcript.ts":
/*!*********************************!*\
  !*** ./hooks/use-transcript.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTranscript: () => (/* binding */ useTranscript)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/transcript-manager */ \"(ssr)/./lib/transcript-manager.ts\");\n/* __next_internal_client_entry_do_not_use__ useTranscript auto */ \n\nfunction useTranscript() {\n    const [transcripts, setTranscripts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isCompleted, setIsCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [autoScrollEnabled, setAutoScrollEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentSessionIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 處理逐字稿接收與合併邏輯\n    const handleTranscript = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[handleTranscript]\": (transcript)=>{\n            console.log('📝 [useTranscript] 收到逐字稿訊息:', {\n                type: transcript.type,\n                text: transcript.text,\n                textLength: transcript.text?.length || 0,\n                start_time: transcript.start_time,\n                end_time: transcript.end_time,\n                confidence: transcript.confidence,\n                sessionId: currentSessionIdRef.current,\n                currentTranscriptCount: transcripts.length,\n                timestamp: new Date().toISOString()\n            });\n            // 處理轉錄完成通知\n            if (transcript.type === 'transcript_complete' || transcript.message === 'transcription_complete') {\n                console.log('✅ [useTranscript] 逐字稿轉錄完成，設定 isCompleted=true');\n                setIsCompleted(true);\n                return;\n            }\n            // 處理轉錄錯誤 (需要類型轉換因為 TranscriptMessage 不包含錯誤類型)\n            const anyMessage = transcript;\n            if (anyMessage.type === 'error' || anyMessage.type === 'transcription_error') {\n                console.error('🚨 [useTranscript] 收到轉錄錯誤:', transcript);\n                const errorMessage = anyMessage.error_message || anyMessage.details || '轉錄過程中發生錯誤';\n                setError(errorMessage);\n                return;\n            }\n            // 只處理逐字稿片段類型的訊息\n            if (transcript.type !== 'transcript_segment') {\n                console.log('⚠️ [useTranscript] 跳過非逐字稿片段訊息:', transcript.type);\n                return;\n            }\n            if (!transcript.text) {\n                console.log('⚠️ [useTranscript] 跳過空文字逐字稿');\n                return;\n            }\n            console.log('🔄 [useTranscript] 開始處理逐字稿片段...');\n            setTranscripts({\n                \"useTranscript.useCallback[handleTranscript]\": (prev)=>{\n                    console.log('📊 [useTranscript] 合併前狀態:', {\n                        existingCount: prev.length,\n                        newSegmentText: transcript.text,\n                        newSegmentTime: transcript.start_time\n                    });\n                    const newTranscripts = mergeSegments(prev, transcript);\n                    console.log('📊 [useTranscript] 合併後狀態:', {\n                        newCount: newTranscripts.length,\n                        countChange: newTranscripts.length - prev.length,\n                        lastSegmentText: newTranscripts[newTranscripts.length - 1]?.text?.substring(0, 50) + '...'\n                    });\n                    console.log(`✅ [useTranscript] 逐字稿更新完成: ${prev.length} → ${newTranscripts.length} 個片段`);\n                    return newTranscripts;\n                }\n            }[\"useTranscript.useCallback[handleTranscript]\"]);\n        }\n    }[\"useTranscript.useCallback[handleTranscript]\"], [\n        transcripts.length\n    ]);\n    // 逐字稿片段合併邏輯 - 相鄰 ≤1 s 合併段落\n    const mergeSegments = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[mergeSegments]\": (existingSegments, newSegment)=>{\n            if (!newSegment.start_time) {\n                // 如果沒有時間戳，直接添加到末尾\n                return [\n                    ...existingSegments,\n                    newSegment\n                ];\n            }\n            const mergeThreshold = 1.0 // 1秒內的片段可以合併\n            ;\n            // 尋找可以合併的相鄰片段\n            const lastSegmentIndex = existingSegments.length - 1;\n            const lastSegment = existingSegments[lastSegmentIndex];\n            if (lastSegment && lastSegment.end_time && Math.abs(newSegment.start_time - lastSegment.end_time) <= mergeThreshold) {\n                // 合併片段\n                const mergedSegment = {\n                    ...lastSegment,\n                    text: (lastSegment.text || '') + ' ' + (newSegment.text || ''),\n                    end_time: newSegment.end_time || lastSegment.end_time,\n                    end_sequence: newSegment.end_sequence || lastSegment.end_sequence\n                };\n                return [\n                    ...existingSegments.slice(0, lastSegmentIndex),\n                    mergedSegment\n                ];\n            } else {\n                // 不需要合併，直接添加\n                return [\n                    ...existingSegments,\n                    newSegment\n                ];\n            }\n        }\n    }[\"useTranscript.useCallback[mergeSegments]\"], []);\n    // 自動捲動功能\n    const scrollToLatest = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[scrollToLatest]\": ()=>{\n            if (containerRef.current && autoScrollEnabled) {\n                containerRef.current.scrollTop = containerRef.current.scrollHeight;\n            }\n        }\n    }[\"useTranscript.useCallback[scrollToLatest]\"], [\n        autoScrollEnabled\n    ]);\n    // 檢測使用者滾動 - 離底部 >60px 時禁用自動捲動\n    const handleScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[handleScroll]\": (event)=>{\n            const container = event.target;\n            if (!container) return;\n            const { scrollTop, scrollHeight, clientHeight } = container;\n            const distanceFromBottom = scrollHeight - scrollTop - clientHeight;\n            if (distanceFromBottom > 60) {\n                setAutoScrollEnabled(false);\n            } else if (distanceFromBottom <= 10) {\n                setAutoScrollEnabled(true);\n            }\n        }\n    }[\"useTranscript.useCallback[handleScroll]\"], []);\n    // 設定自動捲動容器\n    const setScrollContainer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[setScrollContainer]\": (element)=>{\n            if (containerRef.current) {\n                containerRef.current.removeEventListener('scroll', handleScroll);\n            }\n            containerRef.current = element;\n            if (element) {\n                element.addEventListener('scroll', handleScroll);\n            }\n        }\n    }[\"useTranscript.useCallback[setScrollContainer]\"], [\n        handleScroll\n    ]);\n    // 啟用自動捲動\n    const enableAutoScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[enableAutoScroll]\": ()=>{\n            setAutoScrollEnabled(true);\n            scrollToLatest();\n        }\n    }[\"useTranscript.useCallback[enableAutoScroll]\"], [\n        scrollToLatest\n    ]);\n    // 禁用自動捲動\n    const disableAutoScroll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[disableAutoScroll]\": ()=>{\n            setAutoScrollEnabled(false);\n        }\n    }[\"useTranscript.useCallback[disableAutoScroll]\"], []);\n    // 連接 TranscriptManager\n    const connect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[connect]\": async (sessionId)=>{\n            try {\n                setError(null);\n                setIsCompleted(false);\n                // 移除舊的監聽器\n                if (currentSessionIdRef.current) {\n                    _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                }\n                // 連接到新的 session\n                await _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.connect(sessionId);\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.addListener(sessionId, handleTranscript);\n                currentSessionIdRef.current = sessionId;\n                setIsConnected(_lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.isConnected(sessionId));\n                console.log('✅ use-transcript 連接成功，Session ID:', sessionId);\n            } catch (err) {\n                const errorMessage = err instanceof Error ? err.message : '連接逐字稿服務失敗';\n                setError(errorMessage);\n                setIsConnected(false);\n                console.error('❌ use-transcript 連接失敗:', err);\n            }\n        }\n    }[\"useTranscript.useCallback[connect]\"], [\n        handleTranscript\n    ]);\n    // 斷開連接\n    const disconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[disconnect]\": ()=>{\n            if (currentSessionIdRef.current) {\n                _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                // 注意：不呼叫 transcriptManager.disconnect，因為其他組件可能還在使用\n                currentSessionIdRef.current = null;\n            }\n            setIsConnected(false);\n            console.log('🔌 use-transcript 斷開連接');\n        }\n    }[\"useTranscript.useCallback[disconnect]\"], [\n        handleTranscript\n    ]);\n    // 清空逐字稿\n    const clearTranscripts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTranscript.useCallback[clearTranscripts]\": ()=>{\n            setTranscripts([]);\n            setIsCompleted(false);\n            console.log('🔄 use-transcript 逐字稿已清除');\n        }\n    }[\"useTranscript.useCallback[clearTranscripts]\"], []);\n    // 自動捲動效果\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTranscript.useEffect\": ()=>{\n            if (transcripts.length > 0) {\n                scrollToLatest();\n            }\n        }\n    }[\"useTranscript.useEffect\"], [\n        transcripts,\n        scrollToLatest\n    ]);\n    // 清理資源\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTranscript.useEffect\": ()=>{\n            return ({\n                \"useTranscript.useEffect\": ()=>{\n                    if (currentSessionIdRef.current) {\n                        _lib_transcript_manager__WEBPACK_IMPORTED_MODULE_1__.transcriptManager.removeListener(currentSessionIdRef.current, handleTranscript);\n                    }\n                    if (containerRef.current) {\n                        containerRef.current.removeEventListener('scroll', handleScroll);\n                    }\n                }\n            })[\"useTranscript.useEffect\"];\n        }\n    }[\"useTranscript.useEffect\"], [\n        handleTranscript,\n        handleScroll\n    ]);\n    return {\n        transcripts,\n        isConnected,\n        isCompleted,\n        error,\n        connect,\n        disconnect,\n        clearTranscripts,\n        autoScrollEnabled,\n        enableAutoScroll,\n        disableAutoScroll,\n        scrollToLatest,\n        setScrollContainer\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixhQUFhYyxPQUFPLEVBQUU7d0JBQ3RCZCxhQUFhYyxPQUFPLENBQUN5QyxtQkFBbUIsQ0FBQyxVQUFVUjtvQkFDdkQ7Z0JBQ0o7O1FBQ0o7a0NBQUc7UUFBQzdDO1FBQWtCNkM7S0FBYTtJQUVuQyxPQUFPO1FBQ0h6RDtRQUNBRTtRQUNBRTtRQUNBRTtRQUNBK0Q7UUFDQUs7UUFDQUM7UUFDQW5FO1FBQ0EyRDtRQUNBQztRQUNBZDtRQUNBUztJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2hvb2tzL3VzZS10cmFuc2NyaXB0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHRyYW5zY3JpcHRNYW5hZ2VyLCBUcmFuc2NyaXB0TWVzc2FnZSB9IGZyb20gJy4uL2xpYi90cmFuc2NyaXB0LW1hbmFnZXInXG5cbmludGVyZmFjZSBVc2VUcmFuc2NyaXB0UmV0dXJuIHtcbiAgICB0cmFuc2NyaXB0czogVHJhbnNjcmlwdE1lc3NhZ2VbXVxuICAgIGlzQ29ubmVjdGVkOiBib29sZWFuXG4gICAgaXNDb21wbGV0ZWQ6IGJvb2xlYW5cbiAgICBlcnJvcjogc3RyaW5nIHwgbnVsbFxuICAgIGNvbm5lY3Q6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGRpc2Nvbm5lY3Q6ICgpID0+IHZvaWRcbiAgICBjbGVhclRyYW5zY3JpcHRzOiAoKSA9PiB2b2lkXG4gICAgLy8g6Ieq5YuV5o2y5YuV5Yqf6IO9XG4gICAgYXV0b1Njcm9sbEVuYWJsZWQ6IGJvb2xlYW5cbiAgICBlbmFibGVBdXRvU2Nyb2xsOiAoKSA9PiB2b2lkXG4gICAgZGlzYWJsZUF1dG9TY3JvbGw6ICgpID0+IHZvaWRcbiAgICBzY3JvbGxUb0xhdGVzdDogKCkgPT4gdm9pZFxuICAgIHNldFNjcm9sbENvbnRhaW5lcjogKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCkgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVHJhbnNjcmlwdCgpOiBVc2VUcmFuc2NyaXB0UmV0dXJuIHtcbiAgICBjb25zdCBbdHJhbnNjcmlwdHMsIHNldFRyYW5zY3JpcHRzXSA9IHVzZVN0YXRlPFRyYW5zY3JpcHRNZXNzYWdlW10+KFtdKVxuICAgIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gICAgY29uc3QgW2lzQ29tcGxldGVkLCBzZXRJc0NvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgW2F1dG9TY3JvbGxFbmFibGVkLCBzZXRBdXRvU2Nyb2xsRW5hYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKVxuXG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxFbGVtZW50IHwgbnVsbD4obnVsbClcbiAgICBjb25zdCBjdXJyZW50U2Vzc2lvbklkUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgICAvLyDomZXnkIbpgJDlrZfnqL/mjqXmlLboiIflkIjkvbXpgo/ovK9cbiAgICBjb25zdCBoYW5kbGVUcmFuc2NyaXB0ID0gdXNlQ2FsbGJhY2soKHRyYW5zY3JpcHQ6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFt1c2VUcmFuc2NyaXB0XSDmlLbliLDpgJDlrZfnqL/oqIrmga86Jywge1xuICAgICAgICAgICAgdHlwZTogdHJhbnNjcmlwdC50eXBlLFxuICAgICAgICAgICAgdGV4dDogdHJhbnNjcmlwdC50ZXh0LFxuICAgICAgICAgICAgdGV4dExlbmd0aDogdHJhbnNjcmlwdC50ZXh0Py5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWU6IHRyYW5zY3JpcHQuc3RhcnRfdGltZSxcbiAgICAgICAgICAgIGVuZF90aW1lOiB0cmFuc2NyaXB0LmVuZF90aW1lLFxuICAgICAgICAgICAgY29uZmlkZW5jZTogdHJhbnNjcmlwdC5jb25maWRlbmNlLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjdXJyZW50VHJhbnNjcmlwdENvdW50OiB0cmFuc2NyaXB0cy5sZW5ndGgsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOiZleeQhui9iemMhOWujOaIkOmAmuefpVxuICAgICAgICBpZiAodHJhbnNjcmlwdC50eXBlID09PSAndHJhbnNjcmlwdF9jb21wbGV0ZScgfHwgdHJhbnNjcmlwdC5tZXNzYWdlID09PSAndHJhbnNjcmlwdGlvbl9jb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW3VzZVRyYW5zY3JpcHRdIOmAkOWtl+eov+i9iemMhOWujOaIkO+8jOioreWumiBpc0NvbXBsZXRlZD10cnVlJylcbiAgICAgICAgICAgIHNldElzQ29tcGxldGVkKHRydWUpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOiZleeQhui9iemMhOmMr+iqpCAo6ZyA6KaB6aGe5Z6L6L2J5o+b5Zug54K6IFRyYW5zY3JpcHRNZXNzYWdlIOS4jeWMheWQq+mMr+iqpOmhnuWeiylcbiAgICAgICAgY29uc3QgYW55TWVzc2FnZSA9IHRyYW5zY3JpcHQgYXMgYW55XG4gICAgICAgIGlmIChhbnlNZXNzYWdlLnR5cGUgPT09ICdlcnJvcicgfHwgYW55TWVzc2FnZS50eXBlID09PSAndHJhbnNjcmlwdGlvbl9lcnJvcicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggW3VzZVRyYW5zY3JpcHRdIOaUtuWIsOi9iemMhOmMr+iqpDonLCB0cmFuc2NyaXB0KVxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYW55TWVzc2FnZS5lcnJvcl9tZXNzYWdlIHx8IGFueU1lc3NhZ2UuZGV0YWlscyB8fCAn6L2J6YyE6YGO56iL5Lit55m855Sf6Yyv6KqkJ1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyDlj6romZXnkIbpgJDlrZfnqL/niYfmrrXpoZ7lnovnmoToqIrmga9cbiAgICAgICAgaWYgKHRyYW5zY3JpcHQudHlwZSAhPT0gJ3RyYW5zY3JpcHRfc2VnbWVudCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gW3VzZVRyYW5zY3JpcHRdIOi3s+mBjumdnumAkOWtl+eov+eJh+auteioiuaBrzonLCB0cmFuc2NyaXB0LnR5cGUpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdHJhbnNjcmlwdC50ZXh0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIFt1c2VUcmFuc2NyaXB0XSDot7PpgY7nqbrmloflrZfpgJDlrZfnqL8nKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbdXNlVHJhbnNjcmlwdF0g6ZaL5aeL6JmV55CG6YCQ5a2X56i/54mH5q61Li4uJylcblxuICAgICAgICBzZXRUcmFuc2NyaXB0cygocHJldikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW3VzZVRyYW5zY3JpcHRdIOWQiOS9teWJjeeLgOaFizonLCB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb3VudDogcHJldi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbmV3U2VnbWVudFRleHQ6IHRyYW5zY3JpcHQudGV4dCxcbiAgICAgICAgICAgICAgICBuZXdTZWdtZW50VGltZTogdHJhbnNjcmlwdC5zdGFydF90aW1lXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCBuZXdUcmFuc2NyaXB0cyA9IG1lcmdlU2VnbWVudHMocHJldiwgdHJhbnNjcmlwdClcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW3VzZVRyYW5zY3JpcHRdIOWQiOS9teW+jOeLgOaFizonLCB7XG4gICAgICAgICAgICAgICAgbmV3Q291bnQ6IG5ld1RyYW5zY3JpcHRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBjb3VudENoYW5nZTogbmV3VHJhbnNjcmlwdHMubGVuZ3RoIC0gcHJldi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRUZXh0OiBuZXdUcmFuc2NyaXB0c1tuZXdUcmFuc2NyaXB0cy5sZW5ndGggLSAxXT8udGV4dD8uc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFt1c2VUcmFuc2NyaXB0XSDpgJDlrZfnqL/mm7TmlrDlrozmiJA6ICR7cHJldi5sZW5ndGh9IOKGkiAke25ld1RyYW5zY3JpcHRzLmxlbmd0aH0g5YCL54mH5q61YClcbiAgICAgICAgICAgIHJldHVybiBuZXdUcmFuc2NyaXB0c1xuICAgICAgICB9KVxuICAgIH0sIFt0cmFuc2NyaXB0cy5sZW5ndGhdKVxuXG4gICAgLy8g6YCQ5a2X56i/54mH5q615ZCI5L216YKP6LyvIC0g55u46YSwIOKJpDEgcyDlkIjkvbXmrrXokL1cbiAgICBjb25zdCBtZXJnZVNlZ21lbnRzID0gdXNlQ2FsbGJhY2soKFxuICAgICAgICBleGlzdGluZ1NlZ21lbnRzOiBUcmFuc2NyaXB0TWVzc2FnZVtdLFxuICAgICAgICBuZXdTZWdtZW50OiBUcmFuc2NyaXB0TWVzc2FnZVxuICAgICk6IFRyYW5zY3JpcHRNZXNzYWdlW10gPT4ge1xuICAgICAgICBpZiAoIW5ld1NlZ21lbnQuc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgLy8g5aaC5p6c5rKS5pyJ5pmC6ZaT5oiz77yM55u05o6l5re75Yqg5Yiw5pyr5bC+XG4gICAgICAgICAgICByZXR1cm4gWy4uLmV4aXN0aW5nU2VnbWVudHMsIG5ld1NlZ21lbnRdXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtZXJnZVRocmVzaG9sZCA9IDEuMCAvLyAx56eS5YWn55qE54mH5q615Y+v5Lul5ZCI5L21XG5cbiAgICAgICAgLy8g5bCL5om+5Y+v5Lul5ZCI5L2155qE55u46YSw54mH5q61XG4gICAgICAgIGNvbnN0IGxhc3RTZWdtZW50SW5kZXggPSBleGlzdGluZ1NlZ21lbnRzLmxlbmd0aCAtIDFcbiAgICAgICAgY29uc3QgbGFzdFNlZ21lbnQgPSBleGlzdGluZ1NlZ21lbnRzW2xhc3RTZWdtZW50SW5kZXhdXG5cbiAgICAgICAgaWYgKGxhc3RTZWdtZW50ICYmXG4gICAgICAgICAgICBsYXN0U2VnbWVudC5lbmRfdGltZSAmJlxuICAgICAgICAgICAgTWF0aC5hYnMobmV3U2VnbWVudC5zdGFydF90aW1lIC0gbGFzdFNlZ21lbnQuZW5kX3RpbWUpIDw9IG1lcmdlVGhyZXNob2xkKSB7XG5cbiAgICAgICAgICAgIC8vIOWQiOS9teeJh+autVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkU2VnbWVudDogVHJhbnNjcmlwdE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgLi4ubGFzdFNlZ21lbnQsXG4gICAgICAgICAgICAgICAgdGV4dDogKGxhc3RTZWdtZW50LnRleHQgfHwgJycpICsgJyAnICsgKG5ld1NlZ21lbnQudGV4dCB8fCAnJyksXG4gICAgICAgICAgICAgICAgZW5kX3RpbWU6IG5ld1NlZ21lbnQuZW5kX3RpbWUgfHwgbGFzdFNlZ21lbnQuZW5kX3RpbWUsXG4gICAgICAgICAgICAgICAgZW5kX3NlcXVlbmNlOiBuZXdTZWdtZW50LmVuZF9zZXF1ZW5jZSB8fCBsYXN0U2VnbWVudC5lbmRfc2VxdWVuY2UsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLi4uZXhpc3RpbmdTZWdtZW50cy5zbGljZSgwLCBsYXN0U2VnbWVudEluZGV4KSxcbiAgICAgICAgICAgICAgICBtZXJnZWRTZWdtZW50XG4gICAgICAgICAgICBdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDkuI3pnIDopoHlkIjkvbXvvIznm7TmjqXmt7vliqBcbiAgICAgICAgICAgIHJldHVybiBbLi4uZXhpc3RpbmdTZWdtZW50cywgbmV3U2VnbWVudF1cbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Ieq5YuV5o2y5YuV5Yqf6IO9XG4gICAgY29uc3Qgc2Nyb2xsVG9MYXRlc3QgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCAmJiBhdXRvU2Nyb2xsRW5hYmxlZCkge1xuICAgICAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0XG4gICAgICAgIH1cbiAgICB9LCBbYXV0b1Njcm9sbEVuYWJsZWRdKVxuXG4gICAgLy8g5qqi5ris5L2/55So6ICF5ru+5YuVIC0g6Zui5bqV6YOoID42MHB4IOaZguemgeeUqOiHquWLleaNsuWLlVxuICAgIGNvbnN0IGhhbmRsZVNjcm9sbCA9IHVzZUNhbGxiYWNrKChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm5cblxuICAgICAgICBjb25zdCB7IHNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQgfSA9IGNvbnRhaW5lclxuICAgICAgICBjb25zdCBkaXN0YW5jZUZyb21Cb3R0b20gPSBzY3JvbGxIZWlnaHQgLSBzY3JvbGxUb3AgLSBjbGllbnRIZWlnaHRcblxuICAgICAgICBpZiAoZGlzdGFuY2VGcm9tQm90dG9tID4gNjApIHtcbiAgICAgICAgICAgIHNldEF1dG9TY3JvbGxFbmFibGVkKGZhbHNlKVxuICAgICAgICB9IGVsc2UgaWYgKGRpc3RhbmNlRnJvbUJvdHRvbSA8PSAxMCkge1xuICAgICAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQodHJ1ZSlcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Kit5a6a6Ieq5YuV5o2y5YuV5a655ZmoXG4gICAgY29uc3Qgc2V0U2Nyb2xsQ29udGFpbmVyID0gdXNlQ2FsbGJhY2soKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCkgPT4ge1xuICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50ID0gZWxlbWVudFxuXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbClcbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVTY3JvbGxdKVxuXG4gICAgLy8g5ZWf55So6Ieq5YuV5o2y5YuVXG4gICAgY29uc3QgZW5hYmxlQXV0b1Njcm9sbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQodHJ1ZSlcbiAgICAgICAgc2Nyb2xsVG9MYXRlc3QoKVxuICAgIH0sIFtzY3JvbGxUb0xhdGVzdF0pXG5cbiAgICAvLyDnpoHnlKjoh6rli5XmjbLli5VcbiAgICBjb25zdCBkaXNhYmxlQXV0b1Njcm9sbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQoZmFsc2UpXG4gICAgfSwgW10pXG5cbiAgICAvLyDpgKPmjqUgVHJhbnNjcmlwdE1hbmFnZXJcbiAgICBjb25zdCBjb25uZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKVxuICAgICAgICAgICAgc2V0SXNDb21wbGV0ZWQoZmFsc2UpXG5cbiAgICAgICAgICAgIC8vIOenu+mZpOiIiueahOebo+iBveWZqFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKGN1cnJlbnRTZXNzaW9uSWRSZWYuY3VycmVudCwgaGFuZGxlVHJhbnNjcmlwdClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g6YCj5o6l5Yiw5paw55qEIHNlc3Npb25cbiAgICAgICAgICAgIGF3YWl0IHRyYW5zY3JpcHRNYW5hZ2VyLmNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgICAgICAgICAgdHJhbnNjcmlwdE1hbmFnZXIuYWRkTGlzdGVuZXIoc2Vzc2lvbklkLCBoYW5kbGVUcmFuc2NyaXB0KVxuXG4gICAgICAgICAgICBjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQgPSBzZXNzaW9uSWRcbiAgICAgICAgICAgIHNldElzQ29ubmVjdGVkKHRyYW5zY3JpcHRNYW5hZ2VyLmlzQ29ubmVjdGVkKHNlc3Npb25JZCkpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgdXNlLXRyYW5zY3JpcHQg6YCj5o6l5oiQ5Yqf77yMU2Vzc2lvbiBJRDonLCBzZXNzaW9uSWQpXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+mAo+aOpemAkOWtl+eov+acjeWLmeWkseaVlydcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIHVzZS10cmFuc2NyaXB0IOmAo+aOpeWkseaVlzonLCBlcnIpXG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlVHJhbnNjcmlwdF0pXG5cbiAgICAvLyDmlrfplovpgKPmjqVcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICB0cmFuc2NyaXB0TWFuYWdlci5yZW1vdmVMaXN0ZW5lcihjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsIGhhbmRsZVRyYW5zY3JpcHQpXG4gICAgICAgICAgICAvLyDms6jmhI/vvJrkuI3lkbzlj6sgdHJhbnNjcmlwdE1hbmFnZXIuZGlzY29ubmVjdO+8jOWboOeCuuWFtuS7lue1hOS7tuWPr+iDvemChOWcqOS9v+eUqFxuICAgICAgICAgICAgY3VycmVudFNlc3Npb25JZFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SMIHVzZS10cmFuc2NyaXB0IOaWt+mWi+mAo+aOpScpXG4gICAgfSwgW2hhbmRsZVRyYW5zY3JpcHRdKVxuXG4gICAgLy8g5riF56m66YCQ5a2X56i/XG4gICAgY29uc3QgY2xlYXJUcmFuc2NyaXB0cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0VHJhbnNjcmlwdHMoW10pXG4gICAgICAgIHNldElzQ29tcGxldGVkKGZhbHNlKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCB1c2UtdHJhbnNjcmlwdCDpgJDlrZfnqL/lt7LmuIXpmaQnKVxuICAgIH0sIFtdKVxuXG4gICAgLy8g6Ieq5YuV5o2y5YuV5pWI5p6cXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHRyYW5zY3JpcHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNjcm9sbFRvTGF0ZXN0KClcbiAgICAgICAgfVxuICAgIH0sIFt0cmFuc2NyaXB0cywgc2Nyb2xsVG9MYXRlc3RdKVxuXG4gICAgLy8g5riF55CG6LOH5rqQXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0TWFuYWdlci5yZW1vdmVMaXN0ZW5lcihjdXJyZW50U2Vzc2lvbklkUmVmLmN1cnJlbnQsIGhhbmRsZVRyYW5zY3JpcHQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVUcmFuc2NyaXB0LCBoYW5kbGVTY3JvbGxdKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNjcmlwdHMsXG4gICAgICAgIGlzQ29ubmVjdGVkLFxuICAgICAgICBpc0NvbXBsZXRlZCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGNvbm5lY3QsXG4gICAgICAgIGRpc2Nvbm5lY3QsXG4gICAgICAgIGNsZWFyVHJhbnNjcmlwdHMsXG4gICAgICAgIGF1dG9TY3JvbGxFbmFibGVkLFxuICAgICAgICBlbmFibGVBdXRvU2Nyb2xsLFxuICAgICAgICBkaXNhYmxlQXV0b1Njcm9sbCxcbiAgICAgICAgc2Nyb2xsVG9MYXRlc3QsXG4gICAgICAgIHNldFNjcm9sbENvbnRhaW5lcixcbiAgICB9XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZUVmZmVjdCIsInRyYW5zY3JpcHRNYW5hZ2VyIiwidXNlVHJhbnNjcmlwdCIsInRyYW5zY3JpcHRzIiwic2V0VHJhbnNjcmlwdHMiLCJpc0Nvbm5lY3RlZCIsInNldElzQ29ubmVjdGVkIiwiaXNDb21wbGV0ZWQiLCJzZXRJc0NvbXBsZXRlZCIsImVycm9yIiwic2V0RXJyb3IiLCJhdXRvU2Nyb2xsRW5hYmxlZCIsInNldEF1dG9TY3JvbGxFbmFibGVkIiwiY29udGFpbmVyUmVmIiwiY3VycmVudFNlc3Npb25JZFJlZiIsImhhbmRsZVRyYW5zY3JpcHQiLCJ0cmFuc2NyaXB0IiwiY29uc29sZSIsImxvZyIsInR5cGUiLCJ0ZXh0IiwidGV4dExlbmd0aCIsImxlbmd0aCIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsImNvbmZpZGVuY2UiLCJzZXNzaW9uSWQiLCJjdXJyZW50IiwiY3VycmVudFRyYW5zY3JpcHRDb3VudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1lc3NhZ2UiLCJhbnlNZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JfbWVzc2FnZSIsImRldGFpbHMiLCJwcmV2IiwiZXhpc3RpbmdDb3VudCIsIm5ld1NlZ21lbnRUZXh0IiwibmV3U2VnbWVudFRpbWUiLCJuZXdUcmFuc2NyaXB0cyIsIm1lcmdlU2VnbWVudHMiLCJuZXdDb3VudCIsImNvdW50Q2hhbmdlIiwibGFzdFNlZ21lbnRUZXh0Iiwic3Vic3RyaW5nIiwiZXhpc3RpbmdTZWdtZW50cyIsIm5ld1NlZ21lbnQiLCJtZXJnZVRocmVzaG9sZCIsImxhc3RTZWdtZW50SW5kZXgiLCJsYXN0U2VnbWVudCIsIk1hdGgiLCJhYnMiLCJtZXJnZWRTZWdtZW50IiwiZW5kX3NlcXVlbmNlIiwic2xpY2UiLCJzY3JvbGxUb0xhdGVzdCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImhhbmRsZVNjcm9sbCIsImV2ZW50IiwiY29udGFpbmVyIiwidGFyZ2V0IiwiY2xpZW50SGVpZ2h0IiwiZGlzdGFuY2VGcm9tQm90dG9tIiwic2V0U2Nyb2xsQ29udGFpbmVyIiwiZWxlbWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZW5hYmxlQXV0b1Njcm9sbCIsImRpc2FibGVBdXRvU2Nyb2xsIiwiY29ubmVjdCIsInJlbW92ZUxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJlcnIiLCJFcnJvciIsImRpc2Nvbm5lY3QiLCJjbGVhclRyYW5zY3JpcHRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-transcript.ts\n");

/***/ }),

/***/ "(ssr)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_TIMEOUTS: () => (/* binding */ API_TIMEOUTS),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   exportAPI: () => (/* binding */ exportAPI),\n/* harmony export */   getWebSocketURL: () => (/* binding */ getWebSocketURL),\n/* harmony export */   isRetriableError: () => (/* binding */ isRetriableError),\n/* harmony export */   notesAPI: () => (/* binding */ notesAPI),\n/* harmony export */   sessionAPI: () => (/* binding */ sessionAPI),\n/* harmony export */   withRetry: () => (/* binding */ withRetry)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js\");\n\n// API 基礎配置 - 使用環境變數\nconst API_BASE_URL = \"http://localhost:8000\" || 0;\n// 差異化超時配置\nconst API_TIMEOUTS = {\n    session: 15000,\n    notes: 8000,\n    export: 30000,\n    default: 10000 // 其他操作保持現有設定\n};\n// 錯誤分類：判斷是否可重試\nconst isRetriableError = (error)=>{\n    // 網路錯誤（連接失敗、DNS 失敗等）\n    if (error.code === 'ERR_NETWORK' || error.code === 'ECONNABORTED') {\n        return true;\n    }\n    // 超時錯誤\n    if (error.code === 'ECONNRESET' || error.message.includes('timeout')) {\n        return true;\n    }\n    // 伺服器錯誤（5xx）\n    if (error.response?.status && error.response.status >= 500) {\n        return true;\n    }\n    // 特定的 4xx 錯誤（速率限制）\n    if (error.response?.status === 429) {\n        return true;\n    }\n    return false;\n};\nconst DEFAULT_RETRY_CONFIG = {\n    maxRetries: 3,\n    baseDelay: 1000,\n    maxDelay: 10000,\n    backoffFactor: 2 // 指數退避因子\n};\n// 指數退避算法\nconst calculateDelay = (attempt, config)=>{\n    const delay = config.baseDelay * Math.pow(config.backoffFactor, attempt - 1);\n    return Math.min(delay, config.maxDelay);\n};\n// 建立專用的 API 客戶端\nconst createApiClient = (timeoutMs)=>{\n    return axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n        baseURL: API_BASE_URL,\n        timeout: timeoutMs,\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n};\n// 不同類型的 API 客戶端\nconst sessionClient = createApiClient(API_TIMEOUTS.session);\nconst notesClient = createApiClient(API_TIMEOUTS.notes);\nconst exportClient = createApiClient(API_TIMEOUTS.export);\nconst defaultClient = createApiClient(API_TIMEOUTS.default);\n// 通用重試包裝器\nasync function withRetry(operation, context, config = {}) {\n    const retryConfig = {\n        ...DEFAULT_RETRY_CONFIG,\n        ...config\n    };\n    for(let attempt = 1; attempt <= retryConfig.maxRetries; attempt++){\n        try {\n            const result = await operation();\n            if (attempt > 1) {\n                console.log(`✅ [API重試] ${context} 重試成功 (第 ${attempt} 次嘗試)`);\n            }\n            return result;\n        } catch (error) {\n            const isLastAttempt = attempt === retryConfig.maxRetries;\n            if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error)) {\n                // 不可重試的錯誤，立即失敗\n                if (!isRetriableError(error)) {\n                    console.log(`❌ [API重試] ${context} 遇到不可重試錯誤:`, {\n                        status: error.response?.status,\n                        code: error.code,\n                        message: error.message\n                    });\n                    throw error;\n                }\n                // 最後一次嘗試失敗\n                if (isLastAttempt) {\n                    console.error(`❌ [API重試] ${context} 重試失敗，已達最大重試次數 (${retryConfig.maxRetries})`);\n                    throw error;\n                }\n                // 計算延遲時間\n                const delay = calculateDelay(attempt, retryConfig);\n                console.warn(`⚠️ [API重試] ${context} 第 ${attempt} 次嘗試失敗，${delay}ms 後重試...`, {\n                    status: error.response?.status,\n                    code: error.code,\n                    attempt: `${attempt}/${retryConfig.maxRetries}`,\n                    nextDelay: delay\n                });\n                // 等待後重試\n                await new Promise((resolve)=>setTimeout(resolve, delay));\n            } else {\n                // 非 Axios 錯誤，直接拋出\n                throw error;\n            }\n        }\n    }\n    // 這裡不應該被執行到\n    throw new Error(`${context} 重試邏輯異常`);\n}\n// 統一的回應攔截器設置\nconst setupInterceptors = (client, clientName)=>{\n    client.interceptors.response.use({\n        \"setupInterceptors.use\": (response)=>{\n            console.log(`📡 [${clientName}] API 請求成功:`, {\n                method: response.config.method?.toUpperCase(),\n                url: response.config.url,\n                status: response.status,\n                duration: response.headers['x-response-time'] || 'unknown'\n            });\n            return response;\n        }\n    }[\"setupInterceptors.use\"], {\n        \"setupInterceptors.use\": (error)=>{\n            // 不顯示預期的 404 錯誤（例如：沒有活躍會話）\n            const isExpected404 = error.response?.status === 404 && error.config?.url?.includes('/api/session/active');\n            if (!isExpected404) {\n                console.error(`❌ [${clientName}] API 錯誤:`, {\n                    method: error.config?.method?.toUpperCase(),\n                    url: error.config?.url,\n                    status: error.response?.status,\n                    code: error.code,\n                    message: error.message,\n                    isRetriable: isRetriableError(error)\n                });\n            }\n            return Promise.reject(error);\n        }\n    }[\"setupInterceptors.use\"]);\n};\n// 設置所有客戶端的攔截器\nsetupInterceptors(sessionClient, 'Session');\nsetupInterceptors(notesClient, 'Notes');\nsetupInterceptors(exportClient, 'Export');\nsetupInterceptors(defaultClient, 'Default');\n// Session API - 使用會話專用客戶端和重試機制\nconst sessionAPI = {\n    // 建立新會話\n    async createSession (data) {\n        return withRetry(async ()=>{\n            const response = await sessionClient.post('/api/session', data);\n            return response.data;\n        }, `建立會話 (${data.type})`, {\n            maxRetries: 2\n        } // 會話建立重試次數較少，避免重複建立\n        );\n    },\n    // 獲取活躍會話 - 增強重試機制\n    async getActiveSession () {\n        return withRetry(async ()=>{\n            try {\n                const response = await sessionClient.get('/api/session/active');\n                return response.data;\n            } catch (error) {\n                // 如果沒有活躍會話，返回 null 而不是拋出錯誤\n                if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error) && error.response?.status === 404) {\n                    return null;\n                }\n                throw error;\n            }\n        }, '檢查活躍會話', {\n            maxRetries: 3,\n            baseDelay: 500\n        } // 更頻繁的重試，基礎延遲較短\n        );\n    },\n    // 完成會話\n    async finishSession (sessionId) {\n        return withRetry(async ()=>{\n            await sessionClient.patch(`/api/session/${sessionId}/finish`);\n        }, `完成會話 (${sessionId})`, {\n            maxRetries: 2\n        });\n    },\n    // 升級會話至錄音模式\n    async upgradeToRecording (sessionId) {\n        return withRetry(async ()=>{\n            const response = await sessionClient.patch(`/api/session/${sessionId}/upgrade`);\n            return response.data;\n        }, `升級會話 (${sessionId})`, {\n            maxRetries: 2\n        });\n    },\n    // 刪除會話及其所有相關數據\n    async deleteSession (sessionId) {\n        return withRetry(async ()=>{\n            const response = await sessionClient.delete(`/api/session/${sessionId}`);\n            return response.data;\n        }, `刪除會話 (${sessionId})`, {\n            maxRetries: 2\n        });\n    }\n};\n// Notes API - 使用筆記專用客戶端和重試機制\nconst notesAPI = {\n    // 更新筆記內容\n    async updateNote (sessionId, data) {\n        return withRetry(async ()=>{\n            const response = await notesClient.put(`/api/notes/${sessionId}`, data);\n            return response.data;\n        }, `更新筆記 (${sessionId})`, {\n            maxRetries: 3,\n            baseDelay: 500\n        } // 筆記更新重試較積極\n        );\n    },\n    // 獲取筆記內容\n    async getNote (sessionId) {\n        return withRetry(async ()=>{\n            const response = await notesClient.get(`/api/notes/${sessionId}`);\n            return response.data;\n        }, `獲取筆記 (${sessionId})`, {\n            maxRetries: 3,\n            baseDelay: 500\n        });\n    }\n};\n// Export API - 使用匯出專用客戶端\nconst exportAPI = {\n    // 匯出會話資料\n    async exportSession (sessionId, type = 'zip') {\n        return withRetry(async ()=>{\n            const response = await exportClient.get(`/api/export/${sessionId}`, {\n                params: {\n                    type\n                },\n                responseType: 'blob'\n            });\n            return response.data;\n        }, `匯出會話 (${sessionId})`, {\n            maxRetries: 2,\n            baseDelay: 2000\n        } // 匯出重試延遲較長\n        );\n    }\n};\n// WebSocket URL 建構 - 使用環境變數\nconst getWebSocketURL = (path)=>{\n    const wsBaseURL = \"ws://localhost:8000\" || 0;\n    return `${wsBaseURL}${path}`;\n};\n// 匯出重試功能供其他模組使用\n\n// 保持向後兼容性\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (defaultClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQjtBQUNvQztBQUVwRCxVQUFVO0FBQ1YsaUVBQWVsRCxhQUFhQSxFQUFBIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcywgeyBBeGlvc1Jlc3BvbnNlLCBBeGlvc0Vycm9yIH0gZnJvbSAnYXhpb3MnXG5cbi8vIEFQSSDln7rnpI7phY3nva4gLSDkvb/nlKjnkrDlooPorormlbhcbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCdcblxuLy8g5beu55Ww5YyW6LaF5pmC6YWN572uXG5jb25zdCBBUElfVElNRU9VVFMgPSB7XG4gIHNlc3Npb246IDE1MDAwLCAgICAvLyDmnIPoqbHmk43kvZzpnIDopoHmm7TlpJrmmYLplpPvvIjlu7rnq4vjgIHljYfntJrnrYnvvIlcbiAgbm90ZXM6IDgwMDAsICAgICAgIC8vIOethuiomOaTjeS9nOebuOWwjei8g+W/q1xuICBleHBvcnQ6IDMwMDAwLCAgICAgLy8g5Yyv5Ye65pON5L2c5Y+v6IO96ZyA6KaB5pu06ZW35pmC6ZaTXG4gIGRlZmF1bHQ6IDEwMDAwICAgICAvLyDlhbbku5bmk43kvZzkv53mjIHnj77mnInoqK3lrppcbn0gYXMgY29uc3RcblxuLy8g6Yyv6Kqk5YiG6aGe77ya5Yik5pa35piv5ZCm5Y+v6YeN6KmmXG5jb25zdCBpc1JldHJpYWJsZUVycm9yID0gKGVycm9yOiBBeGlvc0Vycm9yKTogYm9vbGVhbiA9PiB7XG4gIC8vIOe2sui3r+mMr+iqpO+8iOmAo+aOpeWkseaVl+OAgUROUyDlpLHmlZfnrYnvvIlcbiAgaWYgKGVycm9yLmNvZGUgPT09ICdFUlJfTkVUV09SSycgfHwgZXJyb3IuY29kZSA9PT0gJ0VDT05OQUJPUlRFRCcpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8g6LaF5pmC6Yyv6KqkXG4gIGlmIChlcnJvci5jb2RlID09PSAnRUNPTk5SRVNFVCcgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIOS8uuacjeWZqOmMr+iqpO+8iDV4eO+8iVxuICBpZiAoZXJyb3IucmVzcG9uc2U/LnN0YXR1cyAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPj0gNTAwKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIOeJueWumueahCA0eHgg6Yyv6Kqk77yI6YCf546H6ZmQ5Yi277yJXG4gIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MjkpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIOmAmueUqOmHjeippuapn+WItumFjee9rlxuaW50ZXJmYWNlIFJldHJ5Q29uZmlnIHtcbiAgbWF4UmV0cmllczogbnVtYmVyXG4gIGJhc2VEZWxheTogbnVtYmVyXG4gIG1heERlbGF5OiBudW1iZXJcbiAgYmFja29mZkZhY3RvcjogbnVtYmVyXG59XG5cbmNvbnN0IERFRkFVTFRfUkVUUllfQ09ORklHOiBSZXRyeUNvbmZpZyA9IHtcbiAgbWF4UmV0cmllczogMyxcbiAgYmFzZURlbGF5OiAxMDAwLCAgICAvLyAx56eS5Z+656SO5bu26YGyXG4gIG1heERlbGF5OiAxMDAwMCwgICAgLy8g5pyA5aSn5bu26YGyIDEw56eSXG4gIGJhY2tvZmZGYWN0b3I6IDIgICAgLy8g5oyH5pW46YCA6YG/5Zug5a2QXG59XG5cbi8vIOaMh+aVuOmAgOmBv+eul+azlVxuY29uc3QgY2FsY3VsYXRlRGVsYXkgPSAoYXR0ZW1wdDogbnVtYmVyLCBjb25maWc6IFJldHJ5Q29uZmlnKTogbnVtYmVyID0+IHtcbiAgY29uc3QgZGVsYXkgPSBjb25maWcuYmFzZURlbGF5ICogTWF0aC5wb3coY29uZmlnLmJhY2tvZmZGYWN0b3IsIGF0dGVtcHQgLSAxKVxuICByZXR1cm4gTWF0aC5taW4oZGVsYXksIGNvbmZpZy5tYXhEZWxheSlcbn1cblxuLy8g5bu656uL5bCI55So55qEIEFQSSDlrqLmiLbnq69cbmNvbnN0IGNyZWF0ZUFwaUNsaWVudCA9ICh0aW1lb3V0TXM6IG51bWJlcikgPT4ge1xuICByZXR1cm4gYXhpb3MuY3JlYXRlKHtcbiAgICBiYXNlVVJMOiBBUElfQkFTRV9VUkwsXG4gICAgdGltZW91dDogdGltZW91dE1zLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgfSlcbn1cblxuLy8g5LiN5ZCM6aGe5Z6L55qEIEFQSSDlrqLmiLbnq69cbmNvbnN0IHNlc3Npb25DbGllbnQgPSBjcmVhdGVBcGlDbGllbnQoQVBJX1RJTUVPVVRTLnNlc3Npb24pXG5jb25zdCBub3Rlc0NsaWVudCA9IGNyZWF0ZUFwaUNsaWVudChBUElfVElNRU9VVFMubm90ZXMpXG5jb25zdCBleHBvcnRDbGllbnQgPSBjcmVhdGVBcGlDbGllbnQoQVBJX1RJTUVPVVRTLmV4cG9ydClcbmNvbnN0IGRlZmF1bHRDbGllbnQgPSBjcmVhdGVBcGlDbGllbnQoQVBJX1RJTUVPVVRTLmRlZmF1bHQpXG5cbi8vIOmAmueUqOmHjeippuWMheijneWZqFxuYXN5bmMgZnVuY3Rpb24gd2l0aFJldHJ5PFQ+KFxuICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXG4gIGNvbnRleHQ6IHN0cmluZyxcbiAgY29uZmlnOiBQYXJ0aWFsPFJldHJ5Q29uZmlnPiA9IHt9XG4pOiBQcm9taXNlPFQ+IHtcbiAgY29uc3QgcmV0cnlDb25maWcgPSB7IC4uLkRFRkFVTFRfUkVUUllfQ09ORklHLCAuLi5jb25maWcgfVxuXG4gIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHJldHJ5Q29uZmlnLm1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVyYXRpb24oKVxuXG4gICAgICBpZiAoYXR0ZW1wdCA+IDEpIHtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBbQVBJ6YeN6KmmXSAke2NvbnRleHR9IOmHjeippuaIkOWKnyAo56ysICR7YXR0ZW1wdH0g5qyh5ZiX6KmmKWApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgaXNMYXN0QXR0ZW1wdCA9IGF0dGVtcHQgPT09IHJldHJ5Q29uZmlnLm1heFJldHJpZXNcblxuICAgICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikpIHtcbiAgICAgICAgLy8g5LiN5Y+v6YeN6Kmm55qE6Yyv6Kqk77yM56uL5Y2z5aSx5pWXXG4gICAgICAgIGlmICghaXNSZXRyaWFibGVFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4p2MIFtBUEnph43oqaZdICR7Y29udGV4dH0g6YGH5Yiw5LiN5Y+v6YeN6Kmm6Yyv6KqkOmAsIHtcbiAgICAgICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcbiAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgfSlcbiAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5pyA5b6M5LiA5qyh5ZiX6Kmm5aSx5pWXXG4gICAgICAgIGlmIChpc0xhc3RBdHRlbXB0KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFtBUEnph43oqaZdICR7Y29udGV4dH0g6YeN6Kmm5aSx5pWX77yM5bey6YGU5pyA5aSn6YeN6Kmm5qyh5pW4ICgke3JldHJ5Q29uZmlnLm1heFJldHJpZXN9KWApXG4gICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOioiOeul+W7tumBsuaZgumWk1xuICAgICAgICBjb25zdCBkZWxheSA9IGNhbGN1bGF0ZURlbGF5KGF0dGVtcHQsIHJldHJ5Q29uZmlnKVxuXG4gICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIFtBUEnph43oqaZdICR7Y29udGV4dH0g56ysICR7YXR0ZW1wdH0g5qyh5ZiX6Kmm5aSx5pWX77yMJHtkZWxheX1tcyDlvozph43oqaYuLi5gLCB7XG4gICAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgYXR0ZW1wdDogYCR7YXR0ZW1wdH0vJHtyZXRyeUNvbmZpZy5tYXhSZXRyaWVzfWAsXG4gICAgICAgICAgbmV4dERlbGF5OiBkZWxheVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOetieW+heW+jOmHjeipplxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g6Z2eIEF4aW9zIOmMr+iqpO+8jOebtOaOpeaLi+WHulxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOmAmeijoeS4jeaHieipsuiiq+Wft+ihjOWIsFxuICB0aHJvdyBuZXcgRXJyb3IoYCR7Y29udGV4dH0g6YeN6Kmm6YKP6Lyv55Ww5bi4YClcbn1cblxuLy8g57Wx5LiA55qE5Zue5oeJ5pSU5oiq5Zmo6Kit572uXG5jb25zdCBzZXR1cEludGVyY2VwdG9ycyA9IChjbGllbnQ6IHR5cGVvZiBzZXNzaW9uQ2xpZW50LCBjbGllbnROYW1lOiBzdHJpbmcpID0+IHtcbiAgY2xpZW50LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gICAgKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+ToSBbJHtjbGllbnROYW1lfV0gQVBJIOiri+axguaIkOWKnzpgLCB7XG4gICAgICAgIG1ldGhvZDogcmVzcG9uc2UuY29uZmlnLm1ldGhvZD8udG9VcHBlckNhc2UoKSxcbiAgICAgICAgdXJsOiByZXNwb25zZS5jb25maWcudXJsLFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgZHVyYXRpb246IHJlc3BvbnNlLmhlYWRlcnNbJ3gtcmVzcG9uc2UtdGltZSddIHx8ICd1bmtub3duJ1xuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgIH0sXG4gICAgKGVycm9yOiBBeGlvc0Vycm9yKSA9PiB7XG4gICAgICAvLyDkuI3poa/npLrpoJDmnJ/nmoQgNDA0IOmMr+iqpO+8iOS+i+Wmgu+8muaykuaciea0u+i6jeacg+ipse+8iVxuICAgICAgY29uc3QgaXNFeHBlY3RlZDQwNCA9IGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwNCAmJlxuICAgICAgICBlcnJvci5jb25maWc/LnVybD8uaW5jbHVkZXMoJy9hcGkvc2Vzc2lvbi9hY3RpdmUnKVxuXG4gICAgICBpZiAoIWlzRXhwZWN0ZWQ0MDQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFske2NsaWVudE5hbWV9XSBBUEkg6Yyv6KqkOmAsIHtcbiAgICAgICAgICBtZXRob2Q6IGVycm9yLmNvbmZpZz8ubWV0aG9kPy50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgIHVybDogZXJyb3IuY29uZmlnPy51cmwsXG4gICAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBpc1JldHJpYWJsZTogaXNSZXRyaWFibGVFcnJvcihlcnJvcilcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKVxuICAgIH1cbiAgKVxufVxuXG4vLyDoqK3nva7miYDmnInlrqLmiLbnq6/nmoTmlJTmiKrlmahcbnNldHVwSW50ZXJjZXB0b3JzKHNlc3Npb25DbGllbnQsICdTZXNzaW9uJylcbnNldHVwSW50ZXJjZXB0b3JzKG5vdGVzQ2xpZW50LCAnTm90ZXMnKVxuc2V0dXBJbnRlcmNlcHRvcnMoZXhwb3J0Q2xpZW50LCAnRXhwb3J0JylcbnNldHVwSW50ZXJjZXB0b3JzKGRlZmF1bHRDbGllbnQsICdEZWZhdWx0JylcblxuLy8g5Z6L5Yil5a6a576pXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25DcmVhdGVSZXF1ZXN0IHtcbiAgdGl0bGU6IHN0cmluZ1xuICB0eXBlOiAnbm90ZV9vbmx5JyB8ICdyZWNvcmRpbmcnXG4gIGNvbnRlbnQ/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uUmVzcG9uc2Uge1xuICBpZDogc3RyaW5nXG4gIHRpdGxlOiBzdHJpbmdcbiAgdHlwZTogJ25vdGVfb25seScgfCAncmVjb3JkaW5nJ1xuICBzdGF0dXM6ICdkcmFmdCcgfCAnYWN0aXZlJyB8ICdwcm9jZXNzaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJ1xuICBsYW5ndWFnZTogc3RyaW5nXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RlVXBkYXRlUmVxdWVzdCB7XG4gIGNvbnRlbnQ6IHN0cmluZ1xuICBjbGllbnRfdHM/OiBzdHJpbmcgIC8vIElTTyDmmYLplpPmiLPlrZfkuLLvvIzlj6/pgbhcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RlVXBkYXRlUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuXG4gIG1lc3NhZ2U6IHN0cmluZ1xuICBzZXJ2ZXJfdHM6IHN0cmluZyAgLy8gSVNPIOaZgumWk+aIs+Wtl+S4slxuICBub3RlOiBOb3RlUmVzcG9uc2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RlUmVzcG9uc2Uge1xuICBzZXNzaW9uX2lkOiBzdHJpbmdcbiAgY29udGVudDogc3RyaW5nXG4gIGNsaWVudF90cz86IHN0cmluZyAgLy8gSVNPIOaZgumWk+aIs+Wtl+S4su+8jOWPr+mBuFxuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG59XG5cbi8vIFNlc3Npb24gQVBJIC0g5L2/55So5pyD6Kmx5bCI55So5a6i5oi256uv5ZKM6YeN6Kmm5qmf5Yi2XG5leHBvcnQgY29uc3Qgc2Vzc2lvbkFQSSA9IHtcbiAgLy8g5bu656uL5paw5pyD6KmxXG4gIGFzeW5jIGNyZWF0ZVNlc3Npb24oZGF0YTogU2Vzc2lvbkNyZWF0ZVJlcXVlc3QpOiBQcm9taXNlPFNlc3Npb25SZXNwb25zZT4ge1xuICAgIHJldHVybiB3aXRoUmV0cnkoXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2Vzc2lvbkNsaWVudC5wb3N0KCcvYXBpL3Nlc3Npb24nLCBkYXRhKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSxcbiAgICAgIGDlu7rnq4vmnIPoqbEgKCR7ZGF0YS50eXBlfSlgLFxuICAgICAgeyBtYXhSZXRyaWVzOiAyIH0gLy8g5pyD6Kmx5bu656uL6YeN6Kmm5qyh5pW46LyD5bCR77yM6YG/5YWN6YeN6KSH5bu656uLXG4gICAgKVxuICB9LFxuXG4gIC8vIOeNsuWPlua0u+i6jeacg+ipsSAtIOWinuW8t+mHjeippuapn+WItlxuICBhc3luYyBnZXRBY3RpdmVTZXNzaW9uKCk6IFByb21pc2U8U2Vzc2lvblJlc3BvbnNlIHwgbnVsbD4ge1xuICAgIHJldHVybiB3aXRoUmV0cnkoXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXNzaW9uQ2xpZW50LmdldCgnL2FwaS9zZXNzaW9uL2FjdGl2ZScpXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyDlpoLmnpzmspLmnInmtLvouo3mnIPoqbHvvIzov5Tlm54gbnVsbCDogIzkuI3mmK/mi4vlh7rpjK/oqqRcbiAgICAgICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGVycm9yXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAn5qqi5p+l5rS76LqN5pyD6KmxJyxcbiAgICAgIHsgbWF4UmV0cmllczogMywgYmFzZURlbGF5OiA1MDAgfSAvLyDmm7TpoLvnuYHnmoTph43oqabvvIzln7rnpI7lu7bpgbLovIPnn61cbiAgICApXG4gIH0sXG5cbiAgLy8g5a6M5oiQ5pyD6KmxXG4gIGFzeW5jIGZpbmlzaFNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gd2l0aFJldHJ5KFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBzZXNzaW9uQ2xpZW50LnBhdGNoKGAvYXBpL3Nlc3Npb24vJHtzZXNzaW9uSWR9L2ZpbmlzaGApXG4gICAgICB9LFxuICAgICAgYOWujOaIkOacg+ipsSAoJHtzZXNzaW9uSWR9KWAsXG4gICAgICB7IG1heFJldHJpZXM6IDIgfVxuICAgIClcbiAgfSxcblxuICAvLyDljYfntJrmnIPoqbHoh7PpjITpn7PmqKHlvI9cbiAgYXN5bmMgdXBncmFkZVRvUmVjb3JkaW5nKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gd2l0aFJldHJ5KFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlc3Npb25DbGllbnQucGF0Y2goYC9hcGkvc2Vzc2lvbi8ke3Nlc3Npb25JZH0vdXBncmFkZWApXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICB9LFxuICAgICAgYOWNh+e0muacg+ipsSAoJHtzZXNzaW9uSWR9KWAsXG4gICAgICB7IG1heFJldHJpZXM6IDIgfVxuICAgIClcbiAgfSxcblxuICAvLyDliKrpmaTmnIPoqbHlj4rlhbbmiYDmnInnm7jpl5zmlbjmk5pcbiAgYXN5bmMgZGVsZXRlU2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAgIHJldHVybiB3aXRoUmV0cnkoXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2Vzc2lvbkNsaWVudC5kZWxldGUoYC9hcGkvc2Vzc2lvbi8ke3Nlc3Npb25JZH1gKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSxcbiAgICAgIGDliKrpmaTmnIPoqbEgKCR7c2Vzc2lvbklkfSlgLFxuICAgICAgeyBtYXhSZXRyaWVzOiAyIH1cbiAgICApXG4gIH0sXG59XG5cbi8vIE5vdGVzIEFQSSAtIOS9v+eUqOethuiomOWwiOeUqOWuouaItuerr+WSjOmHjeippuapn+WItlxuZXhwb3J0IGNvbnN0IG5vdGVzQVBJID0ge1xuICAvLyDmm7TmlrDnrYboqJjlhaflrrlcbiAgYXN5bmMgdXBkYXRlTm90ZShzZXNzaW9uSWQ6IHN0cmluZywgZGF0YTogTm90ZVVwZGF0ZVJlcXVlc3QpOiBQcm9taXNlPE5vdGVVcGRhdGVSZXNwb25zZT4ge1xuICAgIHJldHVybiB3aXRoUmV0cnkoXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbm90ZXNDbGllbnQucHV0KGAvYXBpL25vdGVzLyR7c2Vzc2lvbklkfWAsIGRhdGEpXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICB9LFxuICAgICAgYOabtOaWsOethuiomCAoJHtzZXNzaW9uSWR9KWAsXG4gICAgICB7IG1heFJldHJpZXM6IDMsIGJhc2VEZWxheTogNTAwIH0gLy8g562G6KiY5pu05paw6YeN6Kmm6LyD56mN5qW1XG4gICAgKVxuICB9LFxuXG4gIC8vIOeNsuWPluethuiomOWFp+WuuVxuICBhc3luYyBnZXROb3RlKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxOb3RlUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gd2l0aFJldHJ5KFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5vdGVzQ2xpZW50LmdldChgL2FwaS9ub3Rlcy8ke3Nlc3Npb25JZH1gKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSxcbiAgICAgIGDnjbLlj5bnrYboqJggKCR7c2Vzc2lvbklkfSlgLFxuICAgICAgeyBtYXhSZXRyaWVzOiAzLCBiYXNlRGVsYXk6IDUwMCB9XG4gICAgKVxuICB9LFxufVxuXG4vLyBFeHBvcnQgQVBJIC0g5L2/55So5Yyv5Ye65bCI55So5a6i5oi256uvXG5leHBvcnQgY29uc3QgZXhwb3J0QVBJID0ge1xuICAvLyDljK/lh7rmnIPoqbHos4fmlplcbiAgYXN5bmMgZXhwb3J0U2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZywgdHlwZTogJ3ppcCcgfCAnbWQnID0gJ3ppcCcpOiBQcm9taXNlPEJsb2I+IHtcbiAgICByZXR1cm4gd2l0aFJldHJ5KFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4cG9ydENsaWVudC5nZXQoYC9hcGkvZXhwb3J0LyR7c2Vzc2lvbklkfWAsIHtcbiAgICAgICAgICBwYXJhbXM6IHsgdHlwZSB9LFxuICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InLFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSxcbiAgICAgIGDljK/lh7rmnIPoqbEgKCR7c2Vzc2lvbklkfSlgLFxuICAgICAgeyBtYXhSZXRyaWVzOiAyLCBiYXNlRGVsYXk6IDIwMDAgfSAvLyDljK/lh7rph43oqablu7bpgbLovIPplbdcbiAgICApXG4gIH0sXG59XG5cbi8vIFdlYlNvY2tldCBVUkwg5bu65qeLIC0g5L2/55So55Kw5aKD6K6K5pW4XG5leHBvcnQgY29uc3QgZ2V0V2ViU29ja2V0VVJMID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHdzQmFzZVVSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dTX1VSTCB8fCAnd3M6Ly9sb2NhbGhvc3Q6ODAwMCdcbiAgcmV0dXJuIGAke3dzQmFzZVVSTH0ke3BhdGh9YFxufVxuXG4vLyDljK/lh7rph43oqablip/og73kvpvlhbbku5bmqKHntYTkvb/nlKhcbmV4cG9ydCB7IHdpdGhSZXRyeSwgaXNSZXRyaWFibGVFcnJvciwgQVBJX1RJTUVPVVRTIH1cblxuLy8g5L+d5oyB5ZCR5b6M5YW85a655oCnXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0Q2xpZW50XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkFQSV9USU1FT1VUUyIsInNlc3Npb24iLCJub3RlcyIsImV4cG9ydCIsImRlZmF1bHQiLCJpc1JldHJpYWJsZUVycm9yIiwiZXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImluY2x1ZGVzIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJERUZBVUxUX1JFVFJZX0NPTkZJRyIsIm1heFJldHJpZXMiLCJiYXNlRGVsYXkiLCJtYXhEZWxheSIsImJhY2tvZmZGYWN0b3IiLCJjYWxjdWxhdGVEZWxheSIsImF0dGVtcHQiLCJjb25maWciLCJkZWxheSIsIk1hdGgiLCJwb3ciLCJtaW4iLCJjcmVhdGVBcGlDbGllbnQiLCJ0aW1lb3V0TXMiLCJjcmVhdGUiLCJiYXNlVVJMIiwidGltZW91dCIsImhlYWRlcnMiLCJzZXNzaW9uQ2xpZW50Iiwibm90ZXNDbGllbnQiLCJleHBvcnRDbGllbnQiLCJkZWZhdWx0Q2xpZW50Iiwid2l0aFJldHJ5Iiwib3BlcmF0aW9uIiwiY29udGV4dCIsInJldHJ5Q29uZmlnIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImlzTGFzdEF0dGVtcHQiLCJpc0F4aW9zRXJyb3IiLCJ3YXJuIiwibmV4dERlbGF5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJzZXR1cEludGVyY2VwdG9ycyIsImNsaWVudCIsImNsaWVudE5hbWUiLCJpbnRlcmNlcHRvcnMiLCJ1c2UiLCJtZXRob2QiLCJ0b1VwcGVyQ2FzZSIsInVybCIsImR1cmF0aW9uIiwiaXNFeHBlY3RlZDQwNCIsImlzUmV0cmlhYmxlIiwicmVqZWN0Iiwic2Vzc2lvbkFQSSIsImNyZWF0ZVNlc3Npb24iLCJkYXRhIiwicG9zdCIsInR5cGUiLCJnZXRBY3RpdmVTZXNzaW9uIiwiZ2V0IiwiZmluaXNoU2Vzc2lvbiIsInNlc3Npb25JZCIsInBhdGNoIiwidXBncmFkZVRvUmVjb3JkaW5nIiwiZGVsZXRlU2Vzc2lvbiIsImRlbGV0ZSIsIm5vdGVzQVBJIiwidXBkYXRlTm90ZSIsInB1dCIsImdldE5vdGUiLCJleHBvcnRBUEkiLCJleHBvcnRTZXNzaW9uIiwicGFyYW1zIiwicmVzcG9uc2VUeXBlIiwiZ2V0V2ViU29ja2V0VVJMIiwicGF0aCIsIndzQmFzZVVSTCIsIk5FWFRfUFVCTElDX1dTX1VSTCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/api.ts\n");

/***/ }),

/***/ "(ssr)/./lib/app-state-reducer.ts":
/*!**********************************!*\
  !*** ./lib/app-state-reducer.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appStateReducer: () => (/* binding */ appStateReducer)\n/* harmony export */ });\n/* harmony import */ var _types_app_state_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/app-state-context */ \"(ssr)/./types/app-state-context.ts\");\n\nfunction appStateReducer(state, action) {\n    console.log('🔄 [AppStateReducer] Action:', action.type, action);\n    switch(action.type){\n        case \"SET_STATE\":\n        case \"SET_APP_STATE\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    state: action.payload\n                }\n            };\n        case \"SET_RECORDING\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    isRecording: action.payload\n                }\n            };\n        case \"SET_RECORDING_TIME\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    recordingTime: action.payload\n                }\n            };\n        case \"SET_EDITOR_CONTENT\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    editorContent: action.payload\n                }\n            };\n        case \"SET_TRANSCRIPT_ENTRIES\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    transcriptEntries: action.payload\n                }\n            };\n        case \"ADD_TRANSCRIPT_ENTRY\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    transcriptEntries: [\n                        ...state.appData.transcriptEntries,\n                        action.payload\n                    ]\n                }\n            };\n        case \"SET_SESSION\":\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    session: action.payload\n                }\n            };\n        case \"UPDATE_SESSION_STATUS\":\n            if (!state.appData.session) {\n                console.warn('🔄 [AppStateReducer] 試圖更新不存在的 session 狀態');\n                return state;\n            }\n            return {\n                ...state,\n                appData: {\n                    ...state.appData,\n                    session: {\n                        ...state.appData.session,\n                        status: action.payload\n                    }\n                }\n            };\n        case \"RESET_STATE\":\n            return {\n                ...state,\n                appData: _types_app_state_context__WEBPACK_IMPORTED_MODULE_0__.initialAppData,\n                error: null\n            };\n        case \"SET_LOADING\":\n            return {\n                ...state,\n                isLoading: action.payload\n            };\n        case \"SET_ERROR\":\n            return {\n                ...state,\n                error: action.payload\n            };\n        case \"CLEAR_ERROR\":\n            return {\n                ...state,\n                error: null\n            };\n        default:\n            console.warn('🔄 [AppStateReducer] 未知的 action type:', action);\n            return state;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvYXBwLXN0YXRlLXJlZHVjZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkU7QUFTcEUsU0FBU0MsZ0JBQ2RDLEtBQTJCLEVBQzNCQyxNQUFzQjtJQUV0QkMsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ0YsT0FBT0csSUFBSSxFQUFFSDtJQUV6RCxPQUFRQSxPQUFPRyxJQUFJO1FBQ2pCLEtBQUs7UUFDTCxLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHSixLQUFLO2dCQUNSSyxTQUFTO29CQUNQLEdBQUdMLE1BQU1LLE9BQU87b0JBQ2hCTCxPQUFPQyxPQUFPSyxPQUFPO2dCQUN2QjtZQUNGO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR04sS0FBSztnQkFDUkssU0FBUztvQkFDUCxHQUFHTCxNQUFNSyxPQUFPO29CQUNoQkUsYUFBYU4sT0FBT0ssT0FBTztnQkFDN0I7WUFDRjtRQUVGLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUdOLEtBQUs7Z0JBQ1JLLFNBQVM7b0JBQ1AsR0FBR0wsTUFBTUssT0FBTztvQkFDaEJHLGVBQWVQLE9BQU9LLE9BQU87Z0JBQy9CO1lBQ0Y7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHTixLQUFLO2dCQUNSSyxTQUFTO29CQUNQLEdBQUdMLE1BQU1LLE9BQU87b0JBQ2hCSSxlQUFlUixPQUFPSyxPQUFPO2dCQUMvQjtZQUNGO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR04sS0FBSztnQkFDUkssU0FBUztvQkFDUCxHQUFHTCxNQUFNSyxPQUFPO29CQUNoQkssbUJBQW1CVCxPQUFPSyxPQUFPO2dCQUNuQztZQUNGO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR04sS0FBSztnQkFDUkssU0FBUztvQkFDUCxHQUFHTCxNQUFNSyxPQUFPO29CQUNoQkssbUJBQW1COzJCQUFJVixNQUFNSyxPQUFPLENBQUNLLGlCQUFpQjt3QkFBRVQsT0FBT0ssT0FBTztxQkFBQztnQkFDekU7WUFDRjtRQUVGLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUdOLEtBQUs7Z0JBQ1JLLFNBQVM7b0JBQ1AsR0FBR0wsTUFBTUssT0FBTztvQkFDaEJNLFNBQVNWLE9BQU9LLE9BQU87Z0JBQ3pCO1lBQ0Y7UUFFRixLQUFLO1lBQ0gsSUFBSSxDQUFDTixNQUFNSyxPQUFPLENBQUNNLE9BQU8sRUFBRTtnQkFDMUJULFFBQVFVLElBQUksQ0FBQztnQkFDYixPQUFPWjtZQUNUO1lBQ0EsT0FBTztnQkFDTCxHQUFHQSxLQUFLO2dCQUNSSyxTQUFTO29CQUNQLEdBQUdMLE1BQU1LLE9BQU87b0JBQ2hCTSxTQUFTO3dCQUNQLEdBQUdYLE1BQU1LLE9BQU8sQ0FBQ00sT0FBTzt3QkFDeEJFLFFBQVFaLE9BQU9LLE9BQU87b0JBQ3hCO2dCQUNGO1lBQ0Y7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHTixLQUFLO2dCQUNSSyxTQUFTUCxvRUFBY0E7Z0JBQ3ZCZ0IsT0FBTztZQUNUO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR2QsS0FBSztnQkFDUmUsV0FBV2QsT0FBT0ssT0FBTztZQUMzQjtRQUVGLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUdOLEtBQUs7Z0JBQ1JjLE9BQU9iLE9BQU9LLE9BQU87WUFDdkI7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHTixLQUFLO2dCQUNSYyxPQUFPO1lBQ1Q7UUFFRjtZQUNFWixRQUFRVSxJQUFJLENBQUMseUNBQXlDWDtZQUN0RCxPQUFPRDtJQUNYO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9hcHAtc3RhdGUtcmVkdWNlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBTdGF0ZUFjdGlvbiwgaW5pdGlhbEFwcERhdGEgfSBmcm9tIFwiLi4vdHlwZXMvYXBwLXN0YXRlLWNvbnRleHRcIlxuaW1wb3J0IHsgQXBwRGF0YSB9IGZyb20gXCIuLi90eXBlcy9hcHAtc3RhdGVcIlxuXG5leHBvcnQgaW50ZXJmYWNlIEFwcFN0YXRlUmVkdWNlclN0YXRlIHtcbiAgYXBwRGF0YTogQXBwRGF0YVxuICBpc0xvYWRpbmc6IGJvb2xlYW5cbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcFN0YXRlUmVkdWNlcihcbiAgc3RhdGU6IEFwcFN0YXRlUmVkdWNlclN0YXRlLFxuICBhY3Rpb246IEFwcFN0YXRlQWN0aW9uXG4pOiBBcHBTdGF0ZVJlZHVjZXJTdGF0ZSB7XG4gIGNvbnNvbGUubG9nKCfwn5SEIFtBcHBTdGF0ZVJlZHVjZXJdIEFjdGlvbjonLCBhY3Rpb24udHlwZSwgYWN0aW9uKVxuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiU0VUX1NUQVRFXCI6XG4gICAgY2FzZSBcIlNFVF9BUFBfU1RBVEVcIjogIC8vIOWIpeWQje+8jOeCuuS6huWQkeW+jOebuOWuuVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5hcHBEYXRhLFxuICAgICAgICAgIHN0YXRlOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgIGNhc2UgXCJTRVRfUkVDT1JESU5HXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXBwRGF0YToge1xuICAgICAgICAgIC4uLnN0YXRlLmFwcERhdGEsXG4gICAgICAgICAgaXNSZWNvcmRpbmc6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlNFVF9SRUNPUkRJTkdfVElNRVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5hcHBEYXRhLFxuICAgICAgICAgIHJlY29yZGluZ1RpbWU6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlNFVF9FRElUT1JfQ09OVEVOVFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5hcHBEYXRhLFxuICAgICAgICAgIGVkaXRvckNvbnRlbnQ6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlNFVF9UUkFOU0NSSVBUX0VOVFJJRVNcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhcHBEYXRhOiB7XG4gICAgICAgICAgLi4uc3RhdGUuYXBwRGF0YSxcbiAgICAgICAgICB0cmFuc2NyaXB0RW50cmllczogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICBjYXNlIFwiQUREX1RSQU5TQ1JJUFRfRU5UUllcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhcHBEYXRhOiB7XG4gICAgICAgICAgLi4uc3RhdGUuYXBwRGF0YSxcbiAgICAgICAgICB0cmFuc2NyaXB0RW50cmllczogWy4uLnN0YXRlLmFwcERhdGEudHJhbnNjcmlwdEVudHJpZXMsIGFjdGlvbi5wYXlsb2FkXSxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgIGNhc2UgXCJTRVRfU0VTU0lPTlwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5hcHBEYXRhLFxuICAgICAgICAgIHNlc3Npb246IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgY2FzZSBcIlVQREFURV9TRVNTSU9OX1NUQVRVU1wiOlxuICAgICAgaWYgKCFzdGF0ZS5hcHBEYXRhLnNlc3Npb24pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfwn5SEIFtBcHBTdGF0ZVJlZHVjZXJdIOippuWcluabtOaWsOS4jeWtmOWcqOeahCBzZXNzaW9uIOeLgOaFiycpXG4gICAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5hcHBEYXRhLFxuICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLmFwcERhdGEuc2Vzc2lvbixcbiAgICAgICAgICAgIHN0YXR1czogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgIGNhc2UgXCJSRVNFVF9TVEFURVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFwcERhdGE6IGluaXRpYWxBcHBEYXRhLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH1cblxuICAgIGNhc2UgXCJTRVRfTE9BRElOR1wiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGlzTG9hZGluZzogYWN0aW9uLnBheWxvYWQsXG4gICAgICB9XG5cbiAgICBjYXNlIFwiU0VUX0VSUk9SXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZXJyb3I6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgfVxuXG4gICAgY2FzZSBcIkNMRUFSX0VSUk9SXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS53YXJuKCfwn5SEIFtBcHBTdGF0ZVJlZHVjZXJdIOacquefpeeahCBhY3Rpb24gdHlwZTonLCBhY3Rpb24pXG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIl0sIm5hbWVzIjpbImluaXRpYWxBcHBEYXRhIiwiYXBwU3RhdGVSZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJjb25zb2xlIiwibG9nIiwidHlwZSIsImFwcERhdGEiLCJwYXlsb2FkIiwiaXNSZWNvcmRpbmciLCJyZWNvcmRpbmdUaW1lIiwiZWRpdG9yQ29udGVudCIsInRyYW5zY3JpcHRFbnRyaWVzIiwic2Vzc2lvbiIsIndhcm4iLCJzdGF0dXMiLCJlcnJvciIsImlzTG9hZGluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/app-state-reducer.ts\n");

/***/ }),

/***/ "(ssr)/./lib/audio-recorder.ts":
/*!*******************************!*\
  !*** ./lib/audio-recorder.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioRecorder: () => (/* binding */ AudioRecorder),\n/* harmony export */   checkAudioRecordingSupport: () => (/* binding */ checkAudioRecordingSupport),\n/* harmony export */   createAudioRecorder: () => (/* binding */ createAudioRecorder)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ AudioRecorder,createAudioRecorder,checkAudioRecordingSupport auto */ // 預設配置\nconst DEFAULT_CONFIG = {\n    chunkInterval: 12000,\n    mimeType: 'audio/webm;codecs=opus',\n    audioBitsPerSecond: 128000\n};\n// 支援的音訊格式列表（優先順序）\n// MP4 格式在 FFmpeg 7.1.1 中有更好的兼容性，因此放在第一位\nconst SUPPORTED_MIME_TYPES = [\n    'audio/webm;codecs=opus',\n    'audio/webm',\n    'audio/mp4',\n    'audio/ogg;codecs=opus',\n    'audio/wav'\n];\nclass AudioRecorder {\n    constructor(config = {}){\n        this.mediaRecorder = null;\n        this.mediaStream = null;\n        this.state = 'idle';\n        this.sequence = 0;\n        this.startTime = 0;\n        this.config = {\n            ...DEFAULT_CONFIG,\n            ...config\n        };\n        // 檢查瀏覽器相容性\n        if (!this.isSupported()) {\n            throw new Error('您的瀏覽器不支援音訊錄製功能');\n        }\n        // 選擇支援的音訊格式\n        this.config.mimeType = this.getSupportedMimeType();\n    }\n    // 檢查瀏覽器支援度\n    isSupported() {\n        return 'mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices && 'MediaRecorder' in window;\n    }\n    // 獲取支援的音訊格式\n    getSupportedMimeType() {\n        for (const mimeType of SUPPORTED_MIME_TYPES){\n            if (MediaRecorder.isTypeSupported(mimeType)) {\n                console.log('🎤 使用音訊格式:', mimeType);\n                return mimeType;\n            }\n        }\n        // 如果都不支援，使用預設格式\n        console.warn('⚠️ 使用預設音訊格式:', DEFAULT_CONFIG.mimeType);\n        return DEFAULT_CONFIG.mimeType;\n    }\n    // 初始化音訊串流\n    async initialize() {\n        try {\n            this.mediaStream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    echoCancellation: true,\n                    noiseSuppression: true,\n                    autoGainControl: true,\n                    sampleRate: 16000\n                }\n            });\n            console.log('🎤 音訊權限已獲取');\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : '無法取得音訊權限';\n            this.handleError(new Error(`音訊初始化失敗: ${errorMessage}`));\n            throw error;\n        }\n    }\n    // 開始錄音\n    async startRecording() {\n        if (this.state === 'recording') {\n            return;\n        }\n        if (!this.mediaStream) {\n            await this.initialize();\n        }\n        if (!this.mediaStream) {\n            throw new Error('音訊串流未初始化');\n        }\n        try {\n            // 建立 MediaRecorder\n            this.mediaRecorder = new MediaRecorder(this.mediaStream, {\n                mimeType: this.config.mimeType,\n                audioBitsPerSecond: this.config.audioBitsPerSecond\n            });\n            // 設定事件處理器\n            this.setupMediaRecorderEvents();\n            // 開始錄音，使用 MediaRecorder 的自動切片功能\n            // 這比手動 requestData() 更可靠且簡潔\n            this.mediaRecorder.start(this.config.chunkInterval);\n            this.startTime = Date.now();\n            this.sequence = 0;\n            this.setState('recording');\n            console.log('🎤 開始錄音');\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : '錄音啟動失敗';\n            this.handleError(new Error(`錄音啟動失敗: ${errorMessage}`));\n            throw error;\n        }\n    }\n    // 停止錄音\n    stopRecording() {\n        if (this.state !== 'recording') {\n            return;\n        }\n        if (this.mediaRecorder) {\n            this.mediaRecorder.stop();\n        }\n        this.setState('idle');\n        console.log('🛑 停止錄音');\n    }\n    // 暫停錄音\n    pauseRecording() {\n        if (this.state !== 'recording' || !this.mediaRecorder) {\n            return;\n        }\n        this.mediaRecorder.pause();\n        this.setState('paused');\n        console.log('⏸️ 暫停錄音');\n    }\n    // 恢復錄音\n    resumeRecording() {\n        if (this.state !== 'paused' || !this.mediaRecorder) {\n            return;\n        }\n        this.mediaRecorder.resume();\n        this.setState('recording');\n        console.log('▶️ 恢復錄音');\n    }\n    // 清理資源\n    cleanup() {\n        this.stopRecording();\n        if (this.mediaStream) {\n            this.mediaStream.getTracks().forEach((track)=>track.stop());\n            this.mediaStream = null;\n        }\n        this.mediaRecorder = null;\n        console.log('🧹 音訊錄製器已清理');\n    }\n    // 注意：已移除 WebM 格式驗證，信任 MediaRecorder 和後端 FFmpeg 處理\n    // 設定 MediaRecorder 事件處理器\n    setupMediaRecorderEvents() {\n        if (!this.mediaRecorder) return;\n        this.mediaRecorder.ondataavailable = async (event)=>{\n            if (event.data && event.data.size > 0) {\n                // 基本大小檢查 - 降低門檻值以接受更多有效切片\n                if (event.data.size < 50) {\n                    console.warn(`⚠️ 音訊切片 #${this.sequence} 太小，跳過: ${event.data.size} bytes`);\n                    return;\n                }\n                // 信任 MediaRecorder 產生的資料，不做格式驗證\n                // 後端 FFmpeg 會用 -fflags +genpts 處理不完整的流式資料\n                const chunk = {\n                    blob: event.data,\n                    timestamp: Date.now(),\n                    duration: Date.now() - this.startTime,\n                    sequence: this.sequence++\n                };\n                console.log(`🎵 產生有效音訊切片 #${chunk.sequence}, 大小: ${chunk.blob.size} bytes, 類型: ${chunk.blob.type}`);\n                this.onChunkCallback?.(chunk);\n            } else {\n                console.warn(`⚠️ 收到空的音訊切片 #${this.sequence}`);\n            }\n        };\n        this.mediaRecorder.onerror = (event)=>{\n            const error = event.error || new Error('MediaRecorder 錯誤');\n            this.handleError(error);\n        };\n        this.mediaRecorder.onstart = ()=>{\n            console.log('🎤 MediaRecorder 已啟動');\n        };\n        this.mediaRecorder.onstop = ()=>{\n            console.log('🛑 MediaRecorder 已停止');\n        };\n    }\n    // 注意：不再需要手動定時器，MediaRecorder.start(interval) 會自動處理切片\n    // 設定狀態\n    setState(newState) {\n        this.state = newState;\n        this.onStateChangeCallback?.(newState);\n    }\n    // 錯誤處理\n    handleError(error) {\n        console.error('❌ AudioRecorder 錯誤:', error);\n        this.setState('error');\n        this.onErrorCallback?.(error);\n    }\n    // 事件回調設定\n    onChunk(callback) {\n        this.onChunkCallback = callback;\n    }\n    onStateChange(callback) {\n        this.onStateChangeCallback = callback;\n    }\n    onError(callback) {\n        this.onErrorCallback = callback;\n    }\n    // Getter\n    get currentState() {\n        return this.state;\n    }\n    get isRecording() {\n        return this.state === 'recording';\n    }\n    get isPaused() {\n        return this.state === 'paused';\n    }\n    get currentConfig() {\n        return {\n            ...this.config\n        };\n    }\n}\n// 工廠函數\nconst createAudioRecorder = (config)=>{\n    return new AudioRecorder(config);\n};\n// 瀏覽器相容性檢查函數\nconst checkAudioRecordingSupport = ()=>{\n    const errors = [];\n    if (!('mediaDevices' in navigator)) {\n        errors.push('不支援 MediaDevices API');\n    }\n    if (!('getUserMedia' in navigator.mediaDevices)) {\n        errors.push('不支援 getUserMedia API');\n    }\n    if (!('MediaRecorder' in window)) {\n        errors.push('不支援 MediaRecorder API');\n    }\n    // 檢查 HTTPS\n    if (location.protocol !== 'https:' && location.hostname !== 'localhost') {\n        errors.push('需要 HTTPS 連接才能使用音訊功能');\n    }\n    return {\n        supported: errors.length === 0,\n        errors\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvYXVkaW8tcmVjb3JkZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O2tIQW9CQSxPQUFPO0FBQ1AsTUFBTUEsaUJBQXNDO0lBQzFDQyxlQUFlO0lBQ2ZDLFVBQVU7SUFDVkMsb0JBQW9CO0FBQ3RCO0FBRUEsa0JBQWtCO0FBQ2xCLHdDQUF3QztBQUN4QyxNQUFNQyx1QkFBdUI7SUFDM0I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRU0sTUFBTUM7SUFhWEMsWUFBWUMsU0FBdUMsQ0FBQyxDQUFDLENBQUU7YUFaL0NDLGdCQUFzQzthQUN0Q0MsY0FBa0M7YUFFbENDLFFBQTRCO2FBQzVCQyxXQUFXO2FBQ1hDLFlBQVk7UUFRbEIsSUFBSSxDQUFDTCxNQUFNLEdBQUc7WUFBRSxHQUFHUCxjQUFjO1lBQUUsR0FBR08sTUFBTTtRQUFDO1FBRTdDLFdBQVc7UUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDTSxXQUFXLElBQUk7WUFDdkIsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUEsWUFBWTtRQUNaLElBQUksQ0FBQ1AsTUFBTSxDQUFDTCxRQUFRLEdBQUcsSUFBSSxDQUFDYSxvQkFBb0I7SUFDbEQ7SUFFQSxXQUFXO0lBQ1hGLGNBQXVCO1FBQ3JCLE9BQ0Usa0JBQWtCRyxhQUNsQixrQkFBa0JBLFVBQVVDLFlBQVksSUFDeEMsbUJBQW1CQztJQUV2QjtJQUVBLFlBQVk7SUFDSkgsdUJBQStCO1FBQ3JDLEtBQUssTUFBTWIsWUFBWUUscUJBQXNCO1lBQzNDLElBQUllLGNBQWNDLGVBQWUsQ0FBQ2xCLFdBQVc7Z0JBQzNDbUIsUUFBUUMsR0FBRyxDQUFDLGNBQWNwQjtnQkFDMUIsT0FBT0E7WUFDVDtRQUNGO1FBRUEsZ0JBQWdCO1FBQ2hCbUIsUUFBUUUsSUFBSSxDQUFDLGdCQUFnQnZCLGVBQWVFLFFBQVE7UUFDcEQsT0FBT0YsZUFBZUUsUUFBUTtJQUNoQztJQUVBLFVBQVU7SUFDVixNQUFNc0IsYUFBNEI7UUFDaEMsSUFBSTtZQUNGLElBQUksQ0FBQ2YsV0FBVyxHQUFHLE1BQU1PLFVBQVVDLFlBQVksQ0FBQ1EsWUFBWSxDQUFDO2dCQUMzREMsT0FBTztvQkFDTEMsa0JBQWtCO29CQUNsQkMsa0JBQWtCO29CQUNsQkMsaUJBQWlCO29CQUNqQkMsWUFBWTtnQkFDZDtZQUNGO1lBRUFULFFBQVFDLEdBQUcsQ0FBQztRQUNkLEVBQUUsT0FBT1MsT0FBTztZQUNkLE1BQU1DLGVBQWVELGlCQUFpQmpCLFFBQVFpQixNQUFNRSxPQUFPLEdBQUc7WUFDOUQsSUFBSSxDQUFDQyxXQUFXLENBQUMsSUFBSXBCLE1BQU0sQ0FBQyxTQUFTLEVBQUVrQixjQUFjO1lBQ3JELE1BQU1EO1FBQ1I7SUFDRjtJQUVBLE9BQU87SUFDUCxNQUFNSSxpQkFBZ0M7UUFDcEMsSUFBSSxJQUFJLENBQUN6QixLQUFLLEtBQUssYUFBYTtZQUM5QjtRQUNGO1FBRUEsSUFBSSxDQUFDLElBQUksQ0FBQ0QsV0FBVyxFQUFFO1lBQ3JCLE1BQU0sSUFBSSxDQUFDZSxVQUFVO1FBQ3ZCO1FBRUEsSUFBSSxDQUFDLElBQUksQ0FBQ2YsV0FBVyxFQUFFO1lBQ3JCLE1BQU0sSUFBSUssTUFBTTtRQUNsQjtRQUVBLElBQUk7WUFDRixtQkFBbUI7WUFDbkIsSUFBSSxDQUFDTixhQUFhLEdBQUcsSUFBSVcsY0FBYyxJQUFJLENBQUNWLFdBQVcsRUFBRTtnQkFDdkRQLFVBQVUsSUFBSSxDQUFDSyxNQUFNLENBQUNMLFFBQVE7Z0JBQzlCQyxvQkFBb0IsSUFBSSxDQUFDSSxNQUFNLENBQUNKLGtCQUFrQjtZQUNwRDtZQUVBLFVBQVU7WUFDVixJQUFJLENBQUNpQyx3QkFBd0I7WUFFN0IsZ0NBQWdDO1lBQ2hDLDRCQUE0QjtZQUM1QixJQUFJLENBQUM1QixhQUFhLENBQUM2QixLQUFLLENBQUMsSUFBSSxDQUFDOUIsTUFBTSxDQUFDTixhQUFhO1lBQ2xELElBQUksQ0FBQ1csU0FBUyxHQUFHMEIsS0FBS0MsR0FBRztZQUN6QixJQUFJLENBQUM1QixRQUFRLEdBQUc7WUFFaEIsSUFBSSxDQUFDNkIsUUFBUSxDQUFDO1lBQ2RuQixRQUFRQyxHQUFHLENBQUM7UUFFZCxFQUFFLE9BQU9TLE9BQU87WUFDZCxNQUFNQyxlQUFlRCxpQkFBaUJqQixRQUFRaUIsTUFBTUUsT0FBTyxHQUFHO1lBQzlELElBQUksQ0FBQ0MsV0FBVyxDQUFDLElBQUlwQixNQUFNLENBQUMsUUFBUSxFQUFFa0IsY0FBYztZQUNwRCxNQUFNRDtRQUNSO0lBQ0Y7SUFFQSxPQUFPO0lBQ1BVLGdCQUFzQjtRQUNwQixJQUFJLElBQUksQ0FBQy9CLEtBQUssS0FBSyxhQUFhO1lBQzlCO1FBQ0Y7UUFFQSxJQUFJLElBQUksQ0FBQ0YsYUFBYSxFQUFFO1lBQ3RCLElBQUksQ0FBQ0EsYUFBYSxDQUFDa0MsSUFBSTtRQUN6QjtRQUVBLElBQUksQ0FBQ0YsUUFBUSxDQUFDO1FBQ2RuQixRQUFRQyxHQUFHLENBQUM7SUFDZDtJQUVBLE9BQU87SUFDUHFCLGlCQUF1QjtRQUNyQixJQUFJLElBQUksQ0FBQ2pDLEtBQUssS0FBSyxlQUFlLENBQUMsSUFBSSxDQUFDRixhQUFhLEVBQUU7WUFDckQ7UUFDRjtRQUVBLElBQUksQ0FBQ0EsYUFBYSxDQUFDb0MsS0FBSztRQUN4QixJQUFJLENBQUNKLFFBQVEsQ0FBQztRQUNkbkIsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7SUFFQSxPQUFPO0lBQ1B1QixrQkFBd0I7UUFDdEIsSUFBSSxJQUFJLENBQUNuQyxLQUFLLEtBQUssWUFBWSxDQUFDLElBQUksQ0FBQ0YsYUFBYSxFQUFFO1lBQ2xEO1FBQ0Y7UUFFQSxJQUFJLENBQUNBLGFBQWEsQ0FBQ3NDLE1BQU07UUFDekIsSUFBSSxDQUFDTixRQUFRLENBQUM7UUFDZG5CLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0lBRUEsT0FBTztJQUNQeUIsVUFBZ0I7UUFDZCxJQUFJLENBQUNOLGFBQWE7UUFFbEIsSUFBSSxJQUFJLENBQUNoQyxXQUFXLEVBQUU7WUFDcEIsSUFBSSxDQUFDQSxXQUFXLENBQUN1QyxTQUFTLEdBQUdDLE9BQU8sQ0FBQ0MsQ0FBQUEsUUFBU0EsTUFBTVIsSUFBSTtZQUN4RCxJQUFJLENBQUNqQyxXQUFXLEdBQUc7UUFDckI7UUFFQSxJQUFJLENBQUNELGFBQWEsR0FBRztRQUNyQmEsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7SUFFQSxrREFBa0Q7SUFFbEQseUJBQXlCO0lBQ2pCYywyQkFBaUM7UUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQzVCLGFBQWEsRUFBRTtRQUV6QixJQUFJLENBQUNBLGFBQWEsQ0FBQzJDLGVBQWUsR0FBRyxPQUFPQztZQUMxQyxJQUFJQSxNQUFNQyxJQUFJLElBQUlELE1BQU1DLElBQUksQ0FBQ0MsSUFBSSxHQUFHLEdBQUc7Z0JBQ3JDLDBCQUEwQjtnQkFDMUIsSUFBSUYsTUFBTUMsSUFBSSxDQUFDQyxJQUFJLEdBQUcsSUFBSTtvQkFDeEJqQyxRQUFRRSxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDWixRQUFRLENBQUMsUUFBUSxFQUFFeUMsTUFBTUMsSUFBSSxDQUFDQyxJQUFJLENBQUMsTUFBTSxDQUFDO29CQUN4RTtnQkFDRjtnQkFFQSxnQ0FBZ0M7Z0JBQ2hDLDBDQUEwQztnQkFFMUMsTUFBTUMsUUFBb0I7b0JBQ3hCQyxNQUFNSixNQUFNQyxJQUFJO29CQUNoQkksV0FBV25CLEtBQUtDLEdBQUc7b0JBQ25CbUIsVUFBVXBCLEtBQUtDLEdBQUcsS0FBSyxJQUFJLENBQUMzQixTQUFTO29CQUNyQ0QsVUFBVSxJQUFJLENBQUNBLFFBQVE7Z0JBQ3pCO2dCQUVBVSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUVpQyxNQUFNNUMsUUFBUSxDQUFDLE1BQU0sRUFBRTRDLE1BQU1DLElBQUksQ0FBQ0YsSUFBSSxDQUFDLFlBQVksRUFBRUMsTUFBTUMsSUFBSSxDQUFDRyxJQUFJLEVBQUU7Z0JBRWxHLElBQUksQ0FBQ0MsZUFBZSxHQUFHTDtZQUN6QixPQUFPO2dCQUNMbEMsUUFBUUUsSUFBSSxDQUFDLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQ1osUUFBUSxFQUFFO1lBQzlDO1FBQ0Y7UUFFQSxJQUFJLENBQUNILGFBQWEsQ0FBQ3FELE9BQU8sR0FBRyxDQUFDVDtZQUM1QixNQUFNckIsUUFBUXFCLE1BQU1yQixLQUFLLElBQUksSUFBSWpCLE1BQU07WUFDdkMsSUFBSSxDQUFDb0IsV0FBVyxDQUFDSDtRQUNuQjtRQUVBLElBQUksQ0FBQ3ZCLGFBQWEsQ0FBQ3NELE9BQU8sR0FBRztZQUMzQnpDLFFBQVFDLEdBQUcsQ0FBQztRQUNkO1FBRUEsSUFBSSxDQUFDZCxhQUFhLENBQUN1RCxNQUFNLEdBQUc7WUFDMUIxQyxRQUFRQyxHQUFHLENBQUM7UUFDZDtJQUNGO0lBRUEscURBQXFEO0lBRXJELE9BQU87SUFDQ2tCLFNBQVN3QixRQUE0QixFQUFRO1FBQ25ELElBQUksQ0FBQ3RELEtBQUssR0FBR3NEO1FBQ2IsSUFBSSxDQUFDQyxxQkFBcUIsR0FBR0Q7SUFDL0I7SUFFQSxPQUFPO0lBQ0M5QixZQUFZSCxLQUFZLEVBQVE7UUFDdENWLFFBQVFVLEtBQUssQ0FBQyx1QkFBdUJBO1FBQ3JDLElBQUksQ0FBQ1MsUUFBUSxDQUFDO1FBQ2QsSUFBSSxDQUFDMEIsZUFBZSxHQUFHbkM7SUFDekI7SUFFQSxTQUFTO0lBQ1RvQyxRQUFRQyxRQUFxQyxFQUFRO1FBQ25ELElBQUksQ0FBQ1IsZUFBZSxHQUFHUTtJQUN6QjtJQUVBQyxjQUFjRCxRQUE2QyxFQUFRO1FBQ2pFLElBQUksQ0FBQ0gscUJBQXFCLEdBQUdHO0lBQy9CO0lBRUFFLFFBQVFGLFFBQWdDLEVBQVE7UUFDOUMsSUFBSSxDQUFDRixlQUFlLEdBQUdFO0lBQ3pCO0lBRUEsU0FBUztJQUNULElBQUlHLGVBQW1DO1FBQ3JDLE9BQU8sSUFBSSxDQUFDN0QsS0FBSztJQUNuQjtJQUVBLElBQUk4RCxjQUF1QjtRQUN6QixPQUFPLElBQUksQ0FBQzlELEtBQUssS0FBSztJQUN4QjtJQUVBLElBQUkrRCxXQUFvQjtRQUN0QixPQUFPLElBQUksQ0FBQy9ELEtBQUssS0FBSztJQUN4QjtJQUVBLElBQUlnRSxnQkFBcUM7UUFDdkMsT0FBTztZQUFFLEdBQUcsSUFBSSxDQUFDbkUsTUFBTTtRQUFDO0lBQzFCO0FBQ0Y7QUFFQSxPQUFPO0FBQ0EsTUFBTW9FLHNCQUFzQixDQUFDcEU7SUFDbEMsT0FBTyxJQUFJRixjQUFjRTtBQUMzQixFQUFDO0FBRUQsYUFBYTtBQUNOLE1BQU1xRSw2QkFBNkI7SUFJeEMsTUFBTUMsU0FBbUIsRUFBRTtJQUUzQixJQUFJLENBQUUsbUJBQWtCN0QsU0FBUSxHQUFJO1FBQ2xDNkQsT0FBT0MsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJLENBQUUsbUJBQWtCOUQsVUFBVUMsWUFBWSxHQUFHO1FBQy9DNEQsT0FBT0MsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJLENBQUUsb0JBQW1CNUQsTUFBSyxHQUFJO1FBQ2hDMkQsT0FBT0MsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxXQUFXO0lBQ1gsSUFBSUMsU0FBU0MsUUFBUSxLQUFLLFlBQVlELFNBQVNFLFFBQVEsS0FBSyxhQUFhO1FBQ3ZFSixPQUFPQyxJQUFJLENBQUM7SUFDZDtJQUVBLE9BQU87UUFDTEksV0FBV0wsT0FBT00sTUFBTSxLQUFLO1FBQzdCTjtJQUNGO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbGliL2F1ZGlvLXJlY29yZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbi8vIOmfs+ioiumMhOijveeLgOaFi1xuZXhwb3J0IHR5cGUgQXVkaW9SZWNvcmRlclN0YXRlID0gJ2lkbGUnIHwgJ3JlY29yZGluZycgfCAncGF1c2VkJyB8ICdlcnJvcidcblxuLy8g6Z+z6KiK6YyE6KO96YWN572uXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvUmVjb3JkZXJDb25maWcge1xuICBjaHVua0ludGVydmFsOiBudW1iZXIgLy8g5YiH54mH6ZaT6ZqU77yI5q+r56eS77yJXG4gIG1pbWVUeXBlOiBzdHJpbmcgLy8g6Z+z6KiK5qC85byPXG4gIGF1ZGlvQml0c1BlclNlY29uZD86IG51bWJlciAvLyDpn7PoqIrkvY3lhYPnjodcbn1cblxuLy8g6Z+z6KiK5YiH54mH6LOH5paZXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvQ2h1bmsge1xuICBibG9iOiBCbG9iXG4gIHRpbWVzdGFtcDogbnVtYmVyXG4gIGR1cmF0aW9uOiBudW1iZXJcbiAgc2VxdWVuY2U6IG51bWJlclxufVxuXG4vLyDpoJDoqK3phY3nva5cbmNvbnN0IERFRkFVTFRfQ09ORklHOiBBdWRpb1JlY29yZGVyQ29uZmlnID0ge1xuICBjaHVua0ludGVydmFsOiAxMjAwMCwgLy8gMTIg56eS5YiH54mH77yI6IiH5b6M56uv5ZCM5q2l77yJXG4gIG1pbWVUeXBlOiAnYXVkaW8vd2VibTtjb2RlY3M9b3B1cycsXG4gIGF1ZGlvQml0c1BlclNlY29uZDogMTI4MDAwLCAvLyAxMjgga2Jwc1xufVxuXG4vLyDmlK/mj7TnmoTpn7PoqIrmoLzlvI/liJfooajvvIjlhKrlhYjpoIbluo/vvIlcbi8vIE1QNCDmoLzlvI/lnKggRkZtcGVnIDcuMS4xIOS4reacieabtOWlveeahOWFvOWuueaAp++8jOWboOatpOaUvuWcqOesrOS4gOS9jVxuY29uc3QgU1VQUE9SVEVEX01JTUVfVFlQRVMgPSBbXG4gICdhdWRpby93ZWJtO2NvZGVjcz1vcHVzJywgLy8g56ys5LiA5YSq5YWI77yaV2ViTSBPcHVzIOe3qOino+eivOWZqO+8jOmfs+izquWEquengOS4lOS4sua1geWPi+WlvVxuICAnYXVkaW8vd2VibScsICAgICAgICAgICAgIC8vIOesrOS6jOWEquWFiO+8mldlYk0g6YCa55So5qC85byPXG4gICdhdWRpby9tcDQnLCAgICAgICAgICAgICAgLy8g56ys5LiJ5YSq5YWI77yaTVA0IOS9nOeCuuWCmemBuOaWueahiFxuICAnYXVkaW8vb2dnO2NvZGVjcz1vcHVzJyxcbiAgJ2F1ZGlvL3dhdicsXG5dXG5cbmV4cG9ydCBjbGFzcyBBdWRpb1JlY29yZGVyIHtcbiAgcHJpdmF0ZSBtZWRpYVJlY29yZGVyOiBNZWRpYVJlY29yZGVyIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGNvbmZpZzogQXVkaW9SZWNvcmRlckNvbmZpZ1xuICBwcml2YXRlIHN0YXRlOiBBdWRpb1JlY29yZGVyU3RhdGUgPSAnaWRsZSdcbiAgcHJpdmF0ZSBzZXF1ZW5jZSA9IDBcbiAgcHJpdmF0ZSBzdGFydFRpbWUgPSAwXG5cbiAgLy8g5LqL5Lu25Zue6Kq/XG4gIHByaXZhdGUgb25DaHVua0NhbGxiYWNrPzogKGNodW5rOiBBdWRpb0NodW5rKSA9PiB2b2lkXG4gIHByaXZhdGUgb25TdGF0ZUNoYW5nZUNhbGxiYWNrPzogKHN0YXRlOiBBdWRpb1JlY29yZGVyU3RhdGUpID0+IHZvaWRcbiAgcHJpdmF0ZSBvbkVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkXG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBQYXJ0aWFsPEF1ZGlvUmVjb3JkZXJDb25maWc+ID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZyA9IHsgLi4uREVGQVVMVF9DT05GSUcsIC4uLmNvbmZpZyB9XG5cbiAgICAvLyDmqqLmn6XngI/opr3lmajnm7jlrrnmgKdcbiAgICBpZiAoIXRoaXMuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfmgqjnmoTngI/opr3lmajkuI3mlK/mj7Tpn7PoqIrpjIToo73lip/og70nKVxuICAgIH1cblxuICAgIC8vIOmBuOaTh+aUr+aPtOeahOmfs+ioiuagvOW8j1xuICAgIHRoaXMuY29uZmlnLm1pbWVUeXBlID0gdGhpcy5nZXRTdXBwb3J0ZWRNaW1lVHlwZSgpXG4gIH1cblxuICAvLyDmqqLmn6XngI/opr3lmajmlK/mj7TluqZcbiAgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICdtZWRpYURldmljZXMnIGluIG5hdmlnYXRvciAmJlxuICAgICAgJ2dldFVzZXJNZWRpYScgaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJlxuICAgICAgJ01lZGlhUmVjb3JkZXInIGluIHdpbmRvd1xuICAgIClcbiAgfVxuXG4gIC8vIOeNsuWPluaUr+aPtOeahOmfs+ioiuagvOW8j1xuICBwcml2YXRlIGdldFN1cHBvcnRlZE1pbWVUeXBlKCk6IHN0cmluZyB7XG4gICAgZm9yIChjb25zdCBtaW1lVHlwZSBvZiBTVVBQT1JURURfTUlNRV9UWVBFUykge1xuICAgICAgaWYgKE1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKG1pbWVUeXBlKSkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+OpCDkvb/nlKjpn7PoqIrmoLzlvI86JywgbWltZVR5cGUpXG4gICAgICAgIHJldHVybiBtaW1lVHlwZVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWmguaenOmDveS4jeaUr+aPtO+8jOS9v+eUqOmgkOioreagvOW8j1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIOS9v+eUqOmgkOioremfs+ioiuagvOW8jzonLCBERUZBVUxUX0NPTkZJRy5taW1lVHlwZSlcbiAgICByZXR1cm4gREVGQVVMVF9DT05GSUcubWltZVR5cGVcbiAgfVxuXG4gIC8vIOWIneWni+WMlumfs+ioiuS4sua1gVxuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLm1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgIGVjaG9DYW5jZWxsYXRpb246IHRydWUsXG4gICAgICAgICAgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSxcbiAgICAgICAgICBhdXRvR2FpbkNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgc2FtcGxlUmF0ZTogMTYwMDAsIC8vIDE2a0h6IOmBqeWQiOiqnumfs+i+qOitmFxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+OpCDpn7PoqIrmrIrpmZDlt7LnjbLlj5YnKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfnhKHms5Xlj5blvpfpn7PoqIrmrIrpmZAnXG4gICAgICB0aGlzLmhhbmRsZUVycm9yKG5ldyBFcnJvcihg6Z+z6KiK5Yid5aeL5YyW5aSx5pWXOiAke2Vycm9yTWVzc2FnZX1gKSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgLy8g6ZaL5aeL6YyE6Z+zXG4gIGFzeW5jIHN0YXJ0UmVjb3JkaW5nKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSAncmVjb3JkaW5nJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1lZGlhU3RyZWFtKSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKVxuICAgIH1cblxuICAgIGlmICghdGhpcy5tZWRpYVN0cmVhbSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfpn7PoqIrkuLLmtYHmnKrliJ3lp4vljJYnKVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyDlu7rnq4sgTWVkaWFSZWNvcmRlclxuICAgICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIodGhpcy5tZWRpYVN0cmVhbSwge1xuICAgICAgICBtaW1lVHlwZTogdGhpcy5jb25maWcubWltZVR5cGUsXG4gICAgICAgIGF1ZGlvQml0c1BlclNlY29uZDogdGhpcy5jb25maWcuYXVkaW9CaXRzUGVyU2Vjb25kLFxuICAgICAgfSlcblxuICAgICAgLy8g6Kit5a6a5LqL5Lu26JmV55CG5ZmoXG4gICAgICB0aGlzLnNldHVwTWVkaWFSZWNvcmRlckV2ZW50cygpXG5cbiAgICAgIC8vIOmWi+Wni+mMhOmfs++8jOS9v+eUqCBNZWRpYVJlY29yZGVyIOeahOiHquWLleWIh+eJh+WKn+iDvVxuICAgICAgLy8g6YCZ5q+U5omL5YuVIHJlcXVlc3REYXRhKCkg5pu05Y+v6Z2g5LiU57Ch5r2UXG4gICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQodGhpcy5jb25maWcuY2h1bmtJbnRlcnZhbClcbiAgICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICAgICAgdGhpcy5zZXF1ZW5jZSA9IDBcblxuICAgICAgdGhpcy5zZXRTdGF0ZSgncmVjb3JkaW5nJylcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIOmWi+Wni+mMhOmfsycpXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn6YyE6Z+z5ZWf5YuV5aSx5pWXJ1xuICAgICAgdGhpcy5oYW5kbGVFcnJvcihuZXcgRXJyb3IoYOmMhOmfs+WVn+WLleWkseaVlzogJHtlcnJvck1lc3NhZ2V9YCkpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8vIOWBnOatoumMhOmfs1xuICBzdG9wUmVjb3JkaW5nKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSAncmVjb3JkaW5nJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlcikge1xuICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoJ2lkbGUnKVxuICAgIGNvbnNvbGUubG9nKCfwn5uRIOWBnOatoumMhOmfsycpXG4gIH1cblxuICAvLyDmmqvlgZzpjITpn7NcbiAgcGF1c2VSZWNvcmRpbmcoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09ICdyZWNvcmRpbmcnIHx8ICF0aGlzLm1lZGlhUmVjb3JkZXIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMubWVkaWFSZWNvcmRlci5wYXVzZSgpXG4gICAgdGhpcy5zZXRTdGF0ZSgncGF1c2VkJylcbiAgICBjb25zb2xlLmxvZygn4o+477iPIOaaq+WBnOmMhOmfsycpXG4gIH1cblxuICAvLyDmgaLlvqnpjITpn7NcbiAgcmVzdW1lUmVjb3JkaW5nKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSAncGF1c2VkJyB8fCAhdGhpcy5tZWRpYVJlY29yZGVyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIucmVzdW1lKClcbiAgICB0aGlzLnNldFN0YXRlKCdyZWNvcmRpbmcnKVxuICAgIGNvbnNvbGUubG9nKCfilrbvuI8g5oGi5b6p6YyE6Z+zJylcbiAgfVxuXG4gIC8vIOa4heeQhuizh+a6kFxuICBjbGVhbnVwKCk6IHZvaWQge1xuICAgIHRoaXMuc3RvcFJlY29yZGluZygpXG5cbiAgICBpZiAodGhpcy5tZWRpYVN0cmVhbSkge1xuICAgICAgdGhpcy5tZWRpYVN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSlcbiAgICAgIHRoaXMubWVkaWFTdHJlYW0gPSBudWxsXG4gICAgfVxuXG4gICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbnVsbFxuICAgIGNvbnNvbGUubG9nKCfwn6e5IOmfs+ioiumMhOijveWZqOW3sua4heeQhicpXG4gIH1cblxuICAvLyDms6jmhI/vvJrlt7Lnp7vpmaQgV2ViTSDmoLzlvI/pqZforYnvvIzkv6Hku7sgTWVkaWFSZWNvcmRlciDlkozlvoznq68gRkZtcGVnIOiZleeQhlxuXG4gIC8vIOioreWumiBNZWRpYVJlY29yZGVyIOS6i+S7tuiZleeQhuWZqFxuICBwcml2YXRlIHNldHVwTWVkaWFSZWNvcmRlckV2ZW50cygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubWVkaWFSZWNvcmRlcikgcmV0dXJuXG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLnNpemUgPiAwKSB7XG4gICAgICAgIC8vIOWfuuacrOWkp+Wwj+aqouafpSAtIOmZjeS9jumWgOaqu+WAvOS7peaOpeWPl+abtOWkmuacieaViOWIh+eJh1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5zaXplIDwgNTApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDpn7PoqIrliIfniYcgIyR7dGhpcy5zZXF1ZW5jZX0g5aSq5bCP77yM6Lez6YGOOiAke2V2ZW50LmRhdGEuc2l6ZX0gYnl0ZXNgKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5L+h5Lu7IE1lZGlhUmVjb3JkZXIg55Si55Sf55qE6LOH5paZ77yM5LiN5YGa5qC85byP6amX6K2JXG4gICAgICAgIC8vIOW+jOerryBGRm1wZWcg5pyD55SoIC1mZmxhZ3MgK2dlbnB0cyDomZXnkIbkuI3lrozmlbTnmoTmtYHlvI/os4fmlplcblxuICAgICAgICBjb25zdCBjaHVuazogQXVkaW9DaHVuayA9IHtcbiAgICAgICAgICBibG9iOiBldmVudC5kYXRhLFxuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lLFxuICAgICAgICAgIHNlcXVlbmNlOiB0aGlzLnNlcXVlbmNlKyssXG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+OtSDnlKLnlJ/mnInmlYjpn7PoqIrliIfniYcgIyR7Y2h1bmsuc2VxdWVuY2V9LCDlpKflsI86ICR7Y2h1bmsuYmxvYi5zaXplfSBieXRlcywg6aGe5Z6LOiAke2NodW5rLmJsb2IudHlwZX1gKVxuXG4gICAgICAgIHRoaXMub25DaHVua0NhbGxiYWNrPy4oY2h1bmspXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDmlLbliLDnqbrnmoTpn7PoqIrliIfniYcgIyR7dGhpcy5zZXF1ZW5jZX1gKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IGV2ZW50LmVycm9yIHx8IG5ldyBFcnJvcignTWVkaWFSZWNvcmRlciDpjK/oqqQnKVxuICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcilcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25zdGFydCA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46kIE1lZGlhUmVjb3JkZXIg5bey5ZWf5YuVJylcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25zdG9wID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/Cfm5EgTWVkaWFSZWNvcmRlciDlt7LlgZzmraInKVxuICAgIH1cbiAgfVxuXG4gIC8vIOazqOaEj++8muS4jeWGjemcgOimgeaJi+WLleWumuaZguWZqO+8jE1lZGlhUmVjb3JkZXIuc3RhcnQoaW50ZXJ2YWwpIOacg+iHquWLleiZleeQhuWIh+eJh1xuXG4gIC8vIOioreWumueLgOaFi1xuICBwcml2YXRlIHNldFN0YXRlKG5ld1N0YXRlOiBBdWRpb1JlY29yZGVyU3RhdGUpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGVcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2VDYWxsYmFjaz8uKG5ld1N0YXRlKVxuICB9XG5cbiAgLy8g6Yyv6Kqk6JmV55CGXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IEVycm9yKTogdm9pZCB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEF1ZGlvUmVjb3JkZXIg6Yyv6KqkOicsIGVycm9yKVxuICAgIHRoaXMuc2V0U3RhdGUoJ2Vycm9yJylcbiAgICB0aGlzLm9uRXJyb3JDYWxsYmFjaz8uKGVycm9yKVxuICB9XG5cbiAgLy8g5LqL5Lu25Zue6Kq/6Kit5a6aXG4gIG9uQ2h1bmsoY2FsbGJhY2s6IChjaHVuazogQXVkaW9DaHVuaykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25DaHVua0NhbGxiYWNrID0gY2FsbGJhY2tcbiAgfVxuXG4gIG9uU3RhdGVDaGFuZ2UoY2FsbGJhY2s6IChzdGF0ZTogQXVkaW9SZWNvcmRlclN0YXRlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG5cbiAgb25FcnJvcihjYWxsYmFjazogKGVycm9yOiBFcnJvcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25FcnJvckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgfVxuXG4gIC8vIEdldHRlclxuICBnZXQgY3VycmVudFN0YXRlKCk6IEF1ZGlvUmVjb3JkZXJTdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVcbiAgfVxuXG4gIGdldCBpc1JlY29yZGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gJ3JlY29yZGluZydcbiAgfVxuXG4gIGdldCBpc1BhdXNlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gJ3BhdXNlZCdcbiAgfVxuXG4gIGdldCBjdXJyZW50Q29uZmlnKCk6IEF1ZGlvUmVjb3JkZXJDb25maWcge1xuICAgIHJldHVybiB7IC4uLnRoaXMuY29uZmlnIH1cbiAgfVxufVxuXG4vLyDlt6Xlu6Dlh73mlbhcbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpb1JlY29yZGVyID0gKGNvbmZpZz86IFBhcnRpYWw8QXVkaW9SZWNvcmRlckNvbmZpZz4pOiBBdWRpb1JlY29yZGVyID0+IHtcbiAgcmV0dXJuIG5ldyBBdWRpb1JlY29yZGVyKGNvbmZpZylcbn1cblxuLy8g54CP6Ka95Zmo55u45a655oCn5qqi5p+l5Ye95pW4XG5leHBvcnQgY29uc3QgY2hlY2tBdWRpb1JlY29yZGluZ1N1cHBvcnQgPSAoKToge1xuICBzdXBwb3J0ZWQ6IGJvb2xlYW5cbiAgZXJyb3JzOiBzdHJpbmdbXVxufSA9PiB7XG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXVxuXG4gIGlmICghKCdtZWRpYURldmljZXMnIGluIG5hdmlnYXRvcikpIHtcbiAgICBlcnJvcnMucHVzaCgn5LiN5pSv5o+0IE1lZGlhRGV2aWNlcyBBUEknKVxuICB9XG5cbiAgaWYgKCEoJ2dldFVzZXJNZWRpYScgaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykpIHtcbiAgICBlcnJvcnMucHVzaCgn5LiN5pSv5o+0IGdldFVzZXJNZWRpYSBBUEknKVxuICB9XG5cbiAgaWYgKCEoJ01lZGlhUmVjb3JkZXInIGluIHdpbmRvdykpIHtcbiAgICBlcnJvcnMucHVzaCgn5LiN5pSv5o+0IE1lZGlhUmVjb3JkZXIgQVBJJylcbiAgfVxuXG4gIC8vIOaqouafpSBIVFRQU1xuICBpZiAobG9jYXRpb24ucHJvdG9jb2wgIT09ICdodHRwczonICYmIGxvY2F0aW9uLmhvc3RuYW1lICE9PSAnbG9jYWxob3N0Jykge1xuICAgIGVycm9ycy5wdXNoKCfpnIDopoEgSFRUUFMg6YCj5o6l5omN6IO95L2/55So6Z+z6KiK5Yqf6IO9JylcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3VwcG9ydGVkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgIGVycm9yc1xuICB9XG59XG4iXSwibmFtZXMiOlsiREVGQVVMVF9DT05GSUciLCJjaHVua0ludGVydmFsIiwibWltZVR5cGUiLCJhdWRpb0JpdHNQZXJTZWNvbmQiLCJTVVBQT1JURURfTUlNRV9UWVBFUyIsIkF1ZGlvUmVjb3JkZXIiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsIm1lZGlhUmVjb3JkZXIiLCJtZWRpYVN0cmVhbSIsInN0YXRlIiwic2VxdWVuY2UiLCJzdGFydFRpbWUiLCJpc1N1cHBvcnRlZCIsIkVycm9yIiwiZ2V0U3VwcG9ydGVkTWltZVR5cGUiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJ3aW5kb3ciLCJNZWRpYVJlY29yZGVyIiwiaXNUeXBlU3VwcG9ydGVkIiwiY29uc29sZSIsImxvZyIsIndhcm4iLCJpbml0aWFsaXplIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJlY2hvQ2FuY2VsbGF0aW9uIiwibm9pc2VTdXBwcmVzc2lvbiIsImF1dG9HYWluQ29udHJvbCIsInNhbXBsZVJhdGUiLCJlcnJvciIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJoYW5kbGVFcnJvciIsInN0YXJ0UmVjb3JkaW5nIiwic2V0dXBNZWRpYVJlY29yZGVyRXZlbnRzIiwic3RhcnQiLCJEYXRlIiwibm93Iiwic2V0U3RhdGUiLCJzdG9wUmVjb3JkaW5nIiwic3RvcCIsInBhdXNlUmVjb3JkaW5nIiwicGF1c2UiLCJyZXN1bWVSZWNvcmRpbmciLCJyZXN1bWUiLCJjbGVhbnVwIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwib25kYXRhYXZhaWxhYmxlIiwiZXZlbnQiLCJkYXRhIiwic2l6ZSIsImNodW5rIiwiYmxvYiIsInRpbWVzdGFtcCIsImR1cmF0aW9uIiwidHlwZSIsIm9uQ2h1bmtDYWxsYmFjayIsIm9uZXJyb3IiLCJvbnN0YXJ0Iiwib25zdG9wIiwibmV3U3RhdGUiLCJvblN0YXRlQ2hhbmdlQ2FsbGJhY2siLCJvbkVycm9yQ2FsbGJhY2siLCJvbkNodW5rIiwiY2FsbGJhY2siLCJvblN0YXRlQ2hhbmdlIiwib25FcnJvciIsImN1cnJlbnRTdGF0ZSIsImlzUmVjb3JkaW5nIiwiaXNQYXVzZWQiLCJjdXJyZW50Q29uZmlnIiwiY3JlYXRlQXVkaW9SZWNvcmRlciIsImNoZWNrQXVkaW9SZWNvcmRpbmdTdXBwb3J0IiwiZXJyb3JzIiwicHVzaCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInN1cHBvcnRlZCIsImxlbmd0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/audio-recorder.ts\n");

/***/ }),

/***/ "(ssr)/./lib/feature-flags.ts":
/*!******************************!*\
  !*** ./lib/feature-flags.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   disableFeature: () => (/* binding */ disableFeature),\n/* harmony export */   enableFeature: () => (/* binding */ enableFeature),\n/* harmony export */   featureFlagManager: () => (/* binding */ featureFlagManager),\n/* harmony export */   isFeatureEnabled: () => (/* binding */ isFeatureEnabled)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ featureFlagManager,isFeatureEnabled,enableFeature,disableFeature auto */ // 預設功能開關設定（保守模式）\nconst defaultFeatureFlags = {\n    useNewStateManagement: false,\n    useNewRecordingHook: false,\n    useNewSessionHook: false,\n    useNewTranscriptHook: false,\n    useNewAppStateHook: false,\n    enableStateSync: true,\n    enableDebugLogging: true\n};\n// 從 localStorage 讀取功能開關設定\nfunction loadFeatureFlags() {\n    if (true) {\n        return defaultFeatureFlags;\n    }\n    try {\n        const stored = localStorage.getItem('study-scriber-feature-flags');\n        if (stored) {\n            const parsed = JSON.parse(stored);\n            return {\n                ...defaultFeatureFlags,\n                ...parsed\n            };\n        }\n    } catch (error) {\n        console.warn('🚩 [FeatureFlags] 讀取功能開關失敗:', error);\n    }\n    return defaultFeatureFlags;\n}\n// 儲存功能開關設定到 localStorage\nfunction saveFeatureFlags(flags) {\n    if (true) return;\n    try {\n        const current = loadFeatureFlags();\n        const updated = {\n            ...current,\n            ...flags\n        };\n        localStorage.setItem('study-scriber-feature-flags', JSON.stringify(updated));\n        console.log('🚩 [FeatureFlags] 功能開關已更新:', updated);\n    } catch (error) {\n        console.error('🚩 [FeatureFlags] 儲存功能開關失敗:', error);\n    }\n}\n// 功能開關管理器\nclass FeatureFlagManager {\n    constructor(){\n        this.flags = loadFeatureFlags();\n        this.exposeToWindow();\n    }\n    // 檢查功能是否啟用\n    isEnabled(flag) {\n        return this.flags[flag];\n    }\n    // 啟用功能\n    enable(flag) {\n        this.updateFlag(flag, true);\n    }\n    // 停用功能\n    disable(flag) {\n        this.updateFlag(flag, false);\n    }\n    // 切換功能狀態\n    toggle(flag) {\n        this.updateFlag(flag, !this.flags[flag]);\n    }\n    // 更新單一功能開關\n    updateFlag(flag, value) {\n        this.flags = {\n            ...this.flags,\n            [flag]: value\n        };\n        saveFeatureFlags({\n            [flag]: value\n        });\n        console.log(`🚩 [FeatureFlags] ${flag}: ${value ? '啟用' : '停用'}`);\n        // 如果是關鍵功能，給予警告\n        if (flag === 'useNewStateManagement' && value) {\n            console.warn('⚠️ [FeatureFlags] 新狀態管理系統已啟用，請確保已完成測試');\n        }\n    }\n    // 批次更新功能開關\n    updateFlags(updates) {\n        this.flags = {\n            ...this.flags,\n            ...updates\n        };\n        saveFeatureFlags(updates);\n        console.log('🚩 [FeatureFlags] 批次更新完成:', updates);\n    }\n    // 重置所有功能開關\n    reset() {\n        this.flags = defaultFeatureFlags;\n        if (false) {}\n        console.log('🚩 [FeatureFlags] 已重置為預設值');\n    }\n    // 取得當前所有功能開關狀態\n    getAll() {\n        return {\n            ...this.flags\n        };\n    }\n    // 暴露到 window 供調試使用\n    exposeToWindow() {\n        if (false) {}\n    }\n}\n// 單例模式\nconst featureFlagManager = new FeatureFlagManager();\n// 便利函數\nconst isFeatureEnabled = (flag)=>featureFlagManager.isEnabled(flag);\nconst enableFeature = (flag)=>featureFlagManager.enable(flag);\nconst disableFeature = (flag)=>featureFlagManager.disable(flag);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvZmVhdHVyZS1mbGFncy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O3NIQWFBLGlCQUFpQjtBQUNqQixNQUFNQSxzQkFBb0M7SUFDdENDLHVCQUF1QjtJQUN2QkMscUJBQXFCO0lBQ3JCQyxtQkFBbUI7SUFDbkJDLHNCQUFzQjtJQUN0QkMsb0JBQW9CO0lBQ3BCQyxpQkFBaUI7SUFDakJDLG9CQUFvQjtBQUN4QjtBQUVBLDBCQUEwQjtBQUMxQixTQUFTQztJQUNMLElBQUksSUFBNkIsRUFBRTtRQUMvQixPQUFPUjtJQUNYO0lBRUEsSUFBSTtRQUNBLE1BQU1TLFNBQVNDLGFBQWFDLE9BQU8sQ0FBQztRQUNwQyxJQUFJRixRQUFRO1lBQ1IsTUFBTUcsU0FBU0MsS0FBS0MsS0FBSyxDQUFDTDtZQUMxQixPQUFPO2dCQUFFLEdBQUdULG1CQUFtQjtnQkFBRSxHQUFHWSxNQUFNO1lBQUM7UUFDL0M7SUFDSixFQUFFLE9BQU9HLE9BQU87UUFDWkMsUUFBUUMsSUFBSSxDQUFDLCtCQUErQkY7SUFDaEQ7SUFFQSxPQUFPZjtBQUNYO0FBRUEseUJBQXlCO0FBQ3pCLFNBQVNrQixpQkFBaUJDLEtBQTRCO0lBQ2xELElBQUksSUFBNkIsRUFBRTtJQUVuQyxJQUFJO1FBQ0EsTUFBTUMsVUFBVVo7UUFDaEIsTUFBTWEsVUFBVTtZQUFFLEdBQUdELE9BQU87WUFBRSxHQUFHRCxLQUFLO1FBQUM7UUFDdkNULGFBQWFZLE9BQU8sQ0FBQywrQkFBK0JULEtBQUtVLFNBQVMsQ0FBQ0Y7UUFDbkVMLFFBQVFRLEdBQUcsQ0FBQyw4QkFBOEJIO0lBQzlDLEVBQUUsT0FBT04sT0FBTztRQUNaQyxRQUFRRCxLQUFLLENBQUMsK0JBQStCQTtJQUNqRDtBQUNKO0FBRUEsVUFBVTtBQUNWLE1BQU1VO0lBR0ZDLGFBQWM7UUFDVixJQUFJLENBQUNQLEtBQUssR0FBR1g7UUFDYixJQUFJLENBQUNtQixjQUFjO0lBQ3ZCO0lBRUEsV0FBVztJQUNYQyxVQUFVQyxJQUF3QixFQUFXO1FBQ3pDLE9BQU8sSUFBSSxDQUFDVixLQUFLLENBQUNVLEtBQUs7SUFDM0I7SUFFQSxPQUFPO0lBQ1BDLE9BQU9ELElBQXdCLEVBQVE7UUFDbkMsSUFBSSxDQUFDRSxVQUFVLENBQUNGLE1BQU07SUFDMUI7SUFFQSxPQUFPO0lBQ1BHLFFBQVFILElBQXdCLEVBQVE7UUFDcEMsSUFBSSxDQUFDRSxVQUFVLENBQUNGLE1BQU07SUFDMUI7SUFFQSxTQUFTO0lBQ1RJLE9BQU9KLElBQXdCLEVBQVE7UUFDbkMsSUFBSSxDQUFDRSxVQUFVLENBQUNGLE1BQU0sQ0FBQyxJQUFJLENBQUNWLEtBQUssQ0FBQ1UsS0FBSztJQUMzQztJQUVBLFdBQVc7SUFDSEUsV0FBV0YsSUFBd0IsRUFBRUssS0FBYyxFQUFRO1FBQy9ELElBQUksQ0FBQ2YsS0FBSyxHQUFHO1lBQUUsR0FBRyxJQUFJLENBQUNBLEtBQUs7WUFBRSxDQUFDVSxLQUFLLEVBQUVLO1FBQU07UUFDNUNoQixpQkFBaUI7WUFBRSxDQUFDVyxLQUFLLEVBQUVLO1FBQU07UUFFakNsQixRQUFRUSxHQUFHLENBQUMsQ0FBQyxrQkFBa0IsRUFBRUssS0FBSyxFQUFFLEVBQUVLLFFBQVEsT0FBTyxNQUFNO1FBRS9ELGVBQWU7UUFDZixJQUFJTCxTQUFTLDJCQUEyQkssT0FBTztZQUMzQ2xCLFFBQVFDLElBQUksQ0FBQztRQUNqQjtJQUNKO0lBRUEsV0FBVztJQUNYa0IsWUFBWUMsT0FBOEIsRUFBUTtRQUM5QyxJQUFJLENBQUNqQixLQUFLLEdBQUc7WUFBRSxHQUFHLElBQUksQ0FBQ0EsS0FBSztZQUFFLEdBQUdpQixPQUFPO1FBQUM7UUFDekNsQixpQkFBaUJrQjtRQUNqQnBCLFFBQVFRLEdBQUcsQ0FBQyw2QkFBNkJZO0lBQzdDO0lBRUEsV0FBVztJQUNYQyxRQUFjO1FBQ1YsSUFBSSxDQUFDbEIsS0FBSyxHQUFHbkI7UUFDYixJQUFJLEtBQTZCLEVBQUUsRUFFbEM7UUFDRGdCLFFBQVFRLEdBQUcsQ0FBQztJQUNoQjtJQUVBLGVBQWU7SUFDZmUsU0FBdUI7UUFDbkIsT0FBTztZQUFFLEdBQUcsSUFBSSxDQUFDcEIsS0FBSztRQUFDO0lBQzNCO0lBRUEsbUJBQW1CO0lBQ1hRLGlCQUF1QjtRQUMzQixJQUFJLEtBQTZCLEVBQUUsRUErQmxDO0lBQ0w7QUFDSjtBQUVBLE9BQU87QUFDQSxNQUFNbUIscUJBQXFCLElBQUlyQixxQkFBb0I7QUFFMUQsT0FBTztBQUNBLE1BQU1zQixtQkFBbUIsQ0FBQ2xCLE9BQzdCaUIsbUJBQW1CbEIsU0FBUyxDQUFDQyxNQUFLO0FBRS9CLE1BQU1tQixnQkFBZ0IsQ0FBQ25CLE9BQzFCaUIsbUJBQW1CaEIsTUFBTSxDQUFDRCxNQUFLO0FBRTVCLE1BQU1vQixpQkFBaUIsQ0FBQ3BCLE9BQzNCaUIsbUJBQW1CZCxPQUFPLENBQUNILE1BQUsiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9mZWF0dXJlLWZsYWdzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbi8vIOWKn+iDvemWi+mXnOmFjee9rlxuZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlRmxhZ3Mge1xuICAgIHVzZU5ld1N0YXRlTWFuYWdlbWVudDogYm9vbGVhblxuICAgIHVzZU5ld1JlY29yZGluZ0hvb2s6IGJvb2xlYW5cbiAgICB1c2VOZXdTZXNzaW9uSG9vazogYm9vbGVhblxuICAgIHVzZU5ld1RyYW5zY3JpcHRIb29rOiBib29sZWFuXG4gICAgdXNlTmV3QXBwU3RhdGVIb29rOiBib29sZWFuXG4gICAgZW5hYmxlU3RhdGVTeW5jOiBib29sZWFuXG4gICAgZW5hYmxlRGVidWdMb2dnaW5nOiBib29sZWFuXG59XG5cbi8vIOmgkOioreWKn+iDvemWi+mXnOioreWumu+8iOS/neWuiOaooeW8j++8iVxuY29uc3QgZGVmYXVsdEZlYXR1cmVGbGFnczogRmVhdHVyZUZsYWdzID0ge1xuICAgIHVzZU5ld1N0YXRlTWFuYWdlbWVudDogZmFsc2UsICAvLyDpoJDoqK3pl5zplonmlrDni4DmhYvnrqHnkIZcbiAgICB1c2VOZXdSZWNvcmRpbmdIb29rOiBmYWxzZSwgICAgLy8g6aCQ6Kit6Zec6ZaJ5pawIHJlY29yZGluZyBob29rXG4gICAgdXNlTmV3U2Vzc2lvbkhvb2s6IGZhbHNlLCAgICAgIC8vIOmgkOioremXnOmWieaWsCBzZXNzaW9uIGhvb2tcbiAgICB1c2VOZXdUcmFuc2NyaXB0SG9vazogZmFsc2UsICAgLy8g6aCQ6Kit6Zec6ZaJ5pawIHRyYW5zY3JpcHQgaG9va1xuICAgIHVzZU5ld0FwcFN0YXRlSG9vazogZmFsc2UsICAgICAvLyDpoJDoqK3pl5zplonmlrAgYXBwIHN0YXRlIGhvb2tcbiAgICBlbmFibGVTdGF0ZVN5bmM6IHRydWUsICAgICAgICAgLy8g6aCQ6Kit6ZaL5ZWf54uA5oWL5ZCM5q2lXG4gICAgZW5hYmxlRGVidWdMb2dnaW5nOiB0cnVlLCAgICAgIC8vIOmgkOioremWi+WVn+iqv+ippuaXpeiqjFxufVxuXG4vLyDlvp4gbG9jYWxTdG9yYWdlIOiugOWPluWKn+iDvemWi+mXnOioreWumlxuZnVuY3Rpb24gbG9hZEZlYXR1cmVGbGFncygpOiBGZWF0dXJlRmxhZ3Mge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEZlYXR1cmVGbGFnc1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdHVkeS1zY3JpYmVyLWZlYXR1cmUtZmxhZ3MnKVxuICAgICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHN0b3JlZClcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmRlZmF1bHRGZWF0dXJlRmxhZ3MsIC4uLnBhcnNlZCB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ/CfmqkgW0ZlYXR1cmVGbGFnc10g6K6A5Y+W5Yqf6IO96ZaL6Zec5aSx5pWXOicsIGVycm9yKVxuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0RmVhdHVyZUZsYWdzXG59XG5cbi8vIOWEsuWtmOWKn+iDvemWi+mXnOioreWumuWIsCBsb2NhbFN0b3JhZ2VcbmZ1bmN0aW9uIHNhdmVGZWF0dXJlRmxhZ3MoZmxhZ3M6IFBhcnRpYWw8RmVhdHVyZUZsYWdzPik6IHZvaWQge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbG9hZEZlYXR1cmVGbGFncygpXG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB7IC4uLmN1cnJlbnQsIC4uLmZsYWdzIH1cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0dWR5LXNjcmliZXItZmVhdHVyZS1mbGFncycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQpKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+aqSBbRmVhdHVyZUZsYWdzXSDlip/og73plovpl5zlt7Lmm7TmlrA6JywgdXBkYXRlZClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfwn5qpIFtGZWF0dXJlRmxhZ3NdIOWEsuWtmOWKn+iDvemWi+mXnOWkseaVlzonLCBlcnJvcilcbiAgICB9XG59XG5cbi8vIOWKn+iDvemWi+mXnOeuoeeQhuWZqFxuY2xhc3MgRmVhdHVyZUZsYWdNYW5hZ2VyIHtcbiAgICBwcml2YXRlIGZsYWdzOiBGZWF0dXJlRmxhZ3NcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmZsYWdzID0gbG9hZEZlYXR1cmVGbGFncygpXG4gICAgICAgIHRoaXMuZXhwb3NlVG9XaW5kb3coKVxuICAgIH1cblxuICAgIC8vIOaqouafpeWKn+iDveaYr+WQpuWVn+eUqFxuICAgIGlzRW5hYmxlZChmbGFnOiBrZXlvZiBGZWF0dXJlRmxhZ3MpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhZ3NbZmxhZ11cbiAgICB9XG5cbiAgICAvLyDllZ/nlKjlip/og71cbiAgICBlbmFibGUoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlRmxhZyhmbGFnLCB0cnVlKVxuICAgIH1cblxuICAgIC8vIOWBnOeUqOWKn+iDvVxuICAgIGRpc2FibGUoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlRmxhZyhmbGFnLCBmYWxzZSlcbiAgICB9XG5cbiAgICAvLyDliIfmj5vlip/og73ni4DmhYtcbiAgICB0b2dnbGUoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlRmxhZyhmbGFnLCAhdGhpcy5mbGFnc1tmbGFnXSlcbiAgICB9XG5cbiAgICAvLyDmm7TmlrDllq7kuIDlip/og73plovpl5xcbiAgICBwcml2YXRlIHVwZGF0ZUZsYWcoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzLCB2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmZsYWdzID0geyAuLi50aGlzLmZsYWdzLCBbZmxhZ106IHZhbHVlIH1cbiAgICAgICAgc2F2ZUZlYXR1cmVGbGFncyh7IFtmbGFnXTogdmFsdWUgfSlcblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+aqSBbRmVhdHVyZUZsYWdzXSAke2ZsYWd9OiAke3ZhbHVlID8gJ+WVn+eUqCcgOiAn5YGc55SoJ31gKVxuXG4gICAgICAgIC8vIOWmguaenOaYr+mXnOmNteWKn+iDve+8jOe1puS6iOitpuWRilxuICAgICAgICBpZiAoZmxhZyA9PT0gJ3VzZU5ld1N0YXRlTWFuYWdlbWVudCcgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFtGZWF0dXJlRmxhZ3NdIOaWsOeLgOaFi+euoeeQhuezu+e1seW3suWVn+eUqO+8jOiri+eiuuS/neW3suWujOaIkOa4rOippicpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmibnmrKHmm7TmlrDlip/og73plovpl5xcbiAgICB1cGRhdGVGbGFncyh1cGRhdGVzOiBQYXJ0aWFsPEZlYXR1cmVGbGFncz4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5mbGFncyA9IHsgLi4udGhpcy5mbGFncywgLi4udXBkYXRlcyB9XG4gICAgICAgIHNhdmVGZWF0dXJlRmxhZ3ModXBkYXRlcylcbiAgICAgICAgY29uc29sZS5sb2coJ/CfmqkgW0ZlYXR1cmVGbGFnc10g5om55qyh5pu05paw5a6M5oiQOicsIHVwZGF0ZXMpXG4gICAgfVxuXG4gICAgLy8g6YeN572u5omA5pyJ5Yqf6IO96ZaL6ZecXG4gICAgcmVzZXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBkZWZhdWx0RmVhdHVyZUZsYWdzXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3N0dWR5LXNjcmliZXItZmVhdHVyZS1mbGFncycpXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coJ/CfmqkgW0ZlYXR1cmVGbGFnc10g5bey6YeN572u54K66aCQ6Kit5YC8JylcbiAgICB9XG5cbiAgICAvLyDlj5blvpfnlbbliY3miYDmnInlip/og73plovpl5zni4DmhYtcbiAgICBnZXRBbGwoKTogRmVhdHVyZUZsYWdzIHtcbiAgICAgICAgcmV0dXJuIHsgLi4udGhpcy5mbGFncyB9XG4gICAgfVxuXG4gICAgLy8g5pq06Zyy5YiwIHdpbmRvdyDkvpvoqr/oqabkvb/nlKhcbiAgICBwcml2YXRlIGV4cG9zZVRvV2luZG93KCk6IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5mZWF0dXJlRmxhZ3MgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlOiAoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKSA9PiB0aGlzLmVuYWJsZShmbGFnKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlOiAoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKSA9PiB0aGlzLmRpc2FibGUoZmxhZyksXG4gICAgICAgICAgICAgICAgdG9nZ2xlOiAoZmxhZzoga2V5b2YgRmVhdHVyZUZsYWdzKSA9PiB0aGlzLnRvZ2dsZShmbGFnKSxcbiAgICAgICAgICAgICAgICBpc0VuYWJsZWQ6IChmbGFnOiBrZXlvZiBGZWF0dXJlRmxhZ3MpID0+IHRoaXMuaXNFbmFibGVkKGZsYWcpLFxuICAgICAgICAgICAgICAgIGdldEFsbDogKCkgPT4gdGhpcy5nZXRBbGwoKSxcbiAgICAgICAgICAgICAgICByZXNldDogKCkgPT4gdGhpcy5yZXNldCgpLFxuXG4gICAgICAgICAgICAgICAgLy8g5L6/5Yip5pa55rOVXG4gICAgICAgICAgICAgICAgZW5hYmxlTmV3U3RhdGU6ICgpID0+IHRoaXMuZW5hYmxlKCd1c2VOZXdTdGF0ZU1hbmFnZW1lbnQnKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlTmV3U3RhdGU6ICgpID0+IHRoaXMuZGlzYWJsZSgndXNlTmV3U3RhdGVNYW5hZ2VtZW50JyksXG4gICAgICAgICAgICAgICAgZW5hYmxlQWxsOiAoKSA9PiB0aGlzLnVwZGF0ZUZsYWdzKHtcbiAgICAgICAgICAgICAgICAgICAgdXNlTmV3U3RhdGVNYW5hZ2VtZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1c2VOZXdSZWNvcmRpbmdIb29rOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1c2VOZXdTZXNzaW9uSG9vazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlTmV3VHJhbnNjcmlwdEhvb2s6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHVzZU5ld0FwcFN0YXRlSG9vazogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlQWxsOiAoKSA9PiB0aGlzLnVwZGF0ZUZsYWdzKHtcbiAgICAgICAgICAgICAgICAgICAgdXNlTmV3U3RhdGVNYW5hZ2VtZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlTmV3UmVjb3JkaW5nSG9vazogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHVzZU5ld1Nlc3Npb25Ib29rOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlTmV3VHJhbnNjcmlwdEhvb2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB1c2VOZXdBcHBTdGF0ZUhvb2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+aqSBbRmVhdHVyZUZsYWdzXSDoqr/oqabku4vpnaLlt7LmmrTpnLLliLAgd2luZG93LmZlYXR1cmVGbGFncycpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnICAg5L2/55So5pa55rOVOiB3aW5kb3cuZmVhdHVyZUZsYWdzLmVuYWJsZU5ld1N0YXRlKCknKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJyAgIOafpeeci+eLgOaFizogd2luZG93LmZlYXR1cmVGbGFncy5nZXRBbGwoKScpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIOWWruS+i+aooeW8j1xuZXhwb3J0IGNvbnN0IGZlYXR1cmVGbGFnTWFuYWdlciA9IG5ldyBGZWF0dXJlRmxhZ01hbmFnZXIoKVxuXG4vLyDkvr/liKnlh73mlbhcbmV4cG9ydCBjb25zdCBpc0ZlYXR1cmVFbmFibGVkID0gKGZsYWc6IGtleW9mIEZlYXR1cmVGbGFncyk6IGJvb2xlYW4gPT5cbiAgICBmZWF0dXJlRmxhZ01hbmFnZXIuaXNFbmFibGVkKGZsYWcpXG5cbmV4cG9ydCBjb25zdCBlbmFibGVGZWF0dXJlID0gKGZsYWc6IGtleW9mIEZlYXR1cmVGbGFncyk6IHZvaWQgPT5cbiAgICBmZWF0dXJlRmxhZ01hbmFnZXIuZW5hYmxlKGZsYWcpXG5cbmV4cG9ydCBjb25zdCBkaXNhYmxlRmVhdHVyZSA9IChmbGFnOiBrZXlvZiBGZWF0dXJlRmxhZ3MpOiB2b2lkID0+XG4gICAgZmVhdHVyZUZsYWdNYW5hZ2VyLmRpc2FibGUoZmxhZylcbiJdLCJuYW1lcyI6WyJkZWZhdWx0RmVhdHVyZUZsYWdzIiwidXNlTmV3U3RhdGVNYW5hZ2VtZW50IiwidXNlTmV3UmVjb3JkaW5nSG9vayIsInVzZU5ld1Nlc3Npb25Ib29rIiwidXNlTmV3VHJhbnNjcmlwdEhvb2siLCJ1c2VOZXdBcHBTdGF0ZUhvb2siLCJlbmFibGVTdGF0ZVN5bmMiLCJlbmFibGVEZWJ1Z0xvZ2dpbmciLCJsb2FkRmVhdHVyZUZsYWdzIiwic3RvcmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJzYXZlRmVhdHVyZUZsYWdzIiwiZmxhZ3MiLCJjdXJyZW50IiwidXBkYXRlZCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJsb2ciLCJGZWF0dXJlRmxhZ01hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImV4cG9zZVRvV2luZG93IiwiaXNFbmFibGVkIiwiZmxhZyIsImVuYWJsZSIsInVwZGF0ZUZsYWciLCJkaXNhYmxlIiwidG9nZ2xlIiwidmFsdWUiLCJ1cGRhdGVGbGFncyIsInVwZGF0ZXMiLCJyZXNldCIsInJlbW92ZUl0ZW0iLCJnZXRBbGwiLCJ3aW5kb3ciLCJmZWF0dXJlRmxhZ3MiLCJlbmFibGVOZXdTdGF0ZSIsImRpc2FibGVOZXdTdGF0ZSIsImVuYWJsZUFsbCIsImRpc2FibGVBbGwiLCJmZWF0dXJlRmxhZ01hbmFnZXIiLCJpc0ZlYXR1cmVFbmFibGVkIiwiZW5hYmxlRmVhdHVyZSIsImRpc2FibGVGZWF0dXJlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/feature-flags.ts\n");

/***/ }),

/***/ "(ssr)/./lib/initial-state-loader.ts":
/*!*************************************!*\
  !*** ./lib/initial-state-loader.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InitialStateLoader: () => (/* binding */ InitialStateLoader)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ InitialStateLoader auto */ /**\n * 初始狀態載入器\n * 負責從 localStorage 或其他持久化存儲載入初始狀態\n */ class InitialStateLoader {\n    static{\n        this.STORAGE_KEYS = {\n            DRAFT_NOTE: 'draft_note',\n            LAST_SESSION: 'last_session',\n            APP_STATE: 'app_state_v1'\n        };\n    }\n    /**\n     * 載入初始應用狀態\n     * 優先順序：localStorage > 預設狀態\n     */ static loadInitialAppData() {\n        console.log('🔄 [InitialStateLoader] 開始載入初始狀態');\n        try {\n            // 1. 載入草稿筆記\n            const draftContent = this.loadDraftNote();\n            // 2. 載入上次會話資訊（如果有的話）\n            const lastSession = this.loadLastSession();\n            // 3. 載入完整應用狀態（如果有的話）\n            const savedAppState = this.loadSavedAppState();\n            const initialAppData = {\n                state: savedAppState?.state || 'default',\n                transcriptEntries: savedAppState?.transcriptEntries || [],\n                editorContent: draftContent || '',\n                isRecording: false,\n                recordingTime: 0,\n                session: lastSession\n            };\n            console.log('🔄 [InitialStateLoader] 初始狀態載入完成:', {\n                hasDraftContent: !!draftContent,\n                hasLastSession: !!lastSession,\n                hasSavedAppState: !!savedAppState,\n                state: initialAppData.state,\n                transcriptCount: initialAppData.transcriptEntries.length\n            });\n            return initialAppData;\n        } catch (error) {\n            console.error('❌ [InitialStateLoader] 載入初始狀態失敗:', error);\n            return this.getDefaultAppData();\n        }\n    }\n    /**\n     * 載入草稿筆記內容\n     */ static loadDraftNote() {\n        try {\n            const draft = localStorage.getItem(this.STORAGE_KEYS.DRAFT_NOTE);\n            return draft || '';\n        } catch (error) {\n            console.warn('⚠️ [InitialStateLoader] 載入草稿筆記失敗:', error);\n            return '';\n        }\n    }\n    /**\n     * 載入上次會話資訊\n     */ static loadLastSession() {\n        try {\n            const sessionData = localStorage.getItem(this.STORAGE_KEYS.LAST_SESSION);\n            if (!sessionData) return null;\n            const session = JSON.parse(sessionData);\n            // 驗證會話資料結構\n            if (session && typeof session === 'object' && session.id) {\n                // 只有在會話狀態不是 completed 或 error 時才恢復\n                if (session.status === 'completed' || session.status === 'error') {\n                    console.log('🔄 [InitialStateLoader] 上次會話已完成，不恢復:', session.status);\n                    return null;\n                }\n                console.log('🔄 [InitialStateLoader] 恢復上次會話:', {\n                    id: session.id,\n                    status: session.status,\n                    type: session.type\n                });\n                return session;\n            }\n            return null;\n        } catch (error) {\n            console.warn('⚠️ [InitialStateLoader] 載入上次會話失敗:', error);\n            return null;\n        }\n    }\n    /**\n     * 載入完整的應用狀態\n     */ static loadSavedAppState() {\n        try {\n            const stateData = localStorage.getItem(this.STORAGE_KEYS.APP_STATE);\n            if (!stateData) return null;\n            const savedState = JSON.parse(stateData);\n            // 驗證狀態資料結構\n            if (savedState && typeof savedState === 'object') {\n                console.log('🔄 [InitialStateLoader] 載入已儲存的應用狀態');\n                return savedState;\n            }\n            return null;\n        } catch (error) {\n            console.warn('⚠️ [InitialStateLoader] 載入應用狀態失敗:', error);\n            return null;\n        }\n    }\n    /**\n     * 獲取預設應用狀態\n     */ static getDefaultAppData() {\n        console.log('🔄 [InitialStateLoader] 使用預設狀態');\n        return {\n            state: 'default',\n            transcriptEntries: [],\n            editorContent: '',\n            isRecording: false,\n            recordingTime: 0,\n            session: null\n        };\n    }\n    /**\n     * 儲存應用狀態到 localStorage\n     */ static saveAppState(appData) {\n        try {\n            // 儲存完整應用狀態（排除敏感資訊）\n            const stateToSave = {\n                state: appData.state,\n                transcriptEntries: appData.transcriptEntries\n            };\n            localStorage.setItem(this.STORAGE_KEYS.APP_STATE, JSON.stringify(stateToSave));\n            // 儲存會話資訊\n            if (appData.session) {\n                localStorage.setItem(this.STORAGE_KEYS.LAST_SESSION, JSON.stringify(appData.session));\n            } else {\n                localStorage.removeItem(this.STORAGE_KEYS.LAST_SESSION);\n            }\n            console.log('💾 [InitialStateLoader] 應用狀態已儲存');\n        } catch (error) {\n            console.error('❌ [InitialStateLoader] 儲存應用狀態失敗:', error);\n        }\n    }\n    /**\n     * 清除所有持久化狀態\n     */ static clearPersistedState() {\n        try {\n            localStorage.removeItem(this.STORAGE_KEYS.APP_STATE);\n            localStorage.removeItem(this.STORAGE_KEYS.LAST_SESSION);\n            // 注意：不清除 DRAFT_NOTE，因為那是用戶的草稿內容\n            console.log('🗑️ [InitialStateLoader] 持久化狀態已清除');\n        } catch (error) {\n            console.error('❌ [InitialStateLoader] 清除持久化狀態失敗:', error);\n        }\n    }\n    /**\n     * 檢查是否有持久化狀態\n     */ static hasPersistedState() {\n        try {\n            return !!(localStorage.getItem(this.STORAGE_KEYS.APP_STATE) || localStorage.getItem(this.STORAGE_KEYS.LAST_SESSION));\n        } catch (error) {\n            console.warn('⚠️ [InitialStateLoader] 檢查持久化狀態失敗:', error);\n            return false;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxRQUFRQyxHQUFHLENBQUM7UUFDaEIsRUFBRSxPQUFPbUIsT0FBTztZQUNacEIsUUFBUW9CLEtBQUssQ0FBQyxxQ0FBcUNBO1FBQ3ZEO0lBQ0o7SUFFQTs7S0FFQyxHQUNELE9BQU9xQixvQkFBNkI7UUFDaEMsSUFBSTtZQUNBLE9BQU8sQ0FBQyxDQUNKbEIsQ0FBQUEsYUFBYUMsT0FBTyxDQUFDLElBQUksQ0FBQzdCLFlBQVksQ0FBQ0csU0FBUyxLQUNoRHlCLGFBQWFDLE9BQU8sQ0FBQyxJQUFJLENBQUM3QixZQUFZLENBQUNFLFlBQVk7UUFFM0QsRUFBRSxPQUFPdUIsT0FBTztZQUNacEIsUUFBUXlCLElBQUksQ0FBQyxzQ0FBc0NMO1lBQ25ELE9BQU87UUFDWDtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi9pbml0aWFsLXN0YXRlLWxvYWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgdHlwZSB7IEFwcERhdGEgfSBmcm9tICcuLi90eXBlcy9hcHAtc3RhdGUnXG5cbi8qKlxuICog5Yid5aeL54uA5oWL6LyJ5YWl5ZmoXG4gKiDosqDosqzlvp4gbG9jYWxTdG9yYWdlIOaIluWFtuS7luaMgeS5heWMluWtmOWEsui8ieWFpeWIneWni+eLgOaFi1xuICovXG5leHBvcnQgY2xhc3MgSW5pdGlhbFN0YXRlTG9hZGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBTVE9SQUdFX0tFWVMgPSB7XG4gICAgICAgIERSQUZUX05PVEU6ICdkcmFmdF9ub3RlJyxcbiAgICAgICAgTEFTVF9TRVNTSU9OOiAnbGFzdF9zZXNzaW9uJyxcbiAgICAgICAgQVBQX1NUQVRFOiAnYXBwX3N0YXRlX3YxJyxcbiAgICB9IGFzIGNvbnN0XG5cbiAgICAvKipcbiAgICAgKiDovInlhaXliJ3lp4vmh4nnlKjni4DmhYtcbiAgICAgKiDlhKrlhYjpoIbluo/vvJpsb2NhbFN0b3JhZ2UgPiDpoJDoqK3ni4DmhYtcbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZEluaXRpYWxBcHBEYXRhKCk6IEFwcERhdGEge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbSW5pdGlhbFN0YXRlTG9hZGVyXSDplovlp4vovInlhaXliJ3lp4vni4DmhYsnKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyAxLiDovInlhaXojYnnqL/nrYboqJhcbiAgICAgICAgICAgIGNvbnN0IGRyYWZ0Q29udGVudCA9IHRoaXMubG9hZERyYWZ0Tm90ZSgpXG5cbiAgICAgICAgICAgIC8vIDIuIOi8ieWFpeS4iuasoeacg+ipseizh+ioiu+8iOWmguaenOacieeahOipse+8iVxuICAgICAgICAgICAgY29uc3QgbGFzdFNlc3Npb24gPSB0aGlzLmxvYWRMYXN0U2Vzc2lvbigpXG5cbiAgICAgICAgICAgIC8vIDMuIOi8ieWFpeWujOaVtOaHieeUqOeLgOaFi++8iOWmguaenOacieeahOipse+8iVxuICAgICAgICAgICAgY29uc3Qgc2F2ZWRBcHBTdGF0ZSA9IHRoaXMubG9hZFNhdmVkQXBwU3RhdGUoKVxuXG4gICAgICAgICAgICBjb25zdCBpbml0aWFsQXBwRGF0YTogQXBwRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogc2F2ZWRBcHBTdGF0ZT8uc3RhdGUgfHwgJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRFbnRyaWVzOiBzYXZlZEFwcFN0YXRlPy50cmFuc2NyaXB0RW50cmllcyB8fCBbXSxcbiAgICAgICAgICAgICAgICBlZGl0b3JDb250ZW50OiBkcmFmdENvbnRlbnQgfHwgJycsXG4gICAgICAgICAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLCAvLyDph43llZ/lvozmsLjpgaDkuI3mh4noqbLmmK/pjITpn7Pni4DmhYtcbiAgICAgICAgICAgICAgICByZWNvcmRpbmdUaW1lOiAwLCAgIC8vIOmHjeWVn+W+jOmHjee9rumMhOmfs+aZgumWk1xuICAgICAgICAgICAgICAgIHNlc3Npb246IGxhc3RTZXNzaW9uLCAvLyDlj6/og73ngrogbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbSW5pdGlhbFN0YXRlTG9hZGVyXSDliJ3lp4vni4DmhYvovInlhaXlrozmiJA6Jywge1xuICAgICAgICAgICAgICAgIGhhc0RyYWZ0Q29udGVudDogISFkcmFmdENvbnRlbnQsXG4gICAgICAgICAgICAgICAgaGFzTGFzdFNlc3Npb246ICEhbGFzdFNlc3Npb24sXG4gICAgICAgICAgICAgICAgaGFzU2F2ZWRBcHBTdGF0ZTogISFzYXZlZEFwcFN0YXRlLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBpbml0aWFsQXBwRGF0YS5zdGF0ZSxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0Q291bnQ6IGluaXRpYWxBcHBEYXRhLnRyYW5zY3JpcHRFbnRyaWVzLmxlbmd0aFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxBcHBEYXRhXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0luaXRpYWxTdGF0ZUxvYWRlcl0g6LyJ5YWl5Yid5aeL54uA5oWL5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdEFwcERhdGEoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6LyJ5YWl6I2J56i/562G6KiY5YWn5a65XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgbG9hZERyYWZ0Tm90ZSgpOiBzdHJpbmcge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZHJhZnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLlNUT1JBR0VfS0VZUy5EUkFGVF9OT1RFKVxuICAgICAgICAgICAgcmV0dXJuIGRyYWZ0IHx8ICcnXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbSW5pdGlhbFN0YXRlTG9hZGVyXSDovInlhaXojYnnqL/nrYboqJjlpLHmlZc6JywgZXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gJydcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOi8ieWFpeS4iuasoeacg+ipseizh+ioilxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGxvYWRMYXN0U2Vzc2lvbigpOiBBcHBEYXRhWydzZXNzaW9uJ10ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLlNUT1JBR0VfS0VZUy5MQVNUX1NFU1NJT04pXG4gICAgICAgICAgICBpZiAoIXNlc3Npb25EYXRhKSByZXR1cm4gbnVsbFxuXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gSlNPTi5wYXJzZShzZXNzaW9uRGF0YSlcblxuICAgICAgICAgICAgLy8g6amX6K2J5pyD6Kmx6LOH5paZ57WQ5qeLXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiB0eXBlb2Ygc2Vzc2lvbiA9PT0gJ29iamVjdCcgJiYgc2Vzc2lvbi5pZCkge1xuICAgICAgICAgICAgICAgIC8vIOWPquacieWcqOacg+ipseeLgOaFi+S4jeaYryBjb21wbGV0ZWQg5oiWIGVycm9yIOaZguaJjeaBouW+qVxuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgfHwgc2Vzc2lvbi5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgW0luaXRpYWxTdGF0ZUxvYWRlcl0g5LiK5qyh5pyD6Kmx5bey5a6M5oiQ77yM5LiN5oGi5b6pOicsIHNlc3Npb24uc3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFtJbml0aWFsU3RhdGVMb2FkZXJdIOaBouW+qeS4iuasoeacg+ipsTonLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBzZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHNlc3Npb24uc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBzZXNzaW9uLnR5cGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbSW5pdGlhbFN0YXRlTG9hZGVyXSDovInlhaXkuIrmrKHmnIPoqbHlpLHmlZc6JywgZXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6LyJ5YWl5a6M5pW055qE5oeJ55So54uA5oWLXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgbG9hZFNhdmVkQXBwU3RhdGUoKTogUGFydGlhbDxBcHBEYXRhPiB8IG51bGwge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuQVBQX1NUQVRFKVxuICAgICAgICAgICAgaWYgKCFzdGF0ZURhdGEpIHJldHVybiBudWxsXG5cbiAgICAgICAgICAgIGNvbnN0IHNhdmVkU3RhdGUgPSBKU09OLnBhcnNlKHN0YXRlRGF0YSlcblxuICAgICAgICAgICAgLy8g6amX6K2J54uA5oWL6LOH5paZ57WQ5qeLXG4gICAgICAgICAgICBpZiAoc2F2ZWRTdGF0ZSAmJiB0eXBlb2Ygc2F2ZWRTdGF0ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbSW5pdGlhbFN0YXRlTG9hZGVyXSDovInlhaXlt7LlhLLlrZjnmoTmh4nnlKjni4DmhYsnKVxuICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZFN0YXRlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbSW5pdGlhbFN0YXRlTG9hZGVyXSDovInlhaXmh4nnlKjni4DmhYvlpLHmlZc6JywgZXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog542y5Y+W6aCQ6Kit5oeJ55So54uA5oWLXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0RGVmYXVsdEFwcERhdGEoKTogQXBwRGF0YSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFtJbml0aWFsU3RhdGVMb2FkZXJdIOS9v+eUqOmgkOioreeLgOaFiycpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0ZTogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgdHJhbnNjcmlwdEVudHJpZXM6IFtdLFxuICAgICAgICAgICAgZWRpdG9yQ29udGVudDogJycsXG4gICAgICAgICAgICBpc1JlY29yZGluZzogZmFsc2UsXG4gICAgICAgICAgICByZWNvcmRpbmdUaW1lOiAwLFxuICAgICAgICAgICAgc2Vzc2lvbjogbnVsbCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWEsuWtmOaHieeUqOeLgOaFi+WIsCBsb2NhbFN0b3JhZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgc2F2ZUFwcFN0YXRlKGFwcERhdGE6IEFwcERhdGEpOiB2b2lkIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIOWEsuWtmOWujOaVtOaHieeUqOeLgOaFi++8iOaOkumZpOaVj+aEn+izh+ioiu+8iVxuICAgICAgICAgICAgY29uc3Qgc3RhdGVUb1NhdmUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IGFwcERhdGEuc3RhdGUsXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdEVudHJpZXM6IGFwcERhdGEudHJhbnNjcmlwdEVudHJpZXMsXG4gICAgICAgICAgICAgICAgLy8g5LiN5YSy5a2YIGVkaXRvckNvbnRlbnTvvIjlt7Lllq7njajlhLLlrZjngrogZHJhZnRfbm90Ze+8iVxuICAgICAgICAgICAgICAgIC8vIOS4jeWEsuWtmCBpc1JlY29yZGluZyDlkowgcmVjb3JkaW5nVGltZe+8iOmHjeWVn+W+jOaHiemHjee9ru+8iVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLlNUT1JBR0VfS0VZUy5BUFBfU1RBVEUsIEpTT04uc3RyaW5naWZ5KHN0YXRlVG9TYXZlKSlcblxuICAgICAgICAgICAgLy8g5YSy5a2Y5pyD6Kmx6LOH6KiKXG4gICAgICAgICAgICBpZiAoYXBwRGF0YS5zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuTEFTVF9TRVNTSU9OLCBKU09OLnN0cmluZ2lmeShhcHBEYXRhLnNlc3Npb24pKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLlNUT1JBR0VfS0VZUy5MQVNUX1NFU1NJT04pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFtJbml0aWFsU3RhdGVMb2FkZXJdIOaHieeUqOeLgOaFi+W3suWEsuWtmCcpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0luaXRpYWxTdGF0ZUxvYWRlcl0g5YSy5a2Y5oeJ55So54uA5oWL5aSx5pWXOicsIGVycm9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5riF6Zmk5omA5pyJ5oyB5LmF5YyW54uA5oWLXG4gICAgICovXG4gICAgc3RhdGljIGNsZWFyUGVyc2lzdGVkU3RhdGUoKTogdm9pZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLlNUT1JBR0VfS0VZUy5BUFBfU1RBVEUpXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLlNUT1JBR0VfS0VZUy5MQVNUX1NFU1NJT04pXG4gICAgICAgICAgICAvLyDms6jmhI/vvJrkuI3muIXpmaQgRFJBRlRfTk9URe+8jOWboOeCuumCo+aYr+eUqOaItueahOiNieeov+WFp+WuuVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+Xke+4jyBbSW5pdGlhbFN0YXRlTG9hZGVyXSDmjIHkuYXljJbni4DmhYvlt7LmuIXpmaQnKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtJbml0aWFsU3RhdGVMb2FkZXJdIOa4hemZpOaMgeS5heWMlueLgOaFi+WkseaVlzonLCBlcnJvcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaqouafpeaYr+WQpuacieaMgeS5heWMlueLgOaFi1xuICAgICAqL1xuICAgIHN0YXRpYyBoYXNQZXJzaXN0ZWRTdGF0ZSgpOiBib29sZWFuIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAhIShcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLlNUT1JBR0VfS0VZUy5BUFBfU1RBVEUpIHx8XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5TVE9SQUdFX0tFWVMuTEFTVF9TRVNTSU9OKVxuICAgICAgICAgICAgKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW0luaXRpYWxTdGF0ZUxvYWRlcl0g5qqi5p+l5oyB5LmF5YyW54uA5oWL5aSx5pWXOicsIGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiSW5pdGlhbFN0YXRlTG9hZGVyIiwiU1RPUkFHRV9LRVlTIiwiRFJBRlRfTk9URSIsIkxBU1RfU0VTU0lPTiIsIkFQUF9TVEFURSIsImxvYWRJbml0aWFsQXBwRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJkcmFmdENvbnRlbnQiLCJsb2FkRHJhZnROb3RlIiwibGFzdFNlc3Npb24iLCJsb2FkTGFzdFNlc3Npb24iLCJzYXZlZEFwcFN0YXRlIiwibG9hZFNhdmVkQXBwU3RhdGUiLCJpbml0aWFsQXBwRGF0YSIsInN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJlZGl0b3JDb250ZW50IiwiaXNSZWNvcmRpbmciLCJyZWNvcmRpbmdUaW1lIiwic2Vzc2lvbiIsImhhc0RyYWZ0Q29udGVudCIsImhhc0xhc3RTZXNzaW9uIiwiaGFzU2F2ZWRBcHBTdGF0ZSIsInRyYW5zY3JpcHRDb3VudCIsImxlbmd0aCIsImVycm9yIiwiZ2V0RGVmYXVsdEFwcERhdGEiLCJkcmFmdCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ3YXJuIiwic2Vzc2lvbkRhdGEiLCJKU09OIiwicGFyc2UiLCJpZCIsInN0YXR1cyIsInR5cGUiLCJzdGF0ZURhdGEiLCJzYXZlZFN0YXRlIiwic2F2ZUFwcFN0YXRlIiwiYXBwRGF0YSIsInN0YXRlVG9TYXZlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInJlbW92ZUl0ZW0iLCJjbGVhclBlcnNpc3RlZFN0YXRlIiwiaGFzUGVyc2lzdGVkU3RhdGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/initial-state-loader.ts\n");

/***/ }),

/***/ "(ssr)/./lib/transcript-manager.ts":
/*!***********************************!*\
  !*** ./lib/transcript-manager.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transcriptManager: () => (/* binding */ transcriptManager)\n/* harmony export */ });\n/* harmony import */ var _websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./websocket */ \"(ssr)/./lib/websocket.ts\");\n/* __next_internal_client_entry_do_not_use__ transcriptManager auto */ \n/**\n * TranscriptManager - 統一管理 transcript WebSocket 連接的 Singleton\n *\n * 功能：\n * - 確保每個 session 只有一個 transcript 連接\n * - 統一管理連接狀態、心跳、重連\n * - 提供簡潔的 API 給其他組件使用\n */ class TranscriptManager {\n    static{\n        this.instance = null;\n    }\n    constructor(){\n        this.connections = new Map();\n        this.listeners = new Map();\n        this.connectionStates = new Map();\n        this.heartbeatIntervals = new Map();\n        this.reconnectAttempts = new Map();\n        this.maxReconnectAttempts = 5;\n        this.heartbeatInterval = 10000 // 10秒，避免伺服器過早判定逾時\n        ;\n        this.reconnectDelay = 2000 // 2秒\n        ;\n        // Singleton pattern - 私有建構子\n        // 開發模式下將實例掛到全域以利除錯\n        if (false) {}\n    }\n    /**\n   * 取得 TranscriptManager 實例\n   */ static getInstance() {\n        if (!TranscriptManager.instance) {\n            TranscriptManager.instance = new TranscriptManager();\n        }\n        return TranscriptManager.instance;\n    }\n    /**\n   * 連接到指定 session 的 transcript feed\n   */ async connect(sessionId) {\n        // 如果已經有連接，直接返回\n        if (this.connections.has(sessionId) && this.connectionStates.get(sessionId)) {\n            console.log(`📱 [TranscriptManager] Session ${sessionId} 已連接，跳過重複連接`);\n            return;\n        }\n        try {\n            console.log(`📱 [TranscriptManager] 開始連接 session ${sessionId}`);\n            // 清理舊連接（如果存在）\n            await this.disconnect(sessionId);\n            // 重置重連計數\n            this.reconnectAttempts.set(sessionId, 0);\n            // 建立新連接\n            await this.establishConnection(sessionId);\n            // 等待連線完全就緒\n            await this.waitForConnectionReady(sessionId);\n            console.log(`✅ [TranscriptManager] Session ${sessionId} 連接並就緒`);\n        } catch (error) {\n            console.error(`❌ [TranscriptManager] Session ${sessionId} 連接失敗:`, error);\n            this.connectionStates.set(sessionId, false);\n            // 嘗試重連\n            this.scheduleReconnect(sessionId);\n            throw error;\n        }\n    }\n    /**\n   * 等待連線完全就緒\n   */ async waitForConnectionReady(sessionId, timeout = 5000) {\n        return new Promise((resolve, reject)=>{\n            const startTime = Date.now();\n            const checkReady = ()=>{\n                const ws = this.connections.get(sessionId);\n                const isConnected = this.connectionStates.get(sessionId);\n                console.log(`🔍 [TranscriptManager] 檢查連線就緒狀態:`, {\n                    sessionId,\n                    hasWebSocket: !!ws,\n                    isConnected: !!isConnected,\n                    wsReadyState: ws?.readyState,\n                    wsIsConnected: ws?.isConnected || false,\n                    elapsedTime: Date.now() - startTime\n                });\n                // 優化：更可靠的 WebSocket 就緒狀態檢測\n                const wsReady = ws && (ws.isConnected || ws.readyState === WebSocket.OPEN ||  false && 0 // 測試環境兼容\n                );\n                // 即時同步狀態，確保一致性\n                if (ws && wsReady) {\n                    const actualConnected = true;\n                    if (this.connectionStates.get(sessionId) !== actualConnected) {\n                        console.log(`🔄 [TranscriptManager] 即時同步連接狀態: ${sessionId} → ${actualConnected}`);\n                        this.connectionStates.set(sessionId, actualConnected);\n                    }\n                    console.log(`✅ [TranscriptManager] Session ${sessionId} 連線就緒`);\n                    resolve();\n                    return;\n                } else if (ws && !wsReady) {\n                    // WebSocket 存在但未就緒，同步狀態為 false\n                    const actualConnected = false;\n                    if (this.connectionStates.get(sessionId) !== actualConnected) {\n                        console.log(`🔄 [TranscriptManager] 即時同步連接狀態: ${sessionId} → ${actualConnected}`);\n                        this.connectionStates.set(sessionId, actualConnected);\n                    }\n                }\n                // 檢查超時\n                if (Date.now() - startTime > timeout) {\n                    console.error(`⏰ [TranscriptManager] Session ${sessionId} 連線就緒等待超時`);\n                    console.error(`   最終狀態: ws=${!!ws}, isConnected=${!!isConnected}, wsReady=${!!wsReady}`);\n                    reject(new Error(`連線就緒等待超時 (${timeout}ms)`));\n                    return;\n                }\n                // 繼續等待\n                setTimeout(checkReady, 100);\n            };\n            checkReady();\n        });\n    }\n    /**\n   * 建立 WebSocket 連接\n   */ async establishConnection(sessionId) {\n        const ws = new _websocket__WEBPACK_IMPORTED_MODULE_0__.TranscriptWebSocket(sessionId);\n        // 設定訊息處理\n        ws.onMessage((message)=>{\n            this.handleMessage(sessionId, message);\n        });\n        // 設定連接關閉處理\n        this.setupConnectionHandlers(ws, sessionId);\n        // 連接 WebSocket\n        await ws.connect();\n        // 儲存連接\n        this.connections.set(sessionId, ws);\n        this.connectionStates.set(sessionId, true);\n        // 發送初始 ping 啟動後端處理循環\n        this.sendPing(sessionId);\n        // 啟動心跳\n        this.startHeartbeat(sessionId);\n        console.log(`✅ TranscriptManager: Session ${sessionId} 連接成功`);\n    }\n    /**\n* 設定連接處理器\n*/ setupConnectionHandlers(ws, sessionId) {\n        // 監聽 WebSocket 關閉事件\n        ws.onClose((event)=>{\n            console.log(`🔌 TranscriptManager: Session ${sessionId} 連接關閉:`, event.code, event.reason);\n            // 更新狀態\n            this.connectionStates.set(sessionId, false);\n            this.stopHeartbeat(sessionId);\n            // 如果不是手動關閉，嘗試重連\n            if (event.code !== 1000) {\n                this.scheduleReconnect(sessionId);\n            }\n        });\n    }\n    /**\n   * 處理收到的訊息\n   */ handleMessage(sessionId, message) {\n        console.log('📨 [TranscriptManager] 收到訊息:', {\n            sessionId,\n            type: message.type,\n            message: message,\n            timestamp: new Date().toISOString(),\n            listenerCount: this.listeners.get(sessionId)?.size || 0\n        });\n        // 處理不同類型的訊息\n        if (message.type === 'transcript_segment') {\n            console.log('📝 [TranscriptManager] 逐字稿片段詳情:', {\n                sessionId,\n                text: message.text,\n                textLength: message.text?.length || 0,\n                textPreview: message.text?.substring(0, 50) + (message.text?.length > 50 ? '...' : ''),\n                start_time: message.start_time,\n                end_time: message.end_time,\n                confidence: message.confidence\n            });\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'connection_established') {\n            console.log('✅ [TranscriptManager] 連接已建立:', {\n                sessionId,\n                message: message.message,\n                timestamp: message.timestamp\n            });\n        } else if (message.type === 'transcript_complete') {\n            console.log('🎯 [TranscriptManager] 轉錄完成:', {\n                sessionId,\n                message: message.message,\n                timestamp: message.timestamp\n            });\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'heartbeat_ack') {\n            console.log('💓 [TranscriptManager] 心跳回應:', {\n                sessionId,\n                timestamp: message.timestamp\n            });\n        } else if (message.type === 'pong') {\n            console.log('🏓 [TranscriptManager] Pong 回應:', {\n                sessionId,\n                timestamp: message.timestamp\n            });\n        } else if (message.phase === 'waiting') {\n            console.log('⏳ [TranscriptManager] 收到 waiting phase:', {\n                sessionId,\n                phase: message.phase,\n                timestamp: new Date().toISOString()\n            });\n        } else if (message.phase === 'active') {\n            console.log('✅ [TranscriptManager] 收到 active phase，轉錄已開始:', {\n                sessionId,\n                phase: message.phase,\n                timestamp: new Date().toISOString()\n            });\n            // 廣播 active phase 訊息給監聽器\n            this.broadcastToListeners(sessionId, message);\n        } else if (message.type === 'error' || message.type === 'transcription_error') {\n            console.error('🚨 [TranscriptManager] 收到轉錄錯誤:', {\n                sessionId,\n                type: message.type,\n                error_type: message.error_type,\n                error_message: message.error_message,\n                details: message.details,\n                timestamp: new Date().toISOString()\n            });\n            // 廣播錯誤訊息給監聽器\n            this.broadcastToListeners(sessionId, message);\n        } else {\n            console.log('📨 [TranscriptManager] 未知訊息類型:', {\n                sessionId,\n                type: message.type,\n                fullMessage: message\n            });\n        }\n    }\n    /**\n   * 廣播訊息給所有監聽器\n   */ broadcastToListeners(sessionId, message) {\n        const sessionListeners = this.listeners.get(sessionId);\n        console.log('📡 [TranscriptManager] 廣播訊息給監聽器:', {\n            sessionId,\n            messageType: message.type,\n            listenerCount: sessionListeners?.size || 0,\n            hasListeners: !!sessionListeners\n        });\n        if (sessionListeners) {\n            let successCount = 0;\n            let errorCount = 0;\n            sessionListeners.forEach((callback)=>{\n                try {\n                    callback(message);\n                    successCount++;\n                    console.log(`✅ [TranscriptManager] 監聽器回調成功 (${successCount}/${sessionListeners.size})`);\n                } catch (error) {\n                    errorCount++;\n                    console.error(`❌ [TranscriptManager] 監聽器回調錯誤 (${errorCount}/${sessionListeners.size}):`, error);\n                }\n            });\n            console.log(`📡 [TranscriptManager] 廣播完成: ${successCount} 成功, ${errorCount} 失敗`);\n        } else {\n            console.warn(`⚠️ [TranscriptManager] 沒有找到 session ${sessionId} 的監聽器`);\n        }\n    }\n    /**\n   * 發送 ping\n   */ sendPing(sessionId) {\n        const ws = this.connections.get(sessionId);\n        if (ws && ws.isConnected) {\n            ws.sendJson({\n                type: 'ping'\n            });\n            console.log(`🏓 TranscriptManager: 向 session ${sessionId} 發送 ping`);\n        }\n    }\n    /**\n   * 發送心跳 - 增強狀態同步\n   */ sendHeartbeat(sessionId) {\n        // 先同步狀態\n        const isActuallyConnected = this.syncConnectionState(sessionId);\n        const ws = this.connections.get(sessionId);\n        if (ws && isActuallyConnected) {\n            try {\n                ws.sendJson({\n                    type: 'heartbeat',\n                    timestamp: Date.now()\n                });\n                console.log(`💓 TranscriptManager: 向 session ${sessionId} 發送心跳`);\n            } catch (error) {\n                console.error(`❌ TranscriptManager: 發送心跳失敗 ${sessionId}:`, error);\n                // 心跳發送失敗，可能連接已斷開\n                this.connectionStates.set(sessionId, false);\n                this.scheduleReconnect(sessionId);\n            }\n        } else {\n            // 連接已斷開，停止心跳並嘗試重連\n            console.warn(`⚠️ TranscriptManager: 心跳檢測到連接斷開 ${sessionId}`);\n            this.stopHeartbeat(sessionId);\n            this.connectionStates.set(sessionId, false);\n            this.scheduleReconnect(sessionId);\n        }\n    }\n    /**\n   * 啟動心跳機制\n   */ startHeartbeat(sessionId) {\n        this.stopHeartbeat(sessionId);\n        const interval = setInterval(()=>{\n            this.sendHeartbeat(sessionId);\n        }, this.heartbeatInterval);\n        this.heartbeatIntervals.set(sessionId, interval);\n        console.log(`💓 TranscriptManager: 為 session ${sessionId} 啟動心跳`);\n    }\n    /**\n   * 停止心跳機制\n   */ stopHeartbeat(sessionId) {\n        const interval = this.heartbeatIntervals.get(sessionId);\n        if (interval) {\n            clearInterval(interval);\n            this.heartbeatIntervals.delete(sessionId);\n            console.log(`💓 TranscriptManager: 為 session ${sessionId} 停止心跳`);\n        }\n    }\n    /**\n   * 安排重連\n   */ scheduleReconnect(sessionId) {\n        const attempts = this.reconnectAttempts.get(sessionId) ?? 0;\n        if (attempts >= this.maxReconnectAttempts) {\n            console.error(`❌ TranscriptManager: Session ${sessionId} 重連次數已達上限`);\n            return;\n        }\n        this.reconnectAttempts.set(sessionId, attempts + 1);\n        const delay = this.reconnectDelay * Math.pow(2, attempts) // 指數退避\n        ;\n        console.log(`🔄 TranscriptManager: Session ${sessionId} 將在 ${delay}ms 後重連 (第 ${attempts + 1} 次)`);\n        setTimeout(async ()=>{\n            try {\n                await this.establishConnection(sessionId);\n                this.reconnectAttempts.set(sessionId, 0) // 重連成功，重置計數\n                ;\n            } catch (error) {\n                console.error(`❌ TranscriptManager: Session ${sessionId} 重連失敗:`, error);\n            }\n        }, delay);\n    }\n    /**\n   * 斷開指定 session 的連接\n   */ async disconnect(sessionId) {\n        console.log(`📱 TranscriptManager: 斷開 session ${sessionId}`);\n        // 停止心跳\n        this.stopHeartbeat(sessionId);\n        // 斷開 WebSocket\n        const ws = this.connections.get(sessionId);\n        if (ws) {\n            ws.disconnect();\n            this.connections.delete(sessionId);\n        }\n        // 更新狀態\n        this.connectionStates.set(sessionId, false);\n        // 清理監聽器\n        this.listeners.delete(sessionId);\n        // 清理重連計數\n        this.reconnectAttempts.delete(sessionId);\n    }\n    /**\n   * 添加訊息監聽器\n   */ addListener(sessionId, callback) {\n        if (!this.listeners.has(sessionId)) {\n            this.listeners.set(sessionId, new Set());\n        }\n        this.listeners.get(sessionId).add(callback);\n        console.log(`📱 TranscriptManager: 為 session ${sessionId} 添加監聽器`);\n    }\n    /**\n   * 移除訊息監聽器\n   */ removeListener(sessionId, callback) {\n        const sessionListeners = this.listeners.get(sessionId);\n        if (sessionListeners) {\n            sessionListeners.delete(callback);\n            if (sessionListeners.size === 0) {\n                this.listeners.delete(sessionId);\n            }\n        }\n        console.log(`📱 TranscriptManager: 為 session ${sessionId} 移除監聽器`);\n    }\n    /**\n   * 檢查連接狀態 - 優化版，確保即時狀態同步\n   */ isConnected(sessionId) {\n        const ws = this.connections.get(sessionId);\n        const stateConnected = this.connectionStates.get(sessionId) ?? false;\n        // 實作更可靠的即時狀態檢測\n        let actualConnected = false;\n        if (ws) {\n            // 多重檢查確保準確性\n            actualConnected = ws.isConnected && (ws.readyState === WebSocket.OPEN ||  false && 0);\n        }\n        console.log(`🔍 [TranscriptManager] 連接狀態檢查:`, {\n            sessionId,\n            hasWebSocket: !!ws,\n            wsReadyState: ws?.readyState,\n            wsIsConnected: ws?.isConnected ?? false,\n            stateConnected,\n            actualConnected,\n            needsSync: stateConnected !== actualConnected,\n            timestamp: Date.now()\n        });\n        // 即時同步狀態，確保 connectionStates 與實際 WebSocket 狀態一致\n        if (stateConnected !== actualConnected) {\n            console.log(`🔄 [TranscriptManager] 狀態不一致，即時同步: ${sessionId} ${stateConnected} → ${actualConnected}`, {\n                previousState: stateConnected,\n                newState: actualConnected,\n                wsDetails: {\n                    isConnected: ws?.isConnected,\n                    readyState: ws?.readyState\n                }\n            });\n            this.connectionStates.set(sessionId, actualConnected);\n            // 如果連接斷開但狀態顯示連接，觸發重連\n            if (stateConnected && !actualConnected) {\n                console.warn(`⚠️ [TranscriptManager] 檢測到連接斷開，將觸發重連: ${sessionId}`);\n                this.scheduleReconnect(sessionId);\n            }\n        }\n        return actualConnected;\n    }\n    /**\n   * 強化的連接狀態一致性檢查\n   */ syncConnectionState(sessionId) {\n        const ws = this.connections.get(sessionId);\n        const currentState = this.connectionStates.get(sessionId) ?? false;\n        if (!ws) {\n            // 沒有 WebSocket，狀態應該是 false\n            if (currentState !== false) {\n                console.log(`🔄 [TranscriptManager] 同步狀態 (無WebSocket): ${sessionId} → false`);\n                this.connectionStates.set(sessionId, false);\n            }\n            return false;\n        }\n        // 有 WebSocket，檢查實際連接狀態\n        const actualConnected = ws.isConnected && (ws.readyState === WebSocket.OPEN ||  false && 0);\n        if (currentState !== actualConnected) {\n            console.log(`🔄 [TranscriptManager] 同步狀態: ${sessionId} ${currentState} → ${actualConnected}`);\n            this.connectionStates.set(sessionId, actualConnected);\n        }\n        return actualConnected;\n    }\n    /**\n   * 取得連接數量\n   */ getConnectionCount() {\n        return Array.from(this.connections.values()).filter((ws)=>ws.isConnected).length;\n    }\n    /**\n   * 清理所有連接\n   */ async disconnectAll() {\n        console.log('📱 TranscriptManager: 清理所有連接');\n        const sessionIds = Array.from(this.connections.keys());\n        await Promise.all(sessionIds.map((sessionId)=>this.disconnect(sessionId)));\n    }\n}\n// 匯出 Singleton 實例\nconst transcriptManager = TranscriptManager.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDbEY7SUFFQTs7R0FFQyxHQUNELE1BQU0rQyxnQkFBK0I7UUFDbkM5RixRQUFRQyxHQUFHLENBQUM7UUFFWixNQUFNOEYsYUFBYUwsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQzNHLFdBQVcsQ0FBQ2dILElBQUk7UUFDbkQsTUFBTXZGLFFBQVF3RixHQUFHLENBQUNGLFdBQVdHLEdBQUcsQ0FBQ3JHLENBQUFBLFlBQWEsSUFBSSxDQUFDSyxVQUFVLENBQUNMO0lBQ2hFO0FBQ0Y7QUFFQSxrQkFBa0I7QUFDWCxNQUFNSCxvQkFBb0JaLGtCQUFrQmEsV0FBVyxHQUFFIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvdHJhbnNjcmlwdC1tYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IFRyYW5zY3JpcHRXZWJTb2NrZXQsIFRyYW5zY3JpcHRNZXNzYWdlIH0gZnJvbSAnLi93ZWJzb2NrZXQnXG5cbi8qKlxuICogVHJhbnNjcmlwdE1hbmFnZXIgLSDntbHkuIDnrqHnkIYgdHJhbnNjcmlwdCBXZWJTb2NrZXQg6YCj5o6l55qEIFNpbmdsZXRvblxuICpcbiAqIOWKn+iDve+8mlxuICogLSDnorrkv53mr4/lgIsgc2Vzc2lvbiDlj6rmnInkuIDlgIsgdHJhbnNjcmlwdCDpgKPmjqVcbiAqIC0g57Wx5LiA566h55CG6YCj5o6l54uA5oWL44CB5b+D6Lez44CB6YeN6YCjXG4gKiAtIOaPkOS+m+ewoea9lOeahCBBUEkg57Wm5YW25LuW57WE5Lu25L2/55SoXG4gKi9cbmNsYXNzIFRyYW5zY3JpcHRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFRyYW5zY3JpcHRNYW5hZ2VyIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBjb25uZWN0aW9uczogTWFwPHN0cmluZywgVHJhbnNjcmlwdFdlYlNvY2tldD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IE1hcDxzdHJpbmcsIFNldDwobWVzc2FnZTogVHJhbnNjcmlwdE1lc3NhZ2UpID0+IHZvaWQ+PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGNvbm5lY3Rpb25TdGF0ZXM6IE1hcDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgaGVhcnRiZWF0SW50ZXJ2YWxzOiBNYXA8c3RyaW5nLCBOb2RlSlMuVGltZW91dD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0czogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIG1heFJlY29ubmVjdEF0dGVtcHRzID0gNVxuICBwcml2YXRlIGhlYXJ0YmVhdEludGVydmFsID0gMTAwMDAgLy8gMTDnp5LvvIzpgb/lhY3kvLrmnI3lmajpgY7ml6nliKTlrprpgL7mmYJcbiAgcHJpdmF0ZSByZWNvbm5lY3REZWxheSA9IDIwMDAgLy8gMuenklxuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gU2luZ2xldG9uIHBhdHRlcm4gLSDnp4HmnInlu7rmp4vlrZBcblxuICAgIC8vIOmWi+eZvOaooeW8j+S4i+Wwh+WvpuS+i+aOm+WIsOWFqOWfn+S7peWIqemZpOmMr1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgOyAod2luZG93IGFzIGFueSkudHJhbnNjcmlwdE1hbmFnZXIgPSB0aGlzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWPluW+lyBUcmFuc2NyaXB0TWFuYWdlciDlr6bkvotcbiAgICovXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBUcmFuc2NyaXB0TWFuYWdlciB7XG4gICAgaWYgKCFUcmFuc2NyaXB0TWFuYWdlci5pbnN0YW5jZSkge1xuICAgICAgVHJhbnNjcmlwdE1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgVHJhbnNjcmlwdE1hbmFnZXIoKVxuICAgIH1cbiAgICByZXR1cm4gVHJhbnNjcmlwdE1hbmFnZXIuaW5zdGFuY2VcbiAgfVxuXG4gIC8qKlxuICAgKiDpgKPmjqXliLDmjIflrpogc2Vzc2lvbiDnmoQgdHJhbnNjcmlwdCBmZWVkXG4gICAqL1xuICBhc3luYyBjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8g5aaC5p6c5bey57aT5pyJ6YCj5o6l77yM55u05o6l6L+U5ZueXG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbnMuaGFzKHNlc3Npb25JZCkgJiYgdGhpcy5jb25uZWN0aW9uU3RhdGVzLmdldChzZXNzaW9uSWQpKSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+TsSBbVHJhbnNjcmlwdE1hbmFnZXJdIFNlc3Npb24gJHtzZXNzaW9uSWR9IOW3sumAo+aOpe+8jOi3s+mBjumHjeikh+mAo+aOpWApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYPCfk7EgW1RyYW5zY3JpcHRNYW5hZ2VyXSDplovlp4vpgKPmjqUgc2Vzc2lvbiAke3Nlc3Npb25JZH1gKVxuXG4gICAgICAvLyDmuIXnkIboiIrpgKPmjqXvvIjlpoLmnpzlrZjlnKjvvIlcbiAgICAgIGF3YWl0IHRoaXMuZGlzY29ubmVjdChzZXNzaW9uSWQpXG5cbiAgICAgIC8vIOmHjee9rumHjemAo+ioiOaVuFxuICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cy5zZXQoc2Vzc2lvbklkLCAwKVxuXG4gICAgICAvLyDlu7rnq4vmlrDpgKPmjqVcbiAgICAgIGF3YWl0IHRoaXMuZXN0YWJsaXNoQ29ubmVjdGlvbihzZXNzaW9uSWQpXG5cbiAgICAgIC8vIOetieW+hemAo+e3muWujOWFqOWwsee3klxuICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yQ29ubmVjdGlvblJlYWR5KHNlc3Npb25JZClcblxuICAgICAgY29uc29sZS5sb2coYOKchSBbVHJhbnNjcmlwdE1hbmFnZXJdIFNlc3Npb24gJHtzZXNzaW9uSWR9IOmAo+aOpeS4puWwsee3kmApXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIFtUcmFuc2NyaXB0TWFuYWdlcl0gU2Vzc2lvbiAke3Nlc3Npb25JZH0g6YCj5o6l5aSx5pWXOmAsIGVycm9yKVxuICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIGZhbHNlKVxuXG4gICAgICAvLyDlmJfoqabph43pgKNcbiAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog562J5b6F6YCj57ea5a6M5YWo5bCx57eSXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHdhaXRGb3JDb25uZWN0aW9uUmVhZHkoc2Vzc2lvbklkOiBzdHJpbmcsIHRpbWVvdXQ6IG51bWJlciA9IDUwMDApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuXG4gICAgICBjb25zdCBjaGVja1JlYWR5ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB3cyA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KHNlc3Npb25JZClcbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuZ2V0KHNlc3Npb25JZClcblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSBbVHJhbnNjcmlwdE1hbmFnZXJdIOaqouafpemAo+e3muWwsee3kueLgOaFizpgLCB7XG4gICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgIGhhc1dlYlNvY2tldDogISF3cyxcbiAgICAgICAgICBpc0Nvbm5lY3RlZDogISFpc0Nvbm5lY3RlZCxcbiAgICAgICAgICB3c1JlYWR5U3RhdGU6IHdzPy5yZWFkeVN0YXRlLFxuICAgICAgICAgIHdzSXNDb25uZWN0ZWQ6IHdzPy5pc0Nvbm5lY3RlZCB8fCBmYWxzZSxcbiAgICAgICAgICBlbGFwc2VkVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOWEquWMlu+8muabtOWPr+mdoOeahCBXZWJTb2NrZXQg5bCx57eS54uA5oWL5qqi5risXG4gICAgICAgIGNvbnN0IHdzUmVhZHkgPSB3cyAmJiAoXG4gICAgICAgICAgd3MuaXNDb25uZWN0ZWQgfHxcbiAgICAgICAgICB3cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiB8fFxuICAgICAgICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuV2ViU29ja2V0ICYmIHdzLnJlYWR5U3RhdGUgPT09IDEpIC8vIOa4rOippueSsOWig+WFvOWuuVxuICAgICAgICApXG5cbiAgICAgICAgLy8g5Y2z5pmC5ZCM5q2l54uA5oWL77yM56K65L+d5LiA6Ie05oCnXG4gICAgICAgIGlmICh3cyAmJiB3c1JlYWR5KSB7XG4gICAgICAgICAgY29uc3QgYWN0dWFsQ29ubmVjdGVkID0gdHJ1ZVxuICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuZ2V0KHNlc3Npb25JZCkgIT09IGFjdHVhbENvbm5lY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYPCflIQgW1RyYW5zY3JpcHRNYW5hZ2VyXSDljbPmmYLlkIzmraXpgKPmjqXni4DmhYs6ICR7c2Vzc2lvbklkfSDihpIgJHthY3R1YWxDb25uZWN0ZWR9YClcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBhY3R1YWxDb25uZWN0ZWQpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBbVHJhbnNjcmlwdE1hbmFnZXJdIFNlc3Npb24gJHtzZXNzaW9uSWR9IOmAo+e3muWwsee3kmApXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH0gZWxzZSBpZiAod3MgJiYgIXdzUmVhZHkpIHtcbiAgICAgICAgICAvLyBXZWJTb2NrZXQg5a2Y5Zyo5L2G5pyq5bCx57eS77yM5ZCM5q2l54uA5oWL54K6IGZhbHNlXG4gICAgICAgICAgY29uc3QgYWN0dWFsQ29ubmVjdGVkID0gZmFsc2VcbiAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uU3RhdGVzLmdldChzZXNzaW9uSWQpICE9PSBhY3R1YWxDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFtUcmFuc2NyaXB0TWFuYWdlcl0g5Y2z5pmC5ZCM5q2l6YCj5o6l54uA5oWLOiAke3Nlc3Npb25JZH0g4oaSICR7YWN0dWFsQ29ubmVjdGVkfWApXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuc2V0KHNlc3Npb25JZCwgYWN0dWFsQ29ubmVjdGVkKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaqouafpei2heaZglxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA+IHRpbWVvdXQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDij7AgW1RyYW5zY3JpcHRNYW5hZ2VyXSBTZXNzaW9uICR7c2Vzc2lvbklkfSDpgKPnt5rlsLHnt5LnrYnlvoXotoXmmYJgKVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCAgIOacgOe1gueLgOaFizogd3M9JHshIXdzfSwgaXNDb25uZWN0ZWQ9JHshIWlzQ29ubmVjdGVkfSwgd3NSZWFkeT0keyEhd3NSZWFkeX1gKVxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYOmAo+e3muWwsee3kuetieW+hei2heaZgiAoJHt0aW1lb3V0fW1zKWApKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8g57m857qM562J5b6FXG4gICAgICAgIHNldFRpbWVvdXQoY2hlY2tSZWFkeSwgMTAwKVxuICAgICAgfVxuXG4gICAgICBjaGVja1JlYWR5KClcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIOW7uueriyBXZWJTb2NrZXQg6YCj5o6lXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGVzdGFibGlzaENvbm5lY3Rpb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB3cyA9IG5ldyBUcmFuc2NyaXB0V2ViU29ja2V0KHNlc3Npb25JZClcblxuICAgIC8vIOioreWumuioiuaBr+iZleeQhlxuICAgIHdzLm9uTWVzc2FnZSgobWVzc2FnZSkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKHNlc3Npb25JZCwgbWVzc2FnZSlcbiAgICB9KVxuXG4gICAgLy8g6Kit5a6a6YCj5o6l6Zec6ZaJ6JmV55CGXG4gICAgdGhpcy5zZXR1cENvbm5lY3Rpb25IYW5kbGVycyh3cywgc2Vzc2lvbklkKVxuXG4gICAgLy8g6YCj5o6lIFdlYlNvY2tldFxuICAgIGF3YWl0IHdzLmNvbm5lY3QoKVxuXG4gICAgLy8g5YSy5a2Y6YCj5o6lXG4gICAgdGhpcy5jb25uZWN0aW9ucy5zZXQoc2Vzc2lvbklkLCB3cylcbiAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuc2V0KHNlc3Npb25JZCwgdHJ1ZSlcblxuICAgIC8vIOeZvOmAgeWIneWniyBwaW5nIOWVn+WLleW+jOerr+iZleeQhuW+queSsFxuICAgIHRoaXMuc2VuZFBpbmcoc2Vzc2lvbklkKVxuXG4gICAgLy8g5ZWf5YuV5b+D6LezXG4gICAgdGhpcy5zdGFydEhlYXJ0YmVhdChzZXNzaW9uSWQpXG5cbiAgICBjb25zb2xlLmxvZyhg4pyFIFRyYW5zY3JpcHRNYW5hZ2VyOiBTZXNzaW9uICR7c2Vzc2lvbklkfSDpgKPmjqXmiJDlip9gKVxuICB9XG5cbiAgLyoqXG4qIOioreWumumAo+aOpeiZleeQhuWZqFxuKi9cbiAgcHJpdmF0ZSBzZXR1cENvbm5lY3Rpb25IYW5kbGVycyh3czogVHJhbnNjcmlwdFdlYlNvY2tldCwgc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyDnm6Pogb0gV2ViU29ja2V0IOmXnOmWieS6i+S7tlxuICAgIHdzLm9uQ2xvc2UoKGV2ZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+UjCBUcmFuc2NyaXB0TWFuYWdlcjogU2Vzc2lvbiAke3Nlc3Npb25JZH0g6YCj5o6l6Zec6ZaJOmAsIGV2ZW50LmNvZGUsIGV2ZW50LnJlYXNvbilcblxuICAgICAgLy8g5pu05paw54uA5oWLXG4gICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuc2V0KHNlc3Npb25JZCwgZmFsc2UpXG4gICAgICB0aGlzLnN0b3BIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgICAvLyDlpoLmnpzkuI3mmK/miYvli5Xpl5zplonvvIzlmJfoqabph43pgKNcbiAgICAgIGlmIChldmVudC5jb2RlICE9PSAxMDAwKSB7IC8vIDEwMDAgPSDmraPluLjpl5zplolcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdChzZXNzaW9uSWQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiDomZXnkIbmlLbliLDnmoToqIrmga9cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlTWVzc2FnZShzZXNzaW9uSWQ6IHN0cmluZywgbWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coJ/Cfk6ggW1RyYW5zY3JpcHRNYW5hZ2VyXSDmlLbliLDoqIrmga86Jywge1xuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdHlwZTogbWVzc2FnZS50eXBlLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgbGlzdGVuZXJDb3VudDogdGhpcy5saXN0ZW5lcnMuZ2V0KHNlc3Npb25JZCk/LnNpemUgfHwgMFxuICAgIH0pXG5cbiAgICAvLyDomZXnkIbkuI3lkIzpoZ7lnovnmoToqIrmga9cbiAgICBpZiAobWVzc2FnZS50eXBlID09PSAndHJhbnNjcmlwdF9zZWdtZW50Jykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk50gW1RyYW5zY3JpcHRNYW5hZ2VyXSDpgJDlrZfnqL/niYfmrrXoqbPmg4U6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHRleHQ6IG1lc3NhZ2UudGV4dCxcbiAgICAgICAgdGV4dExlbmd0aDogbWVzc2FnZS50ZXh0Py5sZW5ndGggfHwgMCxcbiAgICAgICAgdGV4dFByZXZpZXc6IG1lc3NhZ2UudGV4dD8uc3Vic3RyaW5nKDAsIDUwKSArIChtZXNzYWdlLnRleHQ/Lmxlbmd0aCA+IDUwID8gJy4uLicgOiAnJyksXG4gICAgICAgIHN0YXJ0X3RpbWU6IG1lc3NhZ2Uuc3RhcnRfdGltZSxcbiAgICAgICAgZW5kX3RpbWU6IG1lc3NhZ2UuZW5kX3RpbWUsXG4gICAgICAgIGNvbmZpZGVuY2U6IG1lc3NhZ2UuY29uZmlkZW5jZVxuICAgICAgfSlcbiAgICAgIHRoaXMuYnJvYWRjYXN0VG9MaXN0ZW5lcnMoc2Vzc2lvbklkLCBtZXNzYWdlKVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnY29ubmVjdGlvbl9lc3RhYmxpc2hlZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgW1RyYW5zY3JpcHRNYW5hZ2VyXSDpgKPmjqXlt7Llu7rnq4s6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UubWVzc2FnZSxcbiAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlLnRpbWVzdGFtcFxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3RyYW5zY3JpcHRfY29tcGxldGUnKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+OryBbVHJhbnNjcmlwdE1hbmFnZXJdIOi9iemMhOWujOaIkDonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZS5tZXNzYWdlLFxuICAgICAgICB0aW1lc3RhbXA6IG1lc3NhZ2UudGltZXN0YW1wXG4gICAgICB9KVxuICAgICAgdGhpcy5icm9hZGNhc3RUb0xpc3RlbmVycyhzZXNzaW9uSWQsIG1lc3NhZ2UpXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdoZWFydGJlYXRfYWNrJykge1xuICAgICAgY29uc29sZS5sb2coJ/CfkpMgW1RyYW5zY3JpcHRNYW5hZ2VyXSDlv4Pot7Plm57mh4k6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHRpbWVzdGFtcDogbWVzc2FnZS50aW1lc3RhbXBcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdwb25nJykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfj5MgW1RyYW5zY3JpcHRNYW5hZ2VyXSBQb25nIOWbnuaHiTonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlLnRpbWVzdGFtcFxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UucGhhc2UgPT09ICd3YWl0aW5nJykge1xuICAgICAgY29uc29sZS5sb2coJ+KPsyBbVHJhbnNjcmlwdE1hbmFnZXJdIOaUtuWIsCB3YWl0aW5nIHBoYXNlOicsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICBwaGFzZTogbWVzc2FnZS5waGFzZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnBoYXNlID09PSAnYWN0aXZlJykge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBbVHJhbnNjcmlwdE1hbmFnZXJdIOaUtuWIsCBhY3RpdmUgcGhhc2XvvIzovYnpjITlt7Lplovlp4s6Jywge1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHBoYXNlOiBtZXNzYWdlLnBoYXNlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSlcbiAgICAgIC8vIOW7o+aSrSBhY3RpdmUgcGhhc2Ug6KiK5oGv57Wm55uj6IG95ZmoXG4gICAgICB0aGlzLmJyb2FkY2FzdFRvTGlzdGVuZXJzKHNlc3Npb25JZCwgbWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ2Vycm9yJyB8fCBtZXNzYWdlLnR5cGUgPT09ICd0cmFuc2NyaXB0aW9uX2Vycm9yJykge1xuICAgICAgY29uc29sZS5lcnJvcign8J+aqCBbVHJhbnNjcmlwdE1hbmFnZXJdIOaUtuWIsOi9iemMhOmMr+iqpDonLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgdHlwZTogbWVzc2FnZS50eXBlLFxuICAgICAgICBlcnJvcl90eXBlOiBtZXNzYWdlLmVycm9yX3R5cGUsXG4gICAgICAgIGVycm9yX21lc3NhZ2U6IG1lc3NhZ2UuZXJyb3JfbWVzc2FnZSxcbiAgICAgICAgZGV0YWlsczogbWVzc2FnZS5kZXRhaWxzLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSlcbiAgICAgIC8vIOW7o+aSremMr+iqpOioiuaBr+e1puebo+iBveWZqFxuICAgICAgdGhpcy5icm9hZGNhc3RUb0xpc3RlbmVycyhzZXNzaW9uSWQsIG1lc3NhZ2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OoIFtUcmFuc2NyaXB0TWFuYWdlcl0g5pyq55+l6KiK5oGv6aGe5Z6LOicsIHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB0eXBlOiBtZXNzYWdlLnR5cGUsXG4gICAgICAgIGZ1bGxNZXNzYWdlOiBtZXNzYWdlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlu6Pmkq3oqIrmga/ntabmiYDmnInnm6Pogb3lmahcbiAgICovXG4gIHByaXZhdGUgYnJvYWRjYXN0VG9MaXN0ZW5lcnMoc2Vzc2lvbklkOiBzdHJpbmcsIG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKTogdm9pZCB7XG4gICAgY29uc3Qgc2Vzc2lvbkxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChzZXNzaW9uSWQpXG4gICAgY29uc29sZS5sb2coJ/Cfk6EgW1RyYW5zY3JpcHRNYW5hZ2VyXSDlu6Pmkq3oqIrmga/ntabnm6Pogb3lmag6Jywge1xuICAgICAgc2Vzc2lvbklkLFxuICAgICAgbWVzc2FnZVR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgIGxpc3RlbmVyQ291bnQ6IHNlc3Npb25MaXN0ZW5lcnM/LnNpemUgfHwgMCxcbiAgICAgIGhhc0xpc3RlbmVyczogISFzZXNzaW9uTGlzdGVuZXJzXG4gICAgfSlcblxuICAgIGlmIChzZXNzaW9uTGlzdGVuZXJzKSB7XG4gICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMFxuICAgICAgbGV0IGVycm9yQ291bnQgPSAwXG5cbiAgICAgIHNlc3Npb25MaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2FsbGJhY2sobWVzc2FnZSlcbiAgICAgICAgICBzdWNjZXNzQ291bnQrK1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgW1RyYW5zY3JpcHRNYW5hZ2VyXSDnm6Pogb3lmajlm57oqr/miJDlip8gKCR7c3VjY2Vzc0NvdW50fS8ke3Nlc3Npb25MaXN0ZW5lcnMuc2l6ZX0pYClcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlcnJvckNvdW50KytcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgW1RyYW5zY3JpcHRNYW5hZ2VyXSDnm6Pogb3lmajlm57oqr/pjK/oqqQgKCR7ZXJyb3JDb3VudH0vJHtzZXNzaW9uTGlzdGVuZXJzLnNpemV9KTpgLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coYPCfk6EgW1RyYW5zY3JpcHRNYW5hZ2VyXSDlu6Pmkq3lrozmiJA6ICR7c3VjY2Vzc0NvdW50fSDmiJDlip8sICR7ZXJyb3JDb3VudH0g5aSx5pWXYClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gW1RyYW5zY3JpcHRNYW5hZ2VyXSDmspLmnInmib7liLAgc2Vzc2lvbiAke3Nlc3Npb25JZH0g55qE55uj6IG95ZmoYClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog55m86YCBIHBpbmdcbiAgICovXG4gIHByaXZhdGUgc2VuZFBpbmcoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCB3cyA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KHNlc3Npb25JZClcbiAgICBpZiAod3MgJiYgd3MuaXNDb25uZWN0ZWQpIHtcbiAgICAgIHdzLnNlbmRKc29uKHsgdHlwZTogJ3BpbmcnIH0pXG4gICAgICBjb25zb2xlLmxvZyhg8J+PkyBUcmFuc2NyaXB0TWFuYWdlcjog5ZCRIHNlc3Npb24gJHtzZXNzaW9uSWR9IOeZvOmAgSBwaW5nYClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog55m86YCB5b+D6LezIC0g5aKe5by354uA5oWL5ZCM5q2lXG4gICAqL1xuICBwcml2YXRlIHNlbmRIZWFydGJlYXQoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyDlhYjlkIzmraXni4DmhYtcbiAgICBjb25zdCBpc0FjdHVhbGx5Q29ubmVjdGVkID0gdGhpcy5zeW5jQ29ubmVjdGlvblN0YXRlKHNlc3Npb25JZClcblxuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGlmICh3cyAmJiBpc0FjdHVhbGx5Q29ubmVjdGVkKSB7XG4gICAgICB0cnkge1xuICAgICAgICB3cy5zZW5kSnNvbih7XG4gICAgICAgICAgdHlwZTogJ2hlYXJ0YmVhdCcsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5KTIFRyYW5zY3JpcHRNYW5hZ2VyOiDlkJEgc2Vzc2lvbiAke3Nlc3Npb25JZH0g55m86YCB5b+D6LezYClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBUcmFuc2NyaXB0TWFuYWdlcjog55m86YCB5b+D6Lez5aSx5pWXICR7c2Vzc2lvbklkfTpgLCBlcnJvcilcbiAgICAgICAgLy8g5b+D6Lez55m86YCB5aSx5pWX77yM5Y+v6IO96YCj5o6l5bey5pa36ZaLXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBmYWxzZSlcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdChzZXNzaW9uSWQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOmAo+aOpeW3suaWt+mWi++8jOWBnOatouW/g+i3s+S4puWYl+ippumHjemAo1xuICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gVHJhbnNjcmlwdE1hbmFnZXI6IOW/g+i3s+aqoua4rOWIsOmAo+aOpeaWt+mWiyAke3Nlc3Npb25JZH1gKVxuICAgICAgdGhpcy5zdG9wSGVhcnRiZWF0KHNlc3Npb25JZClcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBmYWxzZSlcbiAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDllZ/li5Xlv4Pot7PmqZ/liLZcbiAgICovXG4gIHByaXZhdGUgc3RhcnRIZWFydGJlYXQoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnNlbmRIZWFydGJlYXQoc2Vzc2lvbklkKVxuICAgIH0sIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwpXG5cbiAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFscy5zZXQoc2Vzc2lvbklkLCBpbnRlcnZhbClcbiAgICBjb25zb2xlLmxvZyhg8J+SkyBUcmFuc2NyaXB0TWFuYWdlcjog54K6IHNlc3Npb24gJHtzZXNzaW9uSWR9IOWVn+WLleW/g+i3s2ApXG4gIH1cblxuICAvKipcbiAgICog5YGc5q2i5b+D6Lez5qmf5Yi2XG4gICAqL1xuICBwcml2YXRlIHN0b3BIZWFydGJlYXQoc2Vzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxzLmdldChzZXNzaW9uSWQpXG4gICAgaWYgKGludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKVxuICAgICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbHMuZGVsZXRlKHNlc3Npb25JZClcbiAgICAgIGNvbnNvbGUubG9nKGDwn5KTIFRyYW5zY3JpcHRNYW5hZ2VyOiDngrogc2Vzc2lvbiAke3Nlc3Npb25JZH0g5YGc5q2i5b+D6LezYClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5a6J5o6S6YeN6YCjXG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlUmVjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYXR0ZW1wdHMgPSB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLmdldChzZXNzaW9uSWQpID8/IDBcblxuICAgIGlmIChhdHRlbXB0cyA+PSB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgVHJhbnNjcmlwdE1hbmFnZXI6IFNlc3Npb24gJHtzZXNzaW9uSWR9IOmHjemAo+asoeaVuOW3sumBlOS4iumZkGApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldChzZXNzaW9uSWQsIGF0dGVtcHRzICsgMSlcblxuICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5yZWNvbm5lY3REZWxheSAqIE1hdGgucG93KDIsIGF0dGVtcHRzKSAvLyDmjIfmlbjpgIDpgb9cbiAgICBjb25zb2xlLmxvZyhg8J+UhCBUcmFuc2NyaXB0TWFuYWdlcjogU2Vzc2lvbiAke3Nlc3Npb25JZH0g5bCH5ZyoICR7ZGVsYXl9bXMg5b6M6YeN6YCjICjnrKwgJHthdHRlbXB0cyArIDF9IOasoSlgKVxuXG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmVzdGFibGlzaENvbm5lY3Rpb24oc2Vzc2lvbklkKVxuICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldChzZXNzaW9uSWQsIDApIC8vIOmHjemAo+aIkOWKn++8jOmHjee9ruioiOaVuFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFRyYW5zY3JpcHRNYW5hZ2VyOiBTZXNzaW9uICR7c2Vzc2lvbklkfSDph43pgKPlpLHmlZc6YCwgZXJyb3IpXG4gICAgICB9XG4gICAgfSwgZGVsYXkpXG4gIH1cblxuICAvKipcbiAgICog5pa36ZaL5oyH5a6aIHNlc3Npb24g55qE6YCj5o6lXG4gICAqL1xuICBhc3luYyBkaXNjb25uZWN0KHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS5sb2coYPCfk7EgVHJhbnNjcmlwdE1hbmFnZXI6IOaWt+mWiyBzZXNzaW9uICR7c2Vzc2lvbklkfWApXG5cbiAgICAvLyDlgZzmraLlv4Pot7NcbiAgICB0aGlzLnN0b3BIZWFydGJlYXQoc2Vzc2lvbklkKVxuXG4gICAgLy8g5pa36ZaLIFdlYlNvY2tldFxuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGlmICh3cykge1xuICAgICAgd3MuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLmNvbm5lY3Rpb25zLmRlbGV0ZShzZXNzaW9uSWQpXG4gICAgfVxuXG4gICAgLy8g5pu05paw54uA5oWLXG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdGVzLnNldChzZXNzaW9uSWQsIGZhbHNlKVxuXG4gICAgLy8g5riF55CG55uj6IG95ZmoXG4gICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKHNlc3Npb25JZClcblxuICAgIC8vIOa4heeQhumHjemAo+ioiOaVuFxuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuZGVsZXRlKHNlc3Npb25JZClcbiAgfVxuXG4gIC8qKlxuICAgKiDmt7vliqDoqIrmga/nm6Pogb3lmahcbiAgICovXG4gIGFkZExpc3RlbmVyKHNlc3Npb25JZDogc3RyaW5nLCBjYWxsYmFjazogKG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVycy5oYXMoc2Vzc2lvbklkKSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHNlc3Npb25JZCwgbmV3IFNldCgpKVxuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycy5nZXQoc2Vzc2lvbklkKSEuYWRkKGNhbGxiYWNrKVxuICAgIGNvbnNvbGUubG9nKGDwn5OxIFRyYW5zY3JpcHRNYW5hZ2VyOiDngrogc2Vzc2lvbiAke3Nlc3Npb25JZH0g5re75Yqg55uj6IG95ZmoYClcbiAgfVxuXG4gIC8qKlxuICAgKiDnp7vpmaToqIrmga/nm6Pogb3lmahcbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKHNlc3Npb25JZDogc3RyaW5nLCBjYWxsYmFjazogKG1lc3NhZ2U6IFRyYW5zY3JpcHRNZXNzYWdlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3Qgc2Vzc2lvbkxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChzZXNzaW9uSWQpXG4gICAgaWYgKHNlc3Npb25MaXN0ZW5lcnMpIHtcbiAgICAgIHNlc3Npb25MaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKVxuICAgICAgaWYgKHNlc3Npb25MaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoc2Vzc2lvbklkKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhg8J+TsSBUcmFuc2NyaXB0TWFuYWdlcjog54K6IHNlc3Npb24gJHtzZXNzaW9uSWR9IOenu+mZpOebo+iBveWZqGApXG4gIH1cblxuICAvKipcbiAgICog5qqi5p+l6YCj5o6l54uA5oWLIC0g5YSq5YyW54mI77yM56K65L+d5Y2z5pmC54uA5oWL5ZCM5q2lXG4gICAqL1xuICBpc0Nvbm5lY3RlZChzZXNzaW9uSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGNvbnN0IHN0YXRlQ29ubmVjdGVkID0gdGhpcy5jb25uZWN0aW9uU3RhdGVzLmdldChzZXNzaW9uSWQpID8/IGZhbHNlXG5cbiAgICAvLyDlr6bkvZzmm7Tlj6/pnaDnmoTljbPmmYLni4DmhYvmqqLmuKxcbiAgICBsZXQgYWN0dWFsQ29ubmVjdGVkID0gZmFsc2VcblxuICAgIGlmICh3cykge1xuICAgICAgLy8g5aSa6YeN5qqi5p+l56K65L+d5rqW56K65oCnXG4gICAgICBhY3R1YWxDb25uZWN0ZWQgPSB3cy5pc0Nvbm5lY3RlZCAmJiAoXG4gICAgICAgIHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOIHx8XG4gICAgICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuV2ViU29ja2V0ICYmIHdzLnJlYWR5U3RhdGUgPT09IDEpXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCflI0gW1RyYW5zY3JpcHRNYW5hZ2VyXSDpgKPmjqXni4DmhYvmqqLmn6U6YCwge1xuICAgICAgc2Vzc2lvbklkLFxuICAgICAgaGFzV2ViU29ja2V0OiAhIXdzLFxuICAgICAgd3NSZWFkeVN0YXRlOiB3cz8ucmVhZHlTdGF0ZSxcbiAgICAgIHdzSXNDb25uZWN0ZWQ6IHdzPy5pc0Nvbm5lY3RlZCA/PyBmYWxzZSxcbiAgICAgIHN0YXRlQ29ubmVjdGVkLFxuICAgICAgYWN0dWFsQ29ubmVjdGVkLFxuICAgICAgbmVlZHNTeW5jOiBzdGF0ZUNvbm5lY3RlZCAhPT0gYWN0dWFsQ29ubmVjdGVkLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfSlcblxuICAgIC8vIOWNs+aZguWQjOatpeeLgOaFi++8jOeiuuS/nSBjb25uZWN0aW9uU3RhdGVzIOiIh+WvpumamyBXZWJTb2NrZXQg54uA5oWL5LiA6Ie0XG4gICAgaWYgKHN0YXRlQ29ubmVjdGVkICE9PSBhY3R1YWxDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFtUcmFuc2NyaXB0TWFuYWdlcl0g54uA5oWL5LiN5LiA6Ie077yM5Y2z5pmC5ZCM5q2lOiAke3Nlc3Npb25JZH0gJHtzdGF0ZUNvbm5lY3RlZH0g4oaSICR7YWN0dWFsQ29ubmVjdGVkfWAsIHtcbiAgICAgICAgcHJldmlvdXNTdGF0ZTogc3RhdGVDb25uZWN0ZWQsXG4gICAgICAgIG5ld1N0YXRlOiBhY3R1YWxDb25uZWN0ZWQsXG4gICAgICAgIHdzRGV0YWlsczoge1xuICAgICAgICAgIGlzQ29ubmVjdGVkOiB3cz8uaXNDb25uZWN0ZWQsXG4gICAgICAgICAgcmVhZHlTdGF0ZTogd3M/LnJlYWR5U3RhdGVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBhY3R1YWxDb25uZWN0ZWQpXG5cbiAgICAgIC8vIOWmguaenOmAo+aOpeaWt+mWi+S9hueLgOaFi+mhr+ekuumAo+aOpe+8jOinuOeZvOmHjemAo1xuICAgICAgaWYgKHN0YXRlQ29ubmVjdGVkICYmICFhY3R1YWxDb25uZWN0ZWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gW1RyYW5zY3JpcHRNYW5hZ2VyXSDmqqLmuKzliLDpgKPmjqXmlrfplovvvIzlsIfop7jnmbzph43pgKM6ICR7c2Vzc2lvbklkfWApXG4gICAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3Qoc2Vzc2lvbklkKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhY3R1YWxDb25uZWN0ZWRcbiAgfVxuXG4gIC8qKlxuICAgKiDlvLfljJbnmoTpgKPmjqXni4DmhYvkuIDoh7TmgKfmqqLmn6VcbiAgICovXG4gIHByaXZhdGUgc3luY0Nvbm5lY3Rpb25TdGF0ZShzZXNzaW9uSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHdzID0gdGhpcy5jb25uZWN0aW9ucy5nZXQoc2Vzc2lvbklkKVxuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuY29ubmVjdGlvblN0YXRlcy5nZXQoc2Vzc2lvbklkKSA/PyBmYWxzZVxuXG4gICAgaWYgKCF3cykge1xuICAgICAgLy8g5rKS5pyJIFdlYlNvY2tldO+8jOeLgOaFi+aHieipsuaYryBmYWxzZVxuICAgICAgaWYgKGN1cnJlbnRTdGF0ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coYPCflIQgW1RyYW5zY3JpcHRNYW5hZ2VyXSDlkIzmraXni4DmhYsgKOeEoVdlYlNvY2tldCk6ICR7c2Vzc2lvbklkfSDihpIgZmFsc2VgKVxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZXMuc2V0KHNlc3Npb25JZCwgZmFsc2UpXG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvLyDmnIkgV2ViU29ja2V077yM5qqi5p+l5a+m6Zqb6YCj5o6l54uA5oWLXG4gICAgY29uc3QgYWN0dWFsQ29ubmVjdGVkID0gd3MuaXNDb25uZWN0ZWQgJiYgKFxuICAgICAgd3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHxcbiAgICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuV2ViU29ja2V0ICYmIHdzLnJlYWR5U3RhdGUgPT09IDEpXG4gICAgKVxuXG4gICAgaWYgKGN1cnJlbnRTdGF0ZSAhPT0gYWN0dWFsQ29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+UhCBbVHJhbnNjcmlwdE1hbmFnZXJdIOWQjOatpeeLgOaFizogJHtzZXNzaW9uSWR9ICR7Y3VycmVudFN0YXRlfSDihpIgJHthY3R1YWxDb25uZWN0ZWR9YClcbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlcy5zZXQoc2Vzc2lvbklkLCBhY3R1YWxDb25uZWN0ZWQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdHVhbENvbm5lY3RlZFxuICB9XG5cbiAgLyoqXG4gICAqIOWPluW+l+mAo+aOpeaVuOmHj1xuICAgKi9cbiAgZ2V0Q29ubmVjdGlvbkNvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jb25uZWN0aW9ucy52YWx1ZXMoKSkuZmlsdGVyKHdzID0+IHdzLmlzQ29ubmVjdGVkKS5sZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbmiYDmnInpgKPmjqVcbiAgICovXG4gIGFzeW5jIGRpc2Nvbm5lY3RBbGwoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS5sb2coJ/Cfk7EgVHJhbnNjcmlwdE1hbmFnZXI6IOa4heeQhuaJgOaciemAo+aOpScpXG5cbiAgICBjb25zdCBzZXNzaW9uSWRzID0gQXJyYXkuZnJvbSh0aGlzLmNvbm5lY3Rpb25zLmtleXMoKSlcbiAgICBhd2FpdCBQcm9taXNlLmFsbChzZXNzaW9uSWRzLm1hcChzZXNzaW9uSWQgPT4gdGhpcy5kaXNjb25uZWN0KHNlc3Npb25JZCkpKVxuICB9XG59XG5cbi8vIOWMr+WHuiBTaW5nbGV0b24g5a+m5L6LXG5leHBvcnQgY29uc3QgdHJhbnNjcmlwdE1hbmFnZXIgPSBUcmFuc2NyaXB0TWFuYWdlci5nZXRJbnN0YW5jZSgpXG5cbi8vIOWMr+WHuumhnuWei1xuZXhwb3J0IHR5cGUgeyBUcmFuc2NyaXB0TWVzc2FnZSB9XG4iXSwibmFtZXMiOlsiVHJhbnNjcmlwdFdlYlNvY2tldCIsIlRyYW5zY3JpcHRNYW5hZ2VyIiwiaW5zdGFuY2UiLCJjb25uZWN0aW9ucyIsIk1hcCIsImxpc3RlbmVycyIsImNvbm5lY3Rpb25TdGF0ZXMiLCJoZWFydGJlYXRJbnRlcnZhbHMiLCJyZWNvbm5lY3RBdHRlbXB0cyIsIm1heFJlY29ubmVjdEF0dGVtcHRzIiwiaGVhcnRiZWF0SW50ZXJ2YWwiLCJyZWNvbm5lY3REZWxheSIsIndpbmRvdyIsInRyYW5zY3JpcHRNYW5hZ2VyIiwiZ2V0SW5zdGFuY2UiLCJjb25uZWN0Iiwic2Vzc2lvbklkIiwiaGFzIiwiZ2V0IiwiY29uc29sZSIsImxvZyIsImRpc2Nvbm5lY3QiLCJzZXQiLCJlc3RhYmxpc2hDb25uZWN0aW9uIiwid2FpdEZvckNvbm5lY3Rpb25SZWFkeSIsImVycm9yIiwic2NoZWR1bGVSZWNvbm5lY3QiLCJ0aW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiY2hlY2tSZWFkeSIsIndzIiwiaXNDb25uZWN0ZWQiLCJoYXNXZWJTb2NrZXQiLCJ3c1JlYWR5U3RhdGUiLCJyZWFkeVN0YXRlIiwid3NJc0Nvbm5lY3RlZCIsImVsYXBzZWRUaW1lIiwid3NSZWFkeSIsIldlYlNvY2tldCIsIk9QRU4iLCJhY3R1YWxDb25uZWN0ZWQiLCJFcnJvciIsInNldFRpbWVvdXQiLCJvbk1lc3NhZ2UiLCJtZXNzYWdlIiwiaGFuZGxlTWVzc2FnZSIsInNldHVwQ29ubmVjdGlvbkhhbmRsZXJzIiwic2VuZFBpbmciLCJzdGFydEhlYXJ0YmVhdCIsIm9uQ2xvc2UiLCJldmVudCIsImNvZGUiLCJyZWFzb24iLCJzdG9wSGVhcnRiZWF0IiwidHlwZSIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwibGlzdGVuZXJDb3VudCIsInNpemUiLCJ0ZXh0IiwidGV4dExlbmd0aCIsImxlbmd0aCIsInRleHRQcmV2aWV3Iiwic3Vic3RyaW5nIiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwiY29uZmlkZW5jZSIsImJyb2FkY2FzdFRvTGlzdGVuZXJzIiwicGhhc2UiLCJlcnJvcl90eXBlIiwiZXJyb3JfbWVzc2FnZSIsImRldGFpbHMiLCJmdWxsTWVzc2FnZSIsInNlc3Npb25MaXN0ZW5lcnMiLCJtZXNzYWdlVHlwZSIsImhhc0xpc3RlbmVycyIsInN1Y2Nlc3NDb3VudCIsImVycm9yQ291bnQiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJ3YXJuIiwic2VuZEpzb24iLCJzZW5kSGVhcnRiZWF0IiwiaXNBY3R1YWxseUNvbm5lY3RlZCIsInN5bmNDb25uZWN0aW9uU3RhdGUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRlbGV0ZSIsImF0dGVtcHRzIiwiZGVsYXkiLCJNYXRoIiwicG93IiwiYWRkTGlzdGVuZXIiLCJTZXQiLCJhZGQiLCJyZW1vdmVMaXN0ZW5lciIsInN0YXRlQ29ubmVjdGVkIiwibmVlZHNTeW5jIiwicHJldmlvdXNTdGF0ZSIsIm5ld1N0YXRlIiwid3NEZXRhaWxzIiwiY3VycmVudFN0YXRlIiwiZ2V0Q29ubmVjdGlvbkNvdW50IiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmlsdGVyIiwiZGlzY29ubmVjdEFsbCIsInNlc3Npb25JZHMiLCJrZXlzIiwiYWxsIiwibWFwIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/transcript-manager.ts\n");

/***/ }),

/***/ "(ssr)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/.pnpm/tailwind-merge@2.5.5/node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQ0o7QUFFakMsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN4QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3RCIiwic291cmNlcyI6WyIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9saWIvdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xzeCwgdHlwZSBDbGFzc1ZhbHVlIH0gZnJvbSBcImNsc3hcIlxuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gXCJ0YWlsd2luZC1tZXJnZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpXG59XG4iXSwibmFtZXMiOlsiY2xzeCIsInR3TWVyZ2UiLCJjbiIsImlucHV0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/utils.ts\n");

/***/ }),

/***/ "(ssr)/./lib/websocket.ts":
/*!**************************!*\
  !*** ./lib/websocket.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioUploadWebSocket: () => (/* binding */ AudioUploadWebSocket),\n/* harmony export */   TranscriptWebSocket: () => (/* binding */ TranscriptWebSocket),\n/* harmony export */   WebSocketManager: () => (/* binding */ WebSocketManager),\n/* harmony export */   createAudioUploadWebSocket: () => (/* binding */ createAudioUploadWebSocket),\n/* harmony export */   createTranscriptWebSocket: () => (/* binding */ createTranscriptWebSocket)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"(ssr)/./lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ WebSocketManager,AudioUploadWebSocket,TranscriptWebSocket,createAudioUploadWebSocket,createTranscriptWebSocket auto */ \n// WebSocket 管理類別\nclass WebSocketManager {\n    constructor(url){\n        this.ws = null;\n        this.reconnectAttempts = 0;\n        this.maxReconnectAttempts = 5;\n        this.reconnectDelay = 1000;\n        this.isManualClose = false;\n        this.url = url;\n    }\n    connect() {\n        return new Promise((resolve, reject)=>{\n            try {\n                this.ws = new WebSocket(this.url);\n                this.isManualClose = false;\n                this.ws.onopen = ()=>{\n                    console.log('✅ WebSocket 連接成功:', this.url);\n                    this.reconnectAttempts = 0;\n                    resolve();\n                };\n                this.ws.onerror = (error)=>{\n                    console.error('❌ WebSocket 連接錯誤:', error);\n                    reject(error);\n                };\n                this.ws.onclose = (event)=>{\n                    console.log('🔌 WebSocket 連接關閉:', event.code, event.reason);\n                    if (!this.isManualClose && this.reconnectAttempts < this.maxReconnectAttempts) {\n                        this.reconnectAttempts++;\n                        console.log(`🔄 嘗試重新連接 (${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\n                        setTimeout(()=>{\n                            this.connect();\n                        }, this.reconnectDelay * this.reconnectAttempts);\n                    }\n                };\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n    disconnect() {\n        this.isManualClose = true;\n        if (this.ws) {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    send(data) {\n        if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n            this.ws.send(data);\n        } else {\n            console.warn('⚠️ WebSocket 未連接，無法發送資料');\n        }\n    }\n    onMessage(callback) {\n        if (this.ws) {\n            this.ws.onmessage = callback;\n        }\n    }\n    onClose(callback) {\n        if (this.ws) {\n            const originalOnClose = this.ws.onclose;\n            const ws = this.ws // 保存引用避免 null 問題\n            ;\n            this.ws.onclose = (event)=>{\n                // 先調用新的回調\n                callback(event);\n                // 再調用原始的處理器\n                if (originalOnClose) {\n                    originalOnClose.call(ws, event);\n                }\n            };\n        }\n    }\n    get readyState() {\n        return this.ws?.readyState ?? WebSocket.CLOSED;\n    }\n    get isConnected() {\n        return this.ws?.readyState === WebSocket.OPEN;\n    }\n}\n// 音檔上傳 WebSocket 管理\nclass AudioUploadWebSocket extends WebSocketManager {\n    constructor(sessionId){\n        super((0,_api__WEBPACK_IMPORTED_MODULE_0__.getWebSocketURL)(`/ws/upload_audio/${sessionId}`)), this.sequenceNumber = 0;\n    }\n    uploadAudioChunk(audioBlob) {\n        if (!this.isConnected) {\n            console.warn('⚠️ WebSocket 未連接，無法上傳音檔');\n            return;\n        }\n        // 建立包含序號的資料包\n        const sequenceBuffer = new ArrayBuffer(4);\n        const sequenceView = new DataView(sequenceBuffer);\n        sequenceView.setUint32(0, this.sequenceNumber, true) // little-endian\n        ;\n        // 合併序號和音檔資料\n        audioBlob.arrayBuffer().then((audioBuffer)=>{\n            const combinedBuffer = new ArrayBuffer(sequenceBuffer.byteLength + audioBuffer.byteLength);\n            const combinedView = new Uint8Array(combinedBuffer);\n            combinedView.set(new Uint8Array(sequenceBuffer), 0);\n            combinedView.set(new Uint8Array(audioBuffer), sequenceBuffer.byteLength);\n            this.send(combinedBuffer);\n            console.log(`📤 上傳音檔切片 #${this.sequenceNumber}, 大小: ${audioBlob.size} bytes`);\n            this.sequenceNumber++;\n        });\n    }\n    onAckMissing(callback) {\n        this.onMessage((event)=>{\n            try {\n                const message = JSON.parse(event.data);\n                // 根據消息類型進行分發\n                switch(message.type){\n                    case 'ack_missing':\n                        // 確認 data.missing 存在且是陣列\n                        if (message.missing && Array.isArray(message.missing)) {\n                            callback(message);\n                        } else {\n                            console.error('❌ 收到的 ack_missing 訊息格式不正確:', message);\n                        }\n                        break;\n                    case 'ack':\n                        // 處理音檔切片確認訊息\n                        console.log('✅ 音檔切片確認:', message.chunk_sequence || 'unknown');\n                        break;\n                    case 'heartbeat_ack':\n                        // 處理音檔上傳心跳確認\n                        console.log('💓 音檔上傳心跳確認');\n                        break;\n                    case 'connection_established':\n                        console.log('✅ 音檔上傳 WebSocket 連接已建立');\n                        break;\n                    case 'error':\n                        console.error('❌ 音檔上傳服務端錯誤:', message.message);\n                        break;\n                    default:\n                        console.warn('⚠️ 收到未知的音檔上傳訊息類型:', message.type);\n                }\n            } catch (error) {\n                console.error('❌ 解析音檔上傳服務訊息失敗:', error);\n            }\n        });\n    }\n    resetSequence() {\n        this.sequenceNumber = 0;\n    }\n}\n// 逐字稿接收 WebSocket 管理 - 簡化版，只負責基礎連接\nclass TranscriptWebSocket extends WebSocketManager {\n    constructor(sessionId){\n        super((0,_api__WEBPACK_IMPORTED_MODULE_0__.getWebSocketURL)(`/ws/transcript_feed/${sessionId}`));\n    }\n    // 設定訊息處理回調\n    onMessage(callback) {\n        super.onMessage((event)=>{\n            try {\n                const data = JSON.parse(event.data);\n                callback(data);\n            } catch (error) {\n                console.error('❌ TranscriptWebSocket 解析訊息失敗:', error);\n            }\n        });\n    }\n    // 發送 JSON 訊息\n    sendJson(message) {\n        if (this.isConnected) {\n            this.send(JSON.stringify(message));\n        }\n    }\n}\n// WebSocket 工廠函數\nconst createAudioUploadWebSocket = (sessionId)=>{\n    return new AudioUploadWebSocket(sessionId);\n};\nconst createTranscriptWebSocket = (sessionId)=>{\n    return new TranscriptWebSocket(sessionId);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ1g7WUFDZixJQUFJO2dCQUNGLE1BQU1PLE9BQU9pQyxLQUFLQyxLQUFLLENBQUN6QyxNQUFNTyxJQUFJO2dCQUNsQ0ssU0FBU0w7WUFDWCxFQUFFLE9BQU9ULE9BQU87Z0JBQ2RILFFBQVFHLEtBQUssQ0FBQyxpQ0FBaUNBO1lBQ2pEO1FBQ0Y7SUFDRjtJQUVBLGFBQWE7SUFDYm1ELFNBQVNWLE9BQVksRUFBUTtRQUMzQixJQUFJLElBQUksQ0FBQ3JCLFdBQVcsRUFBRTtZQUNwQixJQUFJLENBQUNaLElBQUksQ0FBQ2tDLEtBQUtVLFNBQVMsQ0FBQ1g7UUFDM0I7SUFDRjtBQUNGO0FBRUEsaUJBQWlCO0FBQ1YsTUFBTVksNkJBQTZCLENBQUMvQjtJQUN6QyxPQUFPLElBQUlELHFCQUFxQkM7QUFDbEMsRUFBQztBQUVNLE1BQU1nQyw0QkFBNEIsQ0FBQ2hDO0lBQ3hDLE9BQU8sSUFBSTRCLG9CQUFvQjVCO0FBQ2pDLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2xpYi93ZWJzb2NrZXQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgZ2V0V2ViU29ja2V0VVJMIH0gZnJvbSAnLi9hcGknXG5cbi8vIFdlYlNvY2tldCDpgKPmjqXni4DmhYtcbmV4cG9ydCB0eXBlIFdlYlNvY2tldFN0YXRlID0gJ2Nvbm5lY3RpbmcnIHwgJ2Nvbm5lY3RlZCcgfCAnZGlzY29ubmVjdGVkJyB8ICdlcnJvcidcblxuLy8g6YCQ5a2X56i/5o6l5pS25LuL6Z2iICjoiIflvoznq6/mjqjpgIHmoLzlvI/kuIDoh7QpXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRNZXNzYWdlIHtcbiAgdHlwZTogJ3RyYW5zY3JpcHRfc2VnbWVudCcgfCAndHJhbnNjcmlwdF9jb21wbGV0ZScgfCAnY29ubmVjdGlvbl9lc3RhYmxpc2hlZCcgfCAnaGVhcnRiZWF0X2FjaycgfCAncG9uZycgfCAnYWN0aXZlJyB8ICdlcnJvcicgfCAndHJhbnNjcmlwdGlvbl9lcnJvcidcbiAgc2Vzc2lvbl9pZD86IHN0cmluZ1xuICBzZWdtZW50X2lkPzogc3RyaW5nXG4gIHRleHQ/OiBzdHJpbmdcbiAgbWVzc2FnZT86IHN0cmluZyAgLy8g55So5pa86YCj5o6l56K66KqN6KiK5oGv5oiW5a6M5oiQ6YCa55+lXG4gIHN0YXJ0X3NlcXVlbmNlPzogbnVtYmVyXG4gIGVuZF9zZXF1ZW5jZT86IG51bWJlclxuICBzdGFydF90aW1lPzogbnVtYmVyXG4gIGVuZF90aW1lPzogbnVtYmVyXG4gIGxhbmd1YWdlPzogc3RyaW5nXG4gIGNvbmZpZGVuY2U/OiBudW1iZXJcbiAgdGltZXN0YW1wPzogbnVtYmVyXG4gIHBoYXNlPzogJ3dhaXRpbmcnIHwgJ2FjdGl2ZScgIC8vIOaWsOWiniBwaGFzZSDmrITkvY1cbiAgZXJyb3JfdHlwZT86IHN0cmluZ1xuICBlcnJvcl9tZXNzYWdlPzogc3RyaW5nXG4gIGRldGFpbHM/OiBhbnlcbn1cblxuLy8gQUNLL01pc3Npbmcg6KiK5oGv5LuL6Z2iXG5leHBvcnQgaW50ZXJmYWNlIEFja01pc3NpbmdNZXNzYWdlIHtcbiAgYWNrOiBudW1iZXJcbiAgbWlzc2luZzogbnVtYmVyW11cbn1cblxuLy8gV2ViU29ja2V0IOeuoeeQhumhnuWIpVxuZXhwb3J0IGNsYXNzIFdlYlNvY2tldE1hbmFnZXIge1xuICBwcml2YXRlIHdzOiBXZWJTb2NrZXQgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIHVybDogc3RyaW5nXG4gIHByaXZhdGUgcmVjb25uZWN0QXR0ZW1wdHMgPSAwXG4gIHByaXZhdGUgbWF4UmVjb25uZWN0QXR0ZW1wdHMgPSA1XG4gIHByaXZhdGUgcmVjb25uZWN0RGVsYXkgPSAxMDAwXG4gIHByaXZhdGUgaXNNYW51YWxDbG9zZSA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLnVybCA9IHVybFxuICB9XG5cbiAgY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodGhpcy51cmwpXG4gICAgICAgIHRoaXMuaXNNYW51YWxDbG9zZSA9IGZhbHNlXG5cbiAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBXZWJTb2NrZXQg6YCj5o6l5oiQ5YqfOicsIHRoaXMudXJsKVxuICAgICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgV2ViU29ja2V0IOmAo+aOpemMr+iqpDonLCBlcnJvcilcbiAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjCBXZWJTb2NrZXQg6YCj5o6l6Zec6ZaJOicsIGV2ZW50LmNvZGUsIGV2ZW50LnJlYXNvbilcblxuICAgICAgICAgIGlmICghdGhpcy5pc01hbnVhbENsb3NlICYmIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPCB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKytcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIOWYl+ippumHjeaWsOmAo+aOpSAoJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfS8ke3RoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHN9KWApXG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmNvbm5lY3QoKVxuICAgICAgICAgICAgfSwgdGhpcy5yZWNvbm5lY3REZWxheSAqIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKTogdm9pZCB7XG4gICAgdGhpcy5pc01hbnVhbENsb3NlID0gdHJ1ZVxuICAgIGlmICh0aGlzLndzKSB7XG4gICAgICB0aGlzLndzLmNsb3NlKClcbiAgICAgIHRoaXMud3MgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgc2VuZChkYXRhOiBzdHJpbmcgfCBBcnJheUJ1ZmZlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHRoaXMud3Muc2VuZChkYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBXZWJTb2NrZXQg5pyq6YCj5o6l77yM54Sh5rOV55m86YCB6LOH5paZJylcbiAgICB9XG4gIH1cblxuICBvbk1lc3NhZ2UoY2FsbGJhY2s6IChldmVudDogTWVzc2FnZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKHRoaXMud3MpIHtcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gY2FsbGJhY2tcbiAgICB9XG4gIH1cblxuICBvbkNsb3NlKGNhbGxiYWNrOiAoZXZlbnQ6IENsb3NlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53cykge1xuICAgICAgY29uc3Qgb3JpZ2luYWxPbkNsb3NlID0gdGhpcy53cy5vbmNsb3NlXG4gICAgICBjb25zdCB3cyA9IHRoaXMud3MgLy8g5L+d5a2Y5byV55So6YG/5YWNIG51bGwg5ZWP6aGMXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgLy8g5YWI6Kq/55So5paw55qE5Zue6Kq/XG4gICAgICAgIGNhbGxiYWNrKGV2ZW50KVxuICAgICAgICAvLyDlho3oqr/nlKjljp/lp4vnmoTomZXnkIblmahcbiAgICAgICAgaWYgKG9yaWdpbmFsT25DbG9zZSkge1xuICAgICAgICAgIG9yaWdpbmFsT25DbG9zZS5jYWxsKHdzLCBldmVudClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldCByZWFkeVN0YXRlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMud3M/LnJlYWR5U3RhdGUgPz8gV2ViU29ja2V0LkNMT1NFRFxuICB9XG5cbiAgZ2V0IGlzQ29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLndzPy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTlxuICB9XG59XG5cbi8vIOmfs+aqlOS4iuWCsyBXZWJTb2NrZXQg566h55CGXG5leHBvcnQgY2xhc3MgQXVkaW9VcGxvYWRXZWJTb2NrZXQgZXh0ZW5kcyBXZWJTb2NrZXRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzZXF1ZW5jZU51bWJlciA9IDBcblxuICBjb25zdHJ1Y3RvcihzZXNzaW9uSWQ6IHN0cmluZykge1xuICAgIHN1cGVyKGdldFdlYlNvY2tldFVSTChgL3dzL3VwbG9hZF9hdWRpby8ke3Nlc3Npb25JZH1gKSlcbiAgfVxuXG4gIHVwbG9hZEF1ZGlvQ2h1bmsoYXVkaW9CbG9iOiBCbG9iKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBXZWJTb2NrZXQg5pyq6YCj5o6l77yM54Sh5rOV5LiK5YKz6Z+z5qqUJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIOW7uueri+WMheWQq+W6j+iZn+eahOizh+aWmeWMhVxuICAgIGNvbnN0IHNlcXVlbmNlQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDQpXG4gICAgY29uc3Qgc2VxdWVuY2VWaWV3ID0gbmV3IERhdGFWaWV3KHNlcXVlbmNlQnVmZmVyKVxuICAgIHNlcXVlbmNlVmlldy5zZXRVaW50MzIoMCwgdGhpcy5zZXF1ZW5jZU51bWJlciwgdHJ1ZSkgLy8gbGl0dGxlLWVuZGlhblxuXG4gICAgLy8g5ZCI5L215bqP6Jmf5ZKM6Z+z5qqU6LOH5paZXG4gICAgYXVkaW9CbG9iLmFycmF5QnVmZmVyKCkudGhlbihhdWRpb0J1ZmZlciA9PiB7XG4gICAgICBjb25zdCBjb21iaW5lZEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihzZXF1ZW5jZUJ1ZmZlci5ieXRlTGVuZ3RoICsgYXVkaW9CdWZmZXIuYnl0ZUxlbmd0aClcbiAgICAgIGNvbnN0IGNvbWJpbmVkVmlldyA9IG5ldyBVaW50OEFycmF5KGNvbWJpbmVkQnVmZmVyKVxuXG4gICAgICBjb21iaW5lZFZpZXcuc2V0KG5ldyBVaW50OEFycmF5KHNlcXVlbmNlQnVmZmVyKSwgMClcbiAgICAgIGNvbWJpbmVkVmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYXVkaW9CdWZmZXIpLCBzZXF1ZW5jZUJ1ZmZlci5ieXRlTGVuZ3RoKVxuXG4gICAgICB0aGlzLnNlbmQoY29tYmluZWRCdWZmZXIpXG4gICAgICBjb25zb2xlLmxvZyhg8J+TpCDkuIrlgrPpn7PmqpTliIfniYcgIyR7dGhpcy5zZXF1ZW5jZU51bWJlcn0sIOWkp+WwjzogJHthdWRpb0Jsb2Iuc2l6ZX0gYnl0ZXNgKVxuXG4gICAgICB0aGlzLnNlcXVlbmNlTnVtYmVyKytcbiAgICB9KVxuICB9XG5cbiAgb25BY2tNaXNzaW5nKGNhbGxiYWNrOiAoZGF0YTogQWNrTWlzc2luZ01lc3NhZ2UpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLm9uTWVzc2FnZSgoZXZlbnQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpXG5cbiAgICAgICAgLy8g5qC55pOa5raI5oGv6aGe5Z6L6YCy6KGM5YiG55m8XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnYWNrX21pc3NpbmcnOlxuICAgICAgICAgICAgLy8g56K66KqNIGRhdGEubWlzc2luZyDlrZjlnKjkuJTmmK/pmaPliJdcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLm1pc3NpbmcgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLm1pc3NpbmcpKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UgYXMgQWNrTWlzc2luZ01lc3NhZ2UpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5pS25Yiw55qEIGFja19taXNzaW5nIOioiuaBr+agvOW8j+S4jeato+eiujonLCBtZXNzYWdlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdhY2snOlxuICAgICAgICAgICAgLy8g6JmV55CG6Z+z5qqU5YiH54mH56K66KqN6KiK5oGvXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOmfs+aqlOWIh+eJh+eiuuiqjTonLCBtZXNzYWdlLmNodW5rX3NlcXVlbmNlIHx8ICd1bmtub3duJylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnaGVhcnRiZWF0X2Fjayc6XG4gICAgICAgICAgICAvLyDomZXnkIbpn7PmqpTkuIrlgrPlv4Pot7Pnorroqo1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KTIOmfs+aqlOS4iuWCs+W/g+i3s+eiuuiqjScpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2Nvbm5lY3Rpb25fZXN0YWJsaXNoZWQnOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDpn7PmqpTkuIrlgrMgV2ViU29ja2V0IOmAo+aOpeW3suW7uueriycpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDpn7PmqpTkuIrlgrPmnI3li5nnq6/pjK/oqqQ6JywgbWVzc2FnZS5tZXNzYWdlKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8g5pS25Yiw5pyq55+l55qE6Z+z5qqU5LiK5YKz6KiK5oGv6aGe5Z6LOicsIG1lc3NhZ2UudHlwZSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOino+aekOmfs+aqlOS4iuWCs+acjeWLmeioiuaBr+WkseaVlzonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVzZXRTZXF1ZW5jZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNlcXVlbmNlTnVtYmVyID0gMFxuICB9XG59XG5cbi8vIOmAkOWtl+eov+aOpeaUtiBXZWJTb2NrZXQg566h55CGIC0g57Ch5YyW54mI77yM5Y+q6LKg6LKs5Z+656SO6YCj5o6lXG5leHBvcnQgY2xhc3MgVHJhbnNjcmlwdFdlYlNvY2tldCBleHRlbmRzIFdlYlNvY2tldE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihzZXNzaW9uSWQ6IHN0cmluZykge1xuICAgIHN1cGVyKGdldFdlYlNvY2tldFVSTChgL3dzL3RyYW5zY3JpcHRfZmVlZC8ke3Nlc3Npb25JZH1gKSlcbiAgfVxuXG4gIC8vIOioreWumuioiuaBr+iZleeQhuWbnuiqv1xuICBvbk1lc3NhZ2UoY2FsbGJhY2s6IChkYXRhOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBzdXBlci5vbk1lc3NhZ2UoKGV2ZW50KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKVxuICAgICAgICBjYWxsYmFjayhkYXRhKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFRyYW5zY3JpcHRXZWJTb2NrZXQg6Kej5p6Q6KiK5oGv5aSx5pWXOicsIGVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyDnmbzpgIEgSlNPTiDoqIrmga9cbiAgc2VuZEpzb24obWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSlcbiAgICB9XG4gIH1cbn1cblxuLy8gV2ViU29ja2V0IOW3peW7oOWHveaVuFxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1ZGlvVXBsb2FkV2ViU29ja2V0ID0gKHNlc3Npb25JZDogc3RyaW5nKTogQXVkaW9VcGxvYWRXZWJTb2NrZXQgPT4ge1xuICByZXR1cm4gbmV3IEF1ZGlvVXBsb2FkV2ViU29ja2V0KHNlc3Npb25JZClcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRyYW5zY3JpcHRXZWJTb2NrZXQgPSAoc2Vzc2lvbklkOiBzdHJpbmcpOiBUcmFuc2NyaXB0V2ViU29ja2V0ID0+IHtcbiAgcmV0dXJuIG5ldyBUcmFuc2NyaXB0V2ViU29ja2V0KHNlc3Npb25JZClcbn1cbiJdLCJuYW1lcyI6WyJnZXRXZWJTb2NrZXRVUkwiLCJXZWJTb2NrZXRNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJ1cmwiLCJ3cyIsInJlY29ubmVjdEF0dGVtcHRzIiwibWF4UmVjb25uZWN0QXR0ZW1wdHMiLCJyZWNvbm5lY3REZWxheSIsImlzTWFudWFsQ2xvc2UiLCJjb25uZWN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJjb25zb2xlIiwibG9nIiwib25lcnJvciIsImVycm9yIiwib25jbG9zZSIsImV2ZW50IiwiY29kZSIsInJlYXNvbiIsInNldFRpbWVvdXQiLCJkaXNjb25uZWN0IiwiY2xvc2UiLCJzZW5kIiwiZGF0YSIsInJlYWR5U3RhdGUiLCJPUEVOIiwid2FybiIsIm9uTWVzc2FnZSIsImNhbGxiYWNrIiwib25tZXNzYWdlIiwib25DbG9zZSIsIm9yaWdpbmFsT25DbG9zZSIsImNhbGwiLCJDTE9TRUQiLCJpc0Nvbm5lY3RlZCIsIkF1ZGlvVXBsb2FkV2ViU29ja2V0Iiwic2Vzc2lvbklkIiwic2VxdWVuY2VOdW1iZXIiLCJ1cGxvYWRBdWRpb0NodW5rIiwiYXVkaW9CbG9iIiwic2VxdWVuY2VCdWZmZXIiLCJBcnJheUJ1ZmZlciIsInNlcXVlbmNlVmlldyIsIkRhdGFWaWV3Iiwic2V0VWludDMyIiwiYXJyYXlCdWZmZXIiLCJ0aGVuIiwiYXVkaW9CdWZmZXIiLCJjb21iaW5lZEJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJjb21iaW5lZFZpZXciLCJVaW50OEFycmF5Iiwic2V0Iiwic2l6ZSIsIm9uQWNrTWlzc2luZyIsIm1lc3NhZ2UiLCJKU09OIiwicGFyc2UiLCJ0eXBlIiwibWlzc2luZyIsIkFycmF5IiwiaXNBcnJheSIsImNodW5rX3NlcXVlbmNlIiwicmVzZXRTZXF1ZW5jZSIsIlRyYW5zY3JpcHRXZWJTb2NrZXQiLCJzZW5kSnNvbiIsInN0cmluZ2lmeSIsImNyZWF0ZUF1ZGlvVXBsb2FkV2ViU29ja2V0IiwiY3JlYXRlVHJhbnNjcmlwdFdlYlNvY2tldCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/websocket.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./providers/app-state-provider-wrapper.tsx */ \"(ssr)/./providers/app-state-provider-wrapper.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCUyRmdsb2JhbHMuY3NzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGcHJvdmlkZXJzJTJGYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyQXBwU3RhdGVQcm92aWRlcldyYXBwZXIlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdNQUE2SyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQXBwU3RhdGVQcm92aWRlcldyYXBwZXJcIl0gKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9wcm92aWRlcnMvYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fproviders%2Fapp-state-provider-wrapper.tsx%22%2C%22ids%22%3A%5B%22AppStateProviderWrapper%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(ssr)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRmFwcCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSx3SUFBb0ciLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/metadata/metadata-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZlcnJvci1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmh0dHAtYWNjZXNzLWZhbGxiYWNrJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGaXRzdWtpJTJGRG9jdW1lbnRzJTJGR2l0JTJGc3R1ZHktc2NyaWJlciUyRmZyb250ZW5kJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjcuNF8lNDBwbGF5d3JpZ2h0JTJCdGVzdCU0MDEuNTMuMV9yZWFjdC1kb20lNDAxOS4wLjBfcmVhY3QlNDAxOS4wLjBfX3JlYWN0JTQwMTkuMC4wJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbWV0YWRhdGElMkZhc3luYy1tZXRhZGF0YS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRml0c3VraSUyRkRvY3VtZW50cyUyRkdpdCUyRnN0dWR5LXNjcmliZXIlMkZmcm9udGVuZCUyRm5vZGVfbW9kdWxlcyUyRi5wbnBtJTJGbmV4dCU0MDE1LjIuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjI3LjRfJTQwcGxheXdyaWdodCUyQnRlc3QlNDAxLjUzLjFfcmVhY3QtZG9tJTQwMTkuMC4wX3JlYWN0JTQwMTkuMC4wX19yZWFjdCU0MDE5LjAuMCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm1ldGFkYXRhJTJGbWV0YWRhdGEtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZpdHN1a2klMkZEb2N1bWVudHMlMkZHaXQlMkZzdHVkeS1zY3JpYmVyJTJGZnJvbnRlbmQlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRm5leHQlNDAxNS4yLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yNy40XyU0MHBsYXl3cmlnaHQlMkJ0ZXN0JTQwMS41My4xX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxnZEFBcVE7QUFDclE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxzZEFBd1E7QUFDeFE7QUFDQSxnZ0JBQTZSO0FBQzdSO0FBQ0Esb2RBQXVRO0FBQ3ZRO0FBQ0Esd2VBQWlSO0FBQ2pSO0FBQ0EsOGVBQW9SO0FBQ3BSO0FBQ0Esa2ZBQXNSIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXNlZ21lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9odHRwLWFjY2Vzcy1mYWxsYmFjay9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjcuNF9AcGxheXdyaWdodCt0ZXN0QDEuNTMuMV9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbWV0YWRhdGEvYXN5bmMtbWV0YWRhdGEuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjIuNF9AYmFiZWwrY29yZUA3LjI3LjRfQHBsYXl3cmlnaHQrdGVzdEAxLjUzLjFfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL21ldGFkYXRhL21ldGFkYXRhLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvaXRzdWtpL0RvY3VtZW50cy9HaXQvc3R1ZHktc2NyaWJlci9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNy40X0BwbGF5d3JpZ2h0K3Rlc3RAMS41My4xX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fhttp-access-fallback%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fasync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fmetadata%2Fmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.27.4_%40playwright%2Btest%401.53.1_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./providers/app-state-provider-wrapper.tsx":
/*!**************************************************!*\
  !*** ./providers/app-state-provider-wrapper.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppStateProviderWrapper: () => (/* binding */ AppStateProviderWrapper)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_use_app_state_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/use-app-state-context */ \"(ssr)/./hooks/use-app-state-context.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/feature-flags */ \"(ssr)/./lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ AppStateProviderWrapper auto */ \n\n\n\n/**\n * AppStateProvider 包裝器\n * 根據功能開關決定是否啟用新的狀態管理系統\n * 這提供了漸進式部署的能力，可以安全地在新舊系統間切換\n */ function AppStateProviderWrapper({ children }) {\n    // 檢查是否啟用新的狀態管理系統\n    const useNewStateManagement = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__.isFeatureEnabled)('useNewStateManagement');\n    const useNewAppStateHook = (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_3__.isFeatureEnabled)('useNewAppStateHook');\n    console.log('🔄 [AppStateProviderWrapper] 功能開關狀態:', {\n        useNewStateManagement,\n        useNewAppStateHook,\n        willUseProvider: useNewStateManagement || useNewAppStateHook\n    });\n    // 如果啟用新狀態管理，使用 AppStateProvider 包裝\n    if (useNewStateManagement || useNewAppStateHook) {\n        console.log('🔄 [AppStateProviderWrapper] 啟用新狀態管理 - 使用 AppStateProvider');\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_hooks_use_app_state_context__WEBPACK_IMPORTED_MODULE_2__.AppStateProvider, {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/providers/app-state-provider-wrapper.tsx\",\n            lineNumber: 31,\n            columnNumber: 13\n        }, this);\n    }\n    // 否則直接渲染子組件（使用舊系統）\n    console.log('🔄 [AppStateProviderWrapper] 使用舊狀態管理 - 直接渲染');\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: children\n    }, void 0, false);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9wcm92aWRlcnMvYXBwLXN0YXRlLXByb3ZpZGVyLXdyYXBwZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRXlCO0FBQ3dDO0FBQ1Y7QUFNdkQ7Ozs7Q0FJQyxHQUNNLFNBQVNHLHdCQUF3QixFQUFFQyxRQUFRLEVBQWdDO0lBQzlFLGlCQUFpQjtJQUNqQixNQUFNQyx3QkFBd0JILG9FQUFnQkEsQ0FBQztJQUMvQyxNQUFNSSxxQkFBcUJKLG9FQUFnQkEsQ0FBQztJQUU1Q0ssUUFBUUMsR0FBRyxDQUFDLHdDQUF3QztRQUNoREg7UUFDQUM7UUFDQUcsaUJBQWlCSix5QkFBeUJDO0lBQzlDO0lBRUEsbUNBQW1DO0lBQ25DLElBQUlELHlCQUF5QkMsb0JBQW9CO1FBQzdDQyxRQUFRQyxHQUFHLENBQUM7UUFDWixxQkFDSSw4REFBQ1AsMEVBQWdCQTtzQkFDWkc7Ozs7OztJQUdiO0lBRUEsbUJBQW1CO0lBQ25CRyxRQUFRQyxHQUFHLENBQUM7SUFDWixxQkFBTztrQkFBR0o7O0FBQ2QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL3Byb3ZpZGVycy9hcHAtc3RhdGUtcHJvdmlkZXItd3JhcHBlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQXBwU3RhdGVQcm92aWRlciB9IGZyb20gJy4uL2hvb2tzL3VzZS1hcHAtc3RhdGUtY29udGV4dCdcbmltcG9ydCB7IGlzRmVhdHVyZUVuYWJsZWQgfSBmcm9tICcuLi9saWIvZmVhdHVyZS1mbGFncydcblxuaW50ZXJmYWNlIEFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyUHJvcHMge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn1cblxuLyoqXG4gKiBBcHBTdGF0ZVByb3ZpZGVyIOWMheijneWZqFxuICog5qC55pOa5Yqf6IO96ZaL6Zec5rG65a6a5piv5ZCm5ZWf55So5paw55qE54uA5oWL566h55CG57O757WxXG4gKiDpgJnmj5DkvpvkuobmvLjpgLLlvI/pg6jnvbLnmoTog73lipvvvIzlj6/ku6XlronlhajlnLDlnKjmlrDoiIrns7vntbHplpPliIfmj5tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyKHsgY2hpbGRyZW4gfTogQXBwU3RhdGVQcm92aWRlcldyYXBwZXJQcm9wcykge1xuICAgIC8vIOaqouafpeaYr+WQpuWVn+eUqOaWsOeahOeLgOaFi+euoeeQhuezu+e1sVxuICAgIGNvbnN0IHVzZU5ld1N0YXRlTWFuYWdlbWVudCA9IGlzRmVhdHVyZUVuYWJsZWQoJ3VzZU5ld1N0YXRlTWFuYWdlbWVudCcpXG4gICAgY29uc3QgdXNlTmV3QXBwU3RhdGVIb29rID0gaXNGZWF0dXJlRW5hYmxlZCgndXNlTmV3QXBwU3RhdGVIb29rJylcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFtBcHBTdGF0ZVByb3ZpZGVyV3JhcHBlcl0g5Yqf6IO96ZaL6Zec54uA5oWLOicsIHtcbiAgICAgICAgdXNlTmV3U3RhdGVNYW5hZ2VtZW50LFxuICAgICAgICB1c2VOZXdBcHBTdGF0ZUhvb2ssXG4gICAgICAgIHdpbGxVc2VQcm92aWRlcjogdXNlTmV3U3RhdGVNYW5hZ2VtZW50IHx8IHVzZU5ld0FwcFN0YXRlSG9va1xuICAgIH0pXG5cbiAgICAvLyDlpoLmnpzllZ/nlKjmlrDni4DmhYvnrqHnkIbvvIzkvb/nlKggQXBwU3RhdGVQcm92aWRlciDljIXoo51cbiAgICBpZiAodXNlTmV3U3RhdGVNYW5hZ2VtZW50IHx8IHVzZU5ld0FwcFN0YXRlSG9vaykge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBbQXBwU3RhdGVQcm92aWRlcldyYXBwZXJdIOWVn+eUqOaWsOeLgOaFi+euoeeQhiAtIOS9v+eUqCBBcHBTdGF0ZVByb3ZpZGVyJylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBcHBTdGF0ZVByb3ZpZGVyPlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvQXBwU3RhdGVQcm92aWRlcj5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8vIOWQpuWJh+ebtOaOpea4suafk+WtkOe1hOS7tu+8iOS9v+eUqOiIiuezu+e1se+8iVxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFtBcHBTdGF0ZVByb3ZpZGVyV3JhcHBlcl0g5L2/55So6IiK54uA5oWL566h55CGIC0g55u05o6l5riy5p+TJylcbiAgICByZXR1cm4gPD57Y2hpbGRyZW59PC8+XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJBcHBTdGF0ZVByb3ZpZGVyIiwiaXNGZWF0dXJlRW5hYmxlZCIsIkFwcFN0YXRlUHJvdmlkZXJXcmFwcGVyIiwiY2hpbGRyZW4iLCJ1c2VOZXdTdGF0ZU1hbmFnZW1lbnQiLCJ1c2VOZXdBcHBTdGF0ZUhvb2siLCJjb25zb2xlIiwibG9nIiwid2lsbFVzZVByb3ZpZGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./providers/app-state-provider-wrapper.tsx\n");

/***/ }),

/***/ "(ssr)/./study-scriber.tsx":
/*!***************************!*\
  !*** ./study-scriber.tsx ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dynamic */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var easymde_dist_easymde_min_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! easymde/dist/easymde.min.css */ \"(ssr)/./node_modules/.pnpm/easymde@2.20.0/node_modules/easymde/dist/easymde.min.css\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Download,RotateCcw!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js\");\n/* harmony import */ var _barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Download,RotateCcw!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.454.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _hooks_use_recording_adapter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hooks/use-recording-adapter */ \"(ssr)/./hooks/use-recording-adapter.ts\");\n/* harmony import */ var _hooks_use_app_state_adapter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./hooks/use-app-state-adapter */ \"(ssr)/./hooks/use-app-state-adapter.ts\");\n/* harmony import */ var _components_default_state__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/default-state */ \"(ssr)/./components/default-state.tsx\");\n/* harmony import */ var _components_recording_state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/recording-state */ \"(ssr)/./components/recording-state.tsx\");\n/* harmony import */ var _components_waiting_state__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/waiting-state */ \"(ssr)/./components/waiting-state.tsx\");\n/* harmony import */ var _components_finish_state__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/finish-state */ \"(ssr)/./components/finish-state.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n// 動態匯入 SimpleMDE 以避免 SSR 問題\nconst SimpleMDE = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(async ()=>{\n     true && /*require.resolve*/(null /* weak dependency, without id */);\n}, {\n    loadableGenerated: {\n        modules: [\n            \"study-scriber.tsx -> \" + \"react-simplemde-editor\"\n        ]\n    },\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex items-center justify-center text-muted-foreground\",\n            children: \"載入編輯器中...\"\n        }, void 0, false, {\n            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n            lineNumber: 14,\n            columnNumber: 18\n        }, undefined)\n});\n\n\n\n\n\nfunction Component() {\n    const { appData, isLoading, error, startRecording, stopRecording, newNote, saveLocalDraft, session, recordingError, transcriptError, createNoteSession, sessionLoading } = (0,_hooks_use_app_state_adapter__WEBPACK_IMPORTED_MODULE_7__.useAppState)();\n    const [draftTitle, setDraftTitle] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"\");\n    // 追蹤狀態流轉\n    console.log(\"[DEBUG] appData.state:\", appData.state);\n    console.log(\"[DEBUG] appData.isRecording:\", appData.isRecording);\n    if (session) {\n        console.log(\"[DEBUG] session.status:\", session.status, \"session.type:\", session.type);\n    } else {\n        console.log(\"[DEBUG] session: null\");\n    }\n    // 添加調試功能到 window\n    if (false) {}\n    // 暴露 recording hook 到 window 以便調試\n    const recording = (0,_hooks_use_recording_adapter__WEBPACK_IMPORTED_MODULE_6__.useRecording)();\n    if (false) {}\n    // 暴露 session 到 window 以便調試（使用 useAppState 返回的 session）\n    if (false) {}\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)({\n        \"Component.useEffect\": ()=>{\n            console.log(\"📱 StudyScriber: appData 更新:\", {\n                state: appData.state,\n                isRecording: appData.isRecording,\n                recordingTime: appData.recordingTime,\n                transcriptEntries: appData.transcriptEntries,\n                editorContent: appData.editorContent,\n                session: session,\n                sessionLoading: sessionLoading,\n                recordingError: recordingError,\n                transcriptError: transcriptError\n            });\n        }\n    }[\"Component.useEffect\"], [\n        appData,\n        session,\n        sessionLoading,\n        recordingError,\n        transcriptError\n    ]);\n    const editorOptions = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"Component.useMemo[editorOptions]\": ()=>{\n            return {\n                spellChecker: false,\n                placeholder: \"Start writing your notes...\",\n                status: false,\n                toolbar: [\n                    \"bold\",\n                    \"italic\",\n                    \"strikethrough\",\n                    \"|\",\n                    \"heading-1\",\n                    \"heading-2\",\n                    \"heading-3\",\n                    \"|\",\n                    \"quote\",\n                    \"unordered-list\",\n                    \"ordered-list\",\n                    \"|\",\n                    \"link\",\n                    \"image\",\n                    \"table\",\n                    \"|\",\n                    \"preview\",\n                    \"side-by-side\",\n                    \"fullscreen\"\n                ],\n                autofocus: true,\n                tabSize: 2\n            };\n        }\n    }[\"Component.useMemo[editorOptions]\"], []);\n    const renderRightPanel = ()=>{\n        // 組合錯誤訊息\n        const combinedError = recordingError || transcriptError || null;\n        switch(appData.state){\n            case \"default\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_default_state__WEBPACK_IMPORTED_MODULE_8__.DefaultState, {\n                    onStartRecording: ()=>{\n                        console.log(\"📱 StudyScriber: 準備調用 startRecording，標題:\", draftTitle);\n                        startRecording(draftTitle);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 119,\n                    columnNumber: 16\n                }, this);\n            case \"recording_active\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_recording_state__WEBPACK_IMPORTED_MODULE_9__.RecordingState, {\n                    transcriptEntries: appData.transcriptEntries,\n                    recordingTime: appData.recordingTime,\n                    onStopRecording: stopRecording,\n                    error: combinedError\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 127,\n                    columnNumber: 11\n                }, this);\n            case \"recording_waiting\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_recording_state__WEBPACK_IMPORTED_MODULE_9__.RecordingState, {\n                    transcriptEntries: appData.transcriptEntries,\n                    recordingTime: appData.recordingTime,\n                    onStopRecording: stopRecording,\n                    error: combinedError\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 136,\n                    columnNumber: 11\n                }, this);\n            case \"processing\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_waiting_state__WEBPACK_IMPORTED_MODULE_10__.WaitingState, {}, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 144,\n                    columnNumber: 16\n                }, this);\n            case \"finished\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_finish_state__WEBPACK_IMPORTED_MODULE_11__.FinishState, {\n                    transcriptEntries: appData.transcriptEntries,\n                    onExport: ()=>{\n                        // TODO: 實現匯出功能\n                        console.log('Export functionality not implemented yet');\n                    },\n                    onToLatest: ()=>{\n                        // TODO: 實現捲動到最新功能\n                        console.log('To Latest functionality not implemented yet');\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 147,\n                    columnNumber: 11\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_default_state__WEBPACK_IMPORTED_MODULE_8__.DefaultState, {\n                    onStartRecording: ()=>{\n                        console.log(\"📱 StudyScriber: 準備調用 startRecording (default)，標題:\", draftTitle);\n                        startRecording(draftTitle);\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                    lineNumber: 160,\n                    columnNumber: 16\n                }, this);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen bg-background flex flex-col\",\n        suppressHydrationWarning: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-background border-b border-border px-6 flex-shrink-0 w-full h-20 flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-semibold text-foreground\",\n                        children: \"Study Scriber\"\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 173,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            (appData.state === \"default\" && !!session || appData.state === \"recording_waiting\" || appData.state === \"recording_active\" || appData.state === \"finished\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                variant: \"outline\",\n                                onClick: newNote,\n                                size: \"sm\",\n                                className: \"px-4 h-8 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                        lineNumber: 183,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"New note\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                lineNumber: 182,\n                                columnNumber: 15\n                            }, this),\n                            appData.state === \"finished\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                onClick: ()=>console.log('Export functionality'),\n                                size: \"sm\",\n                                className: \"px-4 h-8 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                        lineNumber: 191,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Export\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                lineNumber: 190,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 176,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                lineNumber: 172,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex h-[calc(100vh-80px)]\",\n                suppressHydrationWarning: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 bg-background border-r border-border h-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full p-6 flex flex-col gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_4__.Input, {\n                                    placeholder: \"請輸入標題...\",\n                                    className: \"text-lg font-semibold\",\n                                    value: draftTitle,\n                                    onChange: (e)=>setDraftTitle(e.target.value),\n                                    disabled: appData.state === 'processing' || appData.state === 'finished' || appData.isRecording\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                    lineNumber: 203,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full editor-container flex-grow\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SimpleMDE, {\n                                        options: editorOptions,\n                                        value: appData.editorContent,\n                                        onChange: saveLocalDraft\n                                    }, void 0, false, {\n                                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                        lineNumber: 211,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                                    lineNumber: 210,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                            lineNumber: 202,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 201,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-80 bg-background flex-shrink-0 h-full\",\n                        children: renderRightPanel()\n                    }, void 0, false, {\n                        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                        lineNumber: 221,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n                lineNumber: 199,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/itsuki/Documents/Git/study-scriber/frontend/study-scriber.tsx\",\n        lineNumber: 170,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zdHVkeS1zY3JpYmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFa0M7QUFDRztBQUNlO0FBQ1A7QUFDRTtBQUNHO0FBQ1U7QUFFNUQsNEJBQTRCO0FBQzVCLE1BQU1TLFlBQVlULHdEQUFPQTs7Ozs7Ozs7SUFDdkJVLEtBQUs7SUFDTEMsU0FBUyxrQkFBTSw4REFBQ0M7WUFBSUMsV0FBVTtzQkFBZ0U7Ozs7Ozs7QUFFckM7QUFDRjtBQUNJO0FBQ0o7QUFDRjtBQUV4QyxTQUFTTTtJQUN0QixNQUFNLEVBQ0pDLE9BQU8sRUFDUEMsU0FBUyxFQUNUQyxLQUFLLEVBQ0xDLGNBQWMsRUFDZEMsYUFBYSxFQUNiQyxPQUFPLEVBQ1BDLGNBQWMsRUFDZEMsT0FBTyxFQUNQQyxjQUFjLEVBQ2RDLGVBQWUsRUFDZkMsaUJBQWlCLEVBQ2pCQyxjQUFjLEVBQ2YsR0FBR2pCLHlFQUFXQTtJQUNmLE1BQU0sQ0FBQ2tCLFlBQVlDLGNBQWMsR0FBRy9CLCtDQUFRQSxDQUFDO0lBRTdDLFNBQVM7SUFDVGdDLFFBQVFDLEdBQUcsQ0FBQywwQkFBMEJmLFFBQVFnQixLQUFLO0lBQ25ERixRQUFRQyxHQUFHLENBQUMsZ0NBQWdDZixRQUFRaUIsV0FBVztJQUMvRCxJQUFJVixTQUFTO1FBQ1hPLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkJSLFFBQVFXLE1BQU0sRUFBRSxpQkFBaUJYLFFBQVFZLElBQUk7SUFDdEYsT0FBTztRQUNMTCxRQUFRQyxHQUFHLENBQUM7SUFDZDtJQUVBLGlCQUFpQjtJQUNqQixJQUFJLEtBQTZCLEVBQUUsRUFFbEM7SUFFRCxrQ0FBa0M7SUFDbEMsTUFBTU0sWUFBWWpDLDBFQUFZQTtJQUM5QixJQUFJLEtBQTZCLEVBQUUsRUFFbEM7SUFFRCx1REFBdUQ7SUFDdkQsSUFBSSxLQUE2QixFQUFFLEVBTWxDO0lBRURMLGdEQUFTQTsrQkFBQztZQUNSK0IsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQztnQkFDMUNDLE9BQU9oQixRQUFRZ0IsS0FBSztnQkFDcEJDLGFBQWFqQixRQUFRaUIsV0FBVztnQkFDaENRLGVBQWV6QixRQUFReUIsYUFBYTtnQkFDcENDLG1CQUFtQjFCLFFBQVEwQixpQkFBaUI7Z0JBQzVDQyxlQUFlM0IsUUFBUTJCLGFBQWE7Z0JBQ3BDcEIsU0FBU0E7Z0JBQ1RJLGdCQUFnQkE7Z0JBQ2hCSCxnQkFBZ0JBO2dCQUNoQkMsaUJBQWlCQTtZQUNuQjtRQUNGOzhCQUFHO1FBQUNUO1FBQVNPO1FBQVNJO1FBQWdCSDtRQUFnQkM7S0FBZ0I7SUFFdEUsTUFBTW1CLGdCQUFnQi9DLDhDQUFPQTs0Q0FBQztZQUM1QixPQUFPO2dCQUNMZ0QsY0FBYztnQkFDZEMsYUFBYTtnQkFDYlosUUFBUTtnQkFDUmEsU0FBUztvQkFDUDtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtvQkFDQTtpQkFDRDtnQkFDREMsV0FBVztnQkFDWEMsU0FBUztZQUNYO1FBQ0Y7MkNBQUcsRUFBRTtJQUVMLE1BQU1DLG1CQUFtQjtRQUN2QixTQUFTO1FBQ1QsTUFBTUMsZ0JBQWdCM0Isa0JBQWtCQyxtQkFBbUI7UUFFM0QsT0FBUVQsUUFBUWdCLEtBQUs7WUFDbkIsS0FBSztnQkFDSCxxQkFBTyw4REFBQ3JCLG1FQUFZQTtvQkFDbEJ5QyxrQkFBa0I7d0JBQ2hCdEIsUUFBUUMsR0FBRyxDQUFDLDRDQUE0Q0g7d0JBQ3hEVCxlQUFlUztvQkFDakI7Ozs7OztZQUVKLEtBQUs7Z0JBQ0gscUJBQ0UsOERBQUNoQix1RUFBY0E7b0JBQ2I4QixtQkFBbUIxQixRQUFRMEIsaUJBQWlCO29CQUM1Q0QsZUFBZXpCLFFBQVF5QixhQUFhO29CQUNwQ1ksaUJBQWlCakM7b0JBQ2pCRixPQUFPaUM7Ozs7OztZQUdiLEtBQUs7Z0JBQ0gscUJBQ0UsOERBQUN2Qyx1RUFBY0E7b0JBQ2I4QixtQkFBbUIxQixRQUFRMEIsaUJBQWlCO29CQUM1Q0QsZUFBZXpCLFFBQVF5QixhQUFhO29CQUNwQ1ksaUJBQWlCakM7b0JBQ2pCRixPQUFPaUM7Ozs7OztZQUdiLEtBQUs7Z0JBQ0gscUJBQU8sOERBQUN0QyxvRUFBWUE7Ozs7O1lBQ3RCLEtBQUs7Z0JBQ0gscUJBQ0UsOERBQUNDLGtFQUFXQTtvQkFDVjRCLG1CQUFtQjFCLFFBQVEwQixpQkFBaUI7b0JBQzVDWSxVQUFVO3dCQUNSLGVBQWU7d0JBQ2Z4QixRQUFRQyxHQUFHLENBQUM7b0JBQ2Q7b0JBQ0F3QixZQUFZO3dCQUNWLGtCQUFrQjt3QkFDbEJ6QixRQUFRQyxHQUFHLENBQUM7b0JBQ2Q7Ozs7OztZQUdOO2dCQUNFLHFCQUFPLDhEQUFDcEIsbUVBQVlBO29CQUNsQnlDLGtCQUFrQjt3QkFDaEJ0QixRQUFRQyxHQUFHLENBQUMsc0RBQXNESDt3QkFDbEVULGVBQWVTO29CQUNqQjs7Ozs7O1FBRU47SUFDRjtJQUVBLHFCQUNFLDhEQUFDcEI7UUFBSUMsV0FBVTtRQUF1QytDLDBCQUEwQjs7MEJBRTlFLDhEQUFDaEQ7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDZ0Q7d0JBQUdoRCxXQUFVO2tDQUF5Qzs7Ozs7O2tDQUd2RCw4REFBQ0Q7d0JBQUlDLFdBQVU7OzRCQUVYLFNBQVN1QixLQUFLLEtBQUssYUFBYSxDQUFDLENBQUNULFdBQ2xDUCxRQUFRZ0IsS0FBSyxLQUFLLHVCQUNsQmhCLFFBQVFnQixLQUFLLEtBQUssc0JBQ2xCaEIsUUFBUWdCLEtBQUssS0FBSyxVQUFTLG1CQUN6Qiw4REFBQy9CLHlEQUFNQTtnQ0FBQ3lELFNBQVE7Z0NBQVVDLFNBQVN0QztnQ0FBU3VDLE1BQUs7Z0NBQUtuRCxXQUFVOztrREFDOUQsOERBQUNQLCtGQUFTQTt3Q0FBQ08sV0FBVTs7Ozs7O29DQUFZOzs7Ozs7OzRCQU10Q08sUUFBUWdCLEtBQUssS0FBSyw0QkFDakIsOERBQUMvQix5REFBTUE7Z0NBQUMwRCxTQUFTLElBQU03QixRQUFRQyxHQUFHLENBQUM7Z0NBQXlCNkIsTUFBSztnQ0FBS25ELFdBQVU7O2tEQUM5RSw4REFBQ04sK0ZBQVFBO3dDQUFDTSxXQUFVOzs7Ozs7b0NBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBUXhDLDhEQUFDRDtnQkFBSUMsV0FBVTtnQkFBNEIrQywwQkFBMEI7O2tDQUVuRSw4REFBQ2hEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNULHVEQUFLQTtvQ0FDSjhDLGFBQVk7b0NBQ1pyQyxXQUFVO29DQUNWb0QsT0FBT2pDO29DQUNQa0MsVUFBVSxDQUFDQyxJQUFNbEMsY0FBY2tDLEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSztvQ0FDN0NJLFVBQVVqRCxRQUFRZ0IsS0FBSyxLQUFLLGdCQUFnQmhCLFFBQVFnQixLQUFLLEtBQUssY0FBY2hCLFFBQVFpQixXQUFXOzs7Ozs7OENBRWpHLDhEQUFDekI7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUNKO3dDQUNDNkQsU0FBU3RCO3dDQUNUaUIsT0FBTzdDLFFBQVEyQixhQUFhO3dDQUM1Qm1CLFVBQVV4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQ0FPbEIsOERBQUNkO3dCQUFJQyxXQUFVO2tDQUEyQ3lDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdHN1a2kvRG9jdW1lbnRzL0dpdC9zdHVkeS1zY3JpYmVyL2Zyb250ZW5kL3N0dWR5LXNjcmliZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCBkeW5hbWljIGZyb20gXCJuZXh0L2R5bmFtaWNcIlxuaW1wb3J0IFwiZWFzeW1kZS9kaXN0L2Vhc3ltZGUubWluLmNzc1wiXG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQgeyBSb3RhdGVDY3csIERvd25sb2FkIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyB1c2VSZWNvcmRpbmcgfSBmcm9tIFwiLi9ob29rcy91c2UtcmVjb3JkaW5nLWFkYXB0ZXJcIlxuXG4vLyDli5XmhYvljK/lhaUgU2ltcGxlTURFIOS7pemBv+WFjSBTU1Ig5ZWP6aGMXG5jb25zdCBTaW1wbGVNREUgPSBkeW5hbWljKCgpID0+IGltcG9ydChcInJlYWN0LXNpbXBsZW1kZS1lZGl0b3JcIiksIHtcbiAgc3NyOiBmYWxzZSxcbiAgbG9hZGluZzogKCkgPT4gPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+6LyJ5YWl57eo6Lyv5Zmo5LitLi4uPC9kaXY+XG59KVxuaW1wb3J0IHsgdXNlQXBwU3RhdGUgfSBmcm9tIFwiLi9ob29rcy91c2UtYXBwLXN0YXRlLWFkYXB0ZXJcIlxuaW1wb3J0IHsgRGVmYXVsdFN0YXRlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9kZWZhdWx0LXN0YXRlXCJcbmltcG9ydCB7IFJlY29yZGluZ1N0YXRlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9yZWNvcmRpbmctc3RhdGVcIlxuaW1wb3J0IHsgV2FpdGluZ1N0YXRlIH0gZnJvbSBcIi4vY29tcG9uZW50cy93YWl0aW5nLXN0YXRlXCJcbmltcG9ydCB7IEZpbmlzaFN0YXRlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9maW5pc2gtc3RhdGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21wb25lbnQoKSB7XG4gIGNvbnN0IHtcbiAgICBhcHBEYXRhLFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBzdGFydFJlY29yZGluZyxcbiAgICBzdG9wUmVjb3JkaW5nLFxuICAgIG5ld05vdGUsXG4gICAgc2F2ZUxvY2FsRHJhZnQsXG4gICAgc2Vzc2lvbixcbiAgICByZWNvcmRpbmdFcnJvcixcbiAgICB0cmFuc2NyaXB0RXJyb3IsXG4gICAgY3JlYXRlTm90ZVNlc3Npb24sXG4gICAgc2Vzc2lvbkxvYWRpbmcsXG4gIH0gPSB1c2VBcHBTdGF0ZSgpXG4gIGNvbnN0IFtkcmFmdFRpdGxlLCBzZXREcmFmdFRpdGxlXSA9IHVzZVN0YXRlKFwiXCIpXG5cbiAgLy8g6L+96Lmk54uA5oWL5rWB6L2JXG4gIGNvbnNvbGUubG9nKFwiW0RFQlVHXSBhcHBEYXRhLnN0YXRlOlwiLCBhcHBEYXRhLnN0YXRlKVxuICBjb25zb2xlLmxvZyhcIltERUJVR10gYXBwRGF0YS5pc1JlY29yZGluZzpcIiwgYXBwRGF0YS5pc1JlY29yZGluZylcbiAgaWYgKHNlc3Npb24pIHtcbiAgICBjb25zb2xlLmxvZyhcIltERUJVR10gc2Vzc2lvbi5zdGF0dXM6XCIsIHNlc3Npb24uc3RhdHVzLCBcInNlc3Npb24udHlwZTpcIiwgc2Vzc2lvbi50eXBlKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHXSBzZXNzaW9uOiBudWxsXCIpXG4gIH1cblxuICAvLyDmt7vliqDoqr/oqablip/og73liLAgd2luZG93XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICh3aW5kb3cgYXMgYW55KS5hcHBEYXRhID0gYXBwRGF0YVxuICB9XG5cbiAgLy8g5pq06ZyyIHJlY29yZGluZyBob29rIOWIsCB3aW5kb3cg5Lul5L6/6Kq/6KmmXG4gIGNvbnN0IHJlY29yZGluZyA9IHVzZVJlY29yZGluZygpXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICh3aW5kb3cgYXMgYW55KS5yZWNvcmRpbmdIb29rID0gcmVjb3JkaW5nXG4gIH1cblxuICAvLyDmmrTpnLIgc2Vzc2lvbiDliLAgd2luZG93IOS7peS+v+iqv+ippu+8iOS9v+eUqCB1c2VBcHBTdGF0ZSDov5Tlm57nmoQgc2Vzc2lvbu+8iVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAod2luZG93IGFzIGFueSkuc2Vzc2lvbkhvb2sgPSB7XG4gICAgICBjdXJyZW50U2Vzc2lvbjogc2Vzc2lvbixcbiAgICAgIGlzTG9hZGluZzogc2Vzc2lvbkxvYWRpbmcsXG4gICAgICBlcnJvcjogbnVsbCAvLyB1c2VBcHBTdGF0ZSDmspLmnInnm7TmjqXmmrTpnLIgc2Vzc2lvbiBlcnJvclxuICAgIH1cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCLwn5OxIFN0dWR5U2NyaWJlcjogYXBwRGF0YSDmm7TmlrA6XCIsIHtcbiAgICAgIHN0YXRlOiBhcHBEYXRhLnN0YXRlLFxuICAgICAgaXNSZWNvcmRpbmc6IGFwcERhdGEuaXNSZWNvcmRpbmcsXG4gICAgICByZWNvcmRpbmdUaW1lOiBhcHBEYXRhLnJlY29yZGluZ1RpbWUsXG4gICAgICB0cmFuc2NyaXB0RW50cmllczogYXBwRGF0YS50cmFuc2NyaXB0RW50cmllcyxcbiAgICAgIGVkaXRvckNvbnRlbnQ6IGFwcERhdGEuZWRpdG9yQ29udGVudCxcbiAgICAgIHNlc3Npb246IHNlc3Npb24sXG4gICAgICBzZXNzaW9uTG9hZGluZzogc2Vzc2lvbkxvYWRpbmcsXG4gICAgICByZWNvcmRpbmdFcnJvcjogcmVjb3JkaW5nRXJyb3IsXG4gICAgICB0cmFuc2NyaXB0RXJyb3I6IHRyYW5zY3JpcHRFcnJvcixcbiAgICB9KVxuICB9LCBbYXBwRGF0YSwgc2Vzc2lvbiwgc2Vzc2lvbkxvYWRpbmcsIHJlY29yZGluZ0Vycm9yLCB0cmFuc2NyaXB0RXJyb3JdKVxuXG4gIGNvbnN0IGVkaXRvck9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3BlbGxDaGVja2VyOiBmYWxzZSxcbiAgICAgIHBsYWNlaG9sZGVyOiBcIlN0YXJ0IHdyaXRpbmcgeW91ciBub3Rlcy4uLlwiLFxuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIHRvb2xiYXI6IFtcbiAgICAgICAgXCJib2xkXCIsXG4gICAgICAgIFwiaXRhbGljXCIsXG4gICAgICAgIFwic3RyaWtldGhyb3VnaFwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJoZWFkaW5nLTFcIixcbiAgICAgICAgXCJoZWFkaW5nLTJcIixcbiAgICAgICAgXCJoZWFkaW5nLTNcIixcbiAgICAgICAgXCJ8XCIsXG4gICAgICAgIFwicXVvdGVcIixcbiAgICAgICAgXCJ1bm9yZGVyZWQtbGlzdFwiLFxuICAgICAgICBcIm9yZGVyZWQtbGlzdFwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJsaW5rXCIsXG4gICAgICAgIFwiaW1hZ2VcIixcbiAgICAgICAgXCJ0YWJsZVwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJwcmV2aWV3XCIsXG4gICAgICAgIFwic2lkZS1ieS1zaWRlXCIsXG4gICAgICAgIFwiZnVsbHNjcmVlblwiLFxuICAgICAgXSBhcyBjb25zdCxcbiAgICAgIGF1dG9mb2N1czogdHJ1ZSxcbiAgICAgIHRhYlNpemU6IDIsXG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCByZW5kZXJSaWdodFBhbmVsID0gKCkgPT4ge1xuICAgIC8vIOe1hOWQiOmMr+iqpOioiuaBr1xuICAgIGNvbnN0IGNvbWJpbmVkRXJyb3IgPSByZWNvcmRpbmdFcnJvciB8fCB0cmFuc2NyaXB0RXJyb3IgfHwgbnVsbFxuXG4gICAgc3dpdGNoIChhcHBEYXRhLnN0YXRlKSB7XG4gICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICByZXR1cm4gPERlZmF1bHRTdGF0ZVxuICAgICAgICAgIG9uU3RhcnRSZWNvcmRpbmc9eygpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TsSBTdHVkeVNjcmliZXI6IOa6luWCmeiqv+eUqCBzdGFydFJlY29yZGluZ++8jOaomemhjDpcIiwgZHJhZnRUaXRsZSlcbiAgICAgICAgICAgIHN0YXJ0UmVjb3JkaW5nKGRyYWZ0VGl0bGUpXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIGNhc2UgXCJyZWNvcmRpbmdfYWN0aXZlXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlY29yZGluZ1N0YXRlXG4gICAgICAgICAgICB0cmFuc2NyaXB0RW50cmllcz17YXBwRGF0YS50cmFuc2NyaXB0RW50cmllc31cbiAgICAgICAgICAgIHJlY29yZGluZ1RpbWU9e2FwcERhdGEucmVjb3JkaW5nVGltZX1cbiAgICAgICAgICAgIG9uU3RvcFJlY29yZGluZz17c3RvcFJlY29yZGluZ31cbiAgICAgICAgICAgIGVycm9yPXtjb21iaW5lZEVycm9yfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIGNhc2UgXCJyZWNvcmRpbmdfd2FpdGluZ1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZWNvcmRpbmdTdGF0ZVxuICAgICAgICAgICAgdHJhbnNjcmlwdEVudHJpZXM9e2FwcERhdGEudHJhbnNjcmlwdEVudHJpZXN9XG4gICAgICAgICAgICByZWNvcmRpbmdUaW1lPXthcHBEYXRhLnJlY29yZGluZ1RpbWV9XG4gICAgICAgICAgICBvblN0b3BSZWNvcmRpbmc9e3N0b3BSZWNvcmRpbmd9XG4gICAgICAgICAgICBlcnJvcj17Y29tYmluZWRFcnJvcn1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICBjYXNlIFwicHJvY2Vzc2luZ1wiOlxuICAgICAgICByZXR1cm4gPFdhaXRpbmdTdGF0ZSAvPlxuICAgICAgY2FzZSBcImZpbmlzaGVkXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEZpbmlzaFN0YXRlXG4gICAgICAgICAgICB0cmFuc2NyaXB0RW50cmllcz17YXBwRGF0YS50cmFuc2NyaXB0RW50cmllc31cbiAgICAgICAgICAgIG9uRXhwb3J0PXsoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFRPRE86IOWvpuePvuWMr+WHuuWKn+iDvVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXhwb3J0IGZ1bmN0aW9uYWxpdHkgbm90IGltcGxlbWVudGVkIHlldCcpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Ub0xhdGVzdD17KCkgPT4ge1xuICAgICAgICAgICAgICAvLyBUT0RPOiDlr6bnj77mjbLli5XliLDmnIDmlrDlip/og71cbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RvIExhdGVzdCBmdW5jdGlvbmFsaXR5IG5vdCBpbXBsZW1lbnRlZCB5ZXQnKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPERlZmF1bHRTdGF0ZVxuICAgICAgICAgIG9uU3RhcnRSZWNvcmRpbmc9eygpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TsSBTdHVkeVNjcmliZXI6IOa6luWCmeiqv+eUqCBzdGFydFJlY29yZGluZyAoZGVmYXVsdCnvvIzmqJnpoYw6XCIsIGRyYWZ0VGl0bGUpXG4gICAgICAgICAgICBzdGFydFJlY29yZGluZyhkcmFmdFRpdGxlKVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtc2NyZWVuIGJnLWJhY2tncm91bmQgZmxleCBmbGV4LWNvbFwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz17dHJ1ZX0+XG4gICAgICB7LyogRnVsbCBXaWR0aCBIZWFkZXIgLSBGaXhlZCBoZWlnaHQgb2YgODBweCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmFja2dyb3VuZCBib3JkZXItYiBib3JkZXItYm9yZGVyIHB4LTYgZmxleC1zaHJpbmstMCB3LWZ1bGwgaC0yMCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kXCI+U3R1ZHkgU2NyaWJlcjwvaDE+XG5cbiAgICAgICAgey8qIEhlYWRlciBhY3Rpb24gYnV0dG9ucyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgey8qIE5ldyBub3RlIOaMiemIlSAtIOWcqOaciea0u+i6jeacg+ipseaIlumcgOimgeeahOeLgOaFi+S4i+mhr+ekuiAqL31cbiAgICAgICAgICB7KChhcHBEYXRhLnN0YXRlID09PSBcImRlZmF1bHRcIiAmJiAhIXNlc3Npb24pIHx8XG4gICAgICAgICAgICBhcHBEYXRhLnN0YXRlID09PSBcInJlY29yZGluZ193YWl0aW5nXCIgfHxcbiAgICAgICAgICAgIGFwcERhdGEuc3RhdGUgPT09IFwicmVjb3JkaW5nX2FjdGl2ZVwiIHx8XG4gICAgICAgICAgICBhcHBEYXRhLnN0YXRlID09PSBcImZpbmlzaGVkXCIpICYmIChcbiAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e25ld05vdGV9IHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cInB4LTQgaC04IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPFJvdGF0ZUNjdyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICBOZXcgbm90ZVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogRXhwb3J0IOaMiemIlSAtIOWPquWcqCBmaW5pc2hlZCDni4DmhYvpoa/npLogKi99XG4gICAgICAgICAge2FwcERhdGEuc3RhdGUgPT09IFwiZmluaXNoZWRcIiAmJiAoXG4gICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IGNvbnNvbGUubG9nKCdFeHBvcnQgZnVuY3Rpb25hbGl0eScpfSBzaXplPVwic21cIiBjbGFzc05hbWU9XCJweC00IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIEV4cG9ydFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE1haW4gQ29udGVudCAtIFR3byBQYW5lbCBMYXlvdXQgLSBBZGp1c3RlZCBmb3IgZml4ZWQgaGVhZGVyIGhlaWdodCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLVtjYWxjKDEwMHZoLTgwcHgpXVwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz17dHJ1ZX0+XG4gICAgICAgIHsvKiBMZWZ0IFBhbmVsIC0gU2ltcGxlTURFIEVkaXRvciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgYmctYmFja2dyb3VuZCBib3JkZXItciBib3JkZXItYm9yZGVyIGgtZnVsbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIHAtNiBmbGV4IGZsZXgtY29sIGdhcC00XCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLoq4vovLjlhaXmqJnpoYwuLi5cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIlxuICAgICAgICAgICAgICB2YWx1ZT17ZHJhZnRUaXRsZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREcmFmdFRpdGxlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2FwcERhdGEuc3RhdGUgPT09ICdwcm9jZXNzaW5nJyB8fCBhcHBEYXRhLnN0YXRlID09PSAnZmluaXNoZWQnIHx8IGFwcERhdGEuaXNSZWNvcmRpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZWRpdG9yLWNvbnRhaW5lciBmbGV4LWdyb3dcIj5cbiAgICAgICAgICAgICAgPFNpbXBsZU1ERVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e2VkaXRvck9wdGlvbnN9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2FwcERhdGEuZWRpdG9yQ29udGVudH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17c2F2ZUxvY2FsRHJhZnR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFJpZ2h0IFBhbmVsIC0gU3RhdGUtZGVwZW5kZW50IGNvbnRlbnQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBiZy1iYWNrZ3JvdW5kIGZsZXgtc2hyaW5rLTAgaC1mdWxsXCI+e3JlbmRlclJpZ2h0UGFuZWwoKX08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsiZHluYW1pYyIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIklucHV0IiwiQnV0dG9uIiwiUm90YXRlQ2N3IiwiRG93bmxvYWQiLCJ1c2VSZWNvcmRpbmciLCJTaW1wbGVNREUiLCJzc3IiLCJsb2FkaW5nIiwiZGl2IiwiY2xhc3NOYW1lIiwidXNlQXBwU3RhdGUiLCJEZWZhdWx0U3RhdGUiLCJSZWNvcmRpbmdTdGF0ZSIsIldhaXRpbmdTdGF0ZSIsIkZpbmlzaFN0YXRlIiwiQ29tcG9uZW50IiwiYXBwRGF0YSIsImlzTG9hZGluZyIsImVycm9yIiwic3RhcnRSZWNvcmRpbmciLCJzdG9wUmVjb3JkaW5nIiwibmV3Tm90ZSIsInNhdmVMb2NhbERyYWZ0Iiwic2Vzc2lvbiIsInJlY29yZGluZ0Vycm9yIiwidHJhbnNjcmlwdEVycm9yIiwiY3JlYXRlTm90ZVNlc3Npb24iLCJzZXNzaW9uTG9hZGluZyIsImRyYWZ0VGl0bGUiLCJzZXREcmFmdFRpdGxlIiwiY29uc29sZSIsImxvZyIsInN0YXRlIiwiaXNSZWNvcmRpbmciLCJzdGF0dXMiLCJ0eXBlIiwid2luZG93IiwicmVjb3JkaW5nIiwicmVjb3JkaW5nSG9vayIsInNlc3Npb25Ib29rIiwiY3VycmVudFNlc3Npb24iLCJyZWNvcmRpbmdUaW1lIiwidHJhbnNjcmlwdEVudHJpZXMiLCJlZGl0b3JDb250ZW50IiwiZWRpdG9yT3B0aW9ucyIsInNwZWxsQ2hlY2tlciIsInBsYWNlaG9sZGVyIiwidG9vbGJhciIsImF1dG9mb2N1cyIsInRhYlNpemUiLCJyZW5kZXJSaWdodFBhbmVsIiwiY29tYmluZWRFcnJvciIsIm9uU3RhcnRSZWNvcmRpbmciLCJvblN0b3BSZWNvcmRpbmciLCJvbkV4cG9ydCIsIm9uVG9MYXRlc3QiLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJoMSIsInZhcmlhbnQiLCJvbkNsaWNrIiwic2l6ZSIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJvcHRpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./study-scriber.tsx\n");

/***/ }),

/***/ "(ssr)/./types/app-state-context.ts":
/*!************************************!*\
  !*** ./types/app-state-context.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initialAppData: () => (/* binding */ initialAppData),\n/* harmony export */   initialContextState: () => (/* binding */ initialContextState)\n/* harmony export */ });\n// 初始狀態\nconst initialAppData = {\n    state: \"default\",\n    transcriptEntries: [],\n    editorContent: \"\",\n    isRecording: false,\n    recordingTime: 0,\n    session: null\n};\nconst initialContextState = {\n    appData: initialAppData,\n    isLoading: false,\n    error: null\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi90eXBlcy9hcHAtc3RhdGUtY29udGV4dC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQTBDQSxPQUFPO0FBQ0EsTUFBTUEsaUJBQTBCO0lBQ25DQyxPQUFPO0lBQ1BDLG1CQUFtQixFQUFFO0lBQ3JCQyxlQUFlO0lBQ2ZDLGFBQWE7SUFDYkMsZUFBZTtJQUNmQyxTQUFTO0FBQ2IsRUFBQztBQUVNLE1BQU1DLHNCQUFzQjtJQUMvQkMsU0FBU1I7SUFDVFMsV0FBVztJQUNYQyxPQUFPO0FBQ1gsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2l0c3VraS9Eb2N1bWVudHMvR2l0L3N0dWR5LXNjcmliZXIvZnJvbnRlbmQvdHlwZXMvYXBwLXN0YXRlLWNvbnRleHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwRGF0YSwgQXBwU3RhdGUsIFNlc3Npb25TdGF0dXMsIFNlc3Npb25UeXBlLCBUcmFuc2NyaXB0RW50cnkgfSBmcm9tIFwiLi9hcHAtc3RhdGVcIlxuXG4vLyDni4DmhYvnrqHnkIYgQWN0aW9uc1xuZXhwb3J0IHR5cGUgQXBwU3RhdGVBY3Rpb24gPVxuICAgIHwgeyB0eXBlOiBcIlNFVF9TVEFURVwiOyBwYXlsb2FkOiBBcHBTdGF0ZSB9XG4gICAgfCB7IHR5cGU6IFwiU0VUX0FQUF9TVEFURVwiOyBwYXlsb2FkOiBBcHBTdGF0ZSB9ICAvLyDliKXlkI3vvIzngrrkuoblkJHlvoznm7jlrrlcbiAgICB8IHsgdHlwZTogXCJTRVRfUkVDT1JESU5HXCI7IHBheWxvYWQ6IGJvb2xlYW4gfVxuICAgIHwgeyB0eXBlOiBcIlNFVF9SRUNPUkRJTkdfVElNRVwiOyBwYXlsb2FkOiBudW1iZXIgfVxuICAgIHwgeyB0eXBlOiBcIlNFVF9FRElUT1JfQ09OVEVOVFwiOyBwYXlsb2FkOiBzdHJpbmcgfVxuICAgIHwgeyB0eXBlOiBcIlNFVF9UUkFOU0NSSVBUX0VOVFJJRVNcIjsgcGF5bG9hZDogVHJhbnNjcmlwdEVudHJ5W10gfVxuICAgIHwgeyB0eXBlOiBcIkFERF9UUkFOU0NSSVBUX0VOVFJZXCI7IHBheWxvYWQ6IFRyYW5zY3JpcHRFbnRyeSB9XG4gICAgfCB7IHR5cGU6IFwiU0VUX1NFU1NJT05cIjsgcGF5bG9hZDogeyBpZDogc3RyaW5nOyBzdGF0dXM6IFNlc3Npb25TdGF0dXM7IHR5cGU6IFNlc3Npb25UeXBlIH0gfCBudWxsIH1cbiAgICB8IHsgdHlwZTogXCJVUERBVEVfU0VTU0lPTl9TVEFUVVNcIjsgcGF5bG9hZDogU2Vzc2lvblN0YXR1cyB9XG4gICAgfCB7IHR5cGU6IFwiUkVTRVRfU1RBVEVcIiB9XG4gICAgfCB7IHR5cGU6IFwiU0VUX0xPQURJTkdcIjsgcGF5bG9hZDogYm9vbGVhbiB9XG4gICAgfCB7IHR5cGU6IFwiU0VUX0VSUk9SXCI7IHBheWxvYWQ6IHN0cmluZyB8IG51bGwgfVxuICAgIHwgeyB0eXBlOiBcIkNMRUFSX0VSUk9SXCIgfVxuXG4vLyBDb250ZXh0IOeLgOaFi+S7i+mdolxuZXhwb3J0IGludGVyZmFjZSBBcHBTdGF0ZUNvbnRleHRWYWx1ZSB7XG4gICAgLy8g54uA5oWL5pW45pOaXG4gICAgYXBwRGF0YTogQXBwRGF0YVxuICAgIGlzTG9hZGluZzogYm9vbGVhblxuICAgIGVycm9yOiBzdHJpbmcgfCBudWxsXG5cbiAgICAvLyDni4DmhYvmm7TmlrDlh73mlbhcbiAgICBkaXNwYXRjaDogKGFjdGlvbjogQXBwU3RhdGVBY3Rpb24pID0+IHZvaWRcblxuICAgIC8vIOS+v+WIqeaWueazle+8iOWwgeijneW4uOeUqOeahCBkaXNwYXRjaCDmk43kvZzvvIlcbiAgICBzZXRTdGF0ZTogKHN0YXRlOiBBcHBTdGF0ZSkgPT4gdm9pZFxuICAgIHNldFJlY29yZGluZzogKGlzUmVjb3JkaW5nOiBib29sZWFuKSA9PiB2b2lkXG4gICAgc2V0UmVjb3JkaW5nVGltZTogKHRpbWU6IG51bWJlcikgPT4gdm9pZFxuICAgIHNldEVkaXRvckNvbnRlbnQ6IChjb250ZW50OiBzdHJpbmcpID0+IHZvaWRcbiAgICBzZXRUcmFuc2NyaXB0RW50cmllczogKGVudHJpZXM6IFRyYW5zY3JpcHRFbnRyeVtdKSA9PiB2b2lkXG4gICAgYWRkVHJhbnNjcmlwdEVudHJ5OiAoZW50cnk6IFRyYW5zY3JpcHRFbnRyeSkgPT4gdm9pZFxuICAgIHNldFNlc3Npb246IChzZXNzaW9uOiB7IGlkOiBzdHJpbmc7IHN0YXR1czogU2Vzc2lvblN0YXR1czsgdHlwZTogU2Vzc2lvblR5cGUgfSB8IG51bGwpID0+IHZvaWRcbiAgICB1cGRhdGVTZXNzaW9uU3RhdHVzOiAoc3RhdHVzOiBTZXNzaW9uU3RhdHVzKSA9PiB2b2lkXG4gICAgcmVzZXRTdGF0ZTogKCkgPT4gdm9pZFxuICAgIHNldExvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkXG4gICAgc2V0RXJyb3I6IChlcnJvcjogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZFxufVxuXG4vLyDliJ3lp4vni4DmhYtcbmV4cG9ydCBjb25zdCBpbml0aWFsQXBwRGF0YTogQXBwRGF0YSA9IHtcbiAgICBzdGF0ZTogXCJkZWZhdWx0XCIsXG4gICAgdHJhbnNjcmlwdEVudHJpZXM6IFtdLFxuICAgIGVkaXRvckNvbnRlbnQ6IFwiXCIsXG4gICAgaXNSZWNvcmRpbmc6IGZhbHNlLFxuICAgIHJlY29yZGluZ1RpbWU6IDAsXG4gICAgc2Vzc2lvbjogbnVsbCxcbn1cblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDb250ZXh0U3RhdGUgPSB7XG4gICAgYXBwRGF0YTogaW5pdGlhbEFwcERhdGEsXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICBlcnJvcjogbnVsbCxcbn1cbiJdLCJuYW1lcyI6WyJpbml0aWFsQXBwRGF0YSIsInN0YXRlIiwidHJhbnNjcmlwdEVudHJpZXMiLCJlZGl0b3JDb250ZW50IiwiaXNSZWNvcmRpbmciLCJyZWNvcmRpbmdUaW1lIiwic2Vzc2lvbiIsImluaXRpYWxDb250ZXh0U3RhdGUiLCJhcHBEYXRhIiwiaXNMb2FkaW5nIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./types/app-state-context.ts\n");

/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@swc+helpers@0.5.15","vendor-chunks/axios@1.10.0","vendor-chunks/lucide-react@0.454.0_react@19.0.0","vendor-chunks/asynckit@0.4.0","vendor-chunks/math-intrinsics@1.1.0","vendor-chunks/es-errors@1.3.0","vendor-chunks/call-bind-apply-helpers@1.0.2","vendor-chunks/debug@4.4.1","vendor-chunks/get-proto@1.0.1","vendor-chunks/mime-db@1.52.0","vendor-chunks/has-symbols@1.1.0","vendor-chunks/gopd@1.2.0","vendor-chunks/function-bind@1.1.2","vendor-chunks/form-data@4.0.3","vendor-chunks/follow-redirects@1.15.9","vendor-chunks/tailwind-merge@2.5.5","vendor-chunks/clsx@2.1.1","vendor-chunks/class-variance-authority@0.7.1","vendor-chunks/@radix-ui+react-use-layout-effect@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-use-callback-ref@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-slot@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-scroll-area@1.2.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom_4cec18677bb44dd61a9e69790aff2bfb","vendor-chunks/@radix-ui+react-primitive@2.0.1_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@radix-ui+react-presence@1.1.2_@types+react-dom@19.0.0_@types+react@19.0.0_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@radix-ui+react-direction@1.1.0_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-context@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+react-compose-refs@1.1.1_@types+react@19.0.0_react@19.0.0","vendor-chunks/@radix-ui+primitive@1.1.1","vendor-chunks/@radix-ui+number@1.1.0","vendor-chunks/easymde@2.20.0","vendor-chunks/proxy-from-env@1.1.0","vendor-chunks/mime-types@2.1.35","vendor-chunks/hasown@2.0.2","vendor-chunks/has-tostringtag@1.0.2","vendor-chunks/get-intrinsic@1.3.0","vendor-chunks/es-set-tostringtag@2.1.0","vendor-chunks/es-object-atoms@1.1.1","vendor-chunks/es-define-property@1.0.1","vendor-chunks/dunder-proto@1.0.1","vendor-chunks/delayed-stream@1.0.0","vendor-chunks/combined-stream@1.0.8","vendor-chunks/supports-color@7.2.0","vendor-chunks/ms@2.1.3","vendor-chunks/has-flag@4.0.0"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.2.4_@babel+core@7.27.4_@playwright+test@1.53.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fitsuki%2FDocuments%2FGit%2Fstudy-scriber%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
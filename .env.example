# StudyScriber 環境變數

# ============================================
# Supabase 資料庫配置 (必須)
# ============================================
DB_MODE=supabase
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_KEY=your-anon-public-key

# ============================================
# Azure OpenAI 服務 (必須 - 用於語音轉錄)
# ============================================
AZURE_OPENAI_API_KEY=your-api-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-01
WHISPER_DEPLOYMENT_NAME=whisper-1

# 批次處理設定 (優化為低延遲)
# 批次大小：2個音檔切片
WHISPER_BATCH_SIZE=2
# 批次超時：3秒 (目標延遲 ≤5秒)
WHISPER_BATCH_TIMEOUT=3

# 效能監控設定
# 啟用效能日誌記錄
ENABLE_PERFORMANCE_LOGGING=true

# ============================================
# 音頻切片配置 (影響前後端錄音切片時間)
# ============================================
# 音頻切片時長（秒）- 同時影響前後端錄音間隔
# 建議值：5-30秒，預設10秒
AUDIO_CHUNK_DURATION_SEC=10

# ============================================
# Cloudflare R2 儲存配置 (必須 - 用於音檔儲存)
# ============================================
# 帳戶 ID - 在 Cloudflare 控制台中可以找到
R2_ACCOUNT_ID=your-account-id

# API Token - 在 Cloudflare 控制台 > API 權杖中建立
# 需要的權限: Zone:Zone:Read, Account:Cloudflare R2:Edit
R2_API_TOKEN=your-r2-api-token

# 儲存桶名稱
R2_BUCKET_NAME=studyscriber-audio

# R2_ENDPOINT_URL 會自動生成: https://{R2_ACCOUNT_ID}.r2.cloudflarestorage.com
# 如需自訂端點，請取消註釋下面這行
# R2_ENDPOINT_URL=https://your-custom-endpoint.com

# ============================================
# 應用程式設定 (可選)
# ============================================
DEBUG=false
LOG_LEVEL=INFO
